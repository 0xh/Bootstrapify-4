Bsify.get_variant_by_id=function(t){var e;"string"==typeof t&&(t=parseInt(t));for(var o=0;o<Bsify.product.variants.length;o++){var i=Bsify.product.variants[o];i.id===t&&(e=i)}return e};var CartJS=CartJS||!1;if(Bsify.init_cart=function(){CartJS?CartJS.init(Bsify.cart,Bsify.money_formats):setTimeout(function(){Bsify.init_cart()},10)},Bsify.ajax_add_to_cart){Bsify.init_cart();var $cart_display_ele=$("[data-cart-display]"),$cart_table_ele=$(Bsify.cart_table_selector),$cart_message_ele=$(Bsify.cart_message_selector);Bsify.update_cart_display=function(){var t=Shopify.formatMoney(CartJS.cart.total_price,Bsify.money_formats.moneyFormat),e=Shopify.formatMoney(CartJS.cart.total_price,Bsify.money_formats.moneyWithCurrencyFormat),o=Bsify.cart_display_text.replace("[item_count]",CartJS.cart.item_count).replace("[cart_total_price]",t).replace("[cart_total_price_with_currency]",e);$cart_display_ele.html(o)},Bsify.update_cart_table=function(){0===CartJS.cart.item_count&&($cart_table_ele.hide(),$cart_message_ele.removeClass("hidden").html(Bsify.empty_cart_text))},$(document).on("cart.requestComplete",function(){Bsify.update_cart_display(),Bsify.update_cart_table()});var message_count=0;if(Bsify.show_message=function(t,e,o){message_count++,t.removeClass("hidden").html('<div class="note '+e+" message"+message_count+'">'+o+"</div>"),Bsify.remove_message(message_count)},Bsify.remove_message=function(t){setTimeout(function(){$(".message"+t).fadeOut(function(){$(this).remove()})},Bsify.message_timeout)},Bsify.product){var $product_form_ele=$(Bsify.product_form_selector),$product_form_button=$product_form_ele.find("input[type=submit]"),$product_form_message_ele=$(Bsify.product_form_message_selector),form_values=function(t){for(var e={},o=0;o<t.length;o++){var i=t[o];e[i.name]=i.value}return e};$(document).on("submit",Bsify.product_form_selector,function(t){t.preventDefault();var e=$(t.currentTarget),o=form_values(e.serializeArray()),i={},r=Bsify.get_variant_by_id(o.id),a=Bsify.product.title+Bsify.item_title_seperator+r.title;$product_form_button.val(Bsify.adding_to_cart_button_text),CartJS.addItem(o.id,o.quantity,i,{success:function(){var t=Bsify.after_product_added_message_html.replace("[item_title]",a);Bsify.show_message($product_form_message_ele,"success",t),$product_form_button.val(Bsify.added_to_cart_button_text)},error:function(t,e,o){console.log("[ERROR] - Add to cart:",t,e,o);var i=Bsify.after_product_added_error_message_html.replace("[item_title]",a).replace("[error_message]",o);Bsify.show_message($product_form_message_ele,"error",i),$product_form_button.val(Bsify.unavailable_button_text)}})})}$(document).on("click","[data-remove-item]",function(t){t.preventDefault();var e=$(t.currentTarget),o=e.closest(Bsify.cart_item_selector),i=Bsify.get_cart_item_by_id(o.data("cart-item")),r=i.product_title+Bsify.item_title_seperator+i.variant_title;CartJS.removeItem(e.data("remove-item"),{success:function(){o.hide();var t=Bsify.remove_item_message.replace("[item_title]",r);Bsify.show_message($cart_message_ele,"success",t)},error:function(t,e,o){console.log("[ERROR] - Remove item from cart:",t,e,error_thrownn);var i=Bsify.remove_item_error_message.replace("[item_title]",r).replace("[error_message]",o);Bsify.show_message($cart_message_ele,"success",i)}})})}Bsify.get_cart_item_by_id=function(t){"string"==typeof t&&(t=parseInt(t));var e;if(CartJS)for(var o=0;o<CartJS.cart.items.length;o++){var i=CartJS.cart.items[o];i.variant_id===t&&(e=i)}return e},Bsify.cart_has_variant=function(t){"string"==typeof t&&(t=parseInt(t));var e=!1;if(CartJS)for(var o=0;o<CartJS.cart.items.length;o++){var i=CartJS.cart.items[o];i.variant_id===t&&(e=!0)}return e},Bsify.preload_product_thumbs=function(){var t=$("[data-gallery-main]"),e=$(t.data("gallery-main"))[0],o=Shopify.Image.imageSize(e.src);t.length>0&&t.each(function(){var t=new Image,e=$(this).attr("href"),i=Shopify.Image.getSizedImageUrl(e,o);t.src=i})},Bsify.image_swticher=function(){$(document).on("click","[data-gallery-main]",function(t){t.preventDefault();var e=$(t.currentTarget),o=$(e.data("gallery-main"))[0],i=e.attr("href");Bsify.switch_image(o,i)})},Bsify.switch_image=function(t,e){if(t&&e){var o=Shopify.Image.imageSize(t.src),i=Shopify.Image.getSizedImageUrl(e,o);t.src!==i&&(t.src=i)}},Bsify.product&&(Bsify.preload_product_thumbs(),Bsify.image_swticher());var Shopify=Shopify||{};Shopify.optionsMap={},Shopify.updateOptionsInSelector=function(t){var e,o;switch(t){case 0:e="root",o=jQuery(".single-option-selector:eq(0)");break;case 1:e=jQuery(".single-option-selector:eq(0)").val(),o=jQuery(".single-option-selector:eq(1)");break;case 2:e=jQuery(".single-option-selector:eq(0)").val(),e+=" / "+jQuery(".single-option-selector:eq(1)").val(),o=jQuery(".single-option-selector:eq(2)")}var i=o.val();o.empty();var r=Shopify.optionsMap[e];if(void 0!==r){for(var a=0;a<r.length;a++){var s=r[a],n=jQuery("<option></option>").val(s).html(s);o.append(n)}jQuery('.swatch[data-option-index="'+t+'"] .swatch-element').each(function(){-1!==jQuery.inArray($(this).attr("data-value"),r)?$(this).removeClass("soldout").show().find(":radio").removeAttr("disabled","disabled").removeAttr("checked"):$(this).addClass("soldout").hide().find(":radio").removeAttr("checked").attr("disabled","disabled")}),-1!==jQuery.inArray(i,r)&&o.val(i),o.trigger("change")}},Shopify.linkOptionSelectors=function(t){for(var e=0;e<t.variants.length;e++){var o=t.variants[e];if(o.available){var i;Shopify.optionsMap.root=Shopify.optionsMap.root||[],Shopify.optionsMap.root.push(o.option1),Shopify.optionsMap.root=Shopify.uniq(Shopify.optionsMap.root),t.options.length>1&&(i=o.option1,Shopify.optionsMap[i]=Shopify.optionsMap[i]||[],Shopify.optionsMap[i].push(o.option2),Shopify.optionsMap[i]=Shopify.uniq(Shopify.optionsMap[i])),3===t.options.length&&(i=o.option1+" / "+o.option2,Shopify.optionsMap[i]=Shopify.optionsMap[i]||[],Shopify.optionsMap[i].push(o.option3),Shopify.optionsMap[i]=Shopify.uniq(Shopify.optionsMap[i]))}}Shopify.updateOptionsInSelector(0),t.options.length>1&&Shopify.updateOptionsInSelector(1),3===t.options.length&&Shopify.updateOptionsInSelector(2),jQuery(".single-option-selector:eq(0)").change(function(){return Shopify.updateOptionsInSelector(1),3===t.options.length&&Shopify.updateOptionsInSelector(2),!0}),jQuery(".single-option-selector:eq(1)").change(function(){return 3===t.options.length&&Shopify.updateOptionsInSelector(2),!0})},Bsify.product&&Bsify.linked_product_options&&Bsify.product.available&&Bsify.product.options.length>1&&Shopify.linkOptionSelectors(Bsify.product),Bsify.update_product_selector_options=function(t){var e=t.val(),o=Bsify.get_variant_by_id(e);if(o)for(var i=0;i<Bsify.product.options.length;i++){var r="option"+(i+1),a=o[r];$(".single-option-selector:eq("+i+")").val(a).trigger("change")}},Bsify.image_variant_switcher=function(){var t=$(Bsify.product_select_selector);$(document).on("click","[data-variant-id]",function(e){e.preventDefault();var o=$(e.currentTarget);t.val(o.data("variant-id")),Bsify.update_product_selector_options(t)})},Bsify.product&&Bsify.image_variant_switcher();