(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var Bsify=require("./bsify.js"),CartJS=require("./../../bower_components/shopify-cartjs/dist/cart.js"),Lookbook=require("./bsify.lookbook_gallery.js"),App=function(){if(CartJS.init(Bsify.cart,Bsify.money_formats),Bsify.product&&(Bsify.ImageSwitcher.preload_product_thumbs(),Bsify.ImageSwitcher.image_swticher(),Bsify.VariantOptionSwitcher.image_variant_switcher(),Bsify.linked_product_options&&Bsify.product.available&&Bsify.product.options.length>1&&Bsify.LinkedProductOptions.linkOptionSelectors(Bsify.product)),Bsify.ajax_add_to_cart&&Bsify.Cart.init(),Bsify.Thumbnails.init(),Bsify.Banner.init(),Bsify.BannerVideo.init(),Bsify.MegaMenu.init(),Bsify.ScrollTo.init(),Bsify.Modal.init(),$(".collection-lookbook").length>0){var i=new Lookbook({gallery_wrapper:".collection-lookbook .products.group",item_wrapper:".group-item-wrap",controls_wrapper:".lookbook-controls"});i.on_loaded=function(){Bsify.Thumbnails.orderly()}}Modernizr.input.placeholder?$("html").addClass("placeholder"):$("html").addClass("no-placeholder"),Bsify.SocialFeeds.init(),new Bsify.PasswordRecover},app=new App;module.exports=app,window.CartJS=CartJS;


},{"./../../bower_components/shopify-cartjs/dist/cart.js":2,"./bsify.js":14,"./bsify.lookbook_gallery.js":16}],2:[function(require,module,exports){
(function(){var t,e,r,n,a,u,i=function(t,e){return function(){return t.apply(e,arguments)}};e=function(){function t(){this.update=i(this.update,this)}return t.prototype.update=function(t){var e,r,a;for(r in t)a=t[r],"items"!==r&&(this[r]=a);return this.items=function(){var r,a,u,i;for(u=t.items,i=[],r=0,a=u.length;a>r;r++)e=u[r],i.push(new n(e));return i}()},t}(),n=function(){function t(t){this.propertyArray=i(this.propertyArray,this),this.update=i(this.update,this),this.update(t)}return t.prototype.update=function(t){var e,n;for(e in t)n=t[e],"properties"!==e&&(this[e]=n);return this.properties=r.Utils.extend({},t.properties)},t.prototype.propertyArray=function(){var t,e,r,n;r=this.properties,n=[];for(t in r)e=r[t],n.push({name:t,value:e});return n},t}(),r={settings:{debug:!1,dataAPI:!0,requestBodyClass:null,rivetsModels:{},moneyFormat:null,moneyWithCurrencyFormat:null},cart:new e},r.init=function(t,e){return null==e&&(e={}),r.configure(e),r.Utils.log("Initialising CartJS."),r.cart.update(t),r.settings.dataAPI&&(r.Utils.log('"dataAPI" setting is true, initialising Data API.'),r.Data.init()),r.settings.requestBodyClass&&(r.Utils.log('"requestBodyClass" set, adding event listeners.'),$(document).on("cart.requestStarted",function(){return $("body").addClass(r.settings.requestBodyClass)}),$(document).on("cart.requestComplete",function(){return $("body").removeClass(r.settings.requestBodyClass)})),r.Rivets.init()},r.configure=function(t){return null==t&&(t={}),r.Utils.extend(r.settings,t)},r.Utils={log:function(){return r.Utils.console(console.log,arguments)},error:function(){return r.Utils.console(console.error,arguments)},console:function(t,e){return r.settings.debug&&"undefined"!=typeof console&&null!==console?(e=Array.prototype.slice.call(e),e.unshift("[CartJS]:"),t.apply(console,e)):void 0},wrapKeys:function(t,e,r){var n,a,u;null==e&&(e="properties"),u={};for(n in t)a=t[n],u[""+e+"["+n+"]"]=null!=r?r:a;return u},unwrapKeys:function(t,e,r){var n,a,u,i;null==e&&(e="properties"),a={};for(n in t)i=t[n],u=n.replace(""+e+"[","").replace("]",""),a[u]=null!=r?r:i;return a},extend:function(t,e){var r,n;for(r in e)n=e[r],t[r]=n;return t},clone:function(t){var e,r;if(null==t||"object"!=typeof t)return t;r=new t.constructor;for(e in t)r[e]=clone(t[e]);return r},isArray:Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},ensureArray:function(t){return r.Utils.isArray(t)?t:null!=t?[t]:[]},formatMoney:function(t,e){var r;return null!=(null!=(r=window.Shopify)?r.formatMoney:void 0)?Shopify.formatMoney(t,e):t},getSizedImageUrl:function(t,e){var r,n;return null!=(null!=(r=window.Shopify)&&null!=(n=r.Image)?n.getSizedImageUrl:void 0)?Shopify.Image.getSizedImageUrl(t,e):t}},u=[],a=!1,r.Queue={add:function(t,e,n){var i;return null==n&&(n={}),i={url:t,data:e,type:n.type||"POST",dataType:n.dataType||"json",success:r.Utils.ensureArray(n.success),error:r.Utils.ensureArray(n.error),complete:r.Utils.ensureArray(n.complete)},n.updateCart&&i.success.push(r.cart.update),u.push(i),a?void 0:(jQuery(document).trigger("cart.requestStarted",[r.cart]),r.Queue.process())},process:function(){var t;return u.length?(a=!0,t=u.shift(),t.complete=r.Queue.process,jQuery.ajax(t)):(a=!1,void jQuery(document).trigger("cart.requestComplete",[r.cart]))}},r.Core={getCart:function(t){return null==t&&(t={}),t.type="GET",t.updateCart=!0,r.Queue.add("/cart.js",{},t)},addItem:function(t,e,n,a){var u;return null==e&&(e=1),null==n&&(n={}),null==a&&(a={}),u=r.Utils.wrapKeys(n),u.id=t,u.quantity=e,r.Queue.add("/cart/add.js",u,a),r.Core.getCart()},updateItem:function(t,e,n,a){var u;return null==n&&(n={}),null==a&&(a={}),u=r.Utils.wrapKeys(n),u.line=t,null!=e&&(u.quantity=e),a.updateCart=!0,r.Queue.add("/cart/change.js",u,a)},removeItem:function(t,e){return null==e&&(e={}),r.Core.updateItem(t,0,{},e)},updateItemById:function(t,e,n,a){var u;return null==n&&(n={}),null==a&&(a={}),u=r.Utils.wrapKeys(n),u.id=t,null!=e&&(u.quantity=e),a.updateCart=!0,r.Queue.add("/cart/change.js",u,a)},updateItemQuantitiesById:function(t,e){return null==t&&(t={}),null==e&&(e={}),e.updateCart=!0,r.Queue.add("/cart/update.js",{updates:t},e)},removeItemById:function(t,e){var n;return null==e&&(e={}),n={id:t,quantity:0},e.updateCart=!0,r.Queue.add("/cart/change.js",n,e)},clear:function(t){return null==t&&(t={}),t.updateCart=!0,r.Queue.add("/cart/clear.js",{},t)},getAttribute:function(t,e){return t in r.cart.attributes?r.cart.attributes[t]:e},setAttribute:function(t,e,n){var a;return null==n&&(n={}),a={},a[t]=e,r.Core.setAttributes(a,n)},getAttributes:function(){return r.cart.attributes},setAttributes:function(t,e){return null==t&&(t={}),null==e&&(e={}),e.updateCart=!0,r.Queue.add("/cart/update.js",r.Utils.wrapKeys(t,"attributes"),e)},clearAttributes:function(t){return null==t&&(t={}),t.updateCart=!0,r.Queue.add("/cart/update.js",r.Utils.wrapKeys(r.Core.getAttributes(),"attributes",""),t)},getNote:function(){return r.cart.note},setNote:function(t,e){return null==e&&(e={}),e.updateCart=!0,r.Queue.add("/cart/update.js",{note:t},e)}},t=jQuery(document),r.Data={init:function(){return r.Data.setEventListeners("on"),r.Data.render(null,r.cart)},destroy:function(){return r.Data.setEventListeners("off")},setEventListeners:function(e){return t[e]("click","[data-cart-add]",r.Data.add),t[e]("click","[data-cart-remove]",r.Data.remove),t[e]("click","[data-cart-remove-id]",r.Data.removeById),t[e]("click","[data-cart-update]",r.Data.update),t[e]("click","[data-cart-update-id]",r.Data.updateById),t[e]("click","[data-cart-clear]",r.Data.clear),t[e]("change","[data-cart-toggle]",r.Data.toggle),t[e]("change","[data-cart-toggle-attribute]",r.Data.toggleAttribute),t[e]("submit","[data-cart-submit]",r.Data.submit),t[e]("cart.requestComplete",r.Data.render)},add:function(t){var e;return t.preventDefault(),e=jQuery(this),r.Core.addItem(e.attr("data-cart-add"),e.attr("data-cart-quantity"))},remove:function(t){var e;return t.preventDefault(),e=jQuery(this),r.Core.removeItem(e.attr("data-cart-remove"))},removeById:function(t){var e;return t.preventDefault(),e=jQuery(this),r.Core.removeItemById(e.attr("data-cart-remove-id"))},update:function(t){var e;return t.preventDefault(),e=jQuery(this),r.Core.updateItem(e.attr("data-cart-update"),e.attr("data-cart-quantity"))},updateById:function(t){var e;return t.preventDefault(),e=jQuery(this),r.Core.updateItemById(e.attr("data-cart-update-id"),e.attr("data-cart-quantity"))},clear:function(t){return t.preventDefault(),r.Core.clear()},toggle:function(t){var e,n;return e=jQuery(this),n=e.attr("data-cart-toggle"),e.is(":checked")?r.Core.addItem(n):r.Core.removeItemById(n)},toggleAttribute:function(t){var e,n;return e=jQuery(this),n=e.attr("data-cart-toggle-attribute"),r.Core.setAttribute(n,e.is(":checked")?"Yes":"")},submit:function(t){var e,n,a,u;return t.preventDefault(),e=jQuery(this).serializeArray(),n=void 0,u=void 0,a={},jQuery.each(e,function(t,e){return"id"===e.name?n=e.value:"quantity"===e.name?u=e.value:a[e.name]=e.value}),r.Core.addItem(n,u,r.Utils.unwrapKeys(a))},render:function(t,e){var n;return n={item_count:e.item_count,total_price:e.total_price,total_price_money:r.Utils.formatMoney(e.total_price,r.settings.moneyFormat),total_price_money_with_currency:r.Utils.formatMoney(e.total_price,r.settings.moneyWithCurrencyFormat)},jQuery("[data-cart-render]").each(function(){var t;return t=jQuery(this),t.text(n[t.attr("data-cart-render")])})}},"rivets"in window?(r.Rivets={views:[],init:function(){return r.Rivets.bindViews()},destroy:function(){return r.Rivets.unbindViews()},bindViews:function(){var t;return r.Utils.log("Rivets.js is present, binding views."),r.Rivets.unbindViews(),t=r.Utils.extend({cart:r.cart},r.settings.rivetsModels),jQuery("[data-cart-view]").each(function(){return r.Rivets.views.push(rivets.bind(this,t))})},unbindViews:function(){var t,e,n,a;for(a=r.Rivets.views,e=0,n=a.length;n>e;e++)t=a[e],t.unbind();return r.Rivets.views=[]}},rivets.formatters.eq=function(t,e){return t===e},rivets.formatters.lt=function(t,e){return e>t},rivets.formatters.gt=function(t,e){return t>e},rivets.formatters.not=function(t){return!t},rivets.formatters.empty=function(t){return!t.length},rivets.formatters.plus=function(t,e){return parseInt(t)+parseInt(e)},rivets.formatters.minus=function(t,e){return parseInt(t)-parseInt(e)},rivets.formatters.prepend=function(t,e){return e+t},rivets.formatters.append=function(t,e){return t+e},rivets.formatters.money=function(t){return r.Utils.formatMoney(t,r.settings.moneyFormat)},rivets.formatters.money_with_currency=function(t){return r.Utils.formatMoney(t,r.settings.moneyWithCurrencyFormat)},rivets.formatters.productImageSize=function(t,e){return r.Utils.getSizedImageUrl(t,e)}):r.Rivets={init:function(){},destroy:function(){}},r.factory=function(t){return t.init=r.init,t.configure=r.configure,t.cart=r.cart,t.settings=r.settings,t.addItem=r.Core.addItem,t.updateItem=r.Core.updateItem,t.updateItemById=r.Core.updateItemById,t.updateItemQuantitiesById=r.Core.updateItemQuantitiesById,t.removeItem=r.Core.removeItem,t.clear=r.Core.clear,t.getAttribute=r.Core.getAttribute,t.setAttribute=r.Core.setAttribute,t.getAttributes=r.Core.getAttributes,t.setAttributes=r.Core.setAttributes,t.clearAttributes=r.Core.clearAttributes,t.getNote=r.Core.getNote,t.setNote=r.Core.setNote},"object"==typeof exports?r.factory(exports):"function"==typeof define&&define.amd?define(["exports"],function(t){return r.factory(this.CartJS=t),t}):r.factory(this.CartJS={})}).call(this);


},{}],3:[function(require,module,exports){
!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return t(e,i,n)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,i){"use strict";function n(e,t){for(var i in t)e[i]=t[i];return e}function o(e){return"[object Array]"===d.call(e)}function r(e){var t=[];if(o(e))t=e;else if("number"==typeof e.length)for(var i=0,n=e.length;n>i;i++)t.push(e[i]);else t.push(e);return t}function s(e,t,i){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=n({},this.options),"function"==typeof t?i=t:n(this.options,t),i&&this.on("always",i),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var o=this;setTimeout(function(){o.check()})}function h(e){this.img=e}function f(e){this.src=e,p[e]=this}var c=e.jQuery,a=e.console,u="undefined"!=typeof a,d=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var i=this.elements[e];"IMG"===i.nodeName&&this.addImage(i);var n=i.nodeType;if(n&&(1===n||9===n||11===n))for(var o=i.querySelectorAll("img"),r=0,s=o.length;s>r;r++){var h=o[r];this.addImage(h)}}},s.prototype.addImage=function(e){var t=new h(e);this.images.push(t)},s.prototype.check=function(){function e(e,o){return t.options.debug&&u&&a.log("confirm",e,o),t.progress(e),i++,i===n&&t.complete(),!0}var t=this,i=0,n=this.images.length;if(this.hasAnyBroken=!1,!n)return void this.complete();for(var o=0;n>o;o++){var r=this.images[o];r.on("confirm",e),r.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var i=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[i](t)}})},c&&(c.fn.imagesLoaded=function(e,t){var i=new s(this,e,t);return i.jqDeferred.promise(c(this))}),h.prototype=new t,h.prototype.check=function(){var e=p[this.img.src]||new f(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,i){return t.confirm(e.isLoaded,i),!0}),e.check()},h.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var p={};return f.prototype=new t,f.prototype.check=function(){if(!this.isChecked){var e=new Image;i.bind(e,"load",this),i.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},f.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},f.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},f.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},f.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},f.prototype.unbindProxyEvents=function(e){i.unbind(e.target,"load",this),i.unbind(e.target,"error",this)},s});


},{"eventie":4,"wolfy87-eventemitter":5}],4:[function(require,module,exports){
!function(e){"use strict";function n(n){var t=e.event;return t.target=t.target||t.srcElement||n,t}var t=document.documentElement,o=function(){};t.addEventListener?o=function(e,n,t){e.addEventListener(n,t,!1)}:t.attachEvent&&(o=function(e,t,o){e[t+o]=o.handleEvent?function(){var t=n(e);o.handleEvent.call(o,t)}:function(){var t=n(e);o.call(e,t)},e.attachEvent("on"+t,e[t+o])});var c=function(){};t.removeEventListener?c=function(e,n,t){e.removeEventListener(n,t,!1)}:t.detachEvent&&(c=function(e,n,t){e.detachEvent("on"+n,e[n+t]);try{delete e[n+t]}catch(o){e[n+t]=void 0}});var i={bind:o,unbind:c};"function"==typeof define&&define.amd?define(i):"object"==typeof exports?module.exports=i:e.eventie=i}(window);


},{}],5:[function(require,module,exports){
(function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i=this,s=i.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),s="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(s?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,s=this.getListenersAsObject(e);for(i in s)s.hasOwnProperty(i)&&(r=t(s[i],n),-1!==r&&s[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)s.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?s.call(this,r,i):o.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,s,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)n=o[i][r],n.once===!0&&this.removeListener(e,n.listener),s=n.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=s,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:i.EventEmitter=e}).call(this);


},{}],6:[function(require,module,exports){
!function(n){if(!window.__orderly){window.__orderly=!0;var t=n(window);t.on("resize",function(n){t.trigger("orderly")});var r={};r.init=function(n){return this.$els=n,this.len=n.length,this},r.attach=function(){void 0===this.attached&&(this.attached=!0,t.on("orderly",m(this.handler(),100)))},r.handler=function(){var n=this;return function(){l(n),e(n)}};var e=function(n){for(var t=0;t<n.len;)t=i(n,null,0,[],t)},i=function(t,r,e,i,l){for(;l<t.len&&(r=o(t,r,l),null!==r);)e=u(t,e,l),i.push(t.$els[l]),l++;return e=c(e),a(t,n(i),e),l},o=function(n,t,r){var e=n.$els.eq(r),i=e.offset().left;return null!==t&&t>=i?null:i},u=function(n,t,r){var e=n.$els[r].getBoundingClientRect(),i=e.bottom-e.top;return Math.max(t,i)},c=function(n){return Math.round(n).toString()+"px"},a=function(t,r,e){r.each(function(t,i){n(i).css({height:e}),h(i,"resize",e,t,r.length)})},l=function(t){var r=t.$els;r.each(function(t,e){h(e,"reset","",t,r.length),n(e).css({height:""})})},h=function(t,r,e,i,o){n(t).trigger("orderly."+r,[t,e,i,o])};n.fn.orderly=function(n){return this.length>0&&f(this,n),this};var f=function(n,t){var r=t&&t.method||"register",e=d[r];e(n)},s=function(n){var t=Object.create(r).init(n);t.attach(),t.handler()()},d={};d.register=s,d.children=function(n){var t=w++;v(n,t),s(n),g(n,t),s(n)};var g=function(n,t){for(var r=n[0].children.length,e=0;r>e;e++)s(y(t,e))},v=function(t,r){t.each(function(t,e){n(e.children).each(function(t,e){n(e).attr("data-orderly",r+":"+t)})})},y=function(t,r){return n('[data-orderly="'+t+":"+r+'"]')},m=function(n,t){var r;return function(){clearTimeout(r),r=setTimeout(function(){r=null,n.apply(this,arguments)},t)}},w=0}}(jQuery);


},{}],7:[function(require,module,exports){
function uncamel(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function setUnit(e,r){return"string"!=typeof e||e.match(/^[\-0-9\.]+jQuery/)?""+e+r:e}function setFilter(e,r,t){var a=uncamel(r),o=jQuery.browser.mozilla?"":jQuery.CSS.sfx;e[o+"filter"]=e[o+"filter"]||"",t=setUnit(t>jQuery.CSS.filters[r].max?jQuery.CSS.filters[r].max:t,jQuery.CSS.filters[r].unit),e[o+"filter"]+=a+"("+t+") ",delete e[r]}var ytp=ytp||{};window.onYouTubeIframeAPIReady=function(){ytp.YTAPIReady||(ytp.YTAPIReady=!0,jQuery(document).trigger("YTAPIReady"))};var getYTPVideoID=function(e){var r,t;return e.indexOf("youtu.be")>0?(r=e.substr(e.lastIndexOf("/")+1,e.length),t=r.indexOf("?list=")>0?r.substr(r.lastIndexOf("="),r.length):null,r=t?r.substr(0,r.lastIndexOf("?")):r):e.indexOf("http")>-1?(r=e.match(/[\\?&]v=([^&#]*)/)[1],t=e.indexOf("list=")>0?e.match(/[\\?&]list=([^&#]*)/)[1]:null):(r=e.length>15?null:e,t=r?null:e),{videoID:r,playlistID:t}};!function(jQuery,ytp){jQuery.mbYTPlayer={name:"jquery.mb.YTPlayer",version:"2.9.4",build:"{{ build }}",author:"Matteo Bicocchi",apiKey:"",defaults:{containment:"body",ratio:"auto",videoURL:null,playlistURL:null,startAt:0,stopAt:0,autoPlay:!0,vol:50,addRaster:!1,opacity:1,quality:"default",mute:!1,loop:!0,showControls:!0,showAnnotations:!1,showYTLogo:!0,stopMovieOnBlur:!0,realfullscreen:!0,gaTrack:!0,optimizeDisplay:!0,onReady:function(e){}},controls:{play:"P",pause:"p",mute:"M",unmute:"A",onlyYT:"O",showSite:"R",ytLogo:"Y"},locationProtocol:"https:",buildPlayer:function(options){return this.each(function(){var YTPlayer=this,$YTPlayer=jQuery(YTPlayer);YTPlayer.loop=0,YTPlayer.opt={},YTPlayer.state={},YTPlayer.filtersEnabled=!0,YTPlayer.filters={grayscale:{value:0,unit:"%"},hue_rotate:{value:0,unit:"deg"},invert:{value:0,unit:"%"},opacity:{value:0,unit:"%"},saturate:{value:0,unit:"%"},sepia:{value:0,unit:"%"},brightness:{value:0,unit:"%"},contrast:{value:0,unit:"%"},blur:{value:0,unit:"px"}},$YTPlayer.addClass("mb_YTPlayer");var property=$YTPlayer.data("property")&&"string"==typeof $YTPlayer.data("property")?eval("("+$YTPlayer.data("property")+")"):$YTPlayer.data("property");"undefined"!=typeof property&&"undefined"!=typeof property.vol&&(property.vol=0===property.vol?property.vol=1:property.vol),jQuery.extend(YTPlayer.opt,jQuery.mbYTPlayer.defaults,options,property),YTPlayer.hasChanged||(YTPlayer.defaultOpt={},jQuery.extend(YTPlayer.defaultOpt,jQuery.mbYTPlayer.defaults,options,property)),YTPlayer.isRetina=window.retina||window.devicePixelRatio>1;var isIframe=function(){var e=!1;try{self.location.href!=top.location.href&&(e=!0)}catch(r){e=!0}return e};YTPlayer.canGoFullScreen=!(jQuery.browser.msie||jQuery.browser.opera||isIframe()),YTPlayer.canGoFullScreen||(YTPlayer.opt.realfullscreen=!1),$YTPlayer.attr("id")||$YTPlayer.attr("id","video_"+(new Date).getTime());var playerID="mbYTP_"+YTPlayer.id;YTPlayer.isAlone=!1,YTPlayer.hasFocus=!0;var videoID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).videoID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).videoID:!1,playlistID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).playlistID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).playlistID:!1;YTPlayer.videoID=videoID,YTPlayer.playlistID=playlistID,YTPlayer.opt.showAnnotations=YTPlayer.opt.showAnnotations?"0":"3";var playerVars={autoplay:0,modestbranding:1,controls:0,showinfo:0,rel:0,enablejsapi:1,version:3,playerapiid:playerID,origin:"*",allowfullscreen:!0,wmode:"transparent",iv_load_policy:YTPlayer.opt.showAnnotations};document.createElement("video").canPlayType&&jQuery.extend(playerVars,{html5:1}),jQuery.browser.msie&&jQuery.browser.version<9&&(this.opt.opacity=1);var playerBox=jQuery("<div/>").attr("id",playerID).addClass("playerBox"),overlay=jQuery("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).addClass("YTPOverlay");if(YTPlayer.isSelf="self"==YTPlayer.opt.containment,YTPlayer.defaultOpt.containment=YTPlayer.opt.containment=jQuery("self"==YTPlayer.opt.containment?this:YTPlayer.opt.containment),YTPlayer.isBackground="body"==YTPlayer.opt.containment.get(0).tagName.toLowerCase(),!YTPlayer.isBackground||!ytp.backgroundIsInited){var isPlayer=YTPlayer.opt.containment.is(jQuery(this));if(YTPlayer.canPlayOnMobile=isPlayer&&0===jQuery(this).children().length,isPlayer?YTPlayer.isPlayer=!0:$YTPlayer.hide(),jQuery.browser.mobile&&!YTPlayer.canPlayOnMobile)return void $YTPlayer.remove();var wrapper=jQuery("<div/>").addClass("mbYTP_wrapper").attr("id","wrapper_"+playerID);if(wrapper.css({position:"absolute",zIndex:0,minWidth:"100%",minHeight:"100%",left:0,top:0,overflow:"hidden",opacity:0}),playerBox.css({position:"absolute",zIndex:0,width:"100%",height:"100%",top:0,left:0,overflow:"hidden"}),wrapper.append(playerBox),YTPlayer.opt.containment.children().not("script, style").each(function(){"static"==jQuery(this).css("position")&&jQuery(this).css("position","relative")}),YTPlayer.isBackground?(jQuery("body").css({boxSizing:"border-box"}),wrapper.css({position:"fixed",top:0,left:0,zIndex:0}),$YTPlayer.hide()):"static"==YTPlayer.opt.containment.css("position")&&YTPlayer.opt.containment.css({position:"relative"}),YTPlayer.opt.containment.prepend(wrapper),YTPlayer.wrapper=wrapper,playerBox.css({opacity:1}),jQuery.browser.mobile||(playerBox.after(overlay),YTPlayer.overlay=overlay),YTPlayer.isBackground||overlay.on("mouseenter",function(){YTPlayer.controlBar&&YTPlayer.controlBar.addClass("visible")}).on("mouseleave",function(){YTPlayer.controlBar&&YTPlayer.controlBar.removeClass("visible")}),ytp.YTAPIReady)setTimeout(function(){jQuery(document).trigger("YTAPIReady")},100);else{jQuery("#YTAPI").remove();var tag=jQuery("<script></script>").attr({src:jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/iframe_api?v="+jQuery.mbYTPlayer.version,id:"YTAPI"});jQuery("head").prepend(tag)}jQuery(document).on("YTAPIReady",function(){YTPlayer.isBackground&&ytp.backgroundIsInited||YTPlayer.isInit||(YTPlayer.isBackground&&(ytp.backgroundIsInited=!0),YTPlayer.opt.autoPlay="undefined"==typeof YTPlayer.opt.autoPlay?YTPlayer.isBackground?!0:!1:YTPlayer.opt.autoPlay,YTPlayer.opt.vol=YTPlayer.opt.vol?YTPlayer.opt.vol:100,jQuery.mbYTPlayer.getDataFromAPI(YTPlayer),jQuery(YTPlayer).on("YTPChanged",function(){if(!YTPlayer.isInit){if(YTPlayer.isInit=!0,jQuery.browser.mobile&&YTPlayer.canPlayOnMobile){if(YTPlayer.opt.containment.outerWidth()>jQuery(window).width()){YTPlayer.opt.containment.css({maxWidth:"100%"});var h=.6*YTPlayer.opt.containment.outerWidth();YTPlayer.opt.containment.css({maxHeight:h})}return void new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),height:"100%",width:"100%",events:{onReady:function(e){YTPlayer.player=e.target,playerBox.css({opacity:1}),YTPlayer.wrapper.css({opacity:1})}}})}new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),playerVars:playerVars,events:{onReady:function(e){if(YTPlayer.player=e.target,!YTPlayer.isReady){YTPlayer.isReady=YTPlayer.isPlayer&&!YTPlayer.opt.autoPlay?!1:!0,YTPlayer.playerEl=YTPlayer.player.getIframe(),$YTPlayer.optimizeDisplay(),YTPlayer.videoID=videoID,jQuery(window).on("resize.YTP",function(){$YTPlayer.optimizeDisplay()}),jQuery.mbYTPlayer.checkForState(YTPlayer);var r=jQuery.Event("YTPUnstarted");r.time=YTPlayer.player.time,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(r)}},onStateChange:function(event){if("function"==typeof event.target.getPlayerState){var state=event.target.getPlayerState();if(YTPlayer.state!=state){YTPlayer.state=state;var eventType;switch(state){case-1:eventType="YTPUnstarted";break;case 0:eventType="YTPEnd";break;case 1:eventType="YTPStart",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause),"undefined"!=typeof _gaq&&eval(YTPlayer.opt.gaTrack)&&_gaq.push(["_trackEvent","YTPlayer","Play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString()]),"undefined"!=typeof ga&&eval(YTPlayer.opt.gaTrack)&&ga("send","event","YTPlayer","play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString());break;case 2:eventType="YTPPause",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 3:YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality),eventType="YTPBuffering",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 5:eventType="YTPCued"}var YTPEvent=jQuery.Event(eventType);YTPEvent.time=YTPlayer.player.time,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(YTPEvent)}}},onPlaybackQualityChange:function(e){var r=e.target.getPlaybackQuality(),t=jQuery.Event("YTPQualityChange");t.quality=r,jQuery(YTPlayer).trigger(t)},onError:function(e){150==e.data&&(console.log("Embedding this video is restricted by Youtube."),YTPlayer.isPlayList&&jQuery(YTPlayer).playNext()),2==e.data&&YTPlayer.isPlayList&&jQuery(YTPlayer).playNext(),"function"==typeof YTPlayer.opt.onError&&YTPlayer.opt.onError($YTPlayer,e)}}})}}))})}})},getDataFromAPI:function(e){if(e.videoData=jQuery.mbStorage.get("YYTPlayer_data_"+e.videoID),jQuery(e).off("YTPData.YTPlayer").on("YTPData.YTPlayer",function(){if(e.hasData&&e.isPlayer&&!e.opt.autoPlay){var r=e.videoData.thumb_max||e.videoData.thumb_high||e.videoData.thumb_medium;e.opt.containment.css({background:"rgba(0,0,0,0.5) url("+r+") center center",backgroundSize:"cover"}),e.opt.backgroundUrl=r}}),e.videoData)setTimeout(function(){e.opt.ratio="auto"==e.opt.ratio?"16/9":e.opt.ratio,e.dataReceived=!0,jQuery(e).trigger("YTPChanged");var r=jQuery.Event("YTPData");r.prop={};for(var t in e.videoData)r.prop[t]=e.videoData[t];jQuery(e).trigger(r)},500),e.hasData=!0;else if(jQuery.mbYTPlayer.apiKey)jQuery.getJSON(jQuery.mbYTPlayer.locationProtocol+"//www.googleapis.com/youtube/v3/videos?id="+e.videoID+"&key="+jQuery.mbYTPlayer.apiKey+"&part=snippet",function(r){function t(r){e.videoData={},e.videoData.id=e.videoID,e.videoData.channelTitle=r.channelTitle,e.videoData.title=r.title,e.videoData.description=r.description.length<400?r.description:r.description.substring(0,400)+" ...",e.videoData.aspectratio="auto"==e.opt.ratio?"16/9":e.opt.ratio,e.opt.ratio=e.videoData.aspectratio,e.videoData.thumb_max=r.thumbnails.maxres?r.thumbnails.maxres.url:null,e.videoData.thumb_high=r.thumbnails.high?r.thumbnails.high.url:null,e.videoData.thumb_medium=r.thumbnails.medium?r.thumbnails.medium.url:null,jQuery.mbStorage.set("YYTPlayer_data_"+e.videoID,e.videoData)}e.dataReceived=!0,jQuery(e).trigger("YTPChanged"),t(r.items[0].snippet),e.hasData=!0;var a=jQuery.Event("YTPData");a.prop={};for(var o in e.videoData)a.prop[o]=e.videoData[o];jQuery(e).trigger(a)});else{if(setTimeout(function(){jQuery(e).trigger("YTPChanged")},50),e.isPlayer&&!e.opt.autoPlay){var r=jQuery.mbYTPlayer.locationProtocol+"//i.ytimg.com/vi/"+e.videoID+"/hqdefault.jpg";e.opt.containment.css({background:"rgba(0,0,0,0.5) url("+r+") center center",backgroundSize:"cover"}),e.opt.backgroundUrl=r}e.videoData=null,e.opt.ratio="auto"==e.opt.ratio?"16/9":e.opt.ratio}e.isPlayer&&!e.opt.autoPlay&&(e.loading=jQuery("<div/>").addClass("loading").html("Loading").hide(),jQuery(e).append(e.loading),e.loading.fadeIn())},removeStoredData:function(){jQuery.mbStorage.remove()},getVideoData:function(){var e=this.get(0);return e.videoData},getVideoID:function(){var e=this.get(0);return e.videoID||!1},setVideoQuality:function(e){var r=this.get(0);jQuery.browser.chrome||r.player.setPlaybackQuality(e)},playlist:function(e,r,t){var a=this,o=a.get(0);return o.isPlayList=!0,r&&(e=jQuery.shuffle(e)),o.videoID||(o.videos=e,o.videoCounter=0,o.videoLength=e.length,jQuery(o).data("property",e[0]),jQuery(o).mb_YTPlayer()),"function"==typeof t&&jQuery(o).on("YTPChanged",function(){t(o)}),jQuery(o).on("YTPEnd",function(){jQuery(o).playNext()}),a},playNext:function(){var e=this.get(0);return e.videoCounter++,e.videoCounter>=e.videoLength&&(e.videoCounter=0),jQuery(e).changeMovie(e.videos[e.videoCounter]),this},playPrev:function(){var e=this.get(0);return e.videoCounter--,e.videoCounter<0&&(e.videoCounter=e.videoLength-1),jQuery(e).changeMovie(e.videos[e.videoCounter]),this},changeMovie:function(e){var r=this.get(0);r.opt.startAt=0,r.opt.stopAt=0,r.opt.mute=!0,r.hasData=!1,r.hasChanged=!0,e&&jQuery.extend(r.opt,r.defaultOpt,e),r.videoID=getYTPVideoID(r.opt.videoURL).videoID,jQuery(r.playerEl).CSSAnimate({opacity:0},200,function(){return jQuery(r).YTPGetPlayer().cueVideoByUrl(encodeURI(jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/v/"+r.videoID),1,r.opt.quality),jQuery.mbYTPlayer.checkForState(r),jQuery(r).optimizeDisplay(),jQuery.mbYTPlayer.getDataFromAPI(r),this})},getPlayer:function(){return jQuery(this).get(0).player},playerDestroy:function(){var e=this.get(0);ytp.YTAPIReady=!1,ytp.backgroundIsInited=!1,e.isInit=!1,e.videoID=null;var r=e.wrapper;return r.remove(),jQuery("#controlBar_"+e.id).remove(),clearInterval(e.checkForStartAt),clearInterval(e.getState),this},fullscreen:function(real){function hideMouse(){YTPlayer.overlay.css({cursor:"none"})}function RunPrefixMethod(e,r){for(var t,a,o=["webkit","moz","ms","o",""],i=0;i<o.length&&!e[t];){if(t=r,""==o[i]&&(t=t.substr(0,1).toLowerCase()+t.substr(1)),t=o[i]+t,a=typeof e[t],"undefined"!=a)return o=[o[i]],"function"==a?e[t]():e[t];i++}}function launchFullscreen(e){RunPrefixMethod(e,"RequestFullScreen")}function cancelFullscreen(){(RunPrefixMethod(document,"FullScreen")||RunPrefixMethod(document,"IsFullScreen"))&&RunPrefixMethod(document,"CancelFullScreen")}var YTPlayer=this.get(0);"undefined"==typeof real&&(real=YTPlayer.opt.realfullscreen),real=eval(real);var controls=jQuery("#controlBar_"+YTPlayer.id),fullScreenBtn=controls.find(".mb_OnlyYT"),videoWrapper=YTPlayer.isSelf?YTPlayer.opt.containment:YTPlayer.wrapper;if(real){var fullscreenchange=jQuery.browser.mozilla?"mozfullscreenchange":jQuery.browser.webkit?"webkitfullscreenchange":"fullscreenchange";jQuery(document).off(fullscreenchange).on(fullscreenchange,function(){var e=RunPrefixMethod(document,"IsFullScreen")||RunPrefixMethod(document,"FullScreen");e?(jQuery(YTPlayer).YTPSetVideoQuality("default"),jQuery(YTPlayer).trigger("YTPFullScreenStart")):(YTPlayer.isAlone=!1,fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),jQuery(YTPlayer).YTPSetVideoQuality(YTPlayer.opt.quality),videoWrapper.removeClass("fullscreen"),videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0}),YTPlayer.isBackground?jQuery("body").after(controls):YTPlayer.wrapper.before(controls),jQuery(window).resize(),jQuery(YTPlayer).trigger("YTPFullScreenEnd"))})}return YTPlayer.isAlone?(jQuery(document).off("mousemove.YTPlayer"),YTPlayer.overlay.css({cursor:"auto"}),real?cancelFullscreen():(videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0})),fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),YTPlayer.isAlone=!1):(jQuery(document).on("mousemove.YTPlayer",function(e){YTPlayer.overlay.css({cursor:"auto"}),clearTimeout(YTPlayer.hideCursor),jQuery(e.target).parents().is(".mb_YTPBar")||(YTPlayer.hideCursor=setTimeout(hideMouse,3e3))}),hideMouse(),real?(videoWrapper.css({opacity:0}),videoWrapper.addClass("fullscreen"),launchFullscreen(videoWrapper.get(0)),setTimeout(function(){videoWrapper.CSSAnimate({opacity:1},1e3),YTPlayer.wrapper.append(controls),jQuery(YTPlayer).optimizeDisplay(),YTPlayer.player.seekTo(YTPlayer.player.getCurrentTime()+.1,!0)},500)):videoWrapper.css({zIndex:1e4}).CSSAnimate({opacity:1},1e3),fullScreenBtn.html(jQuery.mbYTPlayer.controls.showSite),YTPlayer.isAlone=!0),this},toggleLoops:function(){var e=this.get(0),r=e.opt;return 1==r.loop?r.loop=0:(r.startAt?e.player.seekTo(r.startAt):e.player.playVideo(),r.loop=1),this},play:function(){var e=this.get(0);if(e.isReady){var r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPPlaypause");return t.html(jQuery.mbYTPlayer.controls.pause),e.player.playVideo(),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},2e3),jQuery(e.playerEl).CSSAnimate({opacity:1},1e3),jQuery(e).css("background-image","none"),this}},togglePlay:function(e){var r=this.get(0);return 1==r.state?this.YTPPause():this.YTPPlay(),"function"==typeof e&&e(r.state),this},stop:function(){var e=this.get(0),r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPPlaypause");return t.html(jQuery.mbYTPlayer.controls.play),e.player.stopVideo(),this},pause:function(){var e=this.get(0),r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPPlaypause");return t.html(jQuery.mbYTPlayer.controls.play),e.player.pauseVideo(),this},seekTo:function(e){var r=this.get(0);return r.player.seekTo(e,!0),this},setVolume:function(e){var r=this.get(0);return e||r.opt.vol||0!=r.player.getVolume()?!e&&r.player.getVolume()>0||e&&r.opt.vol==e?r.isMute?jQuery(r).YTPUnmute():jQuery(r).YTPMute():(r.opt.vol=e,r.player.setVolume(r.opt.vol),r.volumeBar&&r.volumeBar.length&&r.volumeBar.updateSliderVal(e)):jQuery(r).YTPUnmute(),this},mute:function(){var e=this.get(0);if(!e.isMute){e.player.mute(),e.isMute=!0,e.player.setVolume(0),e.volumeBar&&e.volumeBar.length&&e.volumeBar.width()>10&&e.volumeBar.updateSliderVal(0);var r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPMuteUnmute");t.html(jQuery.mbYTPlayer.controls.unmute),jQuery(e).addClass("isMuted"),e.volumeBar&&e.volumeBar.length&&e.volumeBar.addClass("muted");var a=jQuery.Event("YTPMuted");return a.time=e.player.time,e.canTrigger&&jQuery(e).trigger(a),this}},unmute:function(){var e=this.get(0);if(e.isMute){e.player.unMute(),e.isMute=!1,e.player.setVolume(e.opt.vol),e.volumeBar&&e.volumeBar.length&&e.volumeBar.updateSliderVal(e.opt.vol>10?e.opt.vol:10);var r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPMuteUnmute");t.html(jQuery.mbYTPlayer.controls.mute),jQuery(e).removeClass("isMuted"),e.volumeBar&&e.volumeBar.length&&e.volumeBar.removeClass("muted");var a=jQuery.Event("YTPUnmuted");return a.time=e.player.time,e.canTrigger&&jQuery(e).trigger(a),this}},applyFilter:function(e,r){var t=this.get(0);return t.filters[e].value=r,t.filtersEnabled&&this.YTPEnableFilters(),this},applyFilters:function(e){var r=this.get(0);return this.on("YTPReady",function(){for(var t in e)r.filters[t].value=e[t],jQuery(r).YTPApplyFilter(t,e[t]);jQuery(r).trigger("YTPFiltersApplied")}),this},toggleFilter:function(e,r){return this.each(function(){var t=this;t.filters[e].value?t.filters[e].value=0:t.filters[e].value=r,t.filtersEnabled&&jQuery(this).YTPEnableFilters()})},toggleFilters:function(e){return this.each(function(){var r=this;r.filtersEnabled?(jQuery(r).trigger("YTPDisableFilters"),jQuery(r).YTPDisableFilters()):(jQuery(r).YTPEnableFilters(),jQuery(r).trigger("YTPEnableFilters")),"function"==typeof e&&e(r.filtersEnabled)})},disableFilters:function(){return this.each(function(){var e=this,r=jQuery(e.playerEl);r.css("-webkit-filter",""),r.css("filter",""),e.filtersEnabled=!1})},enableFilters:function(){return this.each(function(){var e=this,r=jQuery(e.playerEl),t="";for(var a in e.filters)e.filters[a].value&&(t+=a.replace("_","-")+"("+e.filters[a].value+e.filters[a].unit+") ");r.css("-webkit-filter",t),r.css("filter",t),e.filtersEnabled=!0})},removeFilter:function(e,r){return this.each(function(){"function"==typeof e&&(r=e,e=null);var t=this;if(e)jQuery(this).YTPApplyFilter(e,0),"function"==typeof r&&r(e);else for(var a in t.filters)jQuery(this).YTPApplyFilter(a,0),"function"==typeof r&&r(a)})},manageProgress:function(){var e=this.get(0),r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPProgress"),a=r.find(".mb_YTPLoaded"),o=r.find(".mb_YTPseekbar"),i=t.outerWidth(),l=Math.floor(e.player.getCurrentTime()),n=Math.floor(e.player.getDuration()),u=l*i/n,s=0,y=100*e.player.getVideoLoadedFraction();return a.css({left:s,width:y+"%"}),o.css({left:0,width:u}),{totalTime:n,currentTime:l}},buildControls:function(YTPlayer){var data=YTPlayer.opt;if(data.showYTLogo=data.showYTLogo||data.printUrl,!jQuery("#controlBar_"+YTPlayer.id).length){YTPlayer.controlBar=jQuery("<span/>").attr("id","controlBar_"+YTPlayer.id).addClass("mb_YTPBar").css({whiteSpace:"noWrap",position:YTPlayer.isBackground?"fixed":"absolute",zIndex:YTPlayer.isBackground?1e4:1e3}).hide();var buttonBar=jQuery("<div/>").addClass("buttonBar"),playpause=jQuery("<span>"+jQuery.mbYTPlayer.controls.play+"</span>").addClass("mb_YTPPlaypause ytpicon").click(function(){1==YTPlayer.player.getPlayerState()?jQuery(YTPlayer).YTPPause():jQuery(YTPlayer).YTPPlay()}),MuteUnmute=jQuery("<span>"+jQuery.mbYTPlayer.controls.mute+"</span>").addClass("mb_YTPMuteUnmute ytpicon").click(function(){0==YTPlayer.player.getVolume()?jQuery(YTPlayer).YTPUnmute():jQuery(YTPlayer).YTPMute()}),volumeBar=jQuery("<div/>").addClass("mb_YTPVolumeBar").css({display:"inline-block"});YTPlayer.volumeBar=volumeBar;var idx=jQuery("<span/>").addClass("mb_YTPTime"),vURL=data.videoURL?data.videoURL:"";vURL.indexOf("http")<0&&(vURL=jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/watch?v="+data.videoURL);var movieUrl=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.ytLogo).addClass("mb_YTPUrl ytpicon").attr("title","view on YouTube").on("click",function(){window.open(vURL,"viewOnYT")}),onlyVideo=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.onlyYT).addClass("mb_OnlyYT ytpicon").on("click",function(){jQuery(YTPlayer).YTPFullscreen(data.realfullscreen)}),progressBar=jQuery("<div/>").addClass("mb_YTPProgress").css("position","absolute").click(function(e){timeBar.css({width:e.clientX-timeBar.offset().left}),YTPlayer.timeW=e.clientX-timeBar.offset().left,YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0});var r=Math.floor(YTPlayer.player.getDuration());YTPlayer["goto"]=timeBar.outerWidth()*r/progressBar.outerWidth(),YTPlayer.player.seekTo(parseFloat(YTPlayer["goto"]),!0),YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0})}),loadedBar=jQuery("<div/>").addClass("mb_YTPLoaded").css("position","absolute"),timeBar=jQuery("<div/>").addClass("mb_YTPseekbar").css("position","absolute");progressBar.append(loadedBar).append(timeBar),buttonBar.append(playpause).append(MuteUnmute).append(volumeBar).append(idx),data.showYTLogo&&buttonBar.append(movieUrl),(YTPlayer.isBackground||eval(YTPlayer.opt.realfullscreen)&&!YTPlayer.isBackground)&&buttonBar.append(onlyVideo),YTPlayer.controlBar.append(buttonBar).append(progressBar),YTPlayer.isBackground?jQuery("body").after(YTPlayer.controlBar):(YTPlayer.controlBar.addClass("inlinePlayer"),YTPlayer.wrapper.before(YTPlayer.controlBar)),volumeBar.simpleSlider({initialval:YTPlayer.opt.vol,scale:100,orientation:"h",callback:function(e){0==e.value?jQuery(YTPlayer).YTPMute():jQuery(YTPlayer).YTPUnmute(),YTPlayer.player.setVolume(e.value),YTPlayer.isMute||(YTPlayer.opt.vol=e.value)}})}},checkForState:function(YTPlayer){var interval=YTPlayer.opt.showControls?100:700;return clearInterval(YTPlayer.getState),jQuery.contains(document,YTPlayer)?(jQuery.mbYTPlayer.checkForStart(YTPlayer),void(YTPlayer.getState=setInterval(function(){var prog=jQuery(YTPlayer).YTPManageProgress(),$YTPlayer=jQuery(YTPlayer),data=YTPlayer.opt,startAt=YTPlayer.opt.startAt?YTPlayer.opt.startAt:0,stopAt=YTPlayer.opt.stopAt>YTPlayer.opt.startAt?YTPlayer.opt.stopAt:0;if(stopAt=stopAt<YTPlayer.player.getDuration()?stopAt:0,YTPlayer.player.time!=prog.currentTime){var YTPEvent=jQuery.Event("YTPTime");YTPEvent.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(YTPEvent)}if(YTPlayer.player.time=prog.currentTime,0==YTPlayer.player.getVolume()?$YTPlayer.addClass("isMuted"):$YTPlayer.removeClass("isMuted"),YTPlayer.opt.showControls&&(prog.totalTime?YTPlayer.controlBar.find(".mb_YTPTime").html(jQuery.mbYTPlayer.formatTime(prog.currentTime)+" / "+jQuery.mbYTPlayer.formatTime(prog.totalTime)):YTPlayer.controlBar.find(".mb_YTPTime").html("-- : -- / -- : --")),eval(YTPlayer.opt.stopMovieOnBlur)&&(document.hasFocus()?document.hasFocus()&&!YTPlayer.hasFocus&&-1!=YTPlayer.state&&0!=YTPlayer.state&&(YTPlayer.hasFocus=!0,$YTPlayer.YTPPlay()):1==YTPlayer.state&&(YTPlayer.hasFocus=!1,$YTPlayer.YTPPause())),YTPlayer.controlBar&&YTPlayer.controlBar.outerWidth()<=400&&!YTPlayer.isCompact?(YTPlayer.controlBar.addClass("compact"),YTPlayer.isCompact=!0,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)):YTPlayer.controlBar&&YTPlayer.controlBar.outerWidth()>400&&YTPlayer.isCompact&&(YTPlayer.controlBar.removeClass("compact"),YTPlayer.isCompact=!1,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)),1==YTPlayer.player.getPlayerState()&&(parseFloat(YTPlayer.player.getDuration()-1.5)<YTPlayer.player.getCurrentTime()||stopAt>0&&parseFloat(YTPlayer.player.getCurrentTime())>stopAt)){if(YTPlayer.isEnded)return;if(YTPlayer.isEnded=!0,setTimeout(function(){YTPlayer.isEnded=!1},1e3),YTPlayer.isPlayList){clearInterval(YTPlayer.getState);var YTPEnd=jQuery.Event("YTPEnd");return YTPEnd.time=YTPlayer.player.time,void jQuery(YTPlayer).trigger(YTPEnd)}data.loop?(startAt=startAt||1,YTPlayer.player.pauseVideo(),YTPlayer.player.seekTo(startAt,!0),$YTPlayer.YTPPlay()):(YTPlayer.player.pauseVideo(),YTPlayer.wrapper.CSSAnimate({opacity:0},1e3,function(){var e=jQuery.Event("YTPEnd");e.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(e),YTPlayer.player.seekTo(startAt,!0),YTPlayer.isBackground||YTPlayer.opt.containment.css({background:"rgba(0,0,0,0.5) url("+YTPlayer.opt.backgroundUrl+") center center",backgroundSize:"cover"})}))}},interval))):(jQuery(YTPlayer).YTPPlayerDestroy(),clearInterval(YTPlayer.getState),void clearInterval(YTPlayer.checkForStartAt))},checkForStart:function(e){var r=jQuery(e);if(!jQuery.contains(document,e))return void jQuery(e).YTPPlayerDestroy();if(jQuery.browser.chrome&&(e.opt.quality="default"),e.player.pauseVideo(),jQuery(e).muteYTPVolume(),jQuery("#controlBar_"+e.id).remove(),e.opt.showControls&&jQuery.mbYTPlayer.buildControls(e),e.opt.addRaster){var t="dot"==e.opt.addRaster?"raster-dot":"raster";e.overlay.addClass(e.isRetina?t+" retina":t)}else e.overlay.removeClass(function(e,r){var t=r.split(" "),a=[];return jQuery.each(t,function(e,r){/raster.*/.test(r)&&a.push(r)}),a.push("retina"),a.join(" ")});e.checkForStartAt=setInterval(function(){jQuery(e).YTPMute();var t=e.opt.startAt?e.opt.startAt:1,a=e.player.getVideoLoadedFraction()>t/e.player.getDuration();if(e.player.getDuration()>0&&e.player.getCurrentTime()>=t&&a){clearInterval(e.checkForStartAt),e.isReady=!0,"function"==typeof e.opt.onReady&&e.opt.onReady(e);var o=jQuery.Event("YTPReady");jQuery(e).trigger(o),e.player.pauseVideo(),e.opt.mute||jQuery(e).YTPUnmute(),e.canTrigger=!0,e.opt.autoPlay?(r.YTPPlay(),r.css("background-image","none"),jQuery(e.playerEl).CSSAnimate({opacity:1},1e3),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},1e3)):(e.player.pauseVideo(),e.isPlayer||(jQuery(e.playerEl).CSSAnimate({opacity:1},1e3),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},1e3))),e.isPlayer&&!e.opt.autoPlay&&(e.loading.html("Ready"),setTimeout(function(){e.loading.fadeOut()},100)),e.controlBar&&e.controlBar.slideDown(1e3)}else t>=0&&e.player.seekTo(t,!0)},1e3)},formatTime:function(e){var r=Math.floor(e/60),t=Math.floor(e-60*r);return(9>=r?"0"+r:r)+" : "+(9>=t?"0"+t:t)}},jQuery.fn.toggleVolume=function(){var e=this.get(0);if(e)return e.player.isMuted()?(jQuery(e).YTPUnmute(),!0):(jQuery(e).YTPMute(),!1)},jQuery.fn.optimizeDisplay=function(){var e=this.get(0),r=e.opt,t=jQuery(e.playerEl),a={},o=e.wrapper;a.width=o.outerWidth(),a.height=o.outerHeight();var i=24,l=100,n={};r.optimizeDisplay?(n.width=a.width+a.width*i/100,n.height="16/9"==r.ratio?Math.ceil(9*a.width/16):Math.ceil(3*a.width/4),n.marginTop=-((n.height-a.height)/2),n.marginLeft=-(a.width*(i/2)/100),n.height<a.height&&(n.height=a.height+a.height*i/100,n.width="16/9"==r.ratio?Math.floor(16*a.height/9):Math.floor(4*a.height/3),n.marginTop=-(a.height*(i/2)/100),n.marginLeft=-((n.width-a.width)/2)),n.width+=l,n.height+=l,n.marginTop-=l/2,n.marginLeft-=l/2):(n.width="100%",n.height="100%",n.marginTop=0,n.marginLeft=0),t.css({width:n.width,height:n.height,marginTop:n.marginTop,marginLeft:n.marginLeft})},jQuery.shuffle=function(e){for(var r=e.slice(),t=r.length,a=t;a--;){var o=parseInt(Math.random()*t),i=r[a];r[a]=r[o],r[o]=i}return r},jQuery.fn.YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.YTPGetPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.YTPGetVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.YTPChangeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.YTPPlayerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.YTPPlay=jQuery.mbYTPlayer.play,jQuery.fn.YTPTogglePlay=jQuery.mbYTPlayer.togglePlay,jQuery.fn.YTPStop=jQuery.mbYTPlayer.stop,jQuery.fn.YTPPause=jQuery.mbYTPlayer.pause,jQuery.fn.YTPSeekTo=jQuery.mbYTPlayer.seekTo,jQuery.fn.YTPlaylist=jQuery.mbYTPlayer.playlist,jQuery.fn.YTPPlayNext=jQuery.mbYTPlayer.playNext,jQuery.fn.YTPPlayPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.YTPMute=jQuery.mbYTPlayer.mute,jQuery.fn.YTPUnmute=jQuery.mbYTPlayer.unmute,jQuery.fn.YTPToggleVolume=jQuery.mbYTPlayer.toggleVolume,jQuery.fn.YTPSetVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.YTPGetVideoData=jQuery.mbYTPlayer.getVideoData,jQuery.fn.YTPFullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.YTPToggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.YTPSetVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.YTPManageProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPApplyFilter=jQuery.mbYTPlayer.applyFilter,jQuery.fn.YTPApplyFilters=jQuery.mbYTPlayer.applyFilters,jQuery.fn.YTPToggleFilter=jQuery.mbYTPlayer.toggleFilter,jQuery.fn.YTPToggleFilters=jQuery.mbYTPlayer.toggleFilters,jQuery.fn.YTPRemoveFilter=jQuery.mbYTPlayer.removeFilter,jQuery.fn.YTPDisableFilters=jQuery.mbYTPlayer.disableFilters,jQuery.fn.YTPEnableFilters=jQuery.mbYTPlayer.enableFilters,jQuery.fn.mb_YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.playNext=jQuery.mbYTPlayer.playNext,jQuery.fn.playPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.changeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.getVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.getPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.playerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.fullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.buildYTPControls=jQuery.mbYTPlayer.buildControls,jQuery.fn.playYTP=jQuery.mbYTPlayer.play,jQuery.fn.toggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.stopYTP=jQuery.mbYTPlayer.stop,jQuery.fn.pauseYTP=jQuery.mbYTPlayer.pause,jQuery.fn.seekToYTP=jQuery.mbYTPlayer.seekTo,jQuery.fn.muteYTPVolume=jQuery.mbYTPlayer.mute,jQuery.fn.unmuteYTPVolume=jQuery.mbYTPlayer.unmute,jQuery.fn.setYTPVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.setVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.manageYTPProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPGetDataFromFeed=jQuery.mbYTPlayer.getVideoData}(jQuery,ytp),jQuery.support.CSStransition=function(){var e=document.body||document.documentElement,r=e.style;return void 0!==r.transition||void 0!==r.WebkitTransition||void 0!==r.MozTransition||void 0!==r.MsTransition||void 0!==r.OTransition}(),jQuery.CSS={name:"mb.CSSAnimate",author:"Matteo Bicocchi",version:"2.0.0",transitionEnd:"transitionEnd",sfx:"",filters:{blur:{min:0,max:100,unit:"px"},brightness:{min:0,max:400,unit:"%"},contrast:{min:0,max:400,unit:"%"},grayscale:{min:0,max:100,unit:"%"},hueRotate:{min:0,max:360,unit:"deg"},invert:{min:0,max:100,unit:"%"},saturate:{min:0,max:400,unit:"%"},sepia:{min:0,max:100,unit:"%"}},normalizeCss:function(e){var r=jQuery.extend(!0,{},e);jQuery.browser.webkit||jQuery.browser.opera?jQuery.CSS.sfx="-webkit-":jQuery.browser.mozilla?jQuery.CSS.sfx="-moz-":jQuery.browser.msie&&(jQuery.CSS.sfx="-ms-");for(var t in r){"transform"===t&&(r[jQuery.CSS.sfx+"transform"]=r[t],delete r[t]),"transform-origin"===t&&(r[jQuery.CSS.sfx+"transform-origin"]=e[t],delete r[t]),"filter"!==t||jQuery.browser.mozilla||(r[jQuery.CSS.sfx+"filter"]=e[t],delete r[t]),"blur"===t&&setFilter(r,"blur",e[t]),"brightness"===t&&setFilter(r,"brightness",e[t]),"contrast"===t&&setFilter(r,"contrast",e[t]),"grayscale"===t&&setFilter(r,"grayscale",e[t]),"hueRotate"===t&&setFilter(r,"hueRotate",e[t]),
"invert"===t&&setFilter(r,"invert",e[t]),"saturate"===t&&setFilter(r,"saturate",e[t]),"sepia"===t&&setFilter(r,"sepia",e[t]);var a="";"x"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" translateX("+setUnit(e[t],"px")+")",delete r[t]),"y"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" translateY("+setUnit(e[t],"px")+")",delete r[t]),"z"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" translateZ("+setUnit(e[t],"px")+")",delete r[t]),"rotate"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" rotate("+setUnit(e[t],"deg")+")",delete r[t]),"rotateX"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" rotateX("+setUnit(e[t],"deg")+")",delete r[t]),"rotateY"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" rotateY("+setUnit(e[t],"deg")+")",delete r[t]),"rotateZ"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" rotateZ("+setUnit(e[t],"deg")+")",delete r[t]),"scale"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" scale("+setUnit(e[t],"")+")",delete r[t]),"scaleX"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" scaleX("+setUnit(e[t],"")+")",delete r[t]),"scaleY"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" scaleY("+setUnit(e[t],"")+")",delete r[t]),"scaleZ"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" scaleZ("+setUnit(e[t],"")+")",delete r[t]),"skew"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" skew("+setUnit(e[t],"deg")+")",delete r[t]),"skewX"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" skewX("+setUnit(e[t],"deg")+")",delete r[t]),"skewY"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" skewY("+setUnit(e[t],"deg")+")",delete r[t]),"perspective"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" perspective("+setUnit(e[t],"px")+")",delete r[t])}return r},getProp:function(e){var r=[];for(var t in e)r.indexOf(t)<0&&r.push(uncamel(t));return r.join(",")},animate:function(e,r,t,a,o){return this.each(function(){function i(){l.called=!0,l.CSSAIsRunning=!1,n.off(jQuery.CSS.transitionEnd+"."+l.id),clearTimeout(l.timeout),n.css(jQuery.CSS.sfx+"transition",""),"function"==typeof o&&o.apply(l),"function"==typeof l.CSSqueue&&(l.CSSqueue(),l.CSSqueue=null)}var l=this,n=jQuery(this);l.id=l.id||"CSSA_"+(new Date).getTime();var u=u||{type:"noEvent"};if(l.CSSAIsRunning&&l.eventType==u.type&&!jQuery.browser.msie&&jQuery.browser.version<=9)return void(l.CSSqueue=function(){n.CSSAnimate(e,r,t,a,o)});if(l.CSSqueue=null,l.eventType=u.type,0!==n.length&&e){if(e=jQuery.normalizeCss(e),l.CSSAIsRunning=!0,"function"==typeof r&&(o=r,r=jQuery.fx.speeds._default),"function"==typeof t&&(a=t,t=0),"string"==typeof t&&(o=t,t=0),"function"==typeof a&&(o=a,a="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof r)for(var s in jQuery.fx.speeds){if(r==s){r=jQuery.fx.speeds[s];break}r=jQuery.fx.speeds._default}if(r||(r=jQuery.fx.speeds._default),"string"==typeof o&&(a=o,o=null),!jQuery.support.CSStransition){for(var y in e){if("transform"===y&&delete e[y],"filter"===y&&delete e[y],"transform-origin"===y&&delete e[y],"auto"===e[y]&&delete e[y],"x"===y){var p=e[y],d="left";e[d]=p,delete e[y]}if("y"===y){var p=e[y],d="top";e[d]=p,delete e[y]}("-ms-transform"===y||"-ms-filter"===y)&&delete e[y]}return void n.delay(t).animate(e,r,o)}var c={"default":"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};c[a]&&(a=c[a]),n.off(jQuery.CSS.transitionEnd+"."+l.id);var f=jQuery.CSS.getProp(e),P={};jQuery.extend(P,e),P[jQuery.CSS.sfx+"transition-property"]=f,P[jQuery.CSS.sfx+"transition-duration"]=r+"ms",P[jQuery.CSS.sfx+"transition-delay"]=t+"ms",P[jQuery.CSS.sfx+"transition-timing-function"]=a,setTimeout(function(){n.one(jQuery.CSS.transitionEnd+"."+l.id,i),n.css(P)},1),l.timeout=setTimeout(function(){return l.called||!o?(l.called=!1,void(l.CSSAIsRunning=!1)):(n.css(jQuery.CSS.sfx+"transition",""),o.apply(l),l.CSSAIsRunning=!1,void("function"==typeof l.CSSqueue&&(l.CSSqueue(),l.CSSqueue=null)))},r+t+10)}})}},jQuery.fn.CSSAnimate=jQuery.CSS.animate,jQuery.normalizeCss=jQuery.CSS.normalizeCss,jQuery.fn.css3=function(e){return this.each(function(){var r=jQuery(this),t=jQuery.normalizeCss(e);r.css(t)})};var nAgt=navigator.userAgent;if(!jQuery.browser){jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.msie=!1,jQuery.browser.ua=nAgt,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var nameOffset,verOffset,ix;if(-1!=(verOffset=nAgt.indexOf("Opera")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8));else if(-1!=(verOffset=nAgt.indexOf("OPR")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+4);else if(-1!=(verOffset=nAgt.indexOf("MSIE")))jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5);else if(-1!=nAgt.indexOf("Trident")){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3,end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}else-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion}jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.isMobile=jQuery.browser.mobile,jQuery.isTablet=jQuery.browser.mobile&&jQuery(window).width()>765,jQuery.isAndroidDefault=jQuery.browser.android&&!/chrome/i.test(nAgt),!function(e){/iphone|ipod|ipad|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase());var r="ontouchstart"in window||window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture||window.DocumentTouch&&document instanceof DocumentTouch||!1;e.simpleSlider={defaults:{initialval:0,scale:100,orientation:"h",readonly:!1,callback:!1},events:{start:r?"touchstart":"mousedown",end:r?"touchend":"mouseup",move:r?"touchmove":"mousemove"},init:function(t){return this.each(function(){var a=this,o=e(a);o.addClass("simpleSlider"),a.opt={},e.extend(a.opt,e.simpleSlider.defaults,t),e.extend(a.opt,o.data());var i="h"==a.opt.orientation?"horizontal":"vertical",l=e("<div/>").addClass("level").addClass(i);o.prepend(l),a.level=l,o.css({cursor:"default"}),"auto"==a.opt.scale&&(a.opt.scale=e(a).outerWidth()),o.updateSliderVal(),a.opt.readonly||(o.on(e.simpleSlider.events.start,function(e){r&&(e=e.changedTouches[0]),a.canSlide=!0,o.updateSliderVal(e),o.css({cursor:"col-resize"}),e.preventDefault(),e.stopPropagation()}),e(document).on(e.simpleSlider.events.move,function(t){r&&(t=t.changedTouches[0]),a.canSlide&&(e(document).css({cursor:"default"}),o.updateSliderVal(t),t.preventDefault(),t.stopPropagation())}).on(e.simpleSlider.events.end,function(){e(document).css({cursor:"auto"}),a.canSlide=!1,o.css({cursor:"auto"})}))})},updateSliderVal:function(r){function t(e,r){return Math.floor(100*e/r)}var a=this,o=a.get(0);o.opt.initialval="number"==typeof o.opt.initialval?o.opt.initialval:o.opt.initialval(o);var i=e(o).outerWidth(),l=e(o).outerHeight();o.x="object"==typeof r?r.clientX+document.body.scrollLeft-a.offset().left:"number"==typeof r?r*i/o.opt.scale:o.opt.initialval*i/o.opt.scale,o.y="object"==typeof r?r.clientY+document.body.scrollTop-a.offset().top:"number"==typeof r?(o.opt.scale-o.opt.initialval-r)*l/o.opt.scale:o.opt.initialval*l/o.opt.scale,o.y=a.outerHeight()-o.y,o.scaleX=o.x*o.opt.scale/i,o.scaleY=o.y*o.opt.scale/l,o.outOfRangeX=o.scaleX>o.opt.scale?o.scaleX-o.opt.scale:o.scaleX<0?o.scaleX:0,o.outOfRangeY=o.scaleY>o.opt.scale?o.scaleY-o.opt.scale:o.scaleY<0?o.scaleY:0,o.outOfRange="h"==o.opt.orientation?o.outOfRangeX:o.outOfRangeY,o.value="undefined"!=typeof r?"h"==o.opt.orientation?o.x>=a.outerWidth()?o.opt.scale:o.x<=0?0:o.scaleX:o.y>=a.outerHeight()?o.opt.scale:o.y<=0?0:o.scaleY:"h"==o.opt.orientation?o.scaleX:o.scaleY,"h"==o.opt.orientation?o.level.width(t(o.x,i)+"%"):o.level.height(t(o.y,l)),"function"==typeof o.opt.callback&&o.opt.callback(o)}},e.fn.simpleSlider=e.simpleSlider.init,e.fn.updateSliderVal=e.simpleSlider.updateSliderVal}(jQuery),!function(e){e.mbCookie={set:function(e,r,t,a){r=JSON.stringify(r),t||(t=7),a=a?"; domain="+a:"";var o,i=new Date;i.setTime(i.getTime()+864e5*t),o="; expires="+i.toGMTString(),document.cookie=e+"="+r+o+"; path=/"+a},get:function(e){for(var r=e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var o=t[a];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(r))return JSON.parse(o.substring(r.length,o.length))}return null},remove:function(r){e.mbCookie.set(r,"",-1)}},e.mbStorage={set:function(e,r){r=JSON.stringify(r),localStorage.setItem(e,r)},get:function(e){return localStorage[e]?JSON.parse(localStorage[e]):null},remove:function(e){e?localStorage.removeItem(e):localStorage.clear()}}}(jQuery);


},{}],8:[function(require,module,exports){
var imagesLoaded=require("imagesloaded");!function(t){var i=function(t,i){this.$ele=t,this.settings=i,this.formater=new e(this.$ele,this.settings),this.fitter=new a(this.$ele,this.settings),this.imageLoaded=imagesLoaded(this.$ele),this.addEventHandlers(),this.hideImages()};i.prototype.addEventHandlers=function(){var i=this;this.imageLoaded.on("done",function(){i.formater.setImageFormat(),i.fitter.setImageFit(),i.showImages(),i.$ele.trigger("ut_imageLoaded")});var e;t(window).resize(function(){e&&clearTimeout(e),e=setTimeout(function(){i.formater.setImageFormat(),i.fitter.setImageFit()},100)})},i.prototype.hideImages=function(){this.$ele.css({opacity:0,overflow:"hidden"})},i.prototype.showImages=function(){this.$ele.fadeTo(900,1)};var e=function(t,i){this.$wrapper=t,this.settings=i,this.ratio=this.getRatio()};e.prototype.setImageFormat=function(){var t=this.$wrapper.width()/this.ratio.width,i=t*this.ratio.height;this.$wrapper.height(i)},e.prototype.getRatio=function(){var t=this._getRatioString();return this._getRatioFromString(t)},e.prototype._getRatioString=function(){switch(this.settings.format){case"square":return"1:1";case"landscape":return this.settings.landscapeRatio;case"portrait":return this.settings.portraitRatio;default:return this.settings.ratio}},e.prototype._getRatioFromString=function(t){var i=t.split(":");return{width:i[0],height:i[1]}};var a=function(t,i){this.$wrapper=t,this.$image=this.$wrapper.find("img"),this.settings=i,this.wrapperRatio,this.imageRatio,this.imageNaturalWidth,this.imageNaturalHeight};a.prototype.setImageFit=function(){switch(this._resetImageCSS(),this.settings.fit){case"crop":this._cropImage();break;case"scale":this._scaleImage()}this._alignImage()},a.prototype._cropImage=function(){this._imageRatio()>this._wrapperRatio()?this._fitHorizontal():this._fitVertical()},a.prototype._scaleImage=function(){this._imageRatio()>this._wrapperRatio()?this._fitVertical():this._fitHorizontal()},a.prototype._fitHorizontal=function(){this._getNaturalHeight(this.$image)>=this.$wrapper.height()&&this.$image.height(this.$wrapper.height())},a.prototype._fitVertical=function(){this._getNaturalWidth(this.$image)>=this.$wrapper.width()&&this.$image.width(this.$wrapper.width())},a.prototype._imageRatio=function(){return this.imageRatio=this.imageRatio||this._getNaturalWidth(this.$image)/this._getNaturalHeight(this.$image),this.imageRatio},a.prototype._wrapperRatio=function(){return this.wrapperRatio=this.wrapperRatio||this.$wrapper.width()/this.$wrapper.height(),this.wrapperRatio},a.prototype._alignImage=function(){var t={};switch(t.marginLeft=(this.$wrapper.width()-this.$image.width())/2,this.settings.align){case"top":break;case"middle":t.marginTop=(this.$wrapper.height()-this.$image.height())/2;break;case"bottom":t.marginTop=this.$wrapper.height()-this.$image.height()}this.$image.css(t)},a.prototype._getNaturalHeight=function(t){return this.imageNaturalHeight||(t.prop("naturalHeight")?this.imageNaturalHeight=t.prop("naturalHeight"):this.imageNaturalHeight=this._getNaturalSize(t).height),this.imageNaturalHeight},a.prototype._getNaturalWidth=function(t){return this.imageNaturalWidth||(t.prop("naturalWidth")?this.imageNaturalWidth=t.prop("naturalWidth"):this.imageNaturalWidth=this._getNaturalSize(t).width),this.imageNaturalWidth},a.prototype._getNaturalSize=function(t){if(t.prop("src")){var i=new Image;return i.src=t.prop("src"),{width:i.width,height:i.height}}return!1},a.prototype._resetImageCSS=function(){this.$image.css({maxWidth:"none",width:"auto",height:"auto"})};var r=0,h=function(i){r++,r===i.length&&t(i).last().trigger("ut_complete")};t.fn.uniform_thumbnails=function(e){var a=t.extend({},t.fn.uniform_thumbnails.defaults,e),r=this;return r.each(function(){var e=t(this);e.data("_uniform_thumbnails",new i(e,a)),e.on("ut_imageLoaded",function(){h(r)})})},t.fn.uniform_thumbnails.defaults={fit:"crop",ratio:"1:1",format:"ratio",align:"middle",landscapeRatio:"4:3",portraitRatio:"3:4"}}(jQuery);


},{"imagesloaded":3}],9:[function(require,module,exports){
module.exports.getComputedStyle=function(){window.getComputedStyle||(window.getComputedStyle=function(t,e){return this.el=t,this.getPropertyValue=function(e){var r=/(\-([a-z]){1})/g;return"float"==e&&(e="styleFloat"),r.test(e)&&(e=e.replace(r,function(){return arguments[2].toUpperCase()})),t.currentStyle[e]?t.currentStyle[e]:null},this})},module.exports.objectKeys=function(){Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=r.length;return function(n){if("object"!=typeof n&&("function"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var u,l,c=[];for(u in n)t.call(n,u)&&c.push(u);if(e)for(l=0;o>l;l++)t.call(n,r[l])&&c.push(r[l]);return c}}())};


},{}],10:[function(require,module,exports){
Banner={};var $banner=$("[data-banner]");Banner.init=function(){$banner.length>0&&Banner.add_event_handlers()},Banner.add_event_handlers=function(){$banner.on("slide.bs.carousel",function(n){var a=$(n.relatedTarget);$banner.attr("data-banner",a.data("slide"))}),$banner.on("slid.bs.carousel",function(){})},module.exports=Banner;


},{}],11:[function(require,module,exports){
BannerVideo={},require("jquery.mb.ytplayer");var $player=$(".banner-video-player");BannerVideo.init=function(){$player.length>0&&!Modernizr.touch?$player.YTPlayer():$player.parent().addClass("fallback-img")},module.exports=BannerVideo;


},{"jquery.mb.ytplayer":7}],12:[function(require,module,exports){
var CartJS=require("./../../bower_components/shopify-cartjs/dist/cart.js"),Cart={},message_count=0,$cart_display_ele=$("[data-cart-display]"),$cart_total_ele=$("[data-cart-total]"),$cart_form_ele=$(Bsify.selectors.cart.form_selector),$cart_message_ele=$(Bsify.selectors.cart.message_selector),$acknowledgement_checkbox=$(Bsify.selectors.cart.acknowledgement_checkbox);if(Bsify.product)var $product_form_ele=$(Bsify.selectors.product.form_selector),$product_form_button=$product_form_ele.find("input[type=submit]"),$product_form_message_ele=$(Bsify.selectors.product.form_message_selector);Cart.init=function(){$(document).on("cart.requestComplete",function(t,e){Cart.update_cart_display(),Cart.update_cart_table()}),Bsify.product&&$(document).on("submit",Bsify.selectors.product.form_selector,function(t){t.preventDefault();var e=$(t.currentTarget);Cart.add_item_to_cart(e)}),$(document).on("click","[data-remove-item]",function(t){t.preventDefault();var e=$(t.currentTarget);Cart.remove_item_from_cart(e)}),$acknowledgement_checkbox.length>0&&$cart_form_ele.length>0&&$cart_form_ele.on("submit",function(t){return $acknowledgement_checkbox.is(":checked")?void 0:($acknowledgement_checkbox.closest(".checkbox").addClass("has-error"),Cart.show_message($cart_message_ele,"alert alert-danger",Bsify.translations.cart.acknowledgement_checkbox_error_message),t.preventDefault(),!1)})},Cart.add_item_to_cart=function(t){var e=Cart.form_values(t.serializeArray()),r=e.properties||{},a=Bsify.get_variant_by_id(e.id),o="Default Title"===a.title?Bsify.product.title:Bsify.product.title+Bsify.translations.product.item_title_seperator+a.title,c=window.location.pathname.split("/"),s="collections"==c[1]?"/"+c[1]+"/"+c[2]+"/":"/collections/all/";$product_form_button.val(Bsify.translations.product.adding_to_cart_button_text),CartJS.addItem(e.id,e.quantity,r,{success:function(t,e,r){var a=Bsify.translations.product.after_product_added_message_html.replace("[item_title]",o).replace("[collection_url]",s);Cart.show_message($product_form_message_ele,"success",a),$product_form_button.val(Bsify.translations.product.added_to_cart_button_text)},error:function(t,e,r){console.log("[ERROR] - Add to cart:",t,e,r);var a=Bsify.translations.product.after_product_added_error_message_html.replace("[item_title]",o).replace("[error_message]",r);Cart.show_message($product_form_message_ele,"error",a),$product_form_button.val(Bsify.translations.product.unavailable_button_text)}})},Cart.remove_item_from_cart=function(t){var e=t.closest(Bsify.selectors.cart.item_selector),r=Cart.get_item_by_id(e.data("cart-item")),a=r.product_title;r.variant_title&&(a+=Bsify.translations.product.item_title_seperator+r.variant_title),CartJS.removeItem(t.data("remove-item"),{success:function(t,r,o){e.hide();var c=Bsify.translations.cart.remove_item_message.replace("[item_title]",a);Cart.show_message($cart_message_ele,"success",c)},error:function(t,e,r){console.log("[ERROR] - Remove item from cart:",t,e,r);var o=Bsify.translations.cart.remove_item_error_message.replace("[item_title]",a).replace("[error_message]",r);Cart.show_message($cart_message_ele,"success",o)}})},Cart.update_cart_display=function(){var t=Shopify.formatMoney(CartJS.cart.total_price,Bsify.money_formats.moneyFormat),e=Shopify.formatMoney(CartJS.cart.total_price,Bsify.money_formats.moneyWithCurrencyFormat),r=Bsify.translations.cart.cart_display_text.replace("[item_count]",CartJS.cart.item_count);r=Cart.replace_price(r,"[cart_total_price]",CartJS.cart.total_price,t),r=Cart.replace_price(r,"[cart_total_price_with_currency]",CartJS.cart.total_price,e),$cart_display_ele.html(r);var a=Bsify.translations.cart.cart_total;a=Cart.replace_price(a,"[cart_total_price]",CartJS.cart.total_price,t),a=Cart.replace_price(a,"[cart_total_price_with_currency]",CartJS.cart.total_price,e),$cart_total_ele.html(a)},Cart.replace_price=function(t,e,r,a){e=e.replace(/([\[\]])/g,"\\$1");var o=new RegExp("data-price=['\"]("+e+")['\"]"),c=new RegExp(">("+e+")<");return t.replace(o,function(t,e){return t.replace(e,r)}).replace(c,function(t,e){return t.replace(e,a)})},Cart.update_cart_table=function(){0===CartJS.cart.item_count&&($cart_form_ele.hide(),$cart_message_ele.removeClass("hidden").html(Bsify.translations.cart.empty_cart_text))},Cart.show_message=function(t,e,r){message_count++,t.removeClass("hidden").html('<div class="note '+e+" message"+message_count+'">'+r+"</div>"),Cart.remove_message(message_count)},Cart.remove_message=function(t){setTimeout(function(){$(".message"+t).fadeOut(function(){$(this).remove()})},Bsify.message_timeout)},Cart.form_values=function(t){for(var e={},r=0;r<t.length;r++){var a=t[r],o=/(.*)\[(.*)\]/gi,c=o.exec(a.name);if(c){var s=c[1],i={};i[c[2]||0]=a.value,e[s]?$.extend(e[s],i):e[s]=i}else e[a.name]=a.value}return e},Cart.get_item_by_id=function(t){"string"==typeof t&&(t=parseInt(t));var e;if(CartJS)for(var r=0;r<CartJS.cart.items.length;r++){var a=CartJS.cart.items[r];a.variant_id===t&&(e=a)}return e},Cart.has_variant=function(t){"string"==typeof t&&(t=parseInt(t));var e=!1;if(CartJS)for(var r=0;r<CartJS.cart.items.length;r++){var a=CartJS.cart.items[r];a.variant_id===t&&(e=!0)}return e},module.exports=Cart;


},{"./../../bower_components/shopify-cartjs/dist/cart.js":2}],13:[function(require,module,exports){
var ImageSwitcher={};ImageSwitcher.preload_product_thumbs=function(){var e=$("[data-gallery-main]");if(e.length>0){var a=$(e.data("gallery-main"))[0],i=Shopify.Image.imageSize(a.src);e.length>0&&e.each(function(){var e=new Image,a=$(this).attr("href"),r=Shopify.Image.getSizedImageUrl(a,i);e.src=r})}},ImageSwitcher.image_swticher=function(){$(document).on("click","[data-gallery-main]",function(e){e.preventDefault();var a=$(e.currentTarget),i=$(a.data("gallery-main"))[0],r=a.attr("href");ImageSwitcher.switch_image(i,r)})},ImageSwitcher.switch_image=function(e,a){if(e&&a){var i=Shopify.Image.imageSize(e.src),r=Shopify.Image.getSizedImageUrl(a,i);e.src!==r&&(e.src=r)}},module.exports=ImageSwitcher;


},{}],14:[function(require,module,exports){
var Bsify=window.Bsify||{};Bsify.get_variant_by_id=function(i){var s;"string"==typeof i&&(i=parseInt(i));for(var r=0;r<Bsify.product.variants.length;r++){var e=Bsify.product.variants[r];e.id===i&&(s=e)}return s},Bsify.Cart=require("./bsify.cart.js"),Bsify.ImageSwitcher=require("./bsify.image_switcher.js"),Bsify.VariantOptionSwitcher=require("./bsify.variant_option_switcher.js"),Bsify.LinkedProductOptions=require("./bsify.linked_product_options.js"),Bsify.Banner=require("./bsify.banner.js"),Bsify.BannerVideo=require("./bsify.banner_video.js"),Bsify.Thumbnails=require("./bsify.thumbnails.js"),Bsify.SocialFeeds=require("./bsify.social_feeds.js"),Bsify.PasswordRecover=require("./bsify.password_recover.js"),Bsify.MegaMenu=require("./bsify.mega_menu.js"),Bsify.ScrollTo=require("./bsify.scroll_to.js"),Bsify.Modal=require("./bsify.modal.js"),module.exports=Bsify;


},{"./bsify.banner.js":10,"./bsify.banner_video.js":11,"./bsify.cart.js":12,"./bsify.image_switcher.js":13,"./bsify.linked_product_options.js":15,"./bsify.mega_menu.js":18,"./bsify.modal.js":19,"./bsify.password_recover.js":20,"./bsify.scroll_to.js":21,"./bsify.social_feeds.js":23,"./bsify.thumbnails.js":24,"./bsify.variant_option_switcher.js":26}],15:[function(require,module,exports){
var LinkedProductOptions={};LinkedProductOptions.optionsMap={},LinkedProductOptions.updateOptionsInSelector=function(o){var t,n;switch(o){case 0:t="root",n=$(".single-option-selector:eq(0)");break;case 1:t=$(".single-option-selector:eq(0)").val(),n=$(".single-option-selector:eq(1)");break;case 2:t=$(".single-option-selector:eq(0)").val(),t+=" / "+$(".single-option-selector:eq(1)").val(),n=$(".single-option-selector:eq(2)")}var i=n.val();n.empty();var e=LinkedProductOptions.optionsMap[t];if(void 0!==e){for(var p=0;p<e.length;p++){var s=e[p],d=$("<option></option>").val(s).html(s);n.append(d)}$('.swatch[data-option-index="'+o+'"] .swatch-element').each(function(){-1!==$.inArray($(this).attr("data-value"),e)?$(this).removeClass("soldout").show().find(":radio").removeAttr("disabled","disabled").removeAttr("checked"):$(this).addClass("soldout").hide().find(":radio").removeAttr("checked").attr("disabled","disabled")}),-1!==$.inArray(i,e)&&n.val(i),n.trigger("change")}},LinkedProductOptions.linkOptionSelectors=function(o){for(var t=0;t<o.variants.length;t++){var n=o.variants[t];if(n.available){var i;LinkedProductOptions.optionsMap.root=LinkedProductOptions.optionsMap.root||[],LinkedProductOptions.optionsMap.root.push(n.option1),LinkedProductOptions.optionsMap.root=Shopify.uniq(LinkedProductOptions.optionsMap.root),o.options.length>1&&(i=n.option1,LinkedProductOptions.optionsMap[i]=LinkedProductOptions.optionsMap[i]||[],LinkedProductOptions.optionsMap[i].push(n.option2),LinkedProductOptions.optionsMap[i]=Shopify.uniq(LinkedProductOptions.optionsMap[i])),3===o.options.length&&(i=n.option1+" / "+n.option2,LinkedProductOptions.optionsMap[i]=LinkedProductOptions.optionsMap[i]||[],LinkedProductOptions.optionsMap[i].push(n.option3),LinkedProductOptions.optionsMap[i]=Shopify.uniq(LinkedProductOptions.optionsMap[i]))}}LinkedProductOptions.updateOptionsInSelector(0),o.options.length>1&&LinkedProductOptions.updateOptionsInSelector(1),3===o.options.length&&LinkedProductOptions.updateOptionsInSelector(2),$(document).on("change",".single-option-selector:eq(0)",function(){return LinkedProductOptions.updateOptionsInSelector(1),3===o.options.length&&LinkedProductOptions.updateOptionsInSelector(2),!0}),$(document).on("change",".single-option-selector:eq(1)",function(){return 3===o.options.length&&LinkedProductOptions.updateOptionsInSelector(2),!0})},module.exports=LinkedProductOptions;


},{}],16:[function(require,module,exports){
var imgl=require("imagesloaded"),mq=require("./bsify.media_queries.js");require("./bsify.touch.js");var GalleryLoader=function(e,t){this.ele=e,this.parent_ele=t,this.onLoaded=function(){}};GalleryLoader.prototype.init=function(){this.$ele=$(this.ele),this.$fallbackImg=this.$ele.find(".fallback-image"),this.carousel_width=0,this.imgLoad=new imgl(this.ele),this.lastMQ=mq.size();var e=this;this.imgLoad.on("progress",function(t,i){e._collect_image_width(i)}).on("done",function(){e._set_carousel_width(),e.onLoaded.apply(e)}),$(window).on("resize",function(){e.lastMQ!==mq.size()&&(e.carousel_width=0,e._recalculate_carousel_width(),e.lastMQ=mq.size())})},GalleryLoader.prototype._collect_image_width=function(e){if(e.isLoaded){var t=$(e.img),i=t.closest(this.parent_ele);this.carousel_width+=this._image_parents_width(i)}else $(e.img).hide()},GalleryLoader.prototype._collect_fallback_image_width=function(){if(this.$fallbackImg.length>0){var e=this;e.$fallbackImg.each(function(t,i){var r=$(i),a=r.closest(e.parent_ele);e.carousel_width+=e._image_parents_width(a)})}},GalleryLoader.prototype._recalculate_carousel_width=function(){var e=this;e.$ele.find("img").each(function(t,i){var r={img:i,isLoaded:!0};e._collect_image_width(r)}),e._set_carousel_width()},GalleryLoader.prototype._image_parents_width=function(e){return e.width()+this._padding_to_num(e,"paddingLeft")+this._padding_to_num(e,"paddingRight")+1},GalleryLoader.prototype._padding_to_num=function(e,t){return parseInt(e.css(t).replace("px",""))},GalleryLoader.prototype._set_carousel_width=function(){this._collect_fallback_image_width(),this.$ele.width(this.carousel_width)};var Gallery=function(e){this.options=e,this.ele=this.options.gallery_wrapper,this.item_wrapper=this.options.item_wrapper,this.controls_wrapper=this.options.controls_wrapper,this.loader=new GalleryLoader(this.ele,this.options.item_wrapper),this.on_loaded=!1,this._init()};Gallery.prototype.update=function(){this.$ele.parent().animate({opacity:0},"slow"),this._remove_event_handlers(),this._init()},Gallery.prototype._init=function(){this.$ele=$(this.ele),this.$ele.length>0&&(this._add_event_handlers(),this.loader.init(),this._set_current_image())},Gallery.prototype._add_event_handlers=function(){var e=this;this.loader.onLoaded=function(){e.$ele.parent().animate({opacity:1},"slow"),e.on_loaded&&e.on_loaded.apply(e)},$(document).on("swipeLeft",this.controls_wrapper,function(t){e._next_img()}),$(document).on("swipeRight",this.controls_wrapper,function(t){e._prev_img()}),$(document).on("click","[data-gallery-direction]",function(t){t.preventDefault();var i=$(t.currentTarget);"left"===i.data("gallery-direction")?e._prev_img():e._next_img()})},Gallery.prototype._remove_event_handlers=function(){this.loader.onLoaded=!1,$(document).off("swipeLeft",this.controls_wrapper),$(document).off("swipeRight",this.controls_wrapper),$(document).off("click","[data-gallery-direction]")},Gallery.prototype._set_current_image=function(){var e=this.$ele.find(this.item_wrapper+".is_current");e.length>0?this.$current_image=e.first():this.$current_image=this.$ele.find(this.item_wrapper).first(),this.$current_image.addClass("is_current"),this._check_for_end()},Gallery.prototype._prev_img=function(){var e=this.$current_image.prev();e.length>0&&(e.css({marginLeft:"0"}).addClass("is_current"),this.$current_image.removeClass("is_current"),this.$current_image=e,this._check_for_end())},Gallery.prototype._next_img=function(){var e=this.$current_image.next();if(e.length>0){var t=this.loader._image_parents_width(this.$current_image);this.$current_image.css({marginLeft:-1*t}).removeClass("is_current"),e.addClass("is_current"),this.$current_image=e,this._check_for_end()}},Gallery.prototype._check_for_end=function(){$("[data-gallery-direction]").removeClass("disabled"),0===this.$current_image.prev().length?$('[data-gallery-direction="left"]').addClass("disabled"):0===this.$current_image.next().length&&$('[data-gallery-direction="right"]').addClass("disabled")},module.exports=Gallery;


},{"./bsify.media_queries.js":17,"./bsify.touch.js":25,"imagesloaded":3}],17:[function(require,module,exports){
require("./_polyfills.js").getComputedStyle(),module.exports.size=function(){return window.getComputedStyle(document.body,":after").getPropertyValue("content").replace(/['"]/g,"")};


},{"./_polyfills.js":9}],18:[function(require,module,exports){
var MegaMenu={},menu_selector='[data-menu="mega"]',$menu=$(menu_selector);MegaMenu.init=function(){$menu.length>0&&MegaMenu.add_event_handlers()},MegaMenu.add_event_handlers=function(){$(document).on("show.bs.collapse",menu_selector+" .collapse",function(){$(menu_selector+" .collapse.in").each(function(e,n){$(n).collapse("hide")}),$menu.addClass("open")}),$(document).on("hidden.bs.collapse",menu_selector+" .collapse",function(){setTimeout(function(){0===$(menu_selector+" .collapse.in").length&&$menu.removeClass("open")},350)})},module.exports=MegaMenu;


},{}],19:[function(require,module,exports){
var Modal={},modal_selector="[data-bsify-modal]",modal_trigger_selector="[data-modal-trigger]",$modal=$(modal_selector),$modal_trigger=$(modal_trigger_selector);Modal.init=function(){$modal.length>0&&$modal_trigger.each(function(t,o){Modal._set_trigger_listener(o)}),Modal._set_event_listeners()},Modal._set_event_listeners=function(){$modal.on("hidden.bs.modal",function(t){$modal.find(".modal-content").html("")})},Modal._set_trigger_listener=function(t){var o=$(t);o.on("click",function(t){t.preventDefault();var o=$(t.currentTarget);Modal._load_content(o)})},Modal._load_content=function(t){var o=t.attr("href");if(Modal._is_external_content(o))$.ajax(o).done(function(t){$modal.find(".modal-content").html(t)});else{var e=$(o).html();$modal.find(".modal-content").html(e)}$modal.modal()},Modal._is_external_content=function(t){return"#"!==t.charAt(0)},module.exports=Modal;


},{}],20:[function(require,module,exports){
var PasswordRecover=function(){this.recover_string="#recover",this.$links=$('main [href*="/account/login"]'),this.$sections=$("[data-bsify-toggle-recover]"),this.force=$("[data-bsify-toggle-recover-force]").length>0,this.$sections.length>0&&(this._add_event_listeners(),this.toggle_forms())};PasswordRecover.prototype.toggle_forms=function(){window.location.hash===this.recover_string||this.force?this.show_recover_form():this.show_login_form()},PasswordRecover.prototype.show_recover_form=function(){var o=this;this._each_section(function(e){o._toggle_section("recover"===e.data("bsify-toggle-recover"),e)})},PasswordRecover.prototype.show_login_form=function(){var o=this;this._each_section(function(e){o._toggle_section("recover"!==e.data("bsify-toggle-recover"),e)})},PasswordRecover.prototype._add_event_listeners=function(){var o=this;o.$links.on("click",function(e){e.preventDefault(),o._on_click($(e.currentTarget))})},PasswordRecover.prototype._on_click=function(o){o.attr("href").indexOf(this.recover_string)>-1?this.show_recover_form():this.show_login_form()},PasswordRecover.prototype._each_section=function(o){this.$sections.each(function(e,t){var r=$(t);o(r)})},PasswordRecover.prototype._toggle_section=function(o,e){o?e.show():e.hide()},module.exports=PasswordRecover;


},{}],21:[function(require,module,exports){
var ScrollTo={},scroll_selector="[data-scroll-to]";ScrollTo.init=function(){$(document).on("click",scroll_selector,function(o){o.preventDefault();var l=$(this).attr("href");ScrollTo.go(l)})},ScrollTo.go=function(o){$("body").animate({scrollTop:$(o).offset().top},800)},module.exports=ScrollTo;


},{}],22:[function(require,module,exports){
var InstagramFeed=function(t){this.ele=t,this.$ele=$(this.ele),this.api_url="https://api.instagram.com/v1",this.request_queue=[],this.requesting=!1,this.image_count_default=12,this.image_count_buffer=10,this._get_data(),this._load_feed()};InstagramFeed.prototype._get_data=function(){this.client_id=this.$ele.data("client-id"),this.image_count=this.$ele.data("image-count")||this.image_count_default,this.image_total=this.image_count+this.image_count_buffer,this.hashtag=this.$ele.data("hashtag"),this.user=this.$ele.data("user"),this._get_user_id()},InstagramFeed.prototype._get_user_id=function(){this.user&&(this.request_queue.push("user_id"),this._start_requests())},InstagramFeed.prototype._load_feed=function(){var t;void 0!==this.hashtag?t="hashtag":void 0!==this.user&&(t="user"),this.request_queue.push(t),this._start_requests()},InstagramFeed.prototype._build_request=function(t){if(null===this.client_id)throw"[ERROR] Instagram: You must provide a client id";var e={};switch(e.data={client_id:this.client_id},t){case"user_id":e.url=this.api_url+"/users/search?q="+this.user,e.callback=function(t){this.user_id=t.data[0].id};break;case"user":e.url=this.api_url+"/users/"+this.user_id+"/media/recent",e.data=$.extend(e.data,{count:this.image_total}),e.callback=function(t){this._build_feed(t.data)};break;case"hashtag":e.url=this.api_url+"/tags/"+this.hashtag+"/media/recent",e.data=$.extend(e.data,{count:this.image_total}),e.callback=function(t){this._build_feed(t.data)}}return e},InstagramFeed.prototype._start_requests=function(){this.requesting||(this.requesting=!0,this._request())},InstagramFeed.prototype._request=function(){if(this.request_queue.length>0){var t=this,e=this.request_queue.shift(),a=this._build_request(e);$.ajax({dataType:"jsonp",url:a.url,data:a.data}).done(function(e){a.callback.apply(t,[e]),t._request()}).fail(function(t,e,a){console.log("fail",t,e,a)})}else this.requesting=!1},InstagramFeed.prototype._build_feed=function(t){var e,a=this._filter_data(t);a.length>0?(e=this._build_feed_markup(a),this.$ele.addClass("group").attr("data-group-size",a.length)):e=this._build_error_markup(),this.$ele.append(e)},InstagramFeed.prototype._filter_data=function(t){return t},InstagramFeed.prototype._build_feed_markup=function(t){for(var e="",a=t.length<this.image_count?t.length:this.image_count,i=0;a>i;i++){var s=t[i];s&&(e+=this._build_item_markup(s))}return e},InstagramFeed.prototype._build_item_markup=function(t){return'<div class="group-item-wrap">    <figure class="group-item thumbnail">      <a href="'+t.link+'">        <div class="group-item-image">          <img src="'+t.images.standard_resolution.url+'" alt="'+t.caption.text+'">        </div>        <figcaption class="group-item-details caption">          <p><span class="user">'+t.caption.from.username+"</span> "+t.caption.text+"</p>        </figcaption>      </a>    </figure>  </div>"},InstagramFeed.prototype._build_error_markup=function(t){return"<p>"+this.$ele.data("empty-message")+"</p>"},module.exports=InstagramFeed;


},{}],23:[function(require,module,exports){
var Instagram=require("./bsify.social_feed_instagram.js"),SocialFeeds={};SocialFeeds.init=function(){SocialFeeds.instagram()},SocialFeeds.instagram=function(){var e=SocialFeeds._get_elements("instagram");e.length>0&&e.each(function(){new Instagram(this)})},SocialFeeds._get_elements=function(e){var a='[data-social-feed="'+e+'"]';return $(a)},module.exports=SocialFeeds;


},{"./bsify.social_feed_instagram.js":22}],24:[function(require,module,exports){
require("uniformThumbnails"),require("jquery-orderly");var Thumbnails={};Thumbnails.init=function(){if(Bsify.thumbnail_settings.constrain_images){var i={};i.fit=Bsify.thumbnail_settings.crop_images?"crop":"scale",i.align=Bsify.thumbnail_settings.image_alignment.toLowerCase();var e=Bsify.thumbnail_settings.image_ratio.toLowerCase();"square"===e||"landscape"===e||"portrait"===e?i.format=e:i.ratio=e;var r=$(Bsify.thumbnail_selectors.image_wrapper);r.length>0?r.uniform_thumbnails(i).on("ut_complete",function(){Thumbnails.orderly()}):Thumbnails.orderly()}else Thumbnails.orderly()},Thumbnails.orderly=function(){$(Bsify.thumbnail_selectors.details_wrapper).orderly({method:"children"})},module.exports=Thumbnails;


},{"jquery-orderly":6,"uniformThumbnails":8}],25:[function(require,module,exports){
var Swipe=function(){this.threshold=5,this.xDown=null,this.yDown=null,this.add_event_listeners()};Swipe.prototype.add_event_listeners=function(){var t=this;Element.prototype.addEventListener&&(document.addEventListener("touchstart",function(e){t.handleTouchStart(e)},!1),document.addEventListener("touchmove",function(e){t.handleTouchMove(e)},!1))},Swipe.prototype.handleTouchStart=function(t){this.xDown=t.touches[0].clientX,this.yDown=t.touches[0].clientY},Swipe.prototype.handleTouchMove=function(t){if(this.xDown&&this.yDown){var e=t.targetTouches[0].target,n=t.touches[0].clientX,i=t.touches[0].clientY,o=this.xDown-n,h=this.yDown-i;Math.abs(o)>Math.abs(h)?o>0?o>this.threshold&&$(e).trigger("swipeLeft"):-1*o>this.threshold&&$(e).trigger("swipeRight"):h>0?h>this.threshold&&$(e).trigger("swipeUp"):-1*h>this.threshold&&$(e).trigger("swipeDown"),this.xDown=null,this.yDown=null}},new Swipe;


},{}],26:[function(require,module,exports){
var VariantOptionSwitcher={};VariantOptionSwitcher.image_variant_switcher=function(){var t=$(Bsify.selectors.product.select_selector);$(document).on("click","[data-variant-id]",function(i){i.preventDefault();var r=$(i.currentTarget);t.val(r.data("variant-id")),VariantOptionSwitcher.update_product_selector_options(t)})},VariantOptionSwitcher.update_product_selector_options=function(t){var i=t.val(),r=Bsify.get_variant_by_id(i);if(r)for(var a=0;a<Bsify.product.options.length;a++){var e="option"+(a+1),n=r[e];$(".single-option-selector:eq("+a+")").val(n).trigger("change")}},module.exports=VariantOptionSwitcher;


},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9zcmMvanMvYXBwLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvYm93ZXJfY29tcG9uZW50cy9zaG9waWZ5LWNhcnRqcy9kaXN0L2NhcnQuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9ub2RlX21vZHVsZXMvaW1hZ2VzbG9hZGVkL2ltYWdlc2xvYWRlZC5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L25vZGVfbW9kdWxlcy9pbWFnZXNsb2FkZWQvbm9kZV9tb2R1bGVzL2V2ZW50aWUvZXZlbnRpZS5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L25vZGVfbW9kdWxlcy9pbWFnZXNsb2FkZWQvbm9kZV9tb2R1bGVzL3dvbGZ5ODctZXZlbnRlbWl0dGVyL0V2ZW50RW1pdHRlci5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L25vZGVfbW9kdWxlcy9qcXVlcnktb3JkZXJseS9zcmMvanF1ZXJ5Lm9yZGVybHkuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9ub2RlX21vZHVsZXMvanF1ZXJ5Lm1iLnl0cGxheWVyL2Rpc3QvanF1ZXJ5Lm1iLllUUGxheWVyLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvbm9kZV9tb2R1bGVzL3VuaWZvcm1UaHVtYm5haWxzL3NyYy9qcXVlcnkudW5pZm9ybV90aHVtYm5haWxzLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL19wb2x5ZmlsbHMuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9zcmMvanMvYnNpZnkuYmFubmVyLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LmJhbm5lcl92aWRlby5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L3NyYy9qcy9ic2lmeS5jYXJ0LmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LmltYWdlX3N3aXRjaGVyLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LmxpbmtlZF9wcm9kdWN0X29wdGlvbnMuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9zcmMvanMvYnNpZnkubG9va2Jvb2tfZ2FsbGVyeS5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L3NyYy9qcy9ic2lmeS5tZWRpYV9xdWVyaWVzLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5Lm1lZ2FfbWVudS5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L3NyYy9qcy9ic2lmeS5tb2RhbC5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L3NyYy9qcy9ic2lmeS5wYXNzd29yZF9yZWNvdmVyLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LnNjcm9sbF90by5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L3NyYy9qcy9ic2lmeS5zb2NpYWxfZmVlZF9pbnN0YWdyYW0uanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9zcmMvanMvYnNpZnkuc29jaWFsX2ZlZWRzLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LnRodW1ibmFpbHMuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9zcmMvanMvYnNpZnkudG91Y2guanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9zcmMvanMvYnNpZnkudmFyaWFudF9vcHRpb25fc3dpdGNoZXIuanMiXSwibmFtZXMi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VSxHQUFFLElBQUksU0FBUyxHQUFHLFVBQVUsRUFBRSxPQUFPLEVBQUUsSUFBSSxlQUFlLEdBQUcsVUFBVSxFQUFFLGFBQWEsRUFBRSxJQUFJLGFBQWEsR0FBRyxVQUFVLEVBQUUsV0FBVyxFQUFFLElBQUksY0FBYyxHQUFHLFVBQVUsRUFBRSxZQUFZLEVBQUUsSUFBSSxjQUFjLEdBQUcsVUFBVSxFQUFFLFlBQVksRUFBRTtBQUFJLFdBQVcsR0FBRyxVQUFVLEVBQUUsU0FBUyxFQUFFLElBQUksYUFBYSxHQUFHLFVBQVUsRUFBRSxXQUFXLEVBQUUsSUFBSSxVQUFVLEdBQUcsVUFBVSxFQUFFLFFBQVEsRUFBRSxHQUFJLElBQUksR0FBRSxFQUFHLE9BQU0sSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxlQUFlLFFBQVEsRUFBRSxHQUFHLE1BQU0sVUFBVyxHQUFFLElBQUksTUFBTSxJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLGVBQWUsUUFBUSxFQUFFLEdBQUcsTUFBTSxVQUFXLEdBQUUsSUFBSSxNQUFNLElBQUksRUFBRSxPQUFPLElBQUksSUFBSSxZQUFZLEVBQUUsR0FBRyxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksZUFBZSxRQUFRLEVBQUUsR0FBRyxNQUFNLFVBQVcsR0FBRSxJQUFJLFdBQVcsSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxXQUFXLFFBQVEsRUFBRSxHQUFHLE9BQU8sVUFBVyxHQUFFLElBQUksWUFBWSxJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLFlBQVksUUFBUSxFQUFFLEdBQUcsT0FBTyxVQUFXLEdBQUUsSUFBSSxZQUFZLElBQUksRUFBRSxPQUFPLElBQUksSUFBSSxZQUFZLEVBQUUsR0FBRyxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksWUFBWSxRQUFRLEVBQUUsR0FBRyxPQUFPLFVBQVcsR0FBRSxJQUFJLFlBQVksSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxZQUFZLFFBQVEsRUFBRSxHQUFHLE9BQU8sVUFBVyxHQUFFLElBQUksVUFBVSxJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLFVBQVUsUUFBUSxFQUFFLEdBQUcsSUFBSSxVQUFXLEdBQUUsSUFBSSxXQUFXLElBQUksRUFBRSxPQUFPLElBQUksSUFBSSxZQUFZLEVBQUUsR0FBRyxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksV0FBVyxRQUFRLEVBQUUsR0FBRyxJQUFJLFVBQVcsR0FBRSxJQUFJLFdBQVcsSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxXQUFXLFFBQVEsRUFBRSxHQUFHLElBQUksVUFBVyxHQUFFLElBQUksV0FBVyxJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLFdBQVcsUUFBUSxFQUFFLEdBQUcsSUFBSSxVQUFXLEdBQUUsSUFBSSxTQUFTLElBQUksRUFBRSxPQUFPLElBQUksSUFBSSxZQUFZLEVBQUUsR0FBRyxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksU0FBUyxRQUFRLEVBQUUsR0FBRyxPQUFPLFVBQVcsR0FBRSxJQUFJLFVBQVUsSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxVQUFVLFFBQVEsRUFBRSxHQUFHLE9BQU8sVUFBVyxHQUFFLElBQUksVUFBVSxJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFB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QUFRLFFBQU8sRUFBRyxPQUFPLFFBQVEsTUFBSyxFQUFHLE9BQU8sUUFBUSxHQUFHLEtBQUssT0FBTyxRQUFRLEtBQUssVUFBVSxRQUFRLE9BQU8sUUFBUSxZQUFZLEdBQUcsV0FBVyxVQUFVLFlBQVksT0FBTyxRQUFRLGFBQWEsU0FBUyxVQUFVLFdBQVcsR0FBSSxJQUFJLFlBQVcsVUFBVSxFQUFHLElBQUcsS0FBSyxVQUFVLEtBQUssUUFBUSxVQUFVLE9BQU8sUUFBUSxPQUFNLEVBQUcsT0FBTyxRQUFRLEtBQUssUUFBUSxPQUFPLFFBQVEsWUFBWSxLQUFLLFVBQVUsVUFBVSxHQUFHLEtBQUssVUFBVSxLQUFLLFFBQVEsY0FBYyxPQUFPLFFBQVEsWUFBWSxLQUFLLFVBQVUsVUFBVSxRQUFTLElBQUcsS0FBSyxVQUFVLEtBQUssUUFBUSxRQUFRLE9BQU8sUUFBUSxPQUFNLEVBQUcsT0FBTyxRQUFRLEtBQUssUUFBUSxPQUFPLFFBQVEsWUFBWSxLQUFLLFVBQVUsVUFBVSxPQUFRLElBQUcsS0FBSyxVQUFVLEtBQUssUUFBUSxTQUFTLE9BQU8sUUFBUSxNQUFLLEVBQUcsT0FBTyxRQUFRLEtBQUssOEJBQThCLE9BQU8sUUFBUSxZQUFZLEtBQUssVUFBVSxVQUFVLE9BQVEsSUFBRyxJQUFJLEtBQUssUUFBUSxXQUFXLENBQUMsT0FBTyxRQUFRLE1BQUssRUFBRyxPQUFPLFFBQVEsS0FBSyw2QkFBOEIsSUFBSSxPQUFNLEtBQUssUUFBUSxPQUFPLEVBQUUsSUFBSSxNQUFNLENBQUUsUUFBTyxRQUFRLFlBQVksS0FBSyxVQUFVLE1BQU0sU0FBUyxLQUFLLFVBQVUsS0FBSyxRQUFRLFlBQVksT0FBTyxRQUFRLFFBQU8sRUFBRyxPQUFPLFFBQVEsUUFBTyxFQUFHLE9BQU8sUUFBUSxLQUFLLFNBQVMsT0FBTyxRQUFRLFlBQVksS0FBSyxVQUFVLFVBQVUsSUFBSSxLQUFLLFVBQVUsS0FBSyxRQUFRLFlBQVksT0FBTyxRQUFRLFFBQU8sRUFBRyxPQUFPLFFBQVEsUUFBTyxFQUFHLE9BQU8sUUFBUSxLQUFLLFNBQVMsT0FBTyxRQUFRLFlBQVksS0FBSyxVQUFVLFVBQVUsR0FBRyxLQUFLLFVBQVUsS0FBSyxRQUFRLGNBQWMsT0FBTyxRQUFRLFlBQVksS0FBSyxVQUFVLFVBQVUsS0FBSyxLQUFLLFVBQVUsS0FBSyxRQUFRLGlCQUFpQixPQUFPLFFBQVEsUUFBTyxFQUFHLE9BQU8sUUFBUSxLQUFLLFNBQVMsT0FBTyxRQUFRLFlBQVksS0FBSyxVQUFVLFVBQVUsR0FBRyxLQUFLLFVBQVUsS0FBSyxRQUFRLGNBQWMsT0FBTyxRQUFRLFlBQVksS0FBSyxVQUFVLFVBQVUsS0FBSyxLQUFLLFVBQVUsS0FBSyxRQUFRLGFBQWEsT0FBTyxRQUFRLFNBQVEsRUFBRyxPQUFPLFFBQVEsS0FBSyxVQUFVLE9BQU8sUUFBUSxZQUFZLEtBQUssVUFBVSxVQUFVLEtBQUssV0FBVyxLQUFLLFlBQVksS0FBSyxJQUFJLFVBQVUsS0FBSyxZQUFZLFFBQVEsT0FBTyxRQUFRLEtBQUssS0FBSyxVQUFVLFdBQVcsV0FBVyxPQUFPLFFBQVEsWUFBWSxLQUFLLFVBQVUsVUFBVSxHQUFHLE9BQU8sUUFBUSxLQUFLLGVBQWUsT0FBTyxRQUFRLEtBQUssZ0JBQWdCLE9BQU8sUUFBUSxLQUFLLFVBQVUsU0FBVSxNQUFLLEdBQUcsT0FBTyxRQUFRLFlBQVksUUFBUSxRQUFRLE9BQU8sUUFBUSxZQUFZLE9BQU8sUUFBUSxZQUFZLFVBQVUsRUFBRSxLQUFLLEtBQUssR0FBRyxPQUFPLFFBQVEsWUFBWSxRQUFRLFFBQVEsT0FBTyxRQUFRLFlBQVksT0FBTyxRQUFRLFlBQVksVUFBVSxFQUFFLEtBQUssT0FBTyxRQUFRLGFBQWEsU0FBUyxHQUFHLE9BQU8sUUFBUSxZQUFZLElBQUksTUFBTSxPQUFPLFFBQVEsZ0JBQWdCLE9BQU8sUUFBUSxZQUFZLEdBQUcsV0FBVyxVQUFVLFlBQVksT0FBTyxRQUFRLGFBQWEsU0FBUyxVQUFVLFdBQVcsS0FBSyxPQUFPLFFBQVEsUUFBUSxPQUFPLFFBQVEsYUFBYSxPQUFPLFFBQVEsUUFBUSxXQUFXLEtBQUssTUFBTSxP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QUM1QixFQUFRLEVBQ1AsRUFBUSxLQUFLLFdBQ2YsRUFBRSxHQUFnQixRQUFRLGFBR2hCLEdBQVIsRUFBYSxLQUFLLFdBQ3BCLEVBQUUsR0FBZ0IsUUFBUSxjQUl6QixFQUFRLEVBQ1AsRUFBUSxLQUFLLFdBQ2YsRUFBRSxHQUFnQixRQUFRLFdBR2hCLEdBQVIsRUFBYSxLQUFLLFdBQ3BCLEVBQUUsR0FBZ0IsUUFBUSxhQUtoQyxLQUFLLE1BQVEsS0FDYixLQUFLLE1BQVEsT0FHZixHQUFJOzs7O0FDN0RKLEdBQUkseUJBR0osdUJBQXNCLHVCQUF5QixXQUU3QyxHQUFJLEdBQW9CLEVBQUUsTUFBTSxVQUFVLFFBQVEsZ0JBRWxELEdBQUUsVUFBVSxHQUFHLFFBQVMsb0JBQXFCLFNBQVUsR0FDckQsRUFBRSxnQkFDRixJQUFJLEdBQWtCLEVBQUUsRUFBRSxjQUUxQixHQUFrQixJQUFJLEVBQWdCLEtBQUssZUFFM0Msc0JBQXNCLGdDQUFnQyxNQU0xRCxzQkFBc0IsZ0NBQWtDLFNBQVUsR0FHaEUsR0FBSSxHQUFhLEVBQWtCLE1BQy9CLEVBQVUsTUFBTSxrQkFBa0IsRUFFdEMsSUFBSSxFQUVGLElBQUssR0FBSSxHQUFJLEVBQUcsRUFBSSxNQUFNLFFBQVEsUUFBUSxPQUFRLElBQUssQ0FDckQsR0FBSSxHQUFTLFVBQVUsRUFBRSxHQUNyQixFQUFRLEVBQVEsRUFDcEIsR0FBRSw4QkFBOEIsRUFBRSxLQUFLLElBQUksR0FBTyxRQUFRLFlBS2hFLE9BQU8sUUFBVSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKlxuICBNYWluIGFwcCBmb3IgQm9vdHN0cmFwaWZ5XG4qL1xuXG52YXIgQnNpZnkgPSByZXF1aXJlKCcuL2JzaWZ5LmpzJyk7XG52YXIgQ2FydEpTID0gcmVxdWlyZShcIi4vLi4vLi4vYm93ZXJfY29tcG9uZW50cy9zaG9waWZ5LWNhcnRqcy9kaXN0L2NhcnQuanNcIik7XG52YXIgTG9va2Jvb2sgPSByZXF1aXJlKCcuL2JzaWZ5Lmxvb2tib29rX2dhbGxlcnkuanMnKTtcblxudmFyIEFwcCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gaW5pdCBDYXJ0SlNcbiAgQ2FydEpTLmluaXQoQnNpZnkuY2FydCwgQnNpZnkubW9uZXlfZm9ybWF0cyk7XG5cbiAgLy8gaW5pdCBwcm9kdWN0IHRlbXBsYXRlIGpzXG4gIGlmIChCc2lmeS5wcm9kdWN0KSB7XG4gICAgLy8gUHJlbG9hZCBpbWFnZXMgYW5kIGNhbGwgaW1hZ2Ugc3dpdGNoZXIgaW5pdFxuICAgIEJzaWZ5LkltYWdlU3dpdGNoZXIucHJlbG9hZF9wcm9kdWN0X3RodW1icygpO1xuICAgIEJzaWZ5LkltYWdlU3dpdGNoZXIuaW1hZ2Vfc3d0aWNoZXIoKTtcbiAgICAvLyBJbml0aWFsaXNlIHRoZSBpbWFnZV92YXJpYW50X3N3aXRjaGVyXG4gICAgQnNpZnkuVmFyaWFudE9wdGlvblN3aXRjaGVyLmltYWdlX3ZhcmlhbnRfc3dpdGNoZXIoKTtcblxuICAgIC8vIENhbGwgbGlua09wdGlvblNlbGVjdG9yc1xuICAgIC8vIENoZWNrIHRoYXQgd2Ugd2FudCB0byB1c2UgdGhlIGxpbmtlZCBwcm9kdWN0IG9wdGlvbnNcbiAgICBpZiAoQnNpZnkubGlua2VkX3Byb2R1Y3Rfb3B0aW9ucykge1xuICAgICAgLy8gTWFrZSBzdXJlIHRoZSBwcm9kdWN0IG1lZXRzIHRoZSBjb3JyZWN0IGNpdGVyaWEgZm9yIGxpbmtlZCBwcm9kdWN0IG9wdGlvbnMgYW5kIHRoZW4gaW5pdGlhbGlzZVxuICAgICAgaWYgKEJzaWZ5LnByb2R1Y3QuYXZhaWxhYmxlICYmIEJzaWZ5LnByb2R1Y3Qub3B0aW9ucy5sZW5ndGggPiAxKSB7XG4gICAgICAgIEJzaWZ5LkxpbmtlZFByb2R1Y3RPcHRpb25zLmxpbmtPcHRpb25TZWxlY3RvcnMoQnNpZnkucHJvZHVjdCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gaW5pdCBhamF4IGFkZCB0byBjYXJ0XG4gIGlmIChCc2lmeS5hamF4X2FkZF90b19jYXJ0KSB7XG4gICAgQnNpZnkuQ2FydC5pbml0KCk7XG4gIH1cblxuICAvLyBsb2FkIHVuaWZvcm0gdGh1bWJzIGFuZCBvcmRlcmx5XG4gIEJzaWZ5LlRodW1ibmFpbHMuaW5pdCgpO1xuXG4gIC8vIGluaXQgZXZlbnQgbGlzdGVuZXJzIGZvciBiYW5uZXJcbiAgQnNpZnkuQmFubmVyLmluaXQoKTtcbiAgQnNpZnkuQmFubmVyVmlkZW8uaW5pdCgpO1xuXG4gIC8vIGluaXQgZXZlbnQgbGlzdGVuZXJzIGZvciBtZWdhbWVudSBcbiAgQnNpZnkuTWVnYU1lbnUuaW5pdCgpO1xuXG4gIC8vIGluaXQgZXZlbnQgbGlzdGVuZXJzIGZvciBzY3JvbGxfdG8gXG4gIEJzaWZ5LlNjcm9sbFRvLmluaXQoKTtcblxuICAvLyBpbml0IGV2ZW50IGxpc3RlbmVycyBmb3IgbW9kYWxzIFxuICBCc2lmeS5Nb2RhbC5pbml0KCk7XG5cbiAgLy8gaW5pdCBsb29rYm9vayBnYWxsZXJ5XG4gIGlmICgkKCcuY29sbGVjdGlvbi1sb29rYm9vaycpLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgbG9va2Jvb2sgPSBuZXcgTG9va2Jvb2soe1xuICAgICAgZ2FsbGVyeV93cmFwcGVyOiAnLmNvbGxlY3Rpb24tbG9va2Jvb2sgLnByb2R1Y3RzLmdyb3VwJyxcbiAgICAgIGl0ZW1fd3JhcHBlcjogJy5ncm91cC1pdGVtLXdyYXAnLFxuICAgICAgY29udHJvbHNfd3JhcHBlcjogJy5sb29rYm9vay1jb250cm9scydcbiAgICB9KTtcblxuICAgIGxvb2tib29rLm9uX2xvYWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIEJzaWZ5LlRodW1ibmFpbHMub3JkZXJseSgpO1xuICAgIH07XG4gIH1cblxuICAvLyB0ZXN0IGZvciBwbGFjZWhvbGRlclxuICBpZiAoTW9kZXJuaXpyLmlucHV0LnBsYWNlaG9sZGVyKSB7XG4gICAgJCgnaHRtbCcpLmFkZENsYXNzKCdwbGFjZWhvbGRlcicpO1xuICB9IGVsc2Uge1xuICAgICQoJ2h0bWwnKS5hZGRDbGFzcygnbm8tcGxhY2Vob2xkZXInKTtcbiAgfVxuXG4gIC8vIGluaXQgc29jaWFsIGZlZWRzXG4gIEJzaWZ5LlNvY2lhbEZlZWRzLmluaXQoKTtcbiAgXG4gIG5ldyBCc2lmeS5QYXNzd29yZFJlY292ZXIoKTtcbn07XG5cbi8vIGluaXRpYXRlIHRoZSBhcHAgYW5kIGV4cG9zZSBpdCB0byB0aGUgYnJvd3NlclxudmFyIGFwcCA9IG5ldyBBcHAoKTtcbm1vZHVsZS5leHBvcnRzID0gYXBwO1xud2luZG93LkNhcnRKUyA9IENhcnRKUzsiLCIoZnVuY3Rpb24oKSB7XG4gIHZhciAkZG9jdW1lbnQsIENhcnQsIENhcnRKUywgSXRlbSwgcHJvY2Vzc2luZywgcXVldWUsXG4gICAgX19iaW5kID0gZnVuY3Rpb24oZm4sIG1lKXsgcmV0dXJuIGZ1bmN0aW9uKCl7IHJldHVybiBmbi5hcHBseShtZSwgYXJndW1lbnRzKTsgfTsgfTtcblxuICBDYXJ0ID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIENhcnQoKSB7XG4gICAgICB0aGlzLnVwZGF0ZSA9IF9fYmluZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgQ2FydC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oY2FydCkge1xuICAgICAgdmFyIGl0ZW0sIGtleSwgdmFsdWU7XG4gICAgICBmb3IgKGtleSBpbiBjYXJ0KSB7XG4gICAgICAgIHZhbHVlID0gY2FydFtrZXldO1xuICAgICAgICBpZiAoa2V5ICE9PSAnaXRlbXMnKSB7XG4gICAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLml0ZW1zID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgX2ksIF9sZW4sIF9yZWYsIF9yZXN1bHRzO1xuICAgICAgICBfcmVmID0gY2FydC5pdGVtcztcbiAgICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgaXRlbSA9IF9yZWZbX2ldO1xuICAgICAgICAgIF9yZXN1bHRzLnB1c2gobmV3IEl0ZW0oaXRlbSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgIH0pKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBDYXJ0O1xuXG4gIH0pKCk7XG5cbiAgSXRlbSA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBJdGVtKGl0ZW0pIHtcbiAgICAgIHRoaXMucHJvcGVydHlBcnJheSA9IF9fYmluZCh0aGlzLnByb3BlcnR5QXJyYXksIHRoaXMpO1xuICAgICAgdGhpcy51cGRhdGUgPSBfX2JpbmQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgdGhpcy51cGRhdGUoaXRlbSk7XG4gICAgfVxuXG4gICAgSXRlbS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oaXRlbSkge1xuICAgICAgdmFyIGtleSwgdmFsdWU7XG4gICAgICBmb3IgKGtleSBpbiBpdGVtKSB7XG4gICAgICAgIHZhbHVlID0gaXRlbVtrZXldO1xuICAgICAgICBpZiAoa2V5ICE9PSAncHJvcGVydGllcycpIHtcbiAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllcyA9IENhcnRKUy5VdGlscy5leHRlbmQoe30sIGl0ZW0ucHJvcGVydGllcyk7XG4gICAgfTtcblxuICAgIEl0ZW0ucHJvdG90eXBlLnByb3BlcnR5QXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBuYW1lLCB2YWx1ZSwgX3JlZiwgX3Jlc3VsdHM7XG4gICAgICBfcmVmID0gdGhpcy5wcm9wZXJ0aWVzO1xuICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgIGZvciAobmFtZSBpbiBfcmVmKSB7XG4gICAgICAgIHZhbHVlID0gX3JlZltuYW1lXTtcbiAgICAgICAgX3Jlc3VsdHMucHVzaCh7XG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgfTtcblxuICAgIHJldHVybiBJdGVtO1xuXG4gIH0pKCk7XG5cbiAgQ2FydEpTID0ge1xuICAgIHNldHRpbmdzOiB7XG4gICAgICBkZWJ1ZzogZmFsc2UsXG4gICAgICBkYXRhQVBJOiB0cnVlLFxuICAgICAgcmVxdWVzdEJvZHlDbGFzczogbnVsbCxcbiAgICAgIHJpdmV0c01vZGVsczoge30sXG4gICAgICBtb25leUZvcm1hdDogbnVsbCxcbiAgICAgIG1vbmV5V2l0aEN1cnJlbmN5Rm9ybWF0OiBudWxsXG4gICAgfSxcbiAgICBjYXJ0OiBuZXcgQ2FydCgpXG4gIH07XG5cbiAgQ2FydEpTLmluaXQgPSBmdW5jdGlvbihjYXJ0LCBzZXR0aW5ncykge1xuICAgIGlmIChzZXR0aW5ncyA9PSBudWxsKSB7XG4gICAgICBzZXR0aW5ncyA9IHt9O1xuICAgIH1cbiAgICBDYXJ0SlMuY29uZmlndXJlKHNldHRpbmdzKTtcbiAgICBDYXJ0SlMuVXRpbHMubG9nKCdJbml0aWFsaXNpbmcgQ2FydEpTLicpO1xuICAgIENhcnRKUy5jYXJ0LnVwZGF0ZShjYXJ0KTtcbiAgICBpZiAoQ2FydEpTLnNldHRpbmdzLmRhdGFBUEkpIHtcbiAgICAgIENhcnRKUy5VdGlscy5sb2coJ1wiZGF0YUFQSVwiIHNldHRpbmcgaXMgdHJ1ZSwgaW5pdGlhbGlzaW5nIERhdGEgQVBJLicpO1xuICAgICAgQ2FydEpTLkRhdGEuaW5pdCgpO1xuICAgIH1cbiAgICBpZiAoQ2FydEpTLnNldHRpbmdzLnJlcXVlc3RCb2R5Q2xhc3MpIHtcbiAgICAgIENhcnRKUy5VdGlscy5sb2coJ1wicmVxdWVzdEJvZHlDbGFzc1wiIHNldCwgYWRkaW5nIGV2ZW50IGxpc3RlbmVycy4nKTtcbiAgICAgICQoZG9jdW1lbnQpLm9uKCdjYXJ0LnJlcXVlc3RTdGFydGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkKCdib2R5JykuYWRkQ2xhc3MoQ2FydEpTLnNldHRpbmdzLnJlcXVlc3RCb2R5Q2xhc3MpO1xuICAgICAgfSk7XG4gICAgICAkKGRvY3VtZW50KS5vbignY2FydC5yZXF1ZXN0Q29tcGxldGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQoJ2JvZHknKS5yZW1vdmVDbGFzcyhDYXJ0SlMuc2V0dGluZ3MucmVxdWVzdEJvZHlDbGFzcyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIENhcnRKUy5SaXZldHMuaW5pdCgpO1xuICB9O1xuXG4gIENhcnRKUy5jb25maWd1cmUgPSBmdW5jdGlvbihzZXR0aW5ncykge1xuICAgIGlmIChzZXR0aW5ncyA9PSBudWxsKSB7XG4gICAgICBzZXR0aW5ncyA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4gQ2FydEpTLlV0aWxzLmV4dGVuZChDYXJ0SlMuc2V0dGluZ3MsIHNldHRpbmdzKTtcbiAgfTtcblxuICBDYXJ0SlMuVXRpbHMgPSB7XG4gICAgbG9nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBDYXJ0SlMuVXRpbHMuY29uc29sZShjb25zb2xlLmxvZywgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIGVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBDYXJ0SlMuVXRpbHMuY29uc29sZShjb25zb2xlLmVycm9yLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgY29uc29sZTogZnVuY3Rpb24obWV0aG9kLCBhcmdzKSB7XG4gICAgICBpZiAoQ2FydEpTLnNldHRpbmdzLmRlYnVnICYmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb25zb2xlICE9PSBudWxsKSkge1xuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7XG4gICAgICAgIGFyZ3MudW5zaGlmdCgnW0NhcnRKU106Jyk7XG4gICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkoY29uc29sZSwgYXJncyk7XG4gICAgICB9XG4gICAgfSxcbiAgICB3cmFwS2V5czogZnVuY3Rpb24ob2JqLCB0eXBlLCBvdmVycmlkZSkge1xuICAgICAgdmFyIGtleSwgdmFsdWUsIHdyYXBwZWQ7XG4gICAgICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgICAgIHR5cGUgPSAncHJvcGVydGllcyc7XG4gICAgICB9XG4gICAgICB3cmFwcGVkID0ge307XG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgd3JhcHBlZFtcIlwiICsgdHlwZSArIFwiW1wiICsga2V5ICsgXCJdXCJdID0gb3ZlcnJpZGUgIT0gbnVsbCA/IG92ZXJyaWRlIDogdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlZDtcbiAgICB9LFxuICAgIHVud3JhcEtleXM6IGZ1bmN0aW9uKG9iaiwgdHlwZSwgb3ZlcnJpZGUpIHtcbiAgICAgIHZhciBrZXksIHVud3JhcHBlZCwgdW53cmFwcGVkS2V5LCB2YWx1ZTtcbiAgICAgIGlmICh0eXBlID09IG51bGwpIHtcbiAgICAgICAgdHlwZSA9ICdwcm9wZXJ0aWVzJztcbiAgICAgIH1cbiAgICAgIHVud3JhcHBlZCA9IHt9O1xuICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgIHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgIHVud3JhcHBlZEtleSA9IGtleS5yZXBsYWNlKFwiXCIgKyB0eXBlICsgXCJbXCIsIFwiXCIpLnJlcGxhY2UoXCJdXCIsIFwiXCIpO1xuICAgICAgICB1bndyYXBwZWRbdW53cmFwcGVkS2V5XSA9IG92ZXJyaWRlICE9IG51bGwgPyBvdmVycmlkZSA6IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVud3JhcHBlZDtcbiAgICB9LFxuICAgIGV4dGVuZDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIga2V5LCB2YWw7XG4gICAgICBmb3IgKGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHZhbCA9IHByb3BlcnRpZXNba2V5XTtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG4gICAgY2xvbmU6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIGtleSwgbmV3SW5zdGFuY2U7XG4gICAgICBpZiAoKG9iamVjdCA9PSBudWxsKSB8fCB0eXBlb2Ygb2JqZWN0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgbmV3SW5zdGFuY2UgPSBuZXcgb2JqZWN0LmNvbnN0cnVjdG9yKCk7XG4gICAgICBmb3IgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgbmV3SW5zdGFuY2Vba2V5XSA9IGNsb25lKG9iamVjdFtrZXldKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdJbnN0YW5jZTtcbiAgICB9LFxuICAgIGlzQXJyYXk6IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB7fS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICB9LFxuICAgIGVuc3VyZUFycmF5OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKENhcnRKUy5VdGlscy5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW3ZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGZvcm1hdE1vbmV5OiBmdW5jdGlvbih2YWx1ZSwgZm9ybWF0KSB7XG4gICAgICB2YXIgX3JlZjtcbiAgICAgIGlmICgoKF9yZWYgPSB3aW5kb3cuU2hvcGlmeSkgIT0gbnVsbCA/IF9yZWYuZm9ybWF0TW9uZXkgOiB2b2lkIDApICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFNob3BpZnkuZm9ybWF0TW9uZXkodmFsdWUsIGZvcm1hdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRTaXplZEltYWdlVXJsOiBmdW5jdGlvbihzcmMsIHNpemUpIHtcbiAgICAgIHZhciBfcmVmLCBfcmVmMTtcbiAgICAgIGlmICgoKF9yZWYgPSB3aW5kb3cuU2hvcGlmeSkgIT0gbnVsbCA/IChfcmVmMSA9IF9yZWYuSW1hZ2UpICE9IG51bGwgPyBfcmVmMS5nZXRTaXplZEltYWdlVXJsIDogdm9pZCAwIDogdm9pZCAwKSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBTaG9waWZ5LkltYWdlLmdldFNpemVkSW1hZ2VVcmwoc3JjLCBzaXplKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzcmM7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHF1ZXVlID0gW107XG5cbiAgcHJvY2Vzc2luZyA9IGZhbHNlO1xuXG4gIENhcnRKUy5RdWV1ZSA9IHtcbiAgICBhZGQ6IGZ1bmN0aW9uKHVybCwgZGF0YSwgb3B0aW9ucykge1xuICAgICAgdmFyIHJlcXVlc3Q7XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJlcXVlc3QgPSB7XG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICB0eXBlOiBvcHRpb25zLnR5cGUgfHwgJ1BPU1QnLFxuICAgICAgICBkYXRhVHlwZTogb3B0aW9ucy5kYXRhVHlwZSB8fCAnanNvbicsXG4gICAgICAgIHN1Y2Nlc3M6IENhcnRKUy5VdGlscy5lbnN1cmVBcnJheShvcHRpb25zLnN1Y2Nlc3MpLFxuICAgICAgICBlcnJvcjogQ2FydEpTLlV0aWxzLmVuc3VyZUFycmF5KG9wdGlvbnMuZXJyb3IpLFxuICAgICAgICBjb21wbGV0ZTogQ2FydEpTLlV0aWxzLmVuc3VyZUFycmF5KG9wdGlvbnMuY29tcGxldGUpXG4gICAgICB9O1xuICAgICAgaWYgKG9wdGlvbnMudXBkYXRlQ2FydCkge1xuICAgICAgICByZXF1ZXN0LnN1Y2Nlc3MucHVzaChDYXJ0SlMuY2FydC51cGRhdGUpO1xuICAgICAgfVxuICAgICAgcXVldWUucHVzaChyZXF1ZXN0KTtcbiAgICAgIGlmIChwcm9jZXNzaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGpRdWVyeShkb2N1bWVudCkudHJpZ2dlcignY2FydC5yZXF1ZXN0U3RhcnRlZCcsIFtDYXJ0SlMuY2FydF0pO1xuICAgICAgcmV0dXJuIENhcnRKUy5RdWV1ZS5wcm9jZXNzKCk7XG4gICAgfSxcbiAgICBwcm9jZXNzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXJhbXM7XG4gICAgICBpZiAoIXF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBwcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgICAgIGpRdWVyeShkb2N1bWVudCkudHJpZ2dlcignY2FydC5yZXF1ZXN0Q29tcGxldGUnLCBbQ2FydEpTLmNhcnRdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJvY2Vzc2luZyA9IHRydWU7XG4gICAgICBwYXJhbXMgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgcGFyYW1zLmNvbXBsZXRlID0gQ2FydEpTLlF1ZXVlLnByb2Nlc3M7XG4gICAgICByZXR1cm4galF1ZXJ5LmFqYXgocGFyYW1zKTtcbiAgICB9XG4gIH07XG5cbiAgQ2FydEpTLkNvcmUgPSB7XG4gICAgZ2V0Q2FydDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBvcHRpb25zLnR5cGUgPSAnR0VUJztcbiAgICAgIG9wdGlvbnMudXBkYXRlQ2FydCA9IHRydWU7XG4gICAgICByZXR1cm4gQ2FydEpTLlF1ZXVlLmFkZCgnL2NhcnQuanMnLCB7fSwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBhZGRJdGVtOiBmdW5jdGlvbihpZCwgcXVhbnRpdHksIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBkYXRhO1xuICAgICAgaWYgKHF1YW50aXR5ID09IG51bGwpIHtcbiAgICAgICAgcXVhbnRpdHkgPSAxO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BlcnRpZXMgPT0gbnVsbCkge1xuICAgICAgICBwcm9wZXJ0aWVzID0ge307XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGRhdGEgPSBDYXJ0SlMuVXRpbHMud3JhcEtleXMocHJvcGVydGllcyk7XG4gICAgICBkYXRhLmlkID0gaWQ7XG4gICAgICBkYXRhLnF1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgICBDYXJ0SlMuUXVldWUuYWRkKCcvY2FydC9hZGQuanMnLCBkYXRhLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiBDYXJ0SlMuQ29yZS5nZXRDYXJ0KCk7XG4gICAgfSxcbiAgICB1cGRhdGVJdGVtOiBmdW5jdGlvbihsaW5lLCBxdWFudGl0eSwgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgICAgdmFyIGRhdGE7XG4gICAgICBpZiAocHJvcGVydGllcyA9PSBudWxsKSB7XG4gICAgICAgIHByb3BlcnRpZXMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgZGF0YSA9IENhcnRKUy5VdGlscy53cmFwS2V5cyhwcm9wZXJ0aWVzKTtcbiAgICAgIGRhdGEubGluZSA9IGxpbmU7XG4gICAgICBpZiAocXVhbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBkYXRhLnF1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgICB9XG4gICAgICBvcHRpb25zLnVwZGF0ZUNhcnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIENhcnRKUy5RdWV1ZS5hZGQoJy9jYXJ0L2NoYW5nZS5qcycsIGRhdGEsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgcmVtb3ZlSXRlbTogZnVuY3Rpb24obGluZSwgb3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICByZXR1cm4gQ2FydEpTLkNvcmUudXBkYXRlSXRlbShsaW5lLCAwLCB7fSwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICB1cGRhdGVJdGVtQnlJZDogZnVuY3Rpb24oaWQsIHF1YW50aXR5LCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgICB2YXIgZGF0YTtcbiAgICAgIGlmIChwcm9wZXJ0aWVzID09IG51bGwpIHtcbiAgICAgICAgcHJvcGVydGllcyA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBkYXRhID0gQ2FydEpTLlV0aWxzLndyYXBLZXlzKHByb3BlcnRpZXMpO1xuICAgICAgZGF0YS5pZCA9IGlkO1xuICAgICAgaWYgKHF1YW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgZGF0YS5xdWFudGl0eSA9IHF1YW50aXR5O1xuICAgICAgfVxuICAgICAgb3B0aW9ucy51cGRhdGVDYXJ0ID0gdHJ1ZTtcbiAgICAgIHJldHVybiBDYXJ0SlMuUXVldWUuYWRkKCcvY2FydC9jaGFuZ2UuanMnLCBkYXRhLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIHVwZGF0ZUl0ZW1RdWFudGl0aWVzQnlJZDogZnVuY3Rpb24odXBkYXRlcywgb3B0aW9ucykge1xuICAgICAgaWYgKHVwZGF0ZXMgPT0gbnVsbCkge1xuICAgICAgICB1cGRhdGVzID0ge307XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMudXBkYXRlQ2FydCA9IHRydWU7XG4gICAgICByZXR1cm4gQ2FydEpTLlF1ZXVlLmFkZCgnL2NhcnQvdXBkYXRlLmpzJywge1xuICAgICAgICB1cGRhdGVzOiB1cGRhdGVzXG4gICAgICB9LCBvcHRpb25zKTtcbiAgICB9LFxuICAgIHJlbW92ZUl0ZW1CeUlkOiBmdW5jdGlvbihpZCwgb3B0aW9ucykge1xuICAgICAgdmFyIGRhdGE7XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGRhdGEgPSB7XG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgcXVhbnRpdHk6IDBcbiAgICAgIH07XG4gICAgICBvcHRpb25zLnVwZGF0ZUNhcnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIENhcnRKUy5RdWV1ZS5hZGQoJy9jYXJ0L2NoYW5nZS5qcycsIGRhdGEsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgY2xlYXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgb3B0aW9ucy51cGRhdGVDYXJ0ID0gdHJ1ZTtcbiAgICAgIHJldHVybiBDYXJ0SlMuUXVldWUuYWRkKCcvY2FydC9jbGVhci5qcycsIHt9LCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGdldEF0dHJpYnV0ZTogZnVuY3Rpb24oYXR0cmlidXRlTmFtZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBpZiAoYXR0cmlidXRlTmFtZSBpbiBDYXJ0SlMuY2FydC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiBDYXJ0SlMuY2FydC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldEF0dHJpYnV0ZTogZnVuY3Rpb24oYXR0cmlidXRlTmFtZSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBhdHRyaWJ1dGVzO1xuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBhdHRyaWJ1dGVzID0ge307XG4gICAgICBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdID0gdmFsdWU7XG4gICAgICByZXR1cm4gQ2FydEpTLkNvcmUuc2V0QXR0cmlidXRlcyhhdHRyaWJ1dGVzLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGdldEF0dHJpYnV0ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIENhcnRKUy5jYXJ0LmF0dHJpYnV0ZXM7XG4gICAgfSxcbiAgICBzZXRBdHRyaWJ1dGVzOiBmdW5jdGlvbihhdHRyaWJ1dGVzLCBvcHRpb25zKSB7XG4gICAgICBpZiAoYXR0cmlidXRlcyA9PSBudWxsKSB7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgb3B0aW9ucy51cGRhdGVDYXJ0ID0gdHJ1ZTtcbiAgICAgIHJldHVybiBDYXJ0SlMuUXVldWUuYWRkKCcvY2FydC91cGRhdGUuanMnLCBDYXJ0SlMuVXRpbHMud3JhcEtleXMoYXR0cmlidXRlcywgJ2F0dHJpYnV0ZXMnKSwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBjbGVhckF0dHJpYnV0ZXM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgb3B0aW9ucy51cGRhdGVDYXJ0ID0gdHJ1ZTtcbiAgICAgIHJldHVybiBDYXJ0SlMuUXVldWUuYWRkKCcvY2FydC91cGRhdGUuanMnLCBDYXJ0SlMuVXRpbHMud3JhcEtleXMoQ2FydEpTLkNvcmUuZ2V0QXR0cmlidXRlcygpLCAnYXR0cmlidXRlcycsICcnKSwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXROb3RlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBDYXJ0SlMuY2FydC5ub3RlO1xuICAgIH0sXG4gICAgc2V0Tm90ZTogZnVuY3Rpb24obm90ZSwgb3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBvcHRpb25zLnVwZGF0ZUNhcnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIENhcnRKUy5RdWV1ZS5hZGQoJy9jYXJ0L3VwZGF0ZS5qcycsIHtcbiAgICAgICAgbm90ZTogbm90ZVxuICAgICAgfSwgb3B0aW9ucyk7XG4gICAgfVxuICB9O1xuXG4gICRkb2N1bWVudCA9IGpRdWVyeShkb2N1bWVudCk7XG5cbiAgQ2FydEpTLkRhdGEgPSB7XG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICBDYXJ0SlMuRGF0YS5zZXRFdmVudExpc3RlbmVycygnb24nKTtcbiAgICAgIHJldHVybiBDYXJ0SlMuRGF0YS5yZW5kZXIobnVsbCwgQ2FydEpTLmNhcnQpO1xuICAgIH0sXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQ2FydEpTLkRhdGEuc2V0RXZlbnRMaXN0ZW5lcnMoJ29mZicpO1xuICAgIH0sXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnM6IGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgJGRvY3VtZW50W21ldGhvZF0oJ2NsaWNrJywgJ1tkYXRhLWNhcnQtYWRkXScsIENhcnRKUy5EYXRhLmFkZCk7XG4gICAgICAkZG9jdW1lbnRbbWV0aG9kXSgnY2xpY2snLCAnW2RhdGEtY2FydC1yZW1vdmVdJywgQ2FydEpTLkRhdGEucmVtb3ZlKTtcbiAgICAgICRkb2N1bWVudFttZXRob2RdKCdjbGljaycsICdbZGF0YS1jYXJ0LXJlbW92ZS1pZF0nLCBDYXJ0SlMuRGF0YS5yZW1vdmVCeUlkKTtcbiAgICAgICRkb2N1bWVudFttZXRob2RdKCdjbGljaycsICdbZGF0YS1jYXJ0LXVwZGF0ZV0nLCBDYXJ0SlMuRGF0YS51cGRhdGUpO1xuICAgICAgJGRvY3VtZW50W21ldGhvZF0oJ2NsaWNrJywgJ1tkYXRhLWNhcnQtdXBkYXRlLWlkXScsIENhcnRKUy5EYXRhLnVwZGF0ZUJ5SWQpO1xuICAgICAgJGRvY3VtZW50W21ldGhvZF0oJ2NsaWNrJywgJ1tkYXRhLWNhcnQtY2xlYXJdJywgQ2FydEpTLkRhdGEuY2xlYXIpO1xuICAgICAgJGRvY3VtZW50W21ldGhvZF0oJ2NoYW5nZScsICdbZGF0YS1jYXJ0LXRvZ2dsZV0nLCBDYXJ0SlMuRGF0YS50b2dnbGUpO1xuICAgICAgJGRvY3VtZW50W21ldGhvZF0oJ2NoYW5nZScsICdbZGF0YS1jYXJ0LXRvZ2dsZS1hdHRyaWJ1dGVdJywgQ2FydEpTLkRhdGEudG9nZ2xlQXR0cmlidXRlKTtcbiAgICAgICRkb2N1bWVudFttZXRob2RdKCdzdWJtaXQnLCAnW2RhdGEtY2FydC1zdWJtaXRdJywgQ2FydEpTLkRhdGEuc3VibWl0KTtcbiAgICAgIHJldHVybiAkZG9jdW1lbnRbbWV0aG9kXSgnY2FydC5yZXF1ZXN0Q29tcGxldGUnLCBDYXJ0SlMuRGF0YS5yZW5kZXIpO1xuICAgIH0sXG4gICAgYWRkOiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgJHRoaXM7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkdGhpcyA9IGpRdWVyeSh0aGlzKTtcbiAgICAgIHJldHVybiBDYXJ0SlMuQ29yZS5hZGRJdGVtKCR0aGlzLmF0dHIoJ2RhdGEtY2FydC1hZGQnKSwgJHRoaXMuYXR0cignZGF0YS1jYXJ0LXF1YW50aXR5JykpO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgJHRoaXM7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkdGhpcyA9IGpRdWVyeSh0aGlzKTtcbiAgICAgIHJldHVybiBDYXJ0SlMuQ29yZS5yZW1vdmVJdGVtKCR0aGlzLmF0dHIoJ2RhdGEtY2FydC1yZW1vdmUnKSk7XG4gICAgfSxcbiAgICByZW1vdmVCeUlkOiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgJHRoaXM7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkdGhpcyA9IGpRdWVyeSh0aGlzKTtcbiAgICAgIHJldHVybiBDYXJ0SlMuQ29yZS5yZW1vdmVJdGVtQnlJZCgkdGhpcy5hdHRyKCdkYXRhLWNhcnQtcmVtb3ZlLWlkJykpO1xuICAgIH0sXG4gICAgdXBkYXRlOiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgJHRoaXM7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkdGhpcyA9IGpRdWVyeSh0aGlzKTtcbiAgICAgIHJldHVybiBDYXJ0SlMuQ29yZS51cGRhdGVJdGVtKCR0aGlzLmF0dHIoJ2RhdGEtY2FydC11cGRhdGUnKSwgJHRoaXMuYXR0cignZGF0YS1jYXJ0LXF1YW50aXR5JykpO1xuICAgIH0sXG4gICAgdXBkYXRlQnlJZDogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyICR0aGlzO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJHRoaXMgPSBqUXVlcnkodGhpcyk7XG4gICAgICByZXR1cm4gQ2FydEpTLkNvcmUudXBkYXRlSXRlbUJ5SWQoJHRoaXMuYXR0cignZGF0YS1jYXJ0LXVwZGF0ZS1pZCcpLCAkdGhpcy5hdHRyKCdkYXRhLWNhcnQtcXVhbnRpdHknKSk7XG4gICAgfSxcbiAgICBjbGVhcjogZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIENhcnRKUy5Db3JlLmNsZWFyKCk7XG4gICAgfSxcbiAgICB0b2dnbGU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciAkaW5wdXQsIGlkO1xuICAgICAgJGlucHV0ID0galF1ZXJ5KHRoaXMpO1xuICAgICAgaWQgPSAkaW5wdXQuYXR0cignZGF0YS1jYXJ0LXRvZ2dsZScpO1xuICAgICAgaWYgKCRpbnB1dC5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICByZXR1cm4gQ2FydEpTLkNvcmUuYWRkSXRlbShpZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gQ2FydEpTLkNvcmUucmVtb3ZlSXRlbUJ5SWQoaWQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdG9nZ2xlQXR0cmlidXRlOiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgJGlucHV0LCBhdHRyaWJ1dGU7XG4gICAgICAkaW5wdXQgPSBqUXVlcnkodGhpcyk7XG4gICAgICBhdHRyaWJ1dGUgPSAkaW5wdXQuYXR0cignZGF0YS1jYXJ0LXRvZ2dsZS1hdHRyaWJ1dGUnKTtcbiAgICAgIHJldHVybiBDYXJ0SlMuQ29yZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCAkaW5wdXQuaXMoJzpjaGVja2VkJykgPyAnWWVzJyA6ICcnKTtcbiAgICB9LFxuICAgIHN1Ym1pdDogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIGRhdGFBcnJheSwgaWQsIHByb3BlcnRpZXMsIHF1YW50aXR5O1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZGF0YUFycmF5ID0galF1ZXJ5KHRoaXMpLnNlcmlhbGl6ZUFycmF5KCk7XG4gICAgICBpZCA9IHZvaWQgMDtcbiAgICAgIHF1YW50aXR5ID0gdm9pZCAwO1xuICAgICAgcHJvcGVydGllcyA9IHt9O1xuICAgICAgalF1ZXJ5LmVhY2goZGF0YUFycmF5LCBmdW5jdGlvbihpLCBpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtLm5hbWUgPT09ICdpZCcpIHtcbiAgICAgICAgICByZXR1cm4gaWQgPSBpdGVtLnZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ubmFtZSA9PT0gJ3F1YW50aXR5Jykge1xuICAgICAgICAgIHJldHVybiBxdWFudGl0eSA9IGl0ZW0udmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHByb3BlcnRpZXNbaXRlbS5uYW1lXSA9IGl0ZW0udmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIENhcnRKUy5Db3JlLmFkZEl0ZW0oaWQsIHF1YW50aXR5LCBDYXJ0SlMuVXRpbHMudW53cmFwS2V5cyhwcm9wZXJ0aWVzKSk7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKGUsIGNhcnQpIHtcbiAgICAgIHZhciBjb250ZXh0O1xuICAgICAgY29udGV4dCA9IHtcbiAgICAgICAgJ2l0ZW1fY291bnQnOiBjYXJ0Lml0ZW1fY291bnQsXG4gICAgICAgICd0b3RhbF9wcmljZSc6IGNhcnQudG90YWxfcHJpY2UsXG4gICAgICAgICd0b3RhbF9wcmljZV9tb25leSc6IENhcnRKUy5VdGlscy5mb3JtYXRNb25leShjYXJ0LnRvdGFsX3ByaWNlLCBDYXJ0SlMuc2V0dGluZ3MubW9uZXlGb3JtYXQpLFxuICAgICAgICAndG90YWxfcHJpY2VfbW9uZXlfd2l0aF9jdXJyZW5jeSc6IENhcnRKUy5VdGlscy5mb3JtYXRNb25leShjYXJ0LnRvdGFsX3ByaWNlLCBDYXJ0SlMuc2V0dGluZ3MubW9uZXlXaXRoQ3VycmVuY3lGb3JtYXQpXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGpRdWVyeSgnW2RhdGEtY2FydC1yZW5kZXJdJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICR0aGlzO1xuICAgICAgICAkdGhpcyA9IGpRdWVyeSh0aGlzKTtcbiAgICAgICAgcmV0dXJuICR0aGlzLnRleHQoY29udGV4dFskdGhpcy5hdHRyKCdkYXRhLWNhcnQtcmVuZGVyJyldKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBpZiAoJ3JpdmV0cycgaW4gd2luZG93KSB7XG4gICAgQ2FydEpTLlJpdmV0cyA9IHtcbiAgICAgIHZpZXdzOiBbXSxcbiAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gQ2FydEpTLlJpdmV0cy5iaW5kVmlld3MoKTtcbiAgICAgIH0sXG4gICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIENhcnRKUy5SaXZldHMudW5iaW5kVmlld3MoKTtcbiAgICAgIH0sXG4gICAgICBiaW5kVmlld3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbW9kZWxzO1xuICAgICAgICBDYXJ0SlMuVXRpbHMubG9nKCdSaXZldHMuanMgaXMgcHJlc2VudCwgYmluZGluZyB2aWV3cy4nKTtcbiAgICAgICAgQ2FydEpTLlJpdmV0cy51bmJpbmRWaWV3cygpO1xuICAgICAgICBtb2RlbHMgPSBDYXJ0SlMuVXRpbHMuZXh0ZW5kKHtcbiAgICAgICAgICBjYXJ0OiBDYXJ0SlMuY2FydFxuICAgICAgICB9LCBDYXJ0SlMuc2V0dGluZ3Mucml2ZXRzTW9kZWxzKTtcbiAgICAgICAgcmV0dXJuIGpRdWVyeSgnW2RhdGEtY2FydC12aWV3XScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIENhcnRKUy5SaXZldHMudmlld3MucHVzaChyaXZldHMuYmluZCh0aGlzLCBtb2RlbHMpKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgdW5iaW5kVmlld3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmlldywgX2ksIF9sZW4sIF9yZWY7XG4gICAgICAgIF9yZWYgPSBDYXJ0SlMuUml2ZXRzLnZpZXdzO1xuICAgICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICB2aWV3ID0gX3JlZltfaV07XG4gICAgICAgICAgdmlldy51bmJpbmQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQ2FydEpTLlJpdmV0cy52aWV3cyA9IFtdO1xuICAgICAgfVxuICAgIH07XG4gICAgcml2ZXRzLmZvcm1hdHRlcnMuZXEgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICByZXR1cm4gYSA9PT0gYjtcbiAgICB9O1xuICAgIHJpdmV0cy5mb3JtYXR0ZXJzLmx0ID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIGEgPCBiO1xuICAgIH07XG4gICAgcml2ZXRzLmZvcm1hdHRlcnMuZ3QgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICByZXR1cm4gYSA+IGI7XG4gICAgfTtcbiAgICByaXZldHMuZm9ybWF0dGVycy5ub3QgPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gIWE7XG4gICAgfTtcbiAgICByaXZldHMuZm9ybWF0dGVycy5lbXB0eSA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiAhYS5sZW5ndGg7XG4gICAgfTtcbiAgICByaXZldHMuZm9ybWF0dGVycy5wbHVzID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KGEpICsgcGFyc2VJbnQoYik7XG4gICAgfTtcbiAgICByaXZldHMuZm9ybWF0dGVycy5taW51cyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHJldHVybiBwYXJzZUludChhKSAtIHBhcnNlSW50KGIpO1xuICAgIH07XG4gICAgcml2ZXRzLmZvcm1hdHRlcnMucHJlcGVuZCA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHJldHVybiBiICsgYTtcbiAgICB9O1xuICAgIHJpdmV0cy5mb3JtYXR0ZXJzLmFwcGVuZCA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHJldHVybiBhICsgYjtcbiAgICB9O1xuICAgIHJpdmV0cy5mb3JtYXR0ZXJzLm1vbmV5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBDYXJ0SlMuVXRpbHMuZm9ybWF0TW9uZXkodmFsdWUsIENhcnRKUy5zZXR0aW5ncy5tb25leUZvcm1hdCk7XG4gICAgfTtcbiAgICByaXZldHMuZm9ybWF0dGVycy5tb25leV93aXRoX2N1cnJlbmN5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBDYXJ0SlMuVXRpbHMuZm9ybWF0TW9uZXkodmFsdWUsIENhcnRKUy5zZXR0aW5ncy5tb25leVdpdGhDdXJyZW5jeUZvcm1hdCk7XG4gICAgfTtcbiAgICByaXZldHMuZm9ybWF0dGVycy5wcm9kdWN0SW1hZ2VTaXplID0gZnVuY3Rpb24oc3JjLCBzaXplKSB7XG4gICAgICByZXR1cm4gQ2FydEpTLlV0aWxzLmdldFNpemVkSW1hZ2VVcmwoc3JjLCBzaXplKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIENhcnRKUy5SaXZldHMgPSB7XG4gICAgICBpbml0OiBmdW5jdGlvbigpIHt9LFxuICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7fVxuICAgIH07XG4gIH1cblxuICBDYXJ0SlMuZmFjdG9yeSA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiAgICBleHBvcnRzLmluaXQgPSBDYXJ0SlMuaW5pdDtcbiAgICBleHBvcnRzLmNvbmZpZ3VyZSA9IENhcnRKUy5jb25maWd1cmU7XG4gICAgZXhwb3J0cy5jYXJ0ID0gQ2FydEpTLmNhcnQ7XG4gICAgZXhwb3J0cy5zZXR0aW5ncyA9IENhcnRKUy5zZXR0aW5ncztcbiAgICBleHBvcnRzLmFkZEl0ZW0gPSBDYXJ0SlMuQ29yZS5hZGRJdGVtO1xuICAgIGV4cG9ydHMudXBkYXRlSXRlbSA9IENhcnRKUy5Db3JlLnVwZGF0ZUl0ZW07XG4gICAgZXhwb3J0cy51cGRhdGVJdGVtQnlJZCA9IENhcnRKUy5Db3JlLnVwZGF0ZUl0ZW1CeUlkO1xuICAgIGV4cG9ydHMudXBkYXRlSXRlbVF1YW50aXRpZXNCeUlkID0gQ2FydEpTLkNvcmUudXBkYXRlSXRlbVF1YW50aXRpZXNCeUlkO1xuICAgIGV4cG9ydHMucmVtb3ZlSXRlbSA9IENhcnRKUy5Db3JlLnJlbW92ZUl0ZW07XG4gICAgZXhwb3J0cy5jbGVhciA9IENhcnRKUy5Db3JlLmNsZWFyO1xuICAgIGV4cG9ydHMuZ2V0QXR0cmlidXRlID0gQ2FydEpTLkNvcmUuZ2V0QXR0cmlidXRlO1xuICAgIGV4cG9ydHMuc2V0QXR0cmlidXRlID0gQ2FydEpTLkNvcmUuc2V0QXR0cmlidXRlO1xuICAgIGV4cG9ydHMuZ2V0QXR0cmlidXRlcyA9IENhcnRKUy5Db3JlLmdldEF0dHJpYnV0ZXM7XG4gICAgZXhwb3J0cy5zZXRBdHRyaWJ1dGVzID0gQ2FydEpTLkNvcmUuc2V0QXR0cmlidXRlcztcbiAgICBleHBvcnRzLmNsZWFyQXR0cmlidXRlcyA9IENhcnRKUy5Db3JlLmNsZWFyQXR0cmlidXRlcztcbiAgICBleHBvcnRzLmdldE5vdGUgPSBDYXJ0SlMuQ29yZS5nZXROb3RlO1xuICAgIHJldHVybiBleHBvcnRzLnNldE5vdGUgPSBDYXJ0SlMuQ29yZS5zZXROb3RlO1xuICB9O1xuXG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBDYXJ0SlMuZmFjdG9yeShleHBvcnRzKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoWydleHBvcnRzJ10sIGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiAgICAgIENhcnRKUy5mYWN0b3J5KHRoaXMuQ2FydEpTID0gZXhwb3J0cyk7XG4gICAgICByZXR1cm4gZXhwb3J0cztcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBDYXJ0SlMuZmFjdG9yeSh0aGlzLkNhcnRKUyA9IHt9KTtcbiAgfVxuXG59KS5jYWxsKHRoaXMpO1xuIiwiLyohXG4gKiBpbWFnZXNMb2FkZWQgdjMuMS44XG4gKiBKYXZhU2NyaXB0IGlzIGFsbCBsaWtlIFwiWW91IGltYWdlcyBhcmUgZG9uZSB5ZXQgb3Igd2hhdD9cIlxuICogTUlUIExpY2Vuc2VcbiAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7ICd1c2Ugc3RyaWN0JztcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG5cbiAgLypnbG9iYWwgZGVmaW5lOiBmYWxzZSwgbW9kdWxlOiBmYWxzZSwgcmVxdWlyZTogZmFsc2UgKi9cblxuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoIFtcbiAgICAgICdldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyJyxcbiAgICAgICdldmVudGllL2V2ZW50aWUnXG4gICAgXSwgZnVuY3Rpb24oIEV2ZW50RW1pdHRlciwgZXZlbnRpZSApIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KCB3aW5kb3csIEV2ZW50RW1pdHRlciwgZXZlbnRpZSApO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICByZXF1aXJlKCd3b2xmeTg3LWV2ZW50ZW1pdHRlcicpLFxuICAgICAgcmVxdWlyZSgnZXZlbnRpZScpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5pbWFnZXNMb2FkZWQgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgd2luZG93LkV2ZW50RW1pdHRlcixcbiAgICAgIHdpbmRvdy5ldmVudGllXG4gICAgKTtcbiAgfVxuXG59KSggd2luZG93LFxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgZmFjdG9yeSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEV2ZW50RW1pdHRlciwgZXZlbnRpZSApIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgJCA9IHdpbmRvdy5qUXVlcnk7XG52YXIgY29uc29sZSA9IHdpbmRvdy5jb25zb2xlO1xudmFyIGhhc0NvbnNvbGUgPSB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCc7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLy8gZXh0ZW5kIG9iamVjdHNcbmZ1bmN0aW9uIGV4dGVuZCggYSwgYiApIHtcbiAgZm9yICggdmFyIHByb3AgaW4gYiApIHtcbiAgICBhWyBwcm9wIF0gPSBiWyBwcm9wIF07XG4gIH1cbiAgcmV0dXJuIGE7XG59XG5cbnZhciBvYmpUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5mdW5jdGlvbiBpc0FycmF5KCBvYmogKSB7XG4gIHJldHVybiBvYmpUb1N0cmluZy5jYWxsKCBvYmogKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLy8gdHVybiBlbGVtZW50IG9yIG5vZGVMaXN0IGludG8gYW4gYXJyYXlcbmZ1bmN0aW9uIG1ha2VBcnJheSggb2JqICkge1xuICB2YXIgYXJ5ID0gW107XG4gIGlmICggaXNBcnJheSggb2JqICkgKSB7XG4gICAgLy8gdXNlIG9iamVjdCBpZiBhbHJlYWR5IGFuIGFycmF5XG4gICAgYXJ5ID0gb2JqO1xuICB9IGVsc2UgaWYgKCB0eXBlb2Ygb2JqLmxlbmd0aCA9PT0gJ251bWJlcicgKSB7XG4gICAgLy8gY29udmVydCBub2RlTGlzdCB0byBhcnJheVxuICAgIGZvciAoIHZhciBpPTAsIGxlbiA9IG9iai5sZW5ndGg7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgIGFyeS5wdXNoKCBvYmpbaV0gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gYXJyYXkgb2Ygc2luZ2xlIGluZGV4XG4gICAgYXJ5LnB1c2goIG9iaiApO1xuICB9XG4gIHJldHVybiBhcnk7XG59XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaW1hZ2VzTG9hZGVkIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXksIEVsZW1lbnQsIE5vZGVMaXN0LCBTdHJpbmd9IGVsZW1cbiAgICogQHBhcmFtIHtPYmplY3Qgb3IgRnVuY3Rpb259IG9wdGlvbnMgLSBpZiBmdW5jdGlvbiwgdXNlIGFzIGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uQWx3YXlzIC0gY2FsbGJhY2sgZnVuY3Rpb25cbiAgICovXG4gIGZ1bmN0aW9uIEltYWdlc0xvYWRlZCggZWxlbSwgb3B0aW9ucywgb25BbHdheXMgKSB7XG4gICAgLy8gY29lcmNlIEltYWdlc0xvYWRlZCgpIHdpdGhvdXQgbmV3LCB0byBiZSBuZXcgSW1hZ2VzTG9hZGVkKClcbiAgICBpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBJbWFnZXNMb2FkZWQgKSApIHtcbiAgICAgIHJldHVybiBuZXcgSW1hZ2VzTG9hZGVkKCBlbGVtLCBvcHRpb25zICk7XG4gICAgfVxuICAgIC8vIHVzZSBlbGVtIGFzIHNlbGVjdG9yIHN0cmluZ1xuICAgIGlmICggdHlwZW9mIGVsZW0gPT09ICdzdHJpbmcnICkge1xuICAgICAgZWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGVsZW0gKTtcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnRzID0gbWFrZUFycmF5KCBlbGVtICk7XG4gICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKCB7fSwgdGhpcy5vcHRpb25zICk7XG5cbiAgICBpZiAoIHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nICkge1xuICAgICAgb25BbHdheXMgPSBvcHRpb25zO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHRlbmQoIHRoaXMub3B0aW9ucywgb3B0aW9ucyApO1xuICAgIH1cblxuICAgIGlmICggb25BbHdheXMgKSB7XG4gICAgICB0aGlzLm9uKCAnYWx3YXlzJywgb25BbHdheXMgKTtcbiAgICB9XG5cbiAgICB0aGlzLmdldEltYWdlcygpO1xuXG4gICAgaWYgKCAkICkge1xuICAgICAgLy8gYWRkIGpRdWVyeSBEZWZlcnJlZCBvYmplY3RcbiAgICAgIHRoaXMuanFEZWZlcnJlZCA9IG5ldyAkLkRlZmVycmVkKCk7XG4gICAgfVxuXG4gICAgLy8gSEFDSyBjaGVjayBhc3luYyB0byBhbGxvdyB0aW1lIHRvIGJpbmQgbGlzdGVuZXJzXG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgIF90aGlzLmNoZWNrKCk7XG4gICAgfSk7XG4gIH1cblxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUub3B0aW9ucyA9IHt9O1xuXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUuZ2V0SW1hZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbWFnZXMgPSBbXTtcblxuICAgIC8vIGZpbHRlciAmIGZpbmQgaXRlbXMgaWYgd2UgaGF2ZSBhbiBpdGVtIHNlbGVjdG9yXG4gICAgZm9yICggdmFyIGk9MCwgbGVuID0gdGhpcy5lbGVtZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgIHZhciBlbGVtID0gdGhpcy5lbGVtZW50c1tpXTtcbiAgICAgIC8vIGZpbHRlciBzaWJsaW5nc1xuICAgICAgaWYgKCBlbGVtLm5vZGVOYW1lID09PSAnSU1HJyApIHtcbiAgICAgICAgdGhpcy5hZGRJbWFnZSggZWxlbSApO1xuICAgICAgfVxuICAgICAgLy8gZmluZCBjaGlsZHJlblxuICAgICAgLy8gbm8gbm9uLWVsZW1lbnQgbm9kZXMsICMxNDNcbiAgICAgIHZhciBub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG4gICAgICBpZiAoICFub2RlVHlwZSB8fCAhKCBub2RlVHlwZSA9PT0gMSB8fCBub2RlVHlwZSA9PT0gOSB8fCBub2RlVHlwZSA9PT0gMTEgKSApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgY2hpbGRFbGVtcyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnaW1nJyk7XG4gICAgICAvLyBjb25jYXQgY2hpbGRFbGVtcyB0byBmaWx0ZXJGb3VuZCBhcnJheVxuICAgICAgZm9yICggdmFyIGo9MCwgakxlbiA9IGNoaWxkRWxlbXMubGVuZ3RoOyBqIDwgakxlbjsgaisrICkge1xuICAgICAgICB2YXIgaW1nID0gY2hpbGRFbGVtc1tqXTtcbiAgICAgICAgdGhpcy5hZGRJbWFnZSggaW1nICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ltYWdlfSBpbWdcbiAgICovXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUuYWRkSW1hZ2UgPSBmdW5jdGlvbiggaW1nICkge1xuICAgIHZhciBsb2FkaW5nSW1hZ2UgPSBuZXcgTG9hZGluZ0ltYWdlKCBpbWcgKTtcbiAgICB0aGlzLmltYWdlcy5wdXNoKCBsb2FkaW5nSW1hZ2UgKTtcbiAgfTtcblxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgY2hlY2tlZENvdW50ID0gMDtcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy5pbWFnZXMubGVuZ3RoO1xuICAgIHRoaXMuaGFzQW55QnJva2VuID0gZmFsc2U7XG4gICAgLy8gY29tcGxldGUgaWYgbm8gaW1hZ2VzXG4gICAgaWYgKCAhbGVuZ3RoICkge1xuICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQ29uZmlybSggaW1hZ2UsIG1lc3NhZ2UgKSB7XG4gICAgICBpZiAoIF90aGlzLm9wdGlvbnMuZGVidWcgJiYgaGFzQ29uc29sZSApIHtcbiAgICAgICAgY29uc29sZS5sb2coICdjb25maXJtJywgaW1hZ2UsIG1lc3NhZ2UgKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMucHJvZ3Jlc3MoIGltYWdlICk7XG4gICAgICBjaGVja2VkQ291bnQrKztcbiAgICAgIGlmICggY2hlY2tlZENvdW50ID09PSBsZW5ndGggKSB7XG4gICAgICAgIF90aGlzLmNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gYmluZCBvbmNlXG4gICAgfVxuXG4gICAgZm9yICggdmFyIGk9MDsgaSA8IGxlbmd0aDsgaSsrICkge1xuICAgICAgdmFyIGxvYWRpbmdJbWFnZSA9IHRoaXMuaW1hZ2VzW2ldO1xuICAgICAgbG9hZGluZ0ltYWdlLm9uKCAnY29uZmlybScsIG9uQ29uZmlybSApO1xuICAgICAgbG9hZGluZ0ltYWdlLmNoZWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUucHJvZ3Jlc3MgPSBmdW5jdGlvbiggaW1hZ2UgKSB7XG4gICAgdGhpcy5oYXNBbnlCcm9rZW4gPSB0aGlzLmhhc0FueUJyb2tlbiB8fCAhaW1hZ2UuaXNMb2FkZWQ7XG4gICAgLy8gSEFDSyAtIENocm9tZSB0cmlnZ2VycyBldmVudCBiZWZvcmUgb2JqZWN0IHByb3BlcnRpZXMgaGF2ZSBjaGFuZ2VkLiAjODNcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgX3RoaXMuZW1pdCggJ3Byb2dyZXNzJywgX3RoaXMsIGltYWdlICk7XG4gICAgICBpZiAoIF90aGlzLmpxRGVmZXJyZWQgJiYgX3RoaXMuanFEZWZlcnJlZC5ub3RpZnkgKSB7XG4gICAgICAgIF90aGlzLmpxRGVmZXJyZWQubm90aWZ5KCBfdGhpcywgaW1hZ2UgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGV2ZW50TmFtZSA9IHRoaXMuaGFzQW55QnJva2VuID8gJ2ZhaWwnIDogJ2RvbmUnO1xuICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAvLyBIQUNLIC0gYW5vdGhlciBzZXRUaW1lb3V0IHNvIHRoYXQgY29uZmlybSBoYXBwZW5zIGFmdGVyIHByb2dyZXNzXG4gICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICBfdGhpcy5lbWl0KCBldmVudE5hbWUsIF90aGlzICk7XG4gICAgICBfdGhpcy5lbWl0KCAnYWx3YXlzJywgX3RoaXMgKTtcbiAgICAgIGlmICggX3RoaXMuanFEZWZlcnJlZCApIHtcbiAgICAgICAgdmFyIGpxTWV0aG9kID0gX3RoaXMuaGFzQW55QnJva2VuID8gJ3JlamVjdCcgOiAncmVzb2x2ZSc7XG4gICAgICAgIF90aGlzLmpxRGVmZXJyZWRbIGpxTWV0aG9kIF0oIF90aGlzICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0ganF1ZXJ5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgaWYgKCAkICkge1xuICAgICQuZm4uaW1hZ2VzTG9hZGVkID0gZnVuY3Rpb24oIG9wdGlvbnMsIGNhbGxiYWNrICkge1xuICAgICAgdmFyIGluc3RhbmNlID0gbmV3IEltYWdlc0xvYWRlZCggdGhpcywgb3B0aW9ucywgY2FsbGJhY2sgKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZS5qcURlZmVycmVkLnByb21pc2UoICQodGhpcykgKTtcbiAgICB9O1xuICB9XG5cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICBmdW5jdGlvbiBMb2FkaW5nSW1hZ2UoIGltZyApIHtcbiAgICB0aGlzLmltZyA9IGltZztcbiAgfVxuXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIGZpcnN0IGNoZWNrIGNhY2hlZCBhbnkgcHJldmlvdXMgaW1hZ2VzIHRoYXQgaGF2ZSBzYW1lIHNyY1xuICAgIHZhciByZXNvdXJjZSA9IGNhY2hlWyB0aGlzLmltZy5zcmMgXSB8fCBuZXcgUmVzb3VyY2UoIHRoaXMuaW1nLnNyYyApO1xuICAgIGlmICggcmVzb3VyY2UuaXNDb25maXJtZWQgKSB7XG4gICAgICB0aGlzLmNvbmZpcm0oIHJlc291cmNlLmlzTG9hZGVkLCAnY2FjaGVkIHdhcyBjb25maXJtZWQnICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgY29tcGxldGUgaXMgdHJ1ZSBhbmQgYnJvd3NlciBzdXBwb3J0cyBuYXR1cmFsIHNpemVzLFxuICAgIC8vIHRyeSB0byBjaGVjayBmb3IgaW1hZ2Ugc3RhdHVzIG1hbnVhbGx5LlxuICAgIGlmICggdGhpcy5pbWcuY29tcGxldGUgJiYgdGhpcy5pbWcubmF0dXJhbFdpZHRoICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAvLyByZXBvcnQgYmFzZWQgb24gbmF0dXJhbFdpZHRoXG4gICAgICB0aGlzLmNvbmZpcm0oIHRoaXMuaW1nLm5hdHVyYWxXaWR0aCAhPT0gMCwgJ25hdHVyYWxXaWR0aCcgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBub25lIG9mIHRoZSBjaGVja3MgYWJvdmUgbWF0Y2hlZCwgc2ltdWxhdGUgbG9hZGluZyBvbiBkZXRhY2hlZCBlbGVtZW50LlxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgcmVzb3VyY2Uub24oICdjb25maXJtJywgZnVuY3Rpb24oIHJlc3JjLCBtZXNzYWdlICkge1xuICAgICAgX3RoaXMuY29uZmlybSggcmVzcmMuaXNMb2FkZWQsIG1lc3NhZ2UgKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuXG4gICAgcmVzb3VyY2UuY2hlY2soKTtcbiAgfTtcblxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiggaXNMb2FkZWQsIG1lc3NhZ2UgKSB7XG4gICAgdGhpcy5pc0xvYWRlZCA9IGlzTG9hZGVkO1xuICAgIHRoaXMuZW1pdCggJ2NvbmZpcm0nLCB0aGlzLCBtZXNzYWdlICk7XG4gIH07XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gUmVzb3VyY2UgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICAvLyBSZXNvdXJjZSBjaGVja3MgZWFjaCBzcmMsIG9ubHkgb25jZVxuICAvLyBzZXBhcmF0ZSBjbGFzcyBmcm9tIExvYWRpbmdJbWFnZSB0byBwcmV2ZW50IG1lbW9yeSBsZWFrcy4gU2VlICMxMTVcblxuICB2YXIgY2FjaGUgPSB7fTtcblxuICBmdW5jdGlvbiBSZXNvdXJjZSggc3JjICkge1xuICAgIHRoaXMuc3JjID0gc3JjO1xuICAgIC8vIGFkZCB0byBjYWNoZVxuICAgIGNhY2hlWyBzcmMgXSA9IHRoaXM7XG4gIH1cblxuICBSZXNvdXJjZS5wcm90b3R5cGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgUmVzb3VyY2UucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gb25seSB0cmlnZ2VyIGNoZWNraW5nIG9uY2VcbiAgICBpZiAoIHRoaXMuaXNDaGVja2VkICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBzaW11bGF0ZSBsb2FkaW5nIG9uIGRldGFjaGVkIGVsZW1lbnRcbiAgICB2YXIgcHJveHlJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGV2ZW50aWUuYmluZCggcHJveHlJbWFnZSwgJ2xvYWQnLCB0aGlzICk7XG4gICAgZXZlbnRpZS5iaW5kKCBwcm94eUltYWdlLCAnZXJyb3InLCB0aGlzICk7XG4gICAgcHJveHlJbWFnZS5zcmMgPSB0aGlzLnNyYztcbiAgICAvLyBzZXQgZmxhZ1xuICAgIHRoaXMuaXNDaGVja2VkID0gdHJ1ZTtcbiAgfTtcblxuICAvLyAtLS0tLSBldmVudHMgLS0tLS0gLy9cblxuICAvLyB0cmlnZ2VyIHNwZWNpZmllZCBoYW5kbGVyIGZvciBldmVudCB0eXBlXG4gIFJlc291cmNlLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgICB2YXIgbWV0aG9kID0gJ29uJyArIGV2ZW50LnR5cGU7XG4gICAgaWYgKCB0aGlzWyBtZXRob2QgXSApIHtcbiAgICAgIHRoaXNbIG1ldGhvZCBdKCBldmVudCApO1xuICAgIH1cbiAgfTtcblxuICBSZXNvdXJjZS5wcm90b3R5cGUub25sb2FkID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgIHRoaXMuY29uZmlybSggdHJ1ZSwgJ29ubG9hZCcgKTtcbiAgICB0aGlzLnVuYmluZFByb3h5RXZlbnRzKCBldmVudCApO1xuICB9O1xuXG4gIFJlc291cmNlLnByb3RvdHlwZS5vbmVycm9yID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgIHRoaXMuY29uZmlybSggZmFsc2UsICdvbmVycm9yJyApO1xuICAgIHRoaXMudW5iaW5kUHJveHlFdmVudHMoIGV2ZW50ICk7XG4gIH07XG5cbiAgLy8gLS0tLS0gY29uZmlybSAtLS0tLSAvL1xuXG4gIFJlc291cmNlLnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24oIGlzTG9hZGVkLCBtZXNzYWdlICkge1xuICAgIHRoaXMuaXNDb25maXJtZWQgPSB0cnVlO1xuICAgIHRoaXMuaXNMb2FkZWQgPSBpc0xvYWRlZDtcbiAgICB0aGlzLmVtaXQoICdjb25maXJtJywgdGhpcywgbWVzc2FnZSApO1xuICB9O1xuXG4gIFJlc291cmNlLnByb3RvdHlwZS51bmJpbmRQcm94eUV2ZW50cyA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgICBldmVudGllLnVuYmluZCggZXZlbnQudGFyZ2V0LCAnbG9hZCcsIHRoaXMgKTtcbiAgICBldmVudGllLnVuYmluZCggZXZlbnQudGFyZ2V0LCAnZXJyb3InLCB0aGlzICk7XG4gIH07XG5cbiAgLy8gLS0tLS0gIC0tLS0tIC8vXG5cbiAgcmV0dXJuIEltYWdlc0xvYWRlZDtcblxufSk7XG4iLCIvKiFcbiAqIGV2ZW50aWUgdjEuMC42XG4gKiBldmVudCBiaW5kaW5nIGhlbHBlclxuICogICBldmVudGllLmJpbmQoIGVsZW0sICdjbGljaycsIG15Rm4gKVxuICogICBldmVudGllLnVuYmluZCggZWxlbSwgJ2NsaWNrJywgbXlGbiApXG4gKiBNSVQgbGljZW5zZVxuICovXG5cbi8qanNoaW50IGJyb3dzZXI6IHRydWUsIHVuZGVmOiB0cnVlLCB1bnVzZWQ6IHRydWUgKi9cbi8qZ2xvYmFsIGRlZmluZTogZmFsc2UsIG1vZHVsZTogZmFsc2UgKi9cblxuKCBmdW5jdGlvbiggd2luZG93ICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG52YXIgYmluZCA9IGZ1bmN0aW9uKCkge307XG5cbmZ1bmN0aW9uIGdldElFRXZlbnQoIG9iaiApIHtcbiAgdmFyIGV2ZW50ID0gd2luZG93LmV2ZW50O1xuICAvLyBhZGQgZXZlbnQudGFyZ2V0XG4gIGV2ZW50LnRhcmdldCA9IGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50IHx8IG9iajtcbiAgcmV0dXJuIGV2ZW50O1xufVxuXG5pZiAoIGRvY0VsZW0uYWRkRXZlbnRMaXN0ZW5lciApIHtcbiAgYmluZCA9IGZ1bmN0aW9uKCBvYmosIHR5cGUsIGZuICkge1xuICAgIG9iai5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBmbiwgZmFsc2UgKTtcbiAgfTtcbn0gZWxzZSBpZiAoIGRvY0VsZW0uYXR0YWNoRXZlbnQgKSB7XG4gIGJpbmQgPSBmdW5jdGlvbiggb2JqLCB0eXBlLCBmbiApIHtcbiAgICBvYmpbIHR5cGUgKyBmbiBdID0gZm4uaGFuZGxlRXZlbnQgP1xuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBldmVudCA9IGdldElFRXZlbnQoIG9iaiApO1xuICAgICAgICBmbi5oYW5kbGVFdmVudC5jYWxsKCBmbiwgZXZlbnQgKTtcbiAgICAgIH0gOlxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBldmVudCA9IGdldElFRXZlbnQoIG9iaiApO1xuICAgICAgICBmbi5jYWxsKCBvYmosIGV2ZW50ICk7XG4gICAgICB9O1xuICAgIG9iai5hdHRhY2hFdmVudCggXCJvblwiICsgdHlwZSwgb2JqWyB0eXBlICsgZm4gXSApO1xuICB9O1xufVxuXG52YXIgdW5iaW5kID0gZnVuY3Rpb24oKSB7fTtcblxuaWYgKCBkb2NFbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIgKSB7XG4gIHVuYmluZCA9IGZ1bmN0aW9uKCBvYmosIHR5cGUsIGZuICkge1xuICAgIG9iai5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBmbiwgZmFsc2UgKTtcbiAgfTtcbn0gZWxzZSBpZiAoIGRvY0VsZW0uZGV0YWNoRXZlbnQgKSB7XG4gIHVuYmluZCA9IGZ1bmN0aW9uKCBvYmosIHR5cGUsIGZuICkge1xuICAgIG9iai5kZXRhY2hFdmVudCggXCJvblwiICsgdHlwZSwgb2JqWyB0eXBlICsgZm4gXSApO1xuICAgIHRyeSB7XG4gICAgICBkZWxldGUgb2JqWyB0eXBlICsgZm4gXTtcbiAgICB9IGNhdGNoICggZXJyICkge1xuICAgICAgLy8gY2FuJ3QgZGVsZXRlIHdpbmRvdyBvYmplY3QgcHJvcGVydGllc1xuICAgICAgb2JqWyB0eXBlICsgZm4gXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG59XG5cbnZhciBldmVudGllID0ge1xuICBiaW5kOiBiaW5kLFxuICB1bmJpbmQ6IHVuYmluZFxufTtcblxuLy8gLS0tLS0gbW9kdWxlIGRlZmluaXRpb24gLS0tLS0gLy9cblxuaWYgKCB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gIC8vIEFNRFxuICBkZWZpbmUoIGV2ZW50aWUgKTtcbn0gZWxzZSBpZiAoIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyApIHtcbiAgLy8gQ29tbW9uSlNcbiAgbW9kdWxlLmV4cG9ydHMgPSBldmVudGllO1xufSBlbHNlIHtcbiAgLy8gYnJvd3NlciBnbG9iYWxcbiAgd2luZG93LmV2ZW50aWUgPSBldmVudGllO1xufVxuXG59KSggd2luZG93ICk7XG4iLCIvKiFcbiAqIEV2ZW50RW1pdHRlciB2NC4yLjExIC0gZ2l0LmlvL2VlXG4gKiBVbmxpY2Vuc2UgLSBodHRwOi8vdW5saWNlbnNlLm9yZy9cbiAqIE9saXZlciBDYWxkd2VsbCAtIGh0dHA6Ly9vbGkubWUudWsvXG4gKiBAcHJlc2VydmVcbiAqL1xuXG47KGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBDbGFzcyBmb3IgbWFuYWdpbmcgZXZlbnRzLlxuICAgICAqIENhbiBiZSBleHRlbmRlZCB0byBwcm92aWRlIGV2ZW50IGZ1bmN0aW9uYWxpdHkgaW4gb3RoZXIgY2xhc3Nlcy5cbiAgICAgKlxuICAgICAqIEBjbGFzcyBFdmVudEVtaXR0ZXIgTWFuYWdlcyBldmVudCByZWdpc3RlcmluZyBhbmQgZW1pdHRpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge31cblxuICAgIC8vIFNob3J0Y3V0cyB0byBpbXByb3ZlIHNwZWVkIGFuZCBzaXplXG4gICAgdmFyIHByb3RvID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZTtcbiAgICB2YXIgZXhwb3J0cyA9IHRoaXM7XG4gICAgdmFyIG9yaWdpbmFsR2xvYmFsVmFsdWUgPSBleHBvcnRzLkV2ZW50RW1pdHRlcjtcblxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBpbmRleCBvZiB0aGUgbGlzdGVuZXIgZm9yIHRoZSBldmVudCBpbiBpdHMgc3RvcmFnZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gbGlzdGVuZXJzIEFycmF5IG9mIGxpc3RlbmVycyB0byBzZWFyY2ggdGhyb3VnaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBNZXRob2QgdG8gbG9vayBmb3IuXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBJbmRleCBvZiB0aGUgc3BlY2lmaWVkIGxpc3RlbmVyLCAtMSBpZiBub3QgZm91bmRcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmRleE9mTGlzdGVuZXIobGlzdGVuZXJzLCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIgaSA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnNbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxpYXMgYSBtZXRob2Qgd2hpbGUga2VlcGluZyB0aGUgY29udGV4dCBjb3JyZWN0LCB0byBhbGxvdyBmb3Igb3ZlcndyaXRpbmcgb2YgdGFyZ2V0IG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSB0YXJnZXQgbWV0aG9kLlxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgYWxpYXNlZCBtZXRob2RcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhbGlhcyhuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBhbGlhc0Nsb3N1cmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1tuYW1lXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxpc3RlbmVyIGFycmF5IGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICAgICAqIFdpbGwgaW5pdGlhbGlzZSB0aGUgZXZlbnQgb2JqZWN0IGFuZCBsaXN0ZW5lciBhcnJheXMgaWYgcmVxdWlyZWQuXG4gICAgICogV2lsbCByZXR1cm4gYW4gb2JqZWN0IGlmIHlvdSB1c2UgYSByZWdleCBzZWFyY2guIFRoZSBvYmplY3QgY29udGFpbnMga2V5cyBmb3IgZWFjaCBtYXRjaGVkIGV2ZW50LiBTbyAvYmFbcnpdLyBtaWdodCByZXR1cm4gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYmFyIGFuZCBiYXouIEJ1dCBvbmx5IGlmIHlvdSBoYXZlIGVpdGhlciBkZWZpbmVkIHRoZW0gd2l0aCBkZWZpbmVFdmVudCBvciBhZGRlZCBzb21lIGxpc3RlbmVycyB0byB0aGVtLlxuICAgICAqIEVhY2ggcHJvcGVydHkgaW4gdGhlIG9iamVjdCByZXNwb25zZSBpcyBhbiBhcnJheSBvZiBsaXN0ZW5lciBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byByZXR1cm4gdGhlIGxpc3RlbmVycyBmcm9tLlxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9uW118T2JqZWN0fSBBbGwgbGlzdGVuZXIgZnVuY3Rpb25zIGZvciB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgcHJvdG8uZ2V0TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TGlzdGVuZXJzKGV2dCkge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5fZ2V0RXZlbnRzKCk7XG4gICAgICAgIHZhciByZXNwb25zZTtcbiAgICAgICAgdmFyIGtleTtcblxuICAgICAgICAvLyBSZXR1cm4gYSBjb25jYXRlbmF0ZWQgYXJyYXkgb2YgYWxsIG1hdGNoaW5nIGV2ZW50cyBpZlxuICAgICAgICAvLyB0aGUgc2VsZWN0b3IgaXMgYSByZWd1bGFyIGV4cHJlc3Npb24uXG4gICAgICAgIGlmIChldnQgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0ge307XG4gICAgICAgICAgICBmb3IgKGtleSBpbiBldmVudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzLmhhc093blByb3BlcnR5KGtleSkgJiYgZXZ0LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVtrZXldID0gZXZlbnRzW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSBldmVudHNbZXZ0XSB8fCAoZXZlbnRzW2V2dF0gPSBbXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRha2VzIGEgbGlzdCBvZiBsaXN0ZW5lciBvYmplY3RzIGFuZCBmbGF0dGVucyBpdCBpbnRvIGEgbGlzdCBvZiBsaXN0ZW5lciBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBsaXN0ZW5lcnMgUmF3IGxpc3RlbmVyIG9iamVjdHMuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb25bXX0gSnVzdCB0aGUgbGlzdGVuZXIgZnVuY3Rpb25zLlxuICAgICAqL1xuICAgIHByb3RvLmZsYXR0ZW5MaXN0ZW5lcnMgPSBmdW5jdGlvbiBmbGF0dGVuTGlzdGVuZXJzKGxpc3RlbmVycykge1xuICAgICAgICB2YXIgZmxhdExpc3RlbmVycyA9IFtdO1xuICAgICAgICB2YXIgaTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBmbGF0TGlzdGVuZXJzLnB1c2gobGlzdGVuZXJzW2ldLmxpc3RlbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmbGF0TGlzdGVuZXJzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHRoZSByZXF1ZXN0ZWQgbGlzdGVuZXJzIHZpYSBnZXRMaXN0ZW5lcnMgYnV0IHdpbGwgYWx3YXlzIHJldHVybiB0aGUgcmVzdWx0cyBpbnNpZGUgYW4gb2JqZWN0LiBUaGlzIGlzIG1haW5seSBmb3IgaW50ZXJuYWwgdXNlIGJ1dCBvdGhlcnMgbWF5IGZpbmQgaXQgdXNlZnVsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gcmV0dXJuIHRoZSBsaXN0ZW5lcnMgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEFsbCBsaXN0ZW5lciBmdW5jdGlvbnMgZm9yIGFuIGV2ZW50IGluIGFuIG9iamVjdC5cbiAgICAgKi9cbiAgICBwcm90by5nZXRMaXN0ZW5lcnNBc09iamVjdCA9IGZ1bmN0aW9uIGdldExpc3RlbmVyc0FzT2JqZWN0KGV2dCkge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnMoZXZ0KTtcbiAgICAgICAgdmFyIHJlc3BvbnNlO1xuXG4gICAgICAgIGlmIChsaXN0ZW5lcnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSB7fTtcbiAgICAgICAgICAgIHJlc3BvbnNlW2V2dF0gPSBsaXN0ZW5lcnM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzcG9uc2UgfHwgbGlzdGVuZXJzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgZnVuY3Rpb24gdG8gdGhlIHNwZWNpZmllZCBldmVudC5cbiAgICAgKiBUaGUgbGlzdGVuZXIgd2lsbCBub3QgYmUgYWRkZWQgaWYgaXQgaXMgYSBkdXBsaWNhdGUuXG4gICAgICogSWYgdGhlIGxpc3RlbmVyIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBpdCBpcyBjYWxsZWQuXG4gICAgICogSWYgeW91IHBhc3MgYSByZWd1bGFyIGV4cHJlc3Npb24gYXMgdGhlIGV2ZW50IG5hbWUgdGhlbiB0aGUgbGlzdGVuZXIgd2lsbCBiZSBhZGRlZCB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBhdHRhY2ggdGhlIGxpc3RlbmVyIHRvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBjYWxsaW5nLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChldnQpO1xuICAgICAgICB2YXIgbGlzdGVuZXJJc1dyYXBwZWQgPSB0eXBlb2YgbGlzdGVuZXIgPT09ICdvYmplY3QnO1xuICAgICAgICB2YXIga2V5O1xuXG4gICAgICAgIGZvciAoa2V5IGluIGxpc3RlbmVycykge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGluZGV4T2ZMaXN0ZW5lcihsaXN0ZW5lcnNba2V5XSwgbGlzdGVuZXIpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyc1trZXldLnB1c2gobGlzdGVuZXJJc1dyYXBwZWQgPyBsaXN0ZW5lciA6IHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyLFxuICAgICAgICAgICAgICAgICAgICBvbmNlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWFzIG9mIGFkZExpc3RlbmVyXG4gICAgICovXG4gICAgcHJvdG8ub24gPSBhbGlhcygnYWRkTGlzdGVuZXInKTtcblxuICAgIC8qKlxuICAgICAqIFNlbWktYWxpYXMgb2YgYWRkTGlzdGVuZXIuIEl0IHdpbGwgYWRkIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlXG4gICAgICogYXV0b21hdGljYWxseSByZW1vdmVkIGFmdGVyIGl0cyBmaXJzdCBleGVjdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBhdHRhY2ggdGhlIGxpc3RlbmVyIHRvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBjYWxsaW5nLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmFkZE9uY2VMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZE9uY2VMaXN0ZW5lcihldnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZExpc3RlbmVyKGV2dCwge1xuICAgICAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyLFxuICAgICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxpYXMgb2YgYWRkT25jZUxpc3RlbmVyLlxuICAgICAqL1xuICAgIHByb3RvLm9uY2UgPSBhbGlhcygnYWRkT25jZUxpc3RlbmVyJyk7XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIGFuIGV2ZW50IG5hbWUuIFRoaXMgaXMgcmVxdWlyZWQgaWYgeW91IHdhbnQgdG8gdXNlIGEgcmVnZXggdG8gYWRkIGEgbGlzdGVuZXIgdG8gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuIElmIHlvdSBkb24ndCBkbyB0aGlzIHRoZW4gaG93IGRvIHlvdSBleHBlY3QgaXQgdG8ga25vdyB3aGF0IGV2ZW50IHRvIGFkZCB0bz8gU2hvdWxkIGl0IGp1c3QgYWRkIHRvIGV2ZXJ5IHBvc3NpYmxlIG1hdGNoIGZvciBhIHJlZ2V4PyBOby4gVGhhdCBpcyBzY2FyeSBhbmQgYmFkLlxuICAgICAqIFlvdSBuZWVkIHRvIHRlbGwgaXQgd2hhdCBldmVudCBuYW1lcyBzaG91bGQgYmUgbWF0Y2hlZCBieSBhIHJlZ2V4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBjcmVhdGUuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8uZGVmaW5lRXZlbnQgPSBmdW5jdGlvbiBkZWZpbmVFdmVudChldnQpIHtcbiAgICAgICAgdGhpcy5nZXRMaXN0ZW5lcnMoZXZ0KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZXMgZGVmaW5lRXZlbnQgdG8gZGVmaW5lIG11bHRpcGxlIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nW119IGV2dHMgQW4gYXJyYXkgb2YgZXZlbnQgbmFtZXMgdG8gZGVmaW5lLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmRlZmluZUV2ZW50cyA9IGZ1bmN0aW9uIGRlZmluZUV2ZW50cyhldnRzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZ0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGhpcy5kZWZpbmVFdmVudChldnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGxpc3RlbmVyIGZ1bmN0aW9uIGZyb20gdGhlIHNwZWNpZmllZCBldmVudC5cbiAgICAgKiBXaGVuIHBhc3NlZCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhcyB0aGUgZXZlbnQgbmFtZSwgaXQgd2lsbCByZW1vdmUgdGhlIGxpc3RlbmVyIGZyb20gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gcmVtb3ZlIHRoZSBsaXN0ZW5lciBmcm9tLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byByZW1vdmUgZnJvbSB0aGUgZXZlbnQuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8ucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGV2dCk7XG4gICAgICAgIHZhciBpbmRleDtcbiAgICAgICAgdmFyIGtleTtcblxuICAgICAgICBmb3IgKGtleSBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVyc1trZXldLCBsaXN0ZW5lcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyc1trZXldLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWFzIG9mIHJlbW92ZUxpc3RlbmVyXG4gICAgICovXG4gICAgcHJvdG8ub2ZmID0gYWxpYXMoJ3JlbW92ZUxpc3RlbmVyJyk7XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGxpc3RlbmVycyBpbiBidWxrIHVzaW5nIHRoZSBtYW5pcHVsYXRlTGlzdGVuZXJzIG1ldGhvZC5cbiAgICAgKiBJZiB5b3UgcGFzcyBhbiBvYmplY3QgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB5b3UgY2FuIGFkZCB0byBtdWx0aXBsZSBldmVudHMgYXQgb25jZS4gVGhlIG9iamVjdCBzaG91bGQgY29udGFpbiBrZXkgdmFsdWUgcGFpcnMgb2YgZXZlbnRzIGFuZCBsaXN0ZW5lcnMgb3IgbGlzdGVuZXIgYXJyYXlzLiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhbiBldmVudCBuYW1lIGFuZCBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYmUgYWRkZWQuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gYWRkIHRoZSBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqIFllYWgsIHRoaXMgZnVuY3Rpb24gZG9lcyBxdWl0ZSBhIGJpdC4gVGhhdCdzIHByb2JhYmx5IGEgYmFkIHRoaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gZXZ0IEFuIGV2ZW50IG5hbWUgaWYgeW91IHdpbGwgcGFzcyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgbmV4dC4gQW4gb2JqZWN0IGlmIHlvdSB3aXNoIHRvIGFkZCB0byBtdWx0aXBsZSBldmVudHMgYXQgb25jZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW119IFtsaXN0ZW5lcnNdIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0byBhZGQuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8uYWRkTGlzdGVuZXJzID0gZnVuY3Rpb24gYWRkTGlzdGVuZXJzKGV2dCwgbGlzdGVuZXJzKSB7XG4gICAgICAgIC8vIFBhc3MgdGhyb3VnaCB0byBtYW5pcHVsYXRlTGlzdGVuZXJzXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnMoZmFsc2UsIGV2dCwgbGlzdGVuZXJzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsaXN0ZW5lcnMgaW4gYnVsayB1c2luZyB0aGUgbWFuaXB1bGF0ZUxpc3RlbmVycyBtZXRob2QuXG4gICAgICogSWYgeW91IHBhc3MgYW4gb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgeW91IGNhbiByZW1vdmUgZnJvbSBtdWx0aXBsZSBldmVudHMgYXQgb25jZS4gVGhlIG9iamVjdCBzaG91bGQgY29udGFpbiBrZXkgdmFsdWUgcGFpcnMgb2YgZXZlbnRzIGFuZCBsaXN0ZW5lcnMgb3IgbGlzdGVuZXIgYXJyYXlzLlxuICAgICAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGFuIGV2ZW50IG5hbWUgYW5kIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0byBiZSByZW1vdmVkLlxuICAgICAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGEgcmVndWxhciBleHByZXNzaW9uIHRvIHJlbW92ZSB0aGUgbGlzdGVuZXJzIGZyb20gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gZXZ0IEFuIGV2ZW50IG5hbWUgaWYgeW91IHdpbGwgcGFzcyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgbmV4dC4gQW4gb2JqZWN0IGlmIHlvdSB3aXNoIHRvIHJlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gW2xpc3RlbmVyc10gQW4gb3B0aW9uYWwgYXJyYXkgb2YgbGlzdGVuZXIgZnVuY3Rpb25zIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5yZW1vdmVMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcnMoZXZ0LCBsaXN0ZW5lcnMpIHtcbiAgICAgICAgLy8gUGFzcyB0aHJvdWdoIHRvIG1hbmlwdWxhdGVMaXN0ZW5lcnNcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaXB1bGF0ZUxpc3RlbmVycyh0cnVlLCBldnQsIGxpc3RlbmVycyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVkaXRzIGxpc3RlbmVycyBpbiBidWxrLiBUaGUgYWRkTGlzdGVuZXJzIGFuZCByZW1vdmVMaXN0ZW5lcnMgbWV0aG9kcyBib3RoIHVzZSB0aGlzIHRvIGRvIHRoZWlyIGpvYi4gWW91IHNob3VsZCByZWFsbHkgdXNlIHRob3NlIGluc3RlYWQsIHRoaXMgaXMgYSBsaXR0bGUgbG93ZXIgbGV2ZWwuXG4gICAgICogVGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgZGV0ZXJtaW5lIGlmIHRoZSBsaXN0ZW5lcnMgYXJlIHJlbW92ZWQgKHRydWUpIG9yIGFkZGVkIChmYWxzZSkuXG4gICAgICogSWYgeW91IHBhc3MgYW4gb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgeW91IGNhbiBhZGQvcmVtb3ZlIGZyb20gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4ga2V5IHZhbHVlIHBhaXJzIG9mIGV2ZW50cyBhbmQgbGlzdGVuZXJzIG9yIGxpc3RlbmVyIGFycmF5cy5cbiAgICAgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhbiBldmVudCBuYW1lIGFuZCBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYmUgYWRkZWQvcmVtb3ZlZC5cbiAgICAgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYW5pcHVsYXRlIHRoZSBsaXN0ZW5lcnMgb2YgYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSByZW1vdmUgVHJ1ZSBpZiB5b3Ugd2FudCB0byByZW1vdmUgbGlzdGVuZXJzLCBmYWxzZSBpZiB5b3Ugd2FudCB0byBhZGQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gZXZ0IEFuIGV2ZW50IG5hbWUgaWYgeW91IHdpbGwgcGFzcyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgbmV4dC4gQW4gb2JqZWN0IGlmIHlvdSB3aXNoIHRvIGFkZC9yZW1vdmUgZnJvbSBtdWx0aXBsZSBldmVudHMgYXQgb25jZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW119IFtsaXN0ZW5lcnNdIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0byBhZGQvcmVtb3ZlLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLm1hbmlwdWxhdGVMaXN0ZW5lcnMgPSBmdW5jdGlvbiBtYW5pcHVsYXRlTGlzdGVuZXJzKHJlbW92ZSwgZXZ0LCBsaXN0ZW5lcnMpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgdmFyIHNpbmdsZSA9IHJlbW92ZSA/IHRoaXMucmVtb3ZlTGlzdGVuZXIgOiB0aGlzLmFkZExpc3RlbmVyO1xuICAgICAgICB2YXIgbXVsdGlwbGUgPSByZW1vdmUgPyB0aGlzLnJlbW92ZUxpc3RlbmVycyA6IHRoaXMuYWRkTGlzdGVuZXJzO1xuXG4gICAgICAgIC8vIElmIGV2dCBpcyBhbiBvYmplY3QgdGhlbiBwYXNzIGVhY2ggb2YgaXRzIHByb3BlcnRpZXMgdG8gdGhpcyBtZXRob2RcbiAgICAgICAgaWYgKHR5cGVvZiBldnQgPT09ICdvYmplY3QnICYmICEoZXZ0IGluc3RhbmNlb2YgUmVnRXhwKSkge1xuICAgICAgICAgICAgZm9yIChpIGluIGV2dCkge1xuICAgICAgICAgICAgICAgIGlmIChldnQuaGFzT3duUHJvcGVydHkoaSkgJiYgKHZhbHVlID0gZXZ0W2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBQYXNzIHRoZSBzaW5nbGUgbGlzdGVuZXIgc3RyYWlnaHQgdGhyb3VnaCB0byB0aGUgc2luZ3VsYXIgbWV0aG9kXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZS5jYWxsKHRoaXMsIGksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBwYXNzIGJhY2sgdG8gdGhlIG11bHRpcGxlIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZS5jYWxsKHRoaXMsIGksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNvIGV2dCBtdXN0IGJlIGEgc3RyaW5nXG4gICAgICAgICAgICAvLyBBbmQgbGlzdGVuZXJzIG11c3QgYmUgYW4gYXJyYXkgb2YgbGlzdGVuZXJzXG4gICAgICAgICAgICAvLyBMb29wIG92ZXIgaXQgYW5kIHBhc3MgZWFjaCBvbmUgdG8gdGhlIG11bHRpcGxlIG1ldGhvZFxuICAgICAgICAgICAgaSA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgc2luZ2xlLmNhbGwodGhpcywgZXZ0LCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBmcm9tIGEgc3BlY2lmaWVkIGV2ZW50LlxuICAgICAqIElmIHlvdSBkbyBub3Qgc3BlY2lmeSBhbiBldmVudCB0aGVuIGFsbCBsaXN0ZW5lcnMgd2lsbCBiZSByZW1vdmVkLlxuICAgICAqIFRoYXQgbWVhbnMgZXZlcnkgZXZlbnQgd2lsbCBiZSBlbXB0aWVkLlxuICAgICAqIFlvdSBjYW4gYWxzbyBwYXNzIGEgcmVnZXggdG8gcmVtb3ZlIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gW2V2dF0gT3B0aW9uYWwgbmFtZSBvZiB0aGUgZXZlbnQgdG8gcmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZm9yLiBXaWxsIHJlbW92ZSBmcm9tIGV2ZXJ5IGV2ZW50IGlmIG5vdCBwYXNzZWQuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8ucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiByZW1vdmVFdmVudChldnQpIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgZXZ0O1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5fZ2V0RXZlbnRzKCk7XG4gICAgICAgIHZhciBrZXk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGRpZmZlcmVudCB0aGluZ3MgZGVwZW5kaW5nIG9uIHRoZSBzdGF0ZSBvZiBldnRcbiAgICAgICAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgYWxsIGxpc3RlbmVycyBmb3IgdGhlIHNwZWNpZmllZCBldmVudFxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1tldnRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2dCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGFsbCBldmVudHMgbWF0Y2hpbmcgdGhlIHJlZ2V4LlxuICAgICAgICAgICAgZm9yIChrZXkgaW4gZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGV2dC50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1trZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGluIGFsbCBldmVudHNcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxpYXMgb2YgcmVtb3ZlRXZlbnQuXG4gICAgICpcbiAgICAgKiBBZGRlZCB0byBtaXJyb3IgdGhlIG5vZGUgQVBJLlxuICAgICAqL1xuICAgIHByb3RvLnJlbW92ZUFsbExpc3RlbmVycyA9IGFsaWFzKCdyZW1vdmVFdmVudCcpO1xuXG4gICAgLyoqXG4gICAgICogRW1pdHMgYW4gZXZlbnQgb2YgeW91ciBjaG9pY2UuXG4gICAgICogV2hlbiBlbWl0dGVkLCBldmVyeSBsaXN0ZW5lciBhdHRhY2hlZCB0byB0aGF0IGV2ZW50IHdpbGwgYmUgZXhlY3V0ZWQuXG4gICAgICogSWYgeW91IHBhc3MgdGhlIG9wdGlvbmFsIGFyZ3VtZW50IGFycmF5IHRoZW4gdGhvc2UgYXJndW1lbnRzIHdpbGwgYmUgcGFzc2VkIHRvIGV2ZXJ5IGxpc3RlbmVyIHVwb24gZXhlY3V0aW9uLlxuICAgICAqIEJlY2F1c2UgaXQgdXNlcyBgYXBwbHlgLCB5b3VyIGFycmF5IG9mIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCBhcyBpZiB5b3Ugd3JvdGUgdGhlbSBvdXQgc2VwYXJhdGVseS5cbiAgICAgKiBTbyB0aGV5IHdpbGwgbm90IGFycml2ZSB3aXRoaW4gdGhlIGFycmF5IG9uIHRoZSBvdGhlciBzaWRlLCB0aGV5IHdpbGwgYmUgc2VwYXJhdGUuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gZW1pdCB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBlbWl0IGFuZCBleGVjdXRlIGxpc3RlbmVycyBmb3IuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdIE9wdGlvbmFsIGFycmF5IG9mIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gZWFjaCBsaXN0ZW5lci5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5lbWl0RXZlbnQgPSBmdW5jdGlvbiBlbWl0RXZlbnQoZXZ0LCBhcmdzKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGV2dCk7XG4gICAgICAgIHZhciBsaXN0ZW5lcjtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIHZhciByZXNwb25zZTtcblxuICAgICAgICBmb3IgKGtleSBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIGkgPSBsaXN0ZW5lcnNba2V5XS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBsaXN0ZW5lciByZXR1cm5zIHRydWUgdGhlbiBpdCBzaGFsbCBiZSByZW1vdmVkIGZyb20gdGhlIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBmdW5jdGlvbiBpcyBleGVjdXRlZCBlaXRoZXIgd2l0aCBhIGJhc2ljIGNhbGwgb3IgYW4gYXBwbHkgaWYgdGhlcmUgaXMgYW4gYXJncyBhcnJheVxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyc1trZXldW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vbmNlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2dCwgbGlzdGVuZXIubGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBsaXN0ZW5lci5saXN0ZW5lci5hcHBseSh0aGlzLCBhcmdzIHx8IFtdKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgPT09IHRoaXMuX2dldE9uY2VSZXR1cm5WYWx1ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2dCwgbGlzdGVuZXIubGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWFzIG9mIGVtaXRFdmVudFxuICAgICAqL1xuICAgIHByb3RvLnRyaWdnZXIgPSBhbGlhcygnZW1pdEV2ZW50Jyk7XG5cbiAgICAvKipcbiAgICAgKiBTdWJ0bHkgZGlmZmVyZW50IGZyb20gZW1pdEV2ZW50IGluIHRoYXQgaXQgd2lsbCBwYXNzIGl0cyBhcmd1bWVudHMgb24gdG8gdGhlIGxpc3RlbmVycywgYXMgb3Bwb3NlZCB0byB0YWtpbmcgYSBzaW5nbGUgYXJyYXkgb2YgYXJndW1lbnRzIHRvIHBhc3Mgb24uXG4gICAgICogQXMgd2l0aCBlbWl0RXZlbnQsIHlvdSBjYW4gcGFzcyBhIHJlZ2V4IGluIHBsYWNlIG9mIHRoZSBldmVudCBuYW1lIHRvIGVtaXQgdG8gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gZW1pdCBhbmQgZXhlY3V0ZSBsaXN0ZW5lcnMgZm9yLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gT3B0aW9uYWwgYWRkaXRpb25hbCBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIGVhY2ggbGlzdGVuZXIuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8uZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZ0KSB7XG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdEV2ZW50KGV2dCwgYXJncyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgdmFsdWUgdG8gY2hlY2sgYWdhaW5zdCB3aGVuIGV4ZWN1dGluZyBsaXN0ZW5lcnMuIElmIGFcbiAgICAgKiBsaXN0ZW5lcnMgcmV0dXJuIHZhbHVlIG1hdGNoZXMgdGhlIG9uZSBzZXQgaGVyZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZFxuICAgICAqIGFmdGVyIGV4ZWN1dGlvbi4gVGhpcyB2YWx1ZSBkZWZhdWx0cyB0byB0cnVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgbmV3IHZhbHVlIHRvIGNoZWNrIGZvciB3aGVuIGV4ZWN1dGluZyBsaXN0ZW5lcnMuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8uc2V0T25jZVJldHVyblZhbHVlID0gZnVuY3Rpb24gc2V0T25jZVJldHVyblZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX29uY2VSZXR1cm5WYWx1ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB0aGUgY3VycmVudCB2YWx1ZSB0byBjaGVjayBhZ2FpbnN0IHdoZW4gZXhlY3V0aW5nIGxpc3RlbmVycy4gSWZcbiAgICAgKiB0aGUgbGlzdGVuZXJzIHJldHVybiB2YWx1ZSBtYXRjaGVzIHRoaXMgb25lIHRoZW4gaXQgc2hvdWxkIGJlIHJlbW92ZWRcbiAgICAgKiBhdXRvbWF0aWNhbGx5LiBJdCB3aWxsIHJldHVybiB0cnVlIGJ5IGRlZmF1bHQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHsqfEJvb2xlYW59IFRoZSBjdXJyZW50IHZhbHVlIHRvIGNoZWNrIGZvciBvciB0aGUgZGVmYXVsdCwgdHJ1ZS5cbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5fZ2V0T25jZVJldHVyblZhbHVlID0gZnVuY3Rpb24gX2dldE9uY2VSZXR1cm5WYWx1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoJ19vbmNlUmV0dXJuVmFsdWUnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uY2VSZXR1cm5WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIGV2ZW50cyBvYmplY3QgYW5kIGNyZWF0ZXMgb25lIGlmIHJlcXVpcmVkLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgZXZlbnRzIHN0b3JhZ2Ugb2JqZWN0LlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLl9nZXRFdmVudHMgPSBmdW5jdGlvbiBfZ2V0RXZlbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnRzIHx8ICh0aGlzLl9ldmVudHMgPSB7fSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldmVydHMgdGhlIGdsb2JhbCB7QGxpbmsgRXZlbnRFbWl0dGVyfSB0byBpdHMgcHJldmlvdXMgdmFsdWUgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhpcyB2ZXJzaW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IE5vbiBjb25mbGljdGluZyBFdmVudEVtaXR0ZXIgY2xhc3MuXG4gICAgICovXG4gICAgRXZlbnRFbWl0dGVyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiBub0NvbmZsaWN0KCkge1xuICAgICAgICBleHBvcnRzLkV2ZW50RW1pdHRlciA9IG9yaWdpbmFsR2xvYmFsVmFsdWU7XG4gICAgICAgIHJldHVybiBFdmVudEVtaXR0ZXI7XG4gICAgfTtcblxuICAgIC8vIEV4cG9zZSB0aGUgY2xhc3MgZWl0aGVyIHZpYSBBTUQsIENvbW1vbkpTIG9yIHRoZSBnbG9iYWwgb2JqZWN0XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKXtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcbiAgICB9XG59LmNhbGwodGhpcykpO1xuIiwiKCBmdW5jdGlvbiAoICQgKSB7XG5cbiAgICBpZiAoIHdpbmRvdy5fX29yZGVybHkgKSB7IHJldHVybjsgfSB3aW5kb3cuX19vcmRlcmx5ID0gdHJ1ZTtcblxuICAgIHZhciAkdyA9ICQoIHdpbmRvdyApO1xuXG4gICAgJHcub24oICdyZXNpemUnLCBmdW5jdGlvbiAoIGUgKSB7XG4gICAgICAgICR3LnRyaWdnZXIoICdvcmRlcmx5JyApO1xuICAgIH0pO1xuXG4gICAgLy8gLS0tXG5cbiAgICB2YXIgcHJvdG8gPSB7fTtcblxuICAgIHByb3RvLmluaXQgPSBmdW5jdGlvbiAoICRlbHMgKSB7XG4gICAgICAgIHRoaXMuJGVscyA9ICRlbHM7XG4gICAgICAgIHRoaXMubGVuICA9ICRlbHMubGVuZ3RoO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKiAgICBFdmVudCBIYW5kbGVyc1xuICAgICAgIH5+fn5+fn5+fn5+fn5+fn5+fn5+ICovXG5cbiAgICBwcm90by5hdHRhY2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICggdGhpcy5hdHRhY2hlZCA9PT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgdGhpcy5hdHRhY2hlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICR3Lm9uKCAnb3JkZXJseScsIF9kZWJvdW5jZSggdGhpcy5oYW5kbGVyKCksIDEwMCApICk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG8uaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfcmVzZXQoIHRoYXQgKTtcbiAgICAgICAgICAgIF9lYWNoRWxlbWVudCggdGhhdCApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qICAgIFByaXZhdGVcbiAgICAgICB+fn5+fn5+fn5+fn5+ICovXG5cbiAgICB2YXIgX2VhY2hFbGVtZW50ID0gZnVuY3Rpb24gKCBvYmogKSB7XG4gICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IG9iai5sZW47ICkge1xuICAgICAgICAgICAgaSA9IF9jdXJyZW50Um93KCBvYmosIG51bGwsIDAsIFtdLCBpICk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIF9jdXJyZW50Um93ID0gZnVuY3Rpb24gKCBvYmosIGxhc3RQb3MsIG1heCwgcm93LCBpICkge1xuICAgICAgICBmb3IgKCA7IGkgPCBvYmoubGVuOyApIHtcbiAgICAgICAgICAgIGxhc3RQb3MgPSBfaW5Sb3coIG9iaiwgbGFzdFBvcywgaSApO1xuXG4gICAgICAgICAgICBpZiAoIGxhc3RQb3MgPT09IG51bGwgKSBicmVhaztcblxuICAgICAgICAgICAgbWF4ID0gX21heCggb2JqLCBtYXgsIGkgKTtcbiAgICAgICAgICAgIHJvdy5wdXNoKCBvYmouJGVsc1tpXSApO1xuXG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cblxuICAgICAgICBtYXggPSBfbWF4UHgoIG1heCApO1xuXG4gICAgICAgIF9yZXNpemUoIG9iaiwgJCggcm93ICksIG1heCApO1xuXG4gICAgICAgIHJldHVybiBpO1xuICAgIH07XG5cbiAgICB2YXIgX2luUm93ID0gZnVuY3Rpb24gKCBvYmosIGxhc3RQb3MsIGkgKSB7XG4gICAgICAgIHZhciAkZWwgPSBvYmouJGVscy5lcSggaSApXG4gICAgICAgICAgLCBwb3MgPSAkZWwub2Zmc2V0KCkubGVmdDtcblxuICAgICAgICBpZiAoIGxhc3RQb3MgIT09IG51bGwgJiYgcG9zIDw9IGxhc3RQb3MgKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfTtcblxuICAgIC8vIFJldHVybnMgbGFyZ2VyIG9mIG1heCBhbmQgaGVpZ2h0IG9mIGVsZW1lbnQgaW5kZXhlZCBpLlxuICAgIC8vXG4gICAgdmFyIF9tYXggPSBmdW5jdGlvbiAoIG9iaiwgbWF4LCBpICkge1xuICAgICAgICB2YXIgYm94ICAgICA9IG9iai4kZWxzW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgLCBjdXJyZW50ID0gYm94LmJvdHRvbSAtIGJveC50b3A7XG5cbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KCBtYXgsIGN1cnJlbnQgKTtcbiAgICB9O1xuXG4gICAgLy8gQ29udmVydHMgbiB0byBweCB2YWx1ZSBzdHJpbmcgZm9yIENTUy5cbiAgICAvL1xuICAgIHZhciBfbWF4UHggPSBmdW5jdGlvbiAoIG4gKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKCBuICkudG9TdHJpbmcoKSArICdweCc7XG4gICAgfTtcblxuICAgIHZhciBfcmVzaXplID0gZnVuY3Rpb24gKCBvYmosICRyb3csIGhlaWdodCApIHtcbiAgICAgICAgJHJvdy5lYWNoKCBmdW5jdGlvbiAoIGksIGVsICkge1xuICAgICAgICAgICAgJCggZWwgKS5jc3MoIHsgaGVpZ2h0OiBoZWlnaHQgfSApO1xuXG4gICAgICAgICAgICBfZW1pdCggZWwsICdyZXNpemUnLCBoZWlnaHQsIGksICRyb3cubGVuZ3RoICk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgX3Jlc2V0ID0gZnVuY3Rpb24gKCBvYmogKSB7XG4gICAgICAgIHZhciAkYWxsID0gb2JqLiRlbHM7XG5cbiAgICAgICAgJGFsbC5lYWNoKCBmdW5jdGlvbiAoIGksIGVsICkge1xuICAgICAgICAgICAgX2VtaXQoIGVsLCAncmVzZXQnLCAnJywgaSwgJGFsbC5sZW5ndGggKTtcblxuICAgICAgICAgICAgJCggZWwgKS5jc3MoIHsgaGVpZ2h0OiAnJyB9ICk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgX2VtaXQgPSBmdW5jdGlvbiAoIGVsLCBldmVudCwgaCwgaSwgbCApIHtcbiAgICAgICAgJCggZWwgKS50cmlnZ2VyKCAnb3JkZXJseS4nICsgZXZlbnQsIFsgZWwsIGgsIGksIGwgXSApO1xuICAgIH07XG5cbiAgICAvKiAgICBqUXVlcnkgUGx1Z2luXG4gICAgICAgfn5+fn5+fn5+fn5+fn5+fn5+fiAqL1xuXG4gICAgJC5mbi5vcmRlcmx5ID0gZnVuY3Rpb24gKCBvcHRpb25zICkge1xuICAgICAgICBpZiAoIHRoaXMubGVuZ3RoID4gMCApIHtcbiAgICAgICAgICAgIF9kZWxlZ2F0ZSggdGhpcywgb3B0aW9ucyApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8vIC0tLVxuXG4gICAgdmFyIF9kZWxlZ2F0ZSA9IGZ1bmN0aW9uICggJGVscywgb3B0aW9ucyApIHtcbiAgICAgICAgdmFyIG0gID0gb3B0aW9ucyAmJiBvcHRpb25zLm1ldGhvZCB8fCAncmVnaXN0ZXInXG4gICAgICAgICAgLCBmbiA9IF9tZXRob2RzW21dO1xuXG4gICAgICAgIGZuKCAkZWxzICk7XG4gICAgfTtcblxuICAgIHZhciBfcmVnaXN0ZXIgPSBmdW5jdGlvbiAoICRlbHMgKSB7XG4gICAgICAgIHZhciBvID0gT2JqZWN0LmNyZWF0ZSggcHJvdG8gKS5pbml0KCAkZWxzICk7XG5cbiAgICAgICAgby5hdHRhY2goKTtcbiAgICAgICAgby5oYW5kbGVyKCkoKTtcbiAgICB9O1xuXG4gICAgdmFyIF9tZXRob2RzID0ge307XG5cbiAgICAvLyBDYWxsIGZvciBlYWNoIHNwZWNpZmljIGNvbGxlY3Rpb24gb2YgZWxlbWVudHMgdG8gYWxpZ24gcGVyIHJvdy5cbiAgICAvL1xuICAgIF9tZXRob2RzWydyZWdpc3RlciddID0gX3JlZ2lzdGVyO1xuXG4gICAgLy8gQ2FsbCBvbiBhIGNvbGxlY3Rpb24gb2YgcGFyZW50IGNvbnRhaW5lcnMuIEVhY2ggZGlyZWN0IGNoaWxkIGVsZW1lbnRcbiAgICAvLyB3aWxsIGJlIGdpdmVuIG9yZGVybHkoKS5cbiAgICAvL1xuICAgIF9tZXRob2RzWydjaGlsZHJlbiddID0gZnVuY3Rpb24gKCAkZWxzICkge1xuICAgICAgICB2YXIgYyA9IF9pbmRleENvdW50ZXIrK1xuXG4gICAgICAgIF9hc3NpZ25EYXRhKCAkZWxzLCBjICk7XG4gICAgICAgIF9yZWdpc3RlciggJGVscyApOyAvLyBub24tY2xlYXJlZCBmbG9hdHMgZmx1c2gtbGVmdCBvbiBuZXcgcm93XG4gICAgICAgIF9yZWdpc3RlckNoaWxkcmVuKCAkZWxzLCBjICk7XG4gICAgICAgIF9yZWdpc3RlciggJGVscyApO1xuICAgIH07XG5cbiAgICB2YXIgX3JlZ2lzdGVyQ2hpbGRyZW4gPSBmdW5jdGlvbiAoICRlbHMsIGMgKSB7XG4gICAgICAgIHZhciBsZW4gPSAkZWxzWzBdLmNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgICAgICAgIF9yZWdpc3RlciggX2ZpbmQoIGMsIGkgKSApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIEFzc2lnbiBkYXRhLW9yZGVybHkgZm9yIGFsbCBjaGlsZHJlbiBvZiBlYWNoIGVsZW1lbnQuXG4gICAgLy9cbiAgICB2YXIgX2Fzc2lnbkRhdGEgPSBmdW5jdGlvbiAoICRlbHMsIGMgKSB7XG4gICAgICAgICRlbHMuZWFjaCggZnVuY3Rpb24gKCBpLCBlbCApIHtcbiAgICAgICAgICAgICQoIGVsLmNoaWxkcmVuICkuZWFjaCggZnVuY3Rpb24gKCBpLCBjaCApIHtcbiAgICAgICAgICAgICAgICAkKCBjaCApLmF0dHIoICdkYXRhLW9yZGVybHknLCBjICsgJzonICsgaSApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBSZXR1cm4gY29sbGVjdGlvbiBvZiBlbGVtZW50cyBtYXRjaGluZyBjb3VudGVyIGMgYW5kIGluZGV4IGkuXG4gICAgLy9cbiAgICB2YXIgX2ZpbmQgPSBmdW5jdGlvbiAoIGMsIGkgKSB7XG4gICAgICAgIHJldHVybiAkKCAnW2RhdGEtb3JkZXJseT1cIicgKyBjICsgJzonICsgaSArICdcIl0nICk7XG4gICAgfTtcblxuICAgIC8qICAgIFV0aWxcbiAgICAgICB+fn5+fn5+fn5+ICovXG5cbiAgICB2YXIgX2RlYm91bmNlID0gZnVuY3Rpb24gKCBmbiwgbXMgKSB7XG4gICAgICAgIHZhciB0aW1lb3V0O1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcblxuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBmbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gICAgICAgICAgICB9LCBtcyApO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKiAgICBTdGF0ZVxuICAgICAgIH5+fn5+fn5+fn5+ICovXG5cbiAgICB2YXIgX2luZGV4Q291bnRlciA9IDA7XG5cbn0pKCBqUXVlcnkgKTtcbiIsIi8qX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXG4gXyBqcXVlcnkubWIuY29tcG9uZW50cyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIGZpbGU6IGpxdWVyeS5tYi5ZVFBsYXllci5zcmMuanMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBsYXN0IG1vZGlmaWVkOiAwMS8wNy8xNSAxOS4zNSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIE9wZW4gTGFiIHMuci5sLiwgRmxvcmVuY2UgLSBJdGFseSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gZW1haWw6IG1hdHRlb0BvcGVuLWxhYi5jb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIHNpdGU6IGh0dHA6Ly9wdXB1bnppLmNvbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICBodHRwOi8vb3Blbi1sYWIuY29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gYmxvZzogaHR0cDovL3B1cHVuemkub3Blbi1sYWIuY29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIFEmQTogIGh0dHA6Ly9qcXVlcnkucHVwdW56aS5jb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gTGljZW5jZXM6IE1JVCwgR1BMICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvZ3BsLmh0bWwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIENvcHlyaWdodCAoYykgMjAwMS0yMDE1LiBNYXR0ZW8gQmljb2NjaGkgKFB1cHVuemkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fKi9cbnZhciB5dHAgPSB5dHAgfHwge307XG5cbndpbmRvdy5vbllvdVR1YmVJZnJhbWVBUElSZWFkeSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmKCB5dHAuWVRBUElSZWFkeSApIHJldHVybjtcblx0XHR5dHAuWVRBUElSZWFkeSA9IHRydWU7XG5cdFx0alF1ZXJ5KCBkb2N1bWVudCApLnRyaWdnZXIoIFwiWVRBUElSZWFkeVwiICk7XG59XG5cbnZhciBnZXRZVFBWaWRlb0lEID0gZnVuY3Rpb24oIHVybCApIHtcblx0XHR2YXIgdmlkZW9JRCwgcGxheWxpc3RJRDtcblx0XHRpZiggdXJsLmluZGV4T2YoIFwieW91dHUuYmVcIiApID4gMCApIHtcblx0XHRcdFx0dmlkZW9JRCA9IHVybC5zdWJzdHIoIHVybC5sYXN0SW5kZXhPZiggXCIvXCIgKSArIDEsIHVybC5sZW5ndGggKTtcblx0XHRcdFx0cGxheWxpc3RJRCA9IHZpZGVvSUQuaW5kZXhPZiggXCI/bGlzdD1cIiApID4gMCA/IHZpZGVvSUQuc3Vic3RyKCB2aWRlb0lELmxhc3RJbmRleE9mKCBcIj1cIiApLCB2aWRlb0lELmxlbmd0aCApIDogbnVsbDtcblx0XHRcdFx0dmlkZW9JRCA9IHBsYXlsaXN0SUQgPyB2aWRlb0lELnN1YnN0ciggMCwgdmlkZW9JRC5sYXN0SW5kZXhPZiggXCI/XCIgKSApIDogdmlkZW9JRDtcblx0XHR9IGVsc2UgaWYoIHVybC5pbmRleE9mKCBcImh0dHBcIiApID4gLTEgKSB7XG5cdFx0XHRcdHZpZGVvSUQgPSB1cmwubWF0Y2goIC9bXFxcXD8mXXY9KFteJiNdKikvIClbIDEgXTtcblx0XHRcdFx0cGxheWxpc3RJRCA9IHVybC5pbmRleE9mKCBcImxpc3Q9XCIgKSA+IDAgPyB1cmwubWF0Y2goIC9bXFxcXD8mXWxpc3Q9KFteJiNdKikvIClbIDEgXSA6IG51bGw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdFx0dmlkZW9JRCA9IHVybC5sZW5ndGggPiAxNSA/IG51bGwgOiB1cmw7XG5cdFx0XHRcdHBsYXlsaXN0SUQgPSB2aWRlb0lEID8gbnVsbCA6IHVybDtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdFx0dmlkZW9JRDogdmlkZW9JRCxcblx0XHRcdFx0cGxheWxpc3RJRDogcGxheWxpc3RJRFxuXHRcdH07XG59O1xuXG4oIGZ1bmN0aW9uKCBqUXVlcnksIHl0cCApIHtcblxuXHRcdGpRdWVyeS5tYllUUGxheWVyID0ge1xuXHRcdFx0XHRuYW1lOiBcImpxdWVyeS5tYi5ZVFBsYXllclwiLFxuXHRcdFx0XHR2ZXJzaW9uOiBcIjIuOS40XCIsXG5cdFx0XHRcdGJ1aWxkOiBcInt7IGJ1aWxkIH19XCIsXG5cdFx0XHRcdGF1dGhvcjogXCJNYXR0ZW8gQmljb2NjaGlcIixcblx0XHRcdFx0YXBpS2V5OiBcIlwiLFxuXHRcdFx0XHRkZWZhdWx0czoge1xuXHRcdFx0XHRcdFx0Y29udGFpbm1lbnQ6IFwiYm9keVwiLFxuXHRcdFx0XHRcdFx0cmF0aW86IFwiYXV0b1wiLCAvLyBcImF1dG9cIiwgXCIxNi85XCIsIFwiNC8zXCJcblx0XHRcdFx0XHRcdHZpZGVvVVJMOiBudWxsLFxuXHRcdFx0XHRcdFx0cGxheWxpc3RVUkw6IG51bGwsXG5cdFx0XHRcdFx0XHRzdGFydEF0OiAwLFxuXHRcdFx0XHRcdFx0c3RvcEF0OiAwLFxuXHRcdFx0XHRcdFx0YXV0b1BsYXk6IHRydWUsXG5cdFx0XHRcdFx0XHR2b2w6IDUwLCAvLyAxIHRvIDEwMFxuXHRcdFx0XHRcdFx0YWRkUmFzdGVyOiBmYWxzZSxcblx0XHRcdFx0XHRcdG9wYWNpdHk6IDEsXG5cdFx0XHRcdFx0XHRxdWFsaXR5OiBcImRlZmF1bHRcIiwgLy9vciDigJxzbWFsbOKAnSwg4oCcbWVkaXVt4oCdLCDigJxsYXJnZeKAnSwg4oCcaGQ3MjDigJ0sIOKAnGhkMTA4MOKAnSwg4oCcaGlnaHJlc+KAnVxuXHRcdFx0XHRcdFx0bXV0ZTogZmFsc2UsXG5cdFx0XHRcdFx0XHRsb29wOiB0cnVlLFxuXHRcdFx0XHRcdFx0c2hvd0NvbnRyb2xzOiB0cnVlLFxuXHRcdFx0XHRcdFx0c2hvd0Fubm90YXRpb25zOiBmYWxzZSxcblx0XHRcdFx0XHRcdHNob3dZVExvZ286IHRydWUsXG5cdFx0XHRcdFx0XHRzdG9wTW92aWVPbkJsdXI6IHRydWUsXG5cdFx0XHRcdFx0XHRyZWFsZnVsbHNjcmVlbjogdHJ1ZSxcblx0XHRcdFx0XHRcdGdhVHJhY2s6IHRydWUsXG5cdFx0XHRcdFx0XHRvcHRpbWl6ZURpc3BsYXk6IHRydWUsXG5cdFx0XHRcdFx0XHRvblJlYWR5OiBmdW5jdGlvbiggcGxheWVyICkge31cblx0XHRcdFx0fSxcblx0XHRcdFx0LyogQGZvbnRmYWNlIGljb25zICovXG5cdFx0XHRcdGNvbnRyb2xzOiB7XG5cdFx0XHRcdFx0XHRwbGF5OiBcIlBcIixcblx0XHRcdFx0XHRcdHBhdXNlOiBcInBcIixcblx0XHRcdFx0XHRcdG11dGU6IFwiTVwiLFxuXHRcdFx0XHRcdFx0dW5tdXRlOiBcIkFcIixcblx0XHRcdFx0XHRcdG9ubHlZVDogXCJPXCIsXG5cdFx0XHRcdFx0XHRzaG93U2l0ZTogXCJSXCIsXG5cdFx0XHRcdFx0XHR5dExvZ286IFwiWVwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGxvY2F0aW9uUHJvdG9jb2w6IFwiaHR0cHM6XCIsXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0gb3B0aW9uc1xuXHRcdFx0XHQgKiBAcmV0dXJucyBbcGxheWVyc11cblx0XHRcdFx0ICovXG5cdFx0XHRcdGJ1aWxkUGxheWVyOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXM7XG5cdFx0XHRcdFx0XHRcdFx0dmFyICRZVFBsYXllciA9IGpRdWVyeSggWVRQbGF5ZXIgKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5sb29wID0gMDtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQgPSB7fTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5zdGF0ZSA9IHt9O1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmZpbHRlcnNFbmFibGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5maWx0ZXJzID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRncmF5c2NhbGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pdDogXCIlXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0aHVlX3JvdGF0ZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bml0OiBcImRlZ1wiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGludmVydDoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bml0OiBcIiVcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXQ6IFwiJVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNhdHVyYXRlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXQ6IFwiJVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNlcGlhOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXQ6IFwiJVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJyaWdodG5lc3M6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pdDogXCIlXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udHJhc3Q6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pdDogXCIlXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ymx1cjoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bml0OiBcInB4XCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0JFlUUGxheWVyLmFkZENsYXNzKCBcIm1iX1lUUGxheWVyXCIgKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcHJvcGVydHkgPSAkWVRQbGF5ZXIuZGF0YSggXCJwcm9wZXJ0eVwiICkgJiYgdHlwZW9mICRZVFBsYXllci5kYXRhKCBcInByb3BlcnR5XCIgKSA9PSBcInN0cmluZ1wiID8gZXZhbCggJygnICsgJFlUUGxheWVyLmRhdGEoIFwicHJvcGVydHlcIiApICsgJyknICkgOiAkWVRQbGF5ZXIuZGF0YSggXCJwcm9wZXJ0eVwiICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIHR5cGVvZiBwcm9wZXJ0eSAhPSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBwcm9wZXJ0eS52b2wgIT0gXCJ1bmRlZmluZWRcIiApIHByb3BlcnR5LnZvbCA9IHByb3BlcnR5LnZvbCA9PT0gMCA/IHByb3BlcnR5LnZvbCA9IDEgOiBwcm9wZXJ0eS52b2w7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmV4dGVuZCggWVRQbGF5ZXIub3B0LCBqUXVlcnkubWJZVFBsYXllci5kZWZhdWx0cywgb3B0aW9ucywgcHJvcGVydHkgKTtcblx0XHRcdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLmhhc0NoYW5nZWQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmRlZmF1bHRPcHQgPSB7fTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmV4dGVuZCggWVRQbGF5ZXIuZGVmYXVsdE9wdCwgalF1ZXJ5Lm1iWVRQbGF5ZXIuZGVmYXVsdHMsIG9wdGlvbnMsIHByb3BlcnR5ICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmlzUmV0aW5hID0gKCB3aW5kb3cucmV0aW5hIHx8IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID4gMSApO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBpc0lmcmFtZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgaXNJZnIgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBzZWxmLmxvY2F0aW9uLmhyZWYgIT0gdG9wLmxvY2F0aW9uLmhyZWYgKSBpc0lmciA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2goIGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpc0lmciA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGlzSWZyO1xuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuY2FuR29GdWxsU2NyZWVuID0gISggalF1ZXJ5LmJyb3dzZXIubXNpZSB8fCBqUXVlcnkuYnJvd3Nlci5vcGVyYSB8fCBpc0lmcmFtZSgpICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci5jYW5Hb0Z1bGxTY3JlZW4gKSBZVFBsYXllci5vcHQucmVhbGZ1bGxzY3JlZW4gPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRpZiggISRZVFBsYXllci5hdHRyKCBcImlkXCIgKSApICRZVFBsYXllci5hdHRyKCBcImlkXCIsIFwidmlkZW9fXCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSApO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBwbGF5ZXJJRCA9IFwibWJZVFBfXCIgKyBZVFBsYXllci5pZDtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5pc0Fsb25lID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaGFzRm9jdXMgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdHZhciB2aWRlb0lEID0gdGhpcy5vcHQudmlkZW9VUkwgPyBnZXRZVFBWaWRlb0lEKCB0aGlzLm9wdC52aWRlb1VSTCApLnZpZGVvSUQgOiAkWVRQbGF5ZXIuYXR0ciggXCJocmVmXCIgKSA/IGdldFlUUFZpZGVvSUQoICRZVFBsYXllci5hdHRyKCBcImhyZWZcIiApICkudmlkZW9JRCA6IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBwbGF5bGlzdElEID0gdGhpcy5vcHQudmlkZW9VUkwgPyBnZXRZVFBWaWRlb0lEKCB0aGlzLm9wdC52aWRlb1VSTCApLnBsYXlsaXN0SUQgOiAkWVRQbGF5ZXIuYXR0ciggXCJocmVmXCIgKSA/IGdldFlUUFZpZGVvSUQoICRZVFBsYXllci5hdHRyKCBcImhyZWZcIiApICkucGxheWxpc3RJRCA6IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvSUQgPSB2aWRlb0lEO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXlsaXN0SUQgPSBwbGF5bGlzdElEO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5zaG93QW5ub3RhdGlvbnMgPSAoIFlUUGxheWVyLm9wdC5zaG93QW5ub3RhdGlvbnMgKSA/ICcwJyA6ICczJztcblx0XHRcdFx0XHRcdFx0XHR2YXIgcGxheWVyVmFycyA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0J2F1dG9wbGF5JzogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0J21vZGVzdGJyYW5kaW5nJzogMSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0J2NvbnRyb2xzJzogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0J3Nob3dpbmZvJzogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0J3JlbCc6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdlbmFibGVqc2FwaSc6IDEsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCd2ZXJzaW9uJzogMyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0J3BsYXllcmFwaWlkJzogcGxheWVySUQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdvcmlnaW4nOiAnKicsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdhbGxvd2Z1bGxzY3JlZW4nOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnd21vZGUnOiAndHJhbnNwYXJlbnQnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnaXZfbG9hZF9wb2xpY3knOiBZVFBsYXllci5vcHQuc2hvd0Fubm90YXRpb25zXG5cdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRpZiggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3ZpZGVvJyApLmNhblBsYXlUeXBlICkgalF1ZXJ5LmV4dGVuZCggcGxheWVyVmFycywge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQnaHRtbDUnOiAxXG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBqUXVlcnkuYnJvd3Nlci5tc2llICYmIGpRdWVyeS5icm93c2VyLnZlcnNpb24gPCA5ICkgdGhpcy5vcHQub3BhY2l0eSA9IDE7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHBsYXllckJveCA9IGpRdWVyeSggXCI8ZGl2Lz5cIiApLmF0dHIoIFwiaWRcIiwgcGxheWVySUQgKS5hZGRDbGFzcyggXCJwbGF5ZXJCb3hcIiApO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBvdmVybGF5ID0galF1ZXJ5KCBcIjxkaXYvPlwiICkuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRvcDogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2lkdGg6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiMTAwJVwiXG5cdFx0XHRcdFx0XHRcdFx0fSApLmFkZENsYXNzKCBcIllUUE92ZXJsYXlcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmlzU2VsZiA9IFlUUGxheWVyLm9wdC5jb250YWlubWVudCA9PSBcInNlbGZcIjtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5kZWZhdWx0T3B0LmNvbnRhaW5tZW50ID0gWVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50ID0gWVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50ID09IFwic2VsZlwiID8galF1ZXJ5KCB0aGlzICkgOiBqUXVlcnkoIFlUUGxheWVyLm9wdC5jb250YWlubWVudCApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmlzQmFja2dyb3VuZCA9IFlUUGxheWVyLm9wdC5jb250YWlubWVudC5nZXQoIDAgKS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gXCJib2R5XCI7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmlzQmFja2dyb3VuZCAmJiB5dHAuYmFja2dyb3VuZElzSW5pdGVkICkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBpc1BsYXllciA9IFlUUGxheWVyLm9wdC5jb250YWlubWVudC5pcyggalF1ZXJ5KCB0aGlzICkgKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5jYW5QbGF5T25Nb2JpbGUgPSBpc1BsYXllciAmJiBqUXVlcnkoIHRoaXMgKS5jaGlsZHJlbigpLmxlbmd0aCA9PT0gMDtcblx0XHRcdFx0XHRcdFx0XHRpZiggIWlzUGxheWVyICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQkWVRQbGF5ZXIuaGlkZSgpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmlzUGxheWVyID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYoIGpRdWVyeS5icm93c2VyLm1vYmlsZSAmJiAhWVRQbGF5ZXIuY2FuUGxheU9uTW9iaWxlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQkWVRQbGF5ZXIucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHdyYXBwZXIgPSBqUXVlcnkoIFwiPGRpdi8+XCIgKS5hZGRDbGFzcyggXCJtYllUUF93cmFwcGVyXCIgKS5hdHRyKCBcImlkXCIsIFwid3JhcHBlcl9cIiArIHBsYXllcklEICk7XG5cdFx0XHRcdFx0XHRcdFx0d3JhcHBlci5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0ekluZGV4OiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtaW5XaWR0aDogXCIxMDAlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1pbkhlaWdodDogXCIxMDAlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRvcDogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0b3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDBcblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0cGxheWVyQm94LmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR6SW5kZXg6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdpZHRoOiBcIjEwMCVcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjEwMCVcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIlxuXHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHR3cmFwcGVyLmFwcGVuZCggcGxheWVyQm94ICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50LmNoaWxkcmVuKCkubm90KCBcInNjcmlwdCwgc3R5bGVcIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggalF1ZXJ5KCB0aGlzICkuY3NzKCBcInBvc2l0aW9uXCIgKSA9PSBcInN0YXRpY1wiICkgalF1ZXJ5KCB0aGlzICkuY3NzKCBcInBvc2l0aW9uXCIsIFwicmVsYXRpdmVcIiApO1xuXHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaXNCYWNrZ3JvdW5kICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFwiYm9keVwiICkuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0d3JhcHBlci5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBvc2l0aW9uOiBcImZpeGVkXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0b3A6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ekluZGV4OiAwXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0JFlUUGxheWVyLmhpZGUoKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYoIFlUUGxheWVyLm9wdC5jb250YWlubWVudC5jc3MoIFwicG9zaXRpb25cIiApID09IFwic3RhdGljXCIgKSBZVFBsYXllci5vcHQuY29udGFpbm1lbnQuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBvc2l0aW9uOiBcInJlbGF0aXZlXCJcblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50LnByZXBlbmQoIHdyYXBwZXIgKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci53cmFwcGVyID0gd3JhcHBlcjtcblx0XHRcdFx0XHRcdFx0XHRwbGF5ZXJCb3guY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDFcblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYoICFqUXVlcnkuYnJvd3Nlci5tb2JpbGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBsYXllckJveC5hZnRlciggb3ZlcmxheSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vdmVybGF5ID0gb3ZlcmxheTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci5pc0JhY2tncm91bmQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG92ZXJsYXkub24oIFwibW91c2VlbnRlclwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5jb250cm9sQmFyICkgWVRQbGF5ZXIuY29udHJvbEJhci5hZGRDbGFzcyggXCJ2aXNpYmxlXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSApLm9uKCBcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuY29udHJvbEJhciApIFlUUGxheWVyLmNvbnRyb2xCYXIucmVtb3ZlQ2xhc3MoIFwidmlzaWJsZVwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gKVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRpZiggIXl0cC5ZVEFQSVJlYWR5ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFwiI1lUQVBJXCIgKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHRhZyA9IGpRdWVyeSggXCI8c2NyaXB0Pjwvc2NyaXB0PlwiICkuYXR0cigge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCJzcmNcIjogalF1ZXJ5Lm1iWVRQbGF5ZXIubG9jYXRpb25Qcm90b2NvbCArIFwiLy93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaT92PVwiICsgalF1ZXJ5Lm1iWVRQbGF5ZXIudmVyc2lvbixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiaWRcIjogXCJZVEFQSVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBcImhlYWRcIiApLnByZXBlbmQoIHRhZyApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBkb2N1bWVudCApLnRyaWdnZXIoIFwiWVRBUElSZWFkeVwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sIDEwMCApXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggZG9jdW1lbnQgKS5vbiggXCJZVEFQSVJlYWR5XCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggKCBZVFBsYXllci5pc0JhY2tncm91bmQgJiYgeXRwLmJhY2tncm91bmRJc0luaXRlZCApIHx8IFlUUGxheWVyLmlzSW5pdCApIHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmlzQmFja2dyb3VuZCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHl0cC5iYWNrZ3JvdW5kSXNJbml0ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5hdXRvUGxheSA9IHR5cGVvZiBZVFBsYXllci5vcHQuYXV0b1BsYXkgPT0gXCJ1bmRlZmluZWRcIiA/ICggWVRQbGF5ZXIuaXNCYWNrZ3JvdW5kID8gdHJ1ZSA6IGZhbHNlICkgOiBZVFBsYXllci5vcHQuYXV0b1BsYXk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC52b2wgPSBZVFBsYXllci5vcHQudm9sID8gWVRQbGF5ZXIub3B0LnZvbCA6IDEwMDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5Lm1iWVRQbGF5ZXIuZ2V0RGF0YUZyb21BUEkoIFlUUGxheWVyICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5vbiggXCJZVFBDaGFuZ2VkXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmlzSW5pdCApIHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmlzSW5pdCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvL2lmIGlzIG1vYmlsZSAmJiBpc1BsYXllciBmYWxsYmFjayB0byB0aGUgZGVmYXVsdCBZVCBwbGF5ZXJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBqUXVlcnkuYnJvd3Nlci5tb2JpbGUgJiYgWVRQbGF5ZXIuY2FuUGxheU9uTW9iaWxlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFRyeSB0byBhZGp1c3QgdGhlIHBsYXllciBkaW1lbnRpb25cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50Lm91dGVyV2lkdGgoKSA+IGpRdWVyeSggd2luZG93ICkud2lkdGgoKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50LmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWF4V2lkdGg6IFwiMTAwJVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGggPSBZVFBsYXllci5vcHQuY29udGFpbm1lbnQub3V0ZXJXaWR0aCgpICogLjY7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5jb250YWlubWVudC5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1heEhlaWdodDogaFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG5ldyBZVC5QbGF5ZXIoIHBsYXllcklELCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZpZGVvSWQ6IFlUUGxheWVyLnZpZGVvSUQudG9TdHJpbmcoKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aGVpZ2h0OiAnMTAwJScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdpZHRoOiAnMTAwJScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGV2ZW50czoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0J29uUmVhZHknOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyID0gZXZlbnQudGFyZ2V0O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBsYXllckJveC5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci53cmFwcGVyLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAxXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG5ldyBZVC5QbGF5ZXIoIHBsYXllcklELCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmlkZW9JZDogWVRQbGF5ZXIudmlkZW9JRC50b1N0cmluZygpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBsYXllclZhcnM6IHBsYXllclZhcnMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXZlbnRzOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCdvblJlYWR5JzogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyID0gZXZlbnQudGFyZ2V0O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmlzUmVhZHkgKSByZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5pc1JlYWR5ID0gWVRQbGF5ZXIuaXNQbGF5ZXIgJiYgIVlUUGxheWVyLm9wdC5hdXRvUGxheSA/IGZhbHNlIDogdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllckVsID0gWVRQbGF5ZXIucGxheWVyLmdldElmcmFtZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JFlUUGxheWVyLm9wdGltaXplRGlzcGxheSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9JRCA9IHZpZGVvSUQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIHdpbmRvdyApLm9uKCBcInJlc2l6ZS5ZVFBcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JFlUUGxheWVyLm9wdGltaXplRGlzcGxheSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5Lm1iWVRQbGF5ZXIuY2hlY2tGb3JTdGF0ZSggWVRQbGF5ZXIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFRyaWdnZXIgc3RhdGUgZXZlbnRzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgWVRQRXZlbnQgPSBqUXVlcnkuRXZlbnQoIFwiWVRQVW5zdGFydGVkXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUEV2ZW50LnRpbWUgPSBZVFBsYXllci5wbGF5ZXIudGltZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5jYW5UcmlnZ2VyICkgalF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFlUUEV2ZW50ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKiBAcGFyYW0gZXZlbnRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICogLTEgKHVuc3RhcnRlZClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICogMCAoZW5kZWQpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqIDEgKHBsYXlpbmcpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqIDIgKHBhdXNlZClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICogMyAoYnVmZmVyaW5nKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKiA1ICh2aWRlbyBjdWVkKS5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICovXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCdvblN0YXRlQ2hhbmdlJzogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIHR5cGVvZiBldmVudC50YXJnZXQuZ2V0UGxheWVyU3RhdGUgIT0gXCJmdW5jdGlvblwiICkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHN0YXRlID0gZXZlbnQudGFyZ2V0LmdldFBsYXllclN0YXRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuc3RhdGUgPT0gc3RhdGUgKSByZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5zdGF0ZSA9IHN0YXRlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGV2ZW50VHlwZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN3aXRjaCggc3RhdGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAtMTogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gdW5zdGFydGVkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGV2ZW50VHlwZSA9IFwiWVRQVW5zdGFydGVkXCI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZW5kZWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXZlbnRUeXBlID0gXCJZVFBFbmRcIjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAxOiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBwbGF5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGV2ZW50VHlwZSA9IFwiWVRQU3RhcnRcIjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmNvbnRyb2xCYXIgKSBZVFBsYXllci5jb250cm9sQmFyLmZpbmQoIFwiLm1iX1lUUFBsYXlwYXVzZVwiICkuaHRtbCggalF1ZXJ5Lm1iWVRQbGF5ZXIuY29udHJvbHMucGF1c2UgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIHR5cGVvZiBfZ2FxICE9IFwidW5kZWZpbmVkXCIgJiYgZXZhbCggWVRQbGF5ZXIub3B0LmdhVHJhY2sgKSApIF9nYXEucHVzaCggWyAnX3RyYWNrRXZlbnQnLCAnWVRQbGF5ZXInLCAnUGxheScsICggWVRQbGF5ZXIuaGFzRGF0YSA/IFlUUGxheWVyLnZpZGVvRGF0YS50aXRsZSA6IFlUUGxheWVyLnZpZGVvSUQudG9TdHJpbmcoKSApIF0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIHR5cGVvZiBnYSAhPSBcInVuZGVmaW5lZFwiICYmIGV2YWwoIFlUUGxheWVyLm9wdC5nYVRyYWNrICkgKSBnYSggJ3NlbmQnLCAnZXZlbnQnLCAnWVRQbGF5ZXInLCAncGxheScsICggWVRQbGF5ZXIuaGFzRGF0YSA/IFlUUGxheWVyLnZpZGVvRGF0YS50aXRsZSA6IFlUUGxheWVyLnZpZGVvSUQudG9TdHJpbmcoKSApICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMjogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcGF1c2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXZlbnRUeXBlID0gXCJZVFBQYXVzZVwiO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuY29udHJvbEJhciApIFlUUGxheWVyLmNvbnRyb2xCYXIuZmluZCggXCIubWJfWVRQUGxheXBhdXNlXCIgKS5odG1sKCBqUXVlcnkubWJZVFBsYXllci5jb250cm9scy5wbGF5ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gYnVmZmVyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5zZXRQbGF5YmFja1F1YWxpdHkoIFlUUGxheWVyLm9wdC5xdWFsaXR5ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGV2ZW50VHlwZSA9IFwiWVRQQnVmZmVyaW5nXCI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5jb250cm9sQmFyICkgWVRQbGF5ZXIuY29udHJvbEJhci5maW5kKCBcIi5tYl9ZVFBQbGF5cGF1c2VcIiApLmh0bWwoIGpRdWVyeS5tYllUUGxheWVyLmNvbnRyb2xzLnBsYXkgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA1OiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBjdWVkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGV2ZW50VHlwZSA9IFwiWVRQQ3VlZFwiO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFRyaWdnZXIgc3RhdGUgZXZlbnRzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgWVRQRXZlbnQgPSBqUXVlcnkuRXZlbnQoIGV2ZW50VHlwZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQRXZlbnQudGltZSA9IFlUUGxheWVyLnBsYXllci50aW1lO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmNhblRyaWdnZXIgKSBqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggWVRQRXZlbnQgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqIEBwYXJhbSBlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQnb25QbGF5YmFja1F1YWxpdHlDaGFuZ2UnOiBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBxdWFsaXR5ID0gZS50YXJnZXQuZ2V0UGxheWJhY2tRdWFsaXR5KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgWVRQUXVhbGl0eUNoYW5nZSA9IGpRdWVyeS5FdmVudCggXCJZVFBRdWFsaXR5Q2hhbmdlXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUFF1YWxpdHlDaGFuZ2UucXVhbGl0eSA9IHF1YWxpdHk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggWVRQUXVhbGl0eUNoYW5nZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICogQHBhcmFtIGVyclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0J29uRXJyb3InOiBmdW5jdGlvbiggZXJyICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIGVyci5kYXRhID09IDE1MCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyggXCJFbWJlZGRpbmcgdGhpcyB2aWRlbyBpcyByZXN0cmljdGVkIGJ5IFlvdXR1YmUuXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaXNQbGF5TGlzdCApIGpRdWVyeSggWVRQbGF5ZXIgKS5wbGF5TmV4dCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIGVyci5kYXRhID09IDIgJiYgWVRQbGF5ZXIuaXNQbGF5TGlzdCApIGpRdWVyeSggWVRQbGF5ZXIgKS5wbGF5TmV4dCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIHR5cGVvZiBZVFBsYXllci5vcHQub25FcnJvciA9PSBcImZ1bmN0aW9uXCIgKSBZVFBsYXllci5vcHQub25FcnJvciggJFlUUGxheWVyLCBlcnIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdH0gKVxuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIFlUUGxheWVyXG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRnZXREYXRhRnJvbUFQSTogZnVuY3Rpb24oIFlUUGxheWVyICkge1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9EYXRhID0galF1ZXJ5Lm1iU3RvcmFnZS5nZXQoIFwiWVlUUGxheWVyX2RhdGFfXCIgKyBZVFBsYXllci52aWRlb0lEICk7XG5cdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkub2ZmKCBcIllUUERhdGEuWVRQbGF5ZXJcIiApLm9uKCBcIllUUERhdGEuWVRQbGF5ZXJcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmhhc0RhdGEgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmlzUGxheWVyICYmICFZVFBsYXllci5vcHQuYXV0b1BsYXkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgYmduZFVSTCA9IFlUUGxheWVyLnZpZGVvRGF0YS50aHVtYl9tYXggfHwgWVRQbGF5ZXIudmlkZW9EYXRhLnRodW1iX2hpZ2ggfHwgWVRQbGF5ZXIudmlkZW9EYXRhLnRodW1iX21lZGl1bTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5jb250YWlubWVudC5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBcInJnYmEoMCwwLDAsMC41KSB1cmwoXCIgKyBiZ25kVVJMICsgXCIpIGNlbnRlciBjZW50ZXJcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kU2l6ZTogXCJjb3ZlclwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQuYmFja2dyb3VuZFVybCA9IGJnbmRVUkw7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci52aWRlb0RhdGEgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LnJhdGlvID0gWVRQbGF5ZXIub3B0LnJhdGlvID09IFwiYXV0b1wiID8gXCIxNi85XCIgOiBZVFBsYXllci5vcHQucmF0aW87XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmRhdGFSZWNlaXZlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBcIllUUENoYW5nZWRcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgWVRQRGF0YSA9IGpRdWVyeS5FdmVudCggXCJZVFBEYXRhXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQRGF0YS5wcm9wID0ge307XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZvciggdmFyIHggaW4gWVRQbGF5ZXIudmlkZW9EYXRhICkgWVRQRGF0YS5wcm9wWyB4IF0gPSBZVFBsYXllci52aWRlb0RhdGFbIHggXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFlUUERhdGEgKTtcblx0XHRcdFx0XHRcdFx0XHR9LCA1MDAgKTtcblxuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmhhc0RhdGEgPSB0cnVlO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmKCBqUXVlcnkubWJZVFBsYXllci5hcGlLZXkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gR2V0IHZpZGVvIGluZm8gZnJvbSBBUEkzIChuZWVkcyBhcGkga2V5KVxuXHRcdFx0XHRcdFx0XHRcdC8vIHNuaXBwZXQscGxheWVyLGNvbnRlbnREZXRhaWxzLHN0YXRpc3RpY3Msc3RhdHVzXG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmdldEpTT04oIGpRdWVyeS5tYllUUGxheWVyLmxvY2F0aW9uUHJvdG9jb2wgKyBcIi8vd3d3Lmdvb2dsZWFwaXMuY29tL3lvdXR1YmUvdjMvdmlkZW9zP2lkPVwiICsgWVRQbGF5ZXIudmlkZW9JRCArIFwiJmtleT1cIiArIGpRdWVyeS5tYllUUGxheWVyLmFwaUtleSArIFwiJnBhcnQ9c25pcHBldFwiLCBmdW5jdGlvbiggZGF0YSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuZGF0YVJlY2VpdmVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFwiWVRQQ2hhbmdlZFwiICk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0ZnVuY3Rpb24gcGFyc2VZVFBsYXllcl9kYXRhKCBkYXRhICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9EYXRhID0ge307XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0RhdGEuaWQgPSBZVFBsYXllci52aWRlb0lEO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9EYXRhLmNoYW5uZWxUaXRsZSA9IGRhdGEuY2hhbm5lbFRpdGxlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9EYXRhLnRpdGxlID0gZGF0YS50aXRsZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvRGF0YS5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb24ubGVuZ3RoIDwgNDAwID8gZGF0YS5kZXNjcmlwdGlvbiA6IGRhdGEuZGVzY3JpcHRpb24uc3Vic3RyaW5nKCAwLCA0MDAgKSArIFwiIC4uLlwiO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9EYXRhLmFzcGVjdHJhdGlvID0gWVRQbGF5ZXIub3B0LnJhdGlvID09IFwiYXV0b1wiID8gXCIxNi85XCIgOiBZVFBsYXllci5vcHQucmF0aW87XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQucmF0aW8gPSBZVFBsYXllci52aWRlb0RhdGEuYXNwZWN0cmF0aW87XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0RhdGEudGh1bWJfbWF4ID0gZGF0YS50aHVtYm5haWxzLm1heHJlcyA/IGRhdGEudGh1bWJuYWlscy5tYXhyZXMudXJsIDogbnVsbDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvRGF0YS50aHVtYl9oaWdoID0gZGF0YS50aHVtYm5haWxzLmhpZ2ggPyBkYXRhLnRodW1ibmFpbHMuaGlnaC51cmwgOiBudWxsO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9EYXRhLnRodW1iX21lZGl1bSA9IGRhdGEudGh1bWJuYWlscy5tZWRpdW0gPyBkYXRhLnRodW1ibmFpbHMubWVkaXVtLnVybCA6IG51bGw7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkubWJTdG9yYWdlLnNldCggXCJZWVRQbGF5ZXJfZGF0YV9cIiArIFlUUGxheWVyLnZpZGVvSUQsIFlUUGxheWVyLnZpZGVvRGF0YSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBhcnNlWVRQbGF5ZXJfZGF0YSggZGF0YS5pdGVtc1sgMCBdLnNuaXBwZXQgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaGFzRGF0YSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBZVFBEYXRhID0galF1ZXJ5LkV2ZW50KCBcIllUUERhdGFcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBEYXRhLnByb3AgPSB7fTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9yKCB2YXIgeCBpbiBZVFBsYXllci52aWRlb0RhdGEgKSBZVFBEYXRhLnByb3BbIHggXSA9IFlUUGxheWVyLnZpZGVvRGF0YVsgeCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggWVRQRGF0YSApO1xuXHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBcIllUUENoYW5nZWRcIiApO1xuXHRcdFx0XHRcdFx0XHRcdH0sIDUwICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmlzUGxheWVyICYmICFZVFBsYXllci5vcHQuYXV0b1BsYXkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBiZ25kVVJMID0galF1ZXJ5Lm1iWVRQbGF5ZXIubG9jYXRpb25Qcm90b2NvbCArIFwiLy9pLnl0aW1nLmNvbS92aS9cIiArIFlUUGxheWVyLnZpZGVvSUQgKyBcIi9ocWRlZmF1bHQuanBnXCI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5jb250YWlubWVudC5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IFwicmdiYSgwLDAsMCwwLjUpIHVybChcIiArIGJnbmRVUkwgKyBcIikgY2VudGVyIGNlbnRlclwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZFNpemU6IFwiY292ZXJcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5iYWNrZ3JvdW5kVXJsID0gYmduZFVSTDtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9EYXRhID0gbnVsbDtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQucmF0aW8gPSBZVFBsYXllci5vcHQucmF0aW8gPT0gXCJhdXRvXCIgPyBcIjE2LzlcIiA6IFlUUGxheWVyLm9wdC5yYXRpbztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5pc1BsYXllciAmJiAhWVRQbGF5ZXIub3B0LmF1dG9QbGF5ICkge1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmxvYWRpbmcgPSBqUXVlcnkoIFwiPGRpdi8+XCIgKS5hZGRDbGFzcyggXCJsb2FkaW5nXCIgKS5odG1sKCBcIkxvYWRpbmdcIiApLmhpZGUoKTtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuYXBwZW5kKCBZVFBsYXllci5sb2FkaW5nICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIubG9hZGluZy5mYWRlSW4oKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRyZW1vdmVTdG9yZWREYXRhOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5tYlN0b3JhZ2UucmVtb3ZlKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcmV0dXJucyB7KnxZVFBsYXllci52aWRlb0RhdGF9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRnZXRWaWRlb0RhdGE6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdHJldHVybiBZVFBsYXllci52aWRlb0RhdGE7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcmV0dXJucyB7KnxZVFBsYXllci52aWRlb0lEfGJvb2xlYW59XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRnZXRWaWRlb0lEOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gWVRQbGF5ZXIudmlkZW9JRCB8fCBmYWxzZTtcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSBxdWFsaXR5XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRzZXRWaWRlb1F1YWxpdHk6IGZ1bmN0aW9uKCBxdWFsaXR5ICkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdGlmKCAhalF1ZXJ5LmJyb3dzZXIuY2hyb21lICkgWVRQbGF5ZXIucGxheWVyLnNldFBsYXliYWNrUXVhbGl0eSggcXVhbGl0eSApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICogQHBhcmFtIHZpZGVvc1xuXHRcdFx0XHQgKiBAcGFyYW0gc2h1ZmZsZVxuXHRcdFx0XHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0XHRcdFx0ICogQHJldHVybnMge2pRdWVyeS5tYllUUGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0cGxheWxpc3Q6IGZ1bmN0aW9uKCB2aWRlb3MsIHNodWZmbGUsIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0dmFyICRZVFBsYXllciA9IHRoaXM7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSAkWVRQbGF5ZXIuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5pc1BsYXlMaXN0ID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGlmKCBzaHVmZmxlICkgdmlkZW9zID0galF1ZXJ5LnNodWZmbGUoIHZpZGVvcyApO1xuXHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci52aWRlb0lEICkge1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvcyA9IHZpZGVvcztcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0NvdW50ZXIgPSAwO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvTGVuZ3RoID0gdmlkZW9zLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuZGF0YSggXCJwcm9wZXJ0eVwiLCB2aWRlb3NbIDAgXSApO1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5tYl9ZVFBsYXllcigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYoIHR5cGVvZiBjYWxsYmFjayA9PSBcImZ1bmN0aW9uXCIgKSBqUXVlcnkoIFlUUGxheWVyICkub24oIFwiWVRQQ2hhbmdlZFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjayggWVRQbGF5ZXIgKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5vbiggXCJZVFBFbmRcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnBsYXlOZXh0KCk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gJFlUUGxheWVyO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHJldHVybnMge2pRdWVyeS5tYllUUGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0cGxheU5leHQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvQ291bnRlcisrO1xuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnZpZGVvQ291bnRlciA+PSBZVFBsYXllci52aWRlb0xlbmd0aCApIFlUUGxheWVyLnZpZGVvQ291bnRlciA9IDA7XG5cdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuY2hhbmdlTW92aWUoIFlUUGxheWVyLnZpZGVvc1sgWVRQbGF5ZXIudmlkZW9Db3VudGVyIF0gKTtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHJldHVybnMge2pRdWVyeS5tYllUUGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0cGxheVByZXY6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvQ291bnRlci0tO1xuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnZpZGVvQ291bnRlciA8IDAgKSBZVFBsYXllci52aWRlb0NvdW50ZXIgPSBZVFBsYXllci52aWRlb0xlbmd0aCAtIDE7XG5cdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuY2hhbmdlTW92aWUoIFlUUGxheWVyLnZpZGVvc1sgWVRQbGF5ZXIudmlkZW9Db3VudGVyIF0gKTtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIG9wdFxuXHRcdFx0XHQgKi9cblx0XHRcdFx0Y2hhbmdlTW92aWU6IGZ1bmN0aW9uKCBvcHQgKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LnN0YXJ0QXQgPSAwO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LnN0b3BBdCA9IDA7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5vcHQubXV0ZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5oYXNEYXRhID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5oYXNDaGFuZ2VkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGlmKCBvcHQgKSBqUXVlcnkuZXh0ZW5kKCBZVFBsYXllci5vcHQsIFlUUGxheWVyLmRlZmF1bHRPcHQsIG9wdCApO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9JRCA9IGdldFlUUFZpZGVvSUQoIFlUUGxheWVyLm9wdC52aWRlb1VSTCApLnZpZGVvSUQ7XG5cdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyLnBsYXllckVsICkuQ1NTQW5pbWF0ZSgge1xuXHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDBcblx0XHRcdFx0XHRcdH0sIDIwMCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUEdldFBsYXllcigpLmN1ZVZpZGVvQnlVcmwoIGVuY29kZVVSSSggalF1ZXJ5Lm1iWVRQbGF5ZXIubG9jYXRpb25Qcm90b2NvbCArIFwiLy93d3cueW91dHViZS5jb20vdi9cIiArIFlUUGxheWVyLnZpZGVvSUQgKSwgMSwgWVRQbGF5ZXIub3B0LnF1YWxpdHkgKTtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkubWJZVFBsYXllci5jaGVja0ZvclN0YXRlKCBZVFBsYXllciApO1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5vcHRpbWl6ZURpc3BsYXkoKTtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkubWJZVFBsYXllci5nZXREYXRhRnJvbUFQSSggWVRQbGF5ZXIgKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtwbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRnZXRQbGF5ZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGpRdWVyeSggdGhpcyApLmdldCggMCApLnBsYXllcjtcblx0XHRcdFx0fSxcblx0XHRcdFx0cGxheWVyRGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0eXRwLllUQVBJUmVhZHkgPSBmYWxzZTtcblx0XHRcdFx0XHRcdHl0cC5iYWNrZ3JvdW5kSXNJbml0ZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLmlzSW5pdCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9JRCA9IG51bGw7XG5cdFx0XHRcdFx0XHR2YXIgcGxheWVyQm94ID0gWVRQbGF5ZXIud3JhcHBlcjtcblx0XHRcdFx0XHRcdHBsYXllckJveC5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdGpRdWVyeSggXCIjY29udHJvbEJhcl9cIiArIFlUUGxheWVyLmlkICkucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRjbGVhckludGVydmFsKCBZVFBsYXllci5jaGVja0ZvclN0YXJ0QXQgKTtcblx0XHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoIFlUUGxheWVyLmdldFN0YXRlICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSByZWFsXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtqUXVlcnkubWJZVFBsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdGZ1bGxzY3JlZW46IGZ1bmN0aW9uKCByZWFsICkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgcmVhbCA9PSBcInVuZGVmaW5lZFwiICkgcmVhbCA9IFlUUGxheWVyLm9wdC5yZWFsZnVsbHNjcmVlbjtcblx0XHRcdFx0XHRcdHJlYWwgPSBldmFsKCByZWFsICk7XG5cdFx0XHRcdFx0XHR2YXIgY29udHJvbHMgPSBqUXVlcnkoIFwiI2NvbnRyb2xCYXJfXCIgKyBZVFBsYXllci5pZCApO1xuXHRcdFx0XHRcdFx0dmFyIGZ1bGxTY3JlZW5CdG4gPSBjb250cm9scy5maW5kKCBcIi5tYl9Pbmx5WVRcIiApO1xuXHRcdFx0XHRcdFx0dmFyIHZpZGVvV3JhcHBlciA9IFlUUGxheWVyLmlzU2VsZiA/IFlUUGxheWVyLm9wdC5jb250YWlubWVudCA6IFlUUGxheWVyLndyYXBwZXI7XG5cdFx0XHRcdFx0XHQvL3ZhciB2aWRlb1dyYXBwZXIgPSBZVFBsYXllci53cmFwcGVyO1xuXHRcdFx0XHRcdFx0aWYoIHJlYWwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGZ1bGxzY3JlZW5jaGFuZ2UgPSBqUXVlcnkuYnJvd3Nlci5tb3ppbGxhID8gXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCIgOiBqUXVlcnkuYnJvd3Nlci53ZWJraXQgPyBcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIiA6IFwiZnVsbHNjcmVlbmNoYW5nZVwiO1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggZG9jdW1lbnQgKS5vZmYoIGZ1bGxzY3JlZW5jaGFuZ2UgKS5vbiggZnVsbHNjcmVlbmNoYW5nZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBpc0Z1bGxTY3JlZW4gPSBSdW5QcmVmaXhNZXRob2QoIGRvY3VtZW50LCBcIklzRnVsbFNjcmVlblwiICkgfHwgUnVuUHJlZml4TWV0aG9kKCBkb2N1bWVudCwgXCJGdWxsU2NyZWVuXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoICFpc0Z1bGxTY3JlZW4gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5pc0Fsb25lID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmdWxsU2NyZWVuQnRuLmh0bWwoIGpRdWVyeS5tYllUUGxheWVyLmNvbnRyb2xzLm9ubHlZVCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUFNldFZpZGVvUXVhbGl0eSggWVRQbGF5ZXIub3B0LnF1YWxpdHkgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZpZGVvV3JhcHBlci5yZW1vdmVDbGFzcyggXCJmdWxsc2NyZWVuXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZpZGVvV3JhcHBlci5DU1NBbmltYXRlKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogWVRQbGF5ZXIub3B0Lm9wYWNpdHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIDUwMCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmlkZW9XcmFwcGVyLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHpJbmRleDogMFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmlzQmFja2dyb3VuZCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFwiYm9keVwiICkuYWZ0ZXIoIGNvbnRyb2xzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLndyYXBwZXIuYmVmb3JlKCBjb250cm9scyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCB3aW5kb3cgKS5yZXNpemUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBcIllUUEZ1bGxTY3JlZW5FbmRcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUFNldFZpZGVvUXVhbGl0eSggXCJkZWZhdWx0XCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBcIllUUEZ1bGxTY3JlZW5TdGFydFwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLmlzQWxvbmUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZnVuY3Rpb24gaGlkZU1vdXNlKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vdmVybGF5LmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y3Vyc29yOiBcIm5vbmVcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggZG9jdW1lbnQgKS5vbiggXCJtb3VzZW1vdmUuWVRQbGF5ZXJcIiwgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm92ZXJsYXkuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjdXJzb3I6IFwiYXV0b1wiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KCBZVFBsYXllci5oaWRlQ3Vyc29yICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCAhalF1ZXJ5KCBlLnRhcmdldCApLnBhcmVudHMoKS5pcyggXCIubWJfWVRQQmFyXCIgKSApIFlUUGxheWVyLmhpZGVDdXJzb3IgPSBzZXRUaW1lb3V0KCBoaWRlTW91c2UsIDMwMDAgKTtcblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0aGlkZU1vdXNlKCk7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIHJlYWwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZpZGVvV3JhcHBlci5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDBcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2aWRlb1dyYXBwZXIuYWRkQ2xhc3MoIFwiZnVsbHNjcmVlblwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxhdW5jaEZ1bGxzY3JlZW4oIHZpZGVvV3JhcHBlci5nZXQoIDAgKSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZpZGVvV3JhcHBlci5DU1NBbmltYXRlKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgMTAwMCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIud3JhcHBlci5hcHBlbmQoIGNvbnRyb2xzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkub3B0aW1pemVEaXNwbGF5KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIuc2Vla1RvKCBZVFBsYXllci5wbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSArIC4xLCB0cnVlICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sIDUwMCApXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHZpZGVvV3JhcHBlci5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ekluZGV4OiAxMDAwMFxuXHRcdFx0XHRcdFx0XHRcdH0gKS5DU1NBbmltYXRlKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDFcblx0XHRcdFx0XHRcdFx0XHR9LCAxMDAwICk7XG5cdFx0XHRcdFx0XHRcdFx0ZnVsbFNjcmVlbkJ0bi5odG1sKCBqUXVlcnkubWJZVFBsYXllci5jb250cm9scy5zaG93U2l0ZSApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmlzQWxvbmUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIGRvY3VtZW50ICkub2ZmKCBcIm1vdXNlbW92ZS5ZVFBsYXllclwiICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3ZlcmxheS5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y3Vyc29yOiBcImF1dG9cIlxuXHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRpZiggcmVhbCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FuY2VsRnVsbHNjcmVlbigpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZpZGVvV3JhcHBlci5DU1NBbmltYXRlKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBZVFBsYXllci5vcHQub3BhY2l0eVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LCA1MDAgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmlkZW9XcmFwcGVyLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ekluZGV4OiAwXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0ZnVsbFNjcmVlbkJ0bi5odG1sKCBqUXVlcnkubWJZVFBsYXllci5jb250cm9scy5vbmx5WVQgKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5pc0Fsb25lID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGZ1bmN0aW9uIFJ1blByZWZpeE1ldGhvZCggb2JqLCBtZXRob2QgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHBmeCA9IFsgXCJ3ZWJraXRcIiwgXCJtb3pcIiwgXCJtc1wiLCBcIm9cIiwgXCJcIiBdO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBwID0gMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0bSwgdDtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSggcCA8IHBmeC5sZW5ndGggJiYgIW9ialsgbSBdICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRtID0gbWV0aG9kO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggcGZ4WyBwIF0gPT0gXCJcIiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG0gPSBtLnN1YnN0ciggMCwgMSApLnRvTG93ZXJDYXNlKCkgKyBtLnN1YnN0ciggMSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG0gPSBwZnhbIHAgXSArIG07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHQgPSB0eXBlb2Ygb2JqWyBtIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCB0ICE9IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwZnggPSBbIHBmeFsgcCBdIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4oIHQgPT0gXCJmdW5jdGlvblwiID8gb2JqWyBtIF0oKSA6IG9ialsgbSBdICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0cCsrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24gbGF1bmNoRnVsbHNjcmVlbiggZWxlbWVudCApIHtcblx0XHRcdFx0XHRcdFx0XHRSdW5QcmVmaXhNZXRob2QoIGVsZW1lbnQsIFwiUmVxdWVzdEZ1bGxTY3JlZW5cIiApO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRmdW5jdGlvbiBjYW5jZWxGdWxsc2NyZWVuKCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBSdW5QcmVmaXhNZXRob2QoIGRvY3VtZW50LCBcIkZ1bGxTY3JlZW5cIiApIHx8IFJ1blByZWZpeE1ldGhvZCggZG9jdW1lbnQsIFwiSXNGdWxsU2NyZWVuXCIgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0UnVuUHJlZml4TWV0aG9kKCBkb2N1bWVudCwgXCJDYW5jZWxGdWxsU2NyZWVuXCIgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtqUXVlcnkubWJZVFBsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdHRvZ2dsZUxvb3BzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHR2YXIgZGF0YSA9IFlUUGxheWVyLm9wdDtcblx0XHRcdFx0XHRcdGlmKCBkYXRhLmxvb3AgPT0gMSApIHtcblx0XHRcdFx0XHRcdFx0XHRkYXRhLmxvb3AgPSAwO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRpZiggZGF0YS5zdGFydEF0ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIuc2Vla1RvKCBkYXRhLnN0YXJ0QXQgKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIucGxheVZpZGVvKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGRhdGEubG9vcCA9IDE7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtqUXVlcnkubWJZVFBsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdHBsYXk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIuaXNSZWFkeSApIHJldHVybjtcblx0XHRcdFx0XHRcdHZhciBjb250cm9scyA9IGpRdWVyeSggXCIjY29udHJvbEJhcl9cIiArIFlUUGxheWVyLmlkICk7XG5cdFx0XHRcdFx0XHR2YXIgcGxheUJ0biA9IGNvbnRyb2xzLmZpbmQoIFwiLm1iX1lUUFBsYXlwYXVzZVwiICk7XG5cdFx0XHRcdFx0XHRwbGF5QnRuLmh0bWwoIGpRdWVyeS5tYllUUGxheWVyLmNvbnRyb2xzLnBhdXNlICk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIucGxheVZpZGVvKCk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci53cmFwcGVyLkNTU0FuaW1hdGUoIHtcblx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBZVFBsYXllci5pc0Fsb25lID8gMSA6IFlUUGxheWVyLm9wdC5vcGFjaXR5XG5cdFx0XHRcdFx0XHR9LCAyMDAwICk7XG5cdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyLnBsYXllckVsICkuQ1NTQW5pbWF0ZSgge1xuXHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDFcblx0XHRcdFx0XHRcdH0sIDEwMDAgKTtcblx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5jc3MoIFwiYmFja2dyb3VuZC1pbWFnZVwiLCBcIm5vbmVcIiApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0XHRcdFx0ICogQHJldHVybnMge2pRdWVyeS5tYllUUGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0dG9nZ2xlUGxheTogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5zdGF0ZSA9PSAxICkgdGhpcy5ZVFBQYXVzZSgpO1xuXHRcdFx0XHRcdFx0ZWxzZSB0aGlzLllUUFBsYXkoKTtcblx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgY2FsbGJhY2sgPT0gXCJmdW5jdGlvblwiICkge1xuXHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrKCBZVFBsYXllci5zdGF0ZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcmV0dXJucyB7alF1ZXJ5Lm1iWVRQbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRzdG9wOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHR2YXIgY29udHJvbHMgPSBqUXVlcnkoIFwiI2NvbnRyb2xCYXJfXCIgKyBZVFBsYXllci5pZCApO1xuXHRcdFx0XHRcdFx0dmFyIHBsYXlCdG4gPSBjb250cm9scy5maW5kKCBcIi5tYl9ZVFBQbGF5cGF1c2VcIiApO1xuXHRcdFx0XHRcdFx0cGxheUJ0bi5odG1sKCBqUXVlcnkubWJZVFBsYXllci5jb250cm9scy5wbGF5ICk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIuc3RvcFZpZGVvKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtqUXVlcnkubWJZVFBsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdHBhdXNlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHR2YXIgY29udHJvbHMgPSBqUXVlcnkoIFwiI2NvbnRyb2xCYXJfXCIgKyBZVFBsYXllci5pZCApO1xuXHRcdFx0XHRcdFx0dmFyIHBsYXlCdG4gPSBjb250cm9scy5maW5kKCBcIi5tYl9ZVFBQbGF5cGF1c2VcIiApO1xuXHRcdFx0XHRcdFx0cGxheUJ0bi5odG1sKCBqUXVlcnkubWJZVFBsYXllci5jb250cm9scy5wbGF5ICk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIucGF1c2VWaWRlbygpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0gdmFsXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtqUXVlcnkubWJZVFBsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdHNlZWtUbzogZnVuY3Rpb24oIHZhbCApIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIuc2Vla1RvKCB2YWwsIHRydWUgKTtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIHZhbFxuXHRcdFx0XHQgKiBAcmV0dXJucyB7alF1ZXJ5Lm1iWVRQbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRzZXRWb2x1bWU6IGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0aWYoICF2YWwgJiYgIVlUUGxheWVyLm9wdC52b2wgJiYgWVRQbGF5ZXIucGxheWVyLmdldFZvbHVtZSgpID09IDAgKSBqUXVlcnkoIFlUUGxheWVyICkuWVRQVW5tdXRlKCk7XG5cdFx0XHRcdFx0XHRlbHNlIGlmKCAoICF2YWwgJiYgWVRQbGF5ZXIucGxheWVyLmdldFZvbHVtZSgpID4gMCApIHx8ICggdmFsICYmIFlUUGxheWVyLm9wdC52b2wgPT0gdmFsICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci5pc011dGUgKSBqUXVlcnkoIFlUUGxheWVyICkuWVRQTXV0ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdGVsc2UgalF1ZXJ5KCBZVFBsYXllciApLllUUFVubXV0ZSgpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQudm9sID0gdmFsO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5zZXRWb2x1bWUoIFlUUGxheWVyLm9wdC52b2wgKTtcblx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIudm9sdW1lQmFyICYmIFlUUGxheWVyLnZvbHVtZUJhci5sZW5ndGggKSBZVFBsYXllci52b2x1bWVCYXIudXBkYXRlU2xpZGVyVmFsKCB2YWwgKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcmV0dXJucyB7alF1ZXJ5Lm1iWVRQbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRtdXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaXNNdXRlICkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLm11dGUoKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLmlzTXV0ZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIuc2V0Vm9sdW1lKCAwICk7XG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIudm9sdW1lQmFyICYmIFlUUGxheWVyLnZvbHVtZUJhci5sZW5ndGggJiYgWVRQbGF5ZXIudm9sdW1lQmFyLndpZHRoKCkgPiAxMCApIHtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52b2x1bWVCYXIudXBkYXRlU2xpZGVyVmFsKCAwICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR2YXIgY29udHJvbHMgPSBqUXVlcnkoIFwiI2NvbnRyb2xCYXJfXCIgKyBZVFBsYXllci5pZCApO1xuXHRcdFx0XHRcdFx0dmFyIG11dGVCdG4gPSBjb250cm9scy5maW5kKCBcIi5tYl9ZVFBNdXRlVW5tdXRlXCIgKTtcblx0XHRcdFx0XHRcdG11dGVCdG4uaHRtbCggalF1ZXJ5Lm1iWVRQbGF5ZXIuY29udHJvbHMudW5tdXRlICk7XG5cdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuYWRkQ2xhc3MoIFwiaXNNdXRlZFwiICk7XG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIudm9sdW1lQmFyICYmIFlUUGxheWVyLnZvbHVtZUJhci5sZW5ndGggKSBZVFBsYXllci52b2x1bWVCYXIuYWRkQ2xhc3MoIFwibXV0ZWRcIiApO1xuXHRcdFx0XHRcdFx0dmFyIFlUUEV2ZW50ID0galF1ZXJ5LkV2ZW50KCBcIllUUE11dGVkXCIgKTtcblx0XHRcdFx0XHRcdFlUUEV2ZW50LnRpbWUgPSBZVFBsYXllci5wbGF5ZXIudGltZTtcblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5jYW5UcmlnZ2VyICkgalF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFlUUEV2ZW50ICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtqUXVlcnkubWJZVFBsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdHVubXV0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci5pc011dGUgKSByZXR1cm47XG5cdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIudW5NdXRlKCk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5pc011dGUgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5zZXRWb2x1bWUoIFlUUGxheWVyLm9wdC52b2wgKTtcblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci52b2x1bWVCYXIgJiYgWVRQbGF5ZXIudm9sdW1lQmFyLmxlbmd0aCApIFlUUGxheWVyLnZvbHVtZUJhci51cGRhdGVTbGlkZXJWYWwoIFlUUGxheWVyLm9wdC52b2wgPiAxMCA/IFlUUGxheWVyLm9wdC52b2wgOiAxMCApO1xuXHRcdFx0XHRcdFx0dmFyIGNvbnRyb2xzID0galF1ZXJ5KCBcIiNjb250cm9sQmFyX1wiICsgWVRQbGF5ZXIuaWQgKTtcblx0XHRcdFx0XHRcdHZhciBtdXRlQnRuID0gY29udHJvbHMuZmluZCggXCIubWJfWVRQTXV0ZVVubXV0ZVwiICk7XG5cdFx0XHRcdFx0XHRtdXRlQnRuLmh0bWwoIGpRdWVyeS5tYllUUGxheWVyLmNvbnRyb2xzLm11dGUgKTtcblx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5yZW1vdmVDbGFzcyggXCJpc011dGVkXCIgKTtcblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci52b2x1bWVCYXIgJiYgWVRQbGF5ZXIudm9sdW1lQmFyLmxlbmd0aCApIFlUUGxheWVyLnZvbHVtZUJhci5yZW1vdmVDbGFzcyggXCJtdXRlZFwiICk7XG5cdFx0XHRcdFx0XHR2YXIgWVRQRXZlbnQgPSBqUXVlcnkuRXZlbnQoIFwiWVRQVW5tdXRlZFwiICk7XG5cdFx0XHRcdFx0XHRZVFBFdmVudC50aW1lID0gWVRQbGF5ZXIucGxheWVyLnRpbWU7XG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuY2FuVHJpZ2dlciApIGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBZVFBFdmVudCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0gZmlsdGVyXG5cdFx0XHRcdCAqIEBwYXJhbSB2YWx1ZVxuXHRcdFx0XHQgKiBAcmV0dXJucyB7alF1ZXJ5Lm1iWVRQbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRhcHBseUZpbHRlcjogZnVuY3Rpb24oIGZpbHRlciwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIuZmlsdGVyc1sgZmlsdGVyIF0udmFsdWUgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5maWx0ZXJzRW5hYmxlZCApIHRoaXMuWVRQRW5hYmxlRmlsdGVycygpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0gZmlsdGVyc1xuXHRcdFx0XHQgKiBAcmV0dXJucyB7alF1ZXJ5Lm1iWVRQbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRhcHBseUZpbHRlcnM6IGZ1bmN0aW9uKCBmaWx0ZXJzICkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdHRoaXMub24oIFwiWVRQUmVhZHlcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0Zm9yKCB2YXIga2V5IGluIGZpbHRlcnMgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmZpbHRlcnNbIGtleSBdLnZhbHVlID0gZmlsdGVyc1sga2V5IF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBBcHBseUZpbHRlcigga2V5LCBmaWx0ZXJzWyBrZXkgXSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggXCJZVFBGaWx0ZXJzQXBwbGllZFwiICk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSBmaWx0ZXJcblx0XHRcdFx0ICogQHBhcmFtIHZhbHVlXG5cdFx0XHRcdCAqIEByZXR1cm5zIHsqfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0dG9nZ2xlRmlsdGVyOiBmdW5jdGlvbiggZmlsdGVyLCB2YWx1ZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXM7XG5cdFx0XHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci5maWx0ZXJzWyBmaWx0ZXIgXS52YWx1ZSApIFlUUGxheWVyLmZpbHRlcnNbIGZpbHRlciBdLnZhbHVlID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBZVFBsYXllci5maWx0ZXJzWyBmaWx0ZXIgXS52YWx1ZSA9IDA7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmZpbHRlcnNFbmFibGVkICkgalF1ZXJ5KCB0aGlzICkuWVRQRW5hYmxlRmlsdGVycygpO1xuXHRcdFx0XHRcdFx0fSApXG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSBjYWxsYmFja1xuXHRcdFx0XHQgKiBAcmV0dXJucyB7Kn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdHRvZ2dsZUZpbHRlcnM6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXM7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmZpbHRlcnNFbmFibGVkICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggXCJZVFBEaXNhYmxlRmlsdGVyc1wiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBEaXNhYmxlRmlsdGVycygpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBFbmFibGVGaWx0ZXJzKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBcIllUUEVuYWJsZUZpbHRlcnNcIiApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRpZiggdHlwZW9mIGNhbGxiYWNrID09IFwiZnVuY3Rpb25cIiApIGNhbGxiYWNrKCBZVFBsYXllci5maWx0ZXJzRW5hYmxlZCApO1xuXHRcdFx0XHRcdFx0fSApXG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcmV0dXJucyB7Kn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdGRpc2FibGVGaWx0ZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXM7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGlmcmFtZSA9IGpRdWVyeSggWVRQbGF5ZXIucGxheWVyRWwgKTtcblx0XHRcdFx0XHRcdFx0XHRpZnJhbWUuY3NzKCBcIi13ZWJraXQtZmlsdGVyXCIsIFwiXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRpZnJhbWUuY3NzKCBcImZpbHRlclwiLCBcIlwiICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuZmlsdGVyc0VuYWJsZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdH0gKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHJldHVybnMgeyp9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRlbmFibGVGaWx0ZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXM7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGlmcmFtZSA9IGpRdWVyeSggWVRQbGF5ZXIucGxheWVyRWwgKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgZmlsdGVyU3R5bGUgPSBcIlwiO1xuXHRcdFx0XHRcdFx0XHRcdGZvciggdmFyIGtleSBpbiBZVFBsYXllci5maWx0ZXJzICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuZmlsdGVyc1sga2V5IF0udmFsdWUgKSBmaWx0ZXJTdHlsZSArPSBrZXkucmVwbGFjZSggXCJfXCIsIFwiLVwiICkgKyBcIihcIiArIFlUUGxheWVyLmZpbHRlcnNbIGtleSBdLnZhbHVlICsgWVRQbGF5ZXIuZmlsdGVyc1sga2V5IF0udW5pdCArIFwiKSBcIjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWZyYW1lLmNzcyggXCItd2Via2l0LWZpbHRlclwiLCBmaWx0ZXJTdHlsZSApO1xuXHRcdFx0XHRcdFx0XHRcdGlmcmFtZS5jc3MoIFwiZmlsdGVyXCIsIGZpbHRlclN0eWxlICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuZmlsdGVyc0VuYWJsZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0fSApXG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSBmaWx0ZXJcblx0XHRcdFx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdFx0XHRcdCAqIEByZXR1cm5zIHsqfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0cmVtb3ZlRmlsdGVyOiBmdW5jdGlvbiggZmlsdGVyLCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgZmlsdGVyID09IFwiZnVuY3Rpb25cIiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBmaWx0ZXI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZpbHRlciA9IG51bGw7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXM7XG5cdFx0XHRcdFx0XHRcdFx0aWYoICFmaWx0ZXIgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmb3IoIHZhciBrZXkgaW4gWVRQbGF5ZXIuZmlsdGVycyApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggdGhpcyApLllUUEFwcGx5RmlsdGVyKCBrZXksIDAgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgY2FsbGJhY2sgPT0gXCJmdW5jdGlvblwiICkgY2FsbGJhY2soIGtleSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuWVRQQXBwbHlGaWx0ZXIoIGZpbHRlciwgMCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIHR5cGVvZiBjYWxsYmFjayA9PSBcImZ1bmN0aW9uXCIgKSBjYWxsYmFjayggZmlsdGVyICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHJldHVybnMge3t0b3RhbFRpbWU6IG51bWJlciwgY3VycmVudFRpbWU6IG51bWJlcn19XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRtYW5hZ2VQcm9ncmVzczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0dmFyIGNvbnRyb2xzID0galF1ZXJ5KCBcIiNjb250cm9sQmFyX1wiICsgWVRQbGF5ZXIuaWQgKTtcblx0XHRcdFx0XHRcdHZhciBwcm9ncmVzc0JhciA9IGNvbnRyb2xzLmZpbmQoIFwiLm1iX1lUUFByb2dyZXNzXCIgKTtcblx0XHRcdFx0XHRcdHZhciBsb2FkZWRCYXIgPSBjb250cm9scy5maW5kKCBcIi5tYl9ZVFBMb2FkZWRcIiApO1xuXHRcdFx0XHRcdFx0dmFyIHRpbWVCYXIgPSBjb250cm9scy5maW5kKCBcIi5tYl9ZVFBzZWVrYmFyXCIgKTtcblx0XHRcdFx0XHRcdHZhciB0b3RXID0gcHJvZ3Jlc3NCYXIub3V0ZXJXaWR0aCgpO1xuXHRcdFx0XHRcdFx0dmFyIGN1cnJlbnRUaW1lID0gTWF0aC5mbG9vciggWVRQbGF5ZXIucGxheWVyLmdldEN1cnJlbnRUaW1lKCkgKTtcblx0XHRcdFx0XHRcdHZhciB0b3RhbFRpbWUgPSBNYXRoLmZsb29yKCBZVFBsYXllci5wbGF5ZXIuZ2V0RHVyYXRpb24oKSApO1xuXHRcdFx0XHRcdFx0dmFyIHRpbWVXID0gKCBjdXJyZW50VGltZSAqIHRvdFcgKSAvIHRvdGFsVGltZTtcblx0XHRcdFx0XHRcdHZhciBzdGFydExlZnQgPSAwO1xuXHRcdFx0XHRcdFx0dmFyIGxvYWRlZFcgPSBZVFBsYXllci5wbGF5ZXIuZ2V0VmlkZW9Mb2FkZWRGcmFjdGlvbigpICogMTAwO1xuXHRcdFx0XHRcdFx0bG9hZGVkQmFyLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdGxlZnQ6IHN0YXJ0TGVmdCxcblx0XHRcdFx0XHRcdFx0XHR3aWR0aDogbG9hZGVkVyArIFwiJVwiXG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR0aW1lQmFyLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdFx0XHRcdFx0d2lkdGg6IHRpbWVXXG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdHRvdGFsVGltZTogdG90YWxUaW1lLFxuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRUaW1lOiBjdXJyZW50VGltZVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSBZVFBsYXllclxuXHRcdFx0XHQgKi9cblx0XHRcdFx0YnVpbGRDb250cm9sczogZnVuY3Rpb24oIFlUUGxheWVyICkge1xuXHRcdFx0XHRcdFx0dmFyIGRhdGEgPSBZVFBsYXllci5vcHQ7XG5cdFx0XHRcdFx0XHQvLyBAZGF0YS5wcmludFVybDogaXMgZGVwcmVjYXRlZDsgdXNlIGRhdGEuc2hvd1lUTG9nb1xuXHRcdFx0XHRcdFx0ZGF0YS5zaG93WVRMb2dvID0gZGF0YS5zaG93WVRMb2dvIHx8IGRhdGEucHJpbnRVcmw7XG5cdFx0XHRcdFx0XHRpZiggalF1ZXJ5KCBcIiNjb250cm9sQmFyX1wiICsgWVRQbGF5ZXIuaWQgKS5sZW5ndGggKSByZXR1cm47XG5cdFx0XHRcdFx0XHRZVFBsYXllci5jb250cm9sQmFyID0galF1ZXJ5KCBcIjxzcGFuLz5cIiApLmF0dHIoIFwiaWRcIiwgXCJjb250cm9sQmFyX1wiICsgWVRQbGF5ZXIuaWQgKS5hZGRDbGFzcyggXCJtYl9ZVFBCYXJcIiApLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdHdoaXRlU3BhY2U6IFwibm9XcmFwXCIsXG5cdFx0XHRcdFx0XHRcdFx0cG9zaXRpb246IFlUUGxheWVyLmlzQmFja2dyb3VuZCA/IFwiZml4ZWRcIiA6IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHRcdFx0XHR6SW5kZXg6IFlUUGxheWVyLmlzQmFja2dyb3VuZCA/IDEwMDAwIDogMTAwMFxuXHRcdFx0XHRcdFx0fSApLmhpZGUoKTtcblx0XHRcdFx0XHRcdHZhciBidXR0b25CYXIgPSBqUXVlcnkoIFwiPGRpdi8+XCIgKS5hZGRDbGFzcyggXCJidXR0b25CYXJcIiApO1xuXHRcdFx0XHRcdFx0LyogcGxheS9wYXVzZSBidXR0b24qL1xuXHRcdFx0XHRcdFx0dmFyIHBsYXlwYXVzZSA9IGpRdWVyeSggXCI8c3Bhbj5cIiArIGpRdWVyeS5tYllUUGxheWVyLmNvbnRyb2xzLnBsYXkgKyBcIjwvc3Bhbj5cIiApLmFkZENsYXNzKCBcIm1iX1lUUFBsYXlwYXVzZSB5dHBpY29uXCIgKS5jbGljayggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnBsYXllci5nZXRQbGF5ZXJTdGF0ZSgpID09IDEgKSBqUXVlcnkoIFlUUGxheWVyICkuWVRQUGF1c2UoKTtcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBQbGF5KCk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHQvKiBtdXRlL3VubXV0ZSBidXR0b24qL1xuXHRcdFx0XHRcdFx0dmFyIE11dGVVbm11dGUgPSBqUXVlcnkoIFwiPHNwYW4+XCIgKyBqUXVlcnkubWJZVFBsYXllci5jb250cm9scy5tdXRlICsgXCI8L3NwYW4+XCIgKS5hZGRDbGFzcyggXCJtYl9ZVFBNdXRlVW5tdXRlIHl0cGljb25cIiApLmNsaWNrKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIucGxheWVyLmdldFZvbHVtZSgpID09IDAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBVbm11dGUoKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQTXV0ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdC8qIHZvbHVtZSBiYXIqL1xuXHRcdFx0XHRcdFx0dmFyIHZvbHVtZUJhciA9IGpRdWVyeSggXCI8ZGl2Lz5cIiApLmFkZENsYXNzKCBcIm1iX1lUUFZvbHVtZUJhclwiICkuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0ZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIlxuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIudm9sdW1lQmFyID0gdm9sdW1lQmFyO1xuXHRcdFx0XHRcdFx0LyogdGltZSBlbGFwc2VkICovXG5cdFx0XHRcdFx0XHR2YXIgaWR4ID0galF1ZXJ5KCBcIjxzcGFuLz5cIiApLmFkZENsYXNzKCBcIm1iX1lUUFRpbWVcIiApO1xuXHRcdFx0XHRcdFx0dmFyIHZVUkwgPSBkYXRhLnZpZGVvVVJMID8gZGF0YS52aWRlb1VSTCA6IFwiXCI7XG5cdFx0XHRcdFx0XHRpZiggdlVSTC5pbmRleE9mKCBcImh0dHBcIiApIDwgMCApIHZVUkwgPSBqUXVlcnkubWJZVFBsYXllci5sb2NhdGlvblByb3RvY29sICsgXCIvL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PVwiICsgZGF0YS52aWRlb1VSTDtcblx0XHRcdFx0XHRcdHZhciBtb3ZpZVVybCA9IGpRdWVyeSggXCI8c3Bhbi8+XCIgKS5odG1sKCBqUXVlcnkubWJZVFBsYXllci5jb250cm9scy55dExvZ28gKS5hZGRDbGFzcyggXCJtYl9ZVFBVcmwgeXRwaWNvblwiICkuYXR0ciggXCJ0aXRsZVwiLCBcInZpZXcgb24gWW91VHViZVwiICkub24oIFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2luZG93Lm9wZW4oIHZVUkwsIFwidmlld09uWVRcIiApXG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR2YXIgb25seVZpZGVvID0galF1ZXJ5KCBcIjxzcGFuLz5cIiApLmh0bWwoIGpRdWVyeS5tYllUUGxheWVyLmNvbnRyb2xzLm9ubHlZVCApLmFkZENsYXNzKCBcIm1iX09ubHlZVCB5dHBpY29uXCIgKS5vbiggXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQRnVsbHNjcmVlbiggZGF0YS5yZWFsZnVsbHNjcmVlbiApO1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0dmFyIHByb2dyZXNzQmFyID0galF1ZXJ5KCBcIjxkaXYvPlwiICkuYWRkQ2xhc3MoIFwibWJfWVRQUHJvZ3Jlc3NcIiApLmNzcyggXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIgKS5jbGljayggZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGltZUJhci5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2lkdGg6ICggZS5jbGllbnRYIC0gdGltZUJhci5vZmZzZXQoKS5sZWZ0IClcblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudGltZVcgPSBlLmNsaWVudFggLSB0aW1lQmFyLm9mZnNldCgpLmxlZnQ7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuY29udHJvbEJhci5maW5kKCBcIi5tYl9ZVFBMb2FkZWRcIiApLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aWR0aDogMFxuXHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgdG90YWxUaW1lID0gTWF0aC5mbG9vciggWVRQbGF5ZXIucGxheWVyLmdldER1cmF0aW9uKCkgKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5nb3RvID0gKCB0aW1lQmFyLm91dGVyV2lkdGgoKSAqIHRvdGFsVGltZSApIC8gcHJvZ3Jlc3NCYXIub3V0ZXJXaWR0aCgpO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5zZWVrVG8oIHBhcnNlRmxvYXQoIFlUUGxheWVyLmdvdG8gKSwgdHJ1ZSApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmNvbnRyb2xCYXIuZmluZCggXCIubWJfWVRQTG9hZGVkXCIgKS5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2lkdGg6IDBcblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR2YXIgbG9hZGVkQmFyID0galF1ZXJ5KCBcIjxkaXYvPlwiICkuYWRkQ2xhc3MoIFwibWJfWVRQTG9hZGVkXCIgKS5jc3MoIFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiICk7XG5cdFx0XHRcdFx0XHR2YXIgdGltZUJhciA9IGpRdWVyeSggXCI8ZGl2Lz5cIiApLmFkZENsYXNzKCBcIm1iX1lUUHNlZWtiYXJcIiApLmNzcyggXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIgKTtcblx0XHRcdFx0XHRcdHByb2dyZXNzQmFyLmFwcGVuZCggbG9hZGVkQmFyICkuYXBwZW5kKCB0aW1lQmFyICk7XG5cdFx0XHRcdFx0XHRidXR0b25CYXIuYXBwZW5kKCBwbGF5cGF1c2UgKS5hcHBlbmQoIE11dGVVbm11dGUgKS5hcHBlbmQoIHZvbHVtZUJhciApLmFwcGVuZCggaWR4ICk7XG5cdFx0XHRcdFx0XHRpZiggZGF0YS5zaG93WVRMb2dvICkge1xuXHRcdFx0XHRcdFx0XHRcdGJ1dHRvbkJhci5hcHBlbmQoIG1vdmllVXJsICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaXNCYWNrZ3JvdW5kIHx8ICggZXZhbCggWVRQbGF5ZXIub3B0LnJlYWxmdWxsc2NyZWVuICkgJiYgIVlUUGxheWVyLmlzQmFja2dyb3VuZCApICkgYnV0dG9uQmFyLmFwcGVuZCggb25seVZpZGVvICk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5jb250cm9sQmFyLmFwcGVuZCggYnV0dG9uQmFyICkuYXBwZW5kKCBwcm9ncmVzc0JhciApO1xuXHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci5pc0JhY2tncm91bmQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuY29udHJvbEJhci5hZGRDbGFzcyggXCJpbmxpbmVQbGF5ZXJcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLndyYXBwZXIuYmVmb3JlKCBZVFBsYXllci5jb250cm9sQmFyICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggXCJib2R5XCIgKS5hZnRlciggWVRQbGF5ZXIuY29udHJvbEJhciApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dm9sdW1lQmFyLnNpbXBsZVNsaWRlcigge1xuXHRcdFx0XHRcdFx0XHRcdGluaXRpYWx2YWw6IFlUUGxheWVyLm9wdC52b2wsXG5cdFx0XHRcdFx0XHRcdFx0c2NhbGU6IDEwMCxcblx0XHRcdFx0XHRcdFx0XHRvcmllbnRhdGlvbjogXCJoXCIsXG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2s6IGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIGVsLnZhbHVlID09IDAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQTXV0ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUFVubXV0ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5zZXRWb2x1bWUoIGVsLnZhbHVlICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIuaXNNdXRlICkgWVRQbGF5ZXIub3B0LnZvbCA9IGVsLnZhbHVlO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqICovXG5cdFx0XHRcdGNoZWNrRm9yU3RhdGU6IGZ1bmN0aW9uKCBZVFBsYXllciApIHtcblx0XHRcdFx0XHRcdHZhciBpbnRlcnZhbCA9IFlUUGxheWVyLm9wdC5zaG93Q29udHJvbHMgPyAxMDAgOiA3MDA7XG5cdFx0XHRcdFx0XHRjbGVhckludGVydmFsKCBZVFBsYXllci5nZXRTdGF0ZSApO1xuXHRcdFx0XHRcdFx0Ly9DaGVja2luZyBpZiBwbGF5ZXIgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHNjZW5lXG5cdFx0XHRcdFx0XHRpZiggIWpRdWVyeS5jb250YWlucyggZG9jdW1lbnQsIFlUUGxheWVyICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUFBsYXllckRlc3Ryb3koKTtcblx0XHRcdFx0XHRcdFx0XHRjbGVhckludGVydmFsKCBZVFBsYXllci5nZXRTdGF0ZSApO1xuXHRcdFx0XHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoIFlUUGxheWVyLmNoZWNrRm9yU3RhcnRBdCApO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGpRdWVyeS5tYllUUGxheWVyLmNoZWNrRm9yU3RhcnQoIFlUUGxheWVyICk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5nZXRTdGF0ZSA9IHNldEludGVydmFsKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcHJvZyA9IGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBNYW5hZ2VQcm9ncmVzcygpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciAkWVRQbGF5ZXIgPSBqUXVlcnkoIFlUUGxheWVyICk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGRhdGEgPSBZVFBsYXllci5vcHQ7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHN0YXJ0QXQgPSBZVFBsYXllci5vcHQuc3RhcnRBdCA/IFlUUGxheWVyLm9wdC5zdGFydEF0IDogMDtcblx0XHRcdFx0XHRcdFx0XHR2YXIgc3RvcEF0ID0gWVRQbGF5ZXIub3B0LnN0b3BBdCA+IFlUUGxheWVyLm9wdC5zdGFydEF0ID8gWVRQbGF5ZXIub3B0LnN0b3BBdCA6IDA7XG5cdFx0XHRcdFx0XHRcdFx0c3RvcEF0ID0gc3RvcEF0IDwgWVRQbGF5ZXIucGxheWVyLmdldER1cmF0aW9uKCkgPyBzdG9wQXQgOiAwO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5wbGF5ZXIudGltZSAhPSBwcm9nLmN1cnJlbnRUaW1lICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgWVRQRXZlbnQgPSBqUXVlcnkuRXZlbnQoIFwiWVRQVGltZVwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUEV2ZW50LnRpbWUgPSBZVFBsYXllci5wbGF5ZXIudGltZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFlUUEV2ZW50ICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci50aW1lID0gcHJvZy5jdXJyZW50VGltZTtcblx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIucGxheWVyLmdldFZvbHVtZSgpID09IDAgKSAkWVRQbGF5ZXIuYWRkQ2xhc3MoIFwiaXNNdXRlZFwiICk7XG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSAkWVRQbGF5ZXIucmVtb3ZlQ2xhc3MoIFwiaXNNdXRlZFwiICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLm9wdC5zaG93Q29udHJvbHMgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggcHJvZy50b3RhbFRpbWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5jb250cm9sQmFyLmZpbmQoIFwiLm1iX1lUUFRpbWVcIiApLmh0bWwoIGpRdWVyeS5tYllUUGxheWVyLmZvcm1hdFRpbWUoIHByb2cuY3VycmVudFRpbWUgKSArIFwiIC8gXCIgKyBqUXVlcnkubWJZVFBsYXllci5mb3JtYXRUaW1lKCBwcm9nLnRvdGFsVGltZSApICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5jb250cm9sQmFyLmZpbmQoIFwiLm1iX1lUUFRpbWVcIiApLmh0bWwoIFwiLS0gOiAtLSAvIC0tIDogLS1cIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYoIGV2YWwoIFlUUGxheWVyLm9wdC5zdG9wTW92aWVPbkJsdXIgKSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCAhZG9jdW1lbnQuaGFzRm9jdXMoKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5zdGF0ZSA9PSAxICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmhhc0ZvY3VzID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JFlUUGxheWVyLllUUFBhdXNlKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiggZG9jdW1lbnQuaGFzRm9jdXMoKSAmJiAhWVRQbGF5ZXIuaGFzRm9jdXMgJiYgISggWVRQbGF5ZXIuc3RhdGUgPT0gLTEgfHwgWVRQbGF5ZXIuc3RhdGUgPT0gMCApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5oYXNGb2N1cyA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCRZVFBsYXllci5ZVFBQbGF5KCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5jb250cm9sQmFyICYmIFlUUGxheWVyLmNvbnRyb2xCYXIub3V0ZXJXaWR0aCgpIDw9IDQwMCAmJiAhWVRQbGF5ZXIuaXNDb21wYWN0ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5jb250cm9sQmFyLmFkZENsYXNzKCBcImNvbXBhY3RcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5pc0NvbXBhY3QgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLmlzTXV0ZSAmJiBZVFBsYXllci52b2x1bWVCYXIgKSBZVFBsYXllci52b2x1bWVCYXIudXBkYXRlU2xpZGVyVmFsKCBZVFBsYXllci5vcHQudm9sICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmKCBZVFBsYXllci5jb250cm9sQmFyICYmIFlUUGxheWVyLmNvbnRyb2xCYXIub3V0ZXJXaWR0aCgpID4gNDAwICYmIFlUUGxheWVyLmlzQ29tcGFjdCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuY29udHJvbEJhci5yZW1vdmVDbGFzcyggXCJjb21wYWN0XCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNDb21wYWN0ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIuaXNNdXRlICYmIFlUUGxheWVyLnZvbHVtZUJhciApIFlUUGxheWVyLnZvbHVtZUJhci51cGRhdGVTbGlkZXJWYWwoIFlUUGxheWVyLm9wdC52b2wgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnBsYXllci5nZXRQbGF5ZXJTdGF0ZSgpID09IDEgJiYgKCBwYXJzZUZsb2F0KCBZVFBsYXllci5wbGF5ZXIuZ2V0RHVyYXRpb24oKSAtIDEuNSApIDwgWVRQbGF5ZXIucGxheWVyLmdldEN1cnJlbnRUaW1lKCkgfHwgKCBzdG9wQXQgPiAwICYmIHBhcnNlRmxvYXQoIFlUUGxheWVyLnBsYXllci5nZXRDdXJyZW50VGltZSgpICkgPiBzdG9wQXQgKSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaXNFbmRlZCApIHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNFbmRlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNFbmRlZCA9IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sIDEwMDAgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmlzUGxheUxpc3QgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGVhckludGVydmFsKCBZVFBsYXllci5nZXRTdGF0ZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIFlUUEVuZCA9IGpRdWVyeS5FdmVudCggXCJZVFBFbmRcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQRW5kLnRpbWUgPSBZVFBsYXllci5wbGF5ZXIudGltZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBZVFBFbmQgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmKCAhZGF0YS5sb29wICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnBhdXNlVmlkZW8oKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLndyYXBwZXIuQ1NTQW5pbWF0ZSgge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDBcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIDEwMDAsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBZVFBFbmQgPSBqUXVlcnkuRXZlbnQoIFwiWVRQRW5kXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBFbmQudGltZSA9IFlUUGxheWVyLnBsYXllci50aW1lO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBZVFBFbmQgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIuc2Vla1RvKCBzdGFydEF0LCB0cnVlICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci5pc0JhY2tncm91bmQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5jb250YWlubWVudC5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IFwicmdiYSgwLDAsMCwwLjUpIHVybChcIiArIFlUUGxheWVyLm9wdC5iYWNrZ3JvdW5kVXJsICsgXCIpIGNlbnRlciBjZW50ZXJcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJhY2tncm91bmRTaXplOiBcImNvdmVyXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3RhcnRBdCA9IHN0YXJ0QXQgfHwgMTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnBhdXNlVmlkZW8oKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5zZWVrVG8oIHN0YXJ0QXQsIHRydWUgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRZVFBsYXllci5ZVFBQbGF5KCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIGludGVydmFsICk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiAqL1xuXHRcdFx0XHRjaGVja0ZvclN0YXJ0OiBmdW5jdGlvbiggWVRQbGF5ZXIgKSB7XG5cdFx0XHRcdFx0XHR2YXIgJFlUUGxheWVyID0galF1ZXJ5KCBZVFBsYXllciApO1xuXHRcdFx0XHRcdFx0Ly9DaGVja2luZyBpZiBwbGF5ZXIgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHNjZW5lXG5cdFx0XHRcdFx0XHRpZiggIWpRdWVyeS5jb250YWlucyggZG9jdW1lbnQsIFlUUGxheWVyICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUFBsYXllckRlc3Ryb3koKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmKCBqUXVlcnkuYnJvd3Nlci5jaHJvbWUgKSBZVFBsYXllci5vcHQucXVhbGl0eSA9IFwiZGVmYXVsdFwiO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnBhdXNlVmlkZW8oKTtcblx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5tdXRlWVRQVm9sdW1lKCk7XG5cdFx0XHRcdFx0XHRqUXVlcnkoIFwiI2NvbnRyb2xCYXJfXCIgKyBZVFBsYXllci5pZCApLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLm9wdC5zaG93Q29udHJvbHMgKSBqUXVlcnkubWJZVFBsYXllci5idWlsZENvbnRyb2xzKCBZVFBsYXllciApO1xuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLm9wdC5hZGRSYXN0ZXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGNsYXNzTiA9IFlUUGxheWVyLm9wdC5hZGRSYXN0ZXIgPT0gXCJkb3RcIiA/IFwicmFzdGVyLWRvdFwiIDogXCJyYXN0ZXJcIjtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vdmVybGF5LmFkZENsYXNzKCBZVFBsYXllci5pc1JldGluYSA/IGNsYXNzTiArIFwiIHJldGluYVwiIDogY2xhc3NOICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm92ZXJsYXkucmVtb3ZlQ2xhc3MoIGZ1bmN0aW9uKCBpbmRleCwgY2xhc3NOYW1lcyApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gY2hhbmdlIHRoZSBsaXN0IGludG8gYW4gYXJyYXlcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGN1cnJlbnRfY2xhc3NlcyA9IGNsYXNzTmFtZXMuc3BsaXQoIFwiIFwiICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhcnJheSBvZiBjbGFzc2VzIHdoaWNoIGFyZSB0byBiZSByZW1vdmVkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc2VzX3RvX3JlbW92ZSA9IFtdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggY3VycmVudF9jbGFzc2VzLCBmdW5jdGlvbiggaW5kZXgsIGNsYXNzX25hbWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBpZiB0aGUgY2xhc3NuYW1lIGJlZ2lucyB3aXRoIGJnIGFkZCBpdCB0byB0aGUgY2xhc3Nlc190b19yZW1vdmUgYXJyYXlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCAvcmFzdGVyLiovLnRlc3QoIGNsYXNzX25hbWUgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc2VzX3RvX3JlbW92ZS5wdXNoKCBjbGFzc19uYW1lICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3Nlc190b19yZW1vdmUucHVzaCggXCJyZXRpbmFcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyB0dXJuIHRoZSBhcnJheSBiYWNrIGludG8gYSBzdHJpbmdcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNsYXNzZXNfdG9fcmVtb3ZlLmpvaW4oIFwiIFwiICk7XG5cdFx0XHRcdFx0XHRcdFx0fSApXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRZVFBsYXllci5jaGVja0ZvclN0YXJ0QXQgPSBzZXRJbnRlcnZhbCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUE11dGUoKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgc3RhcnRBdCA9IFlUUGxheWVyLm9wdC5zdGFydEF0ID8gWVRQbGF5ZXIub3B0LnN0YXJ0QXQgOiAxO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBjYW5QbGF5VmlkZW8gPSAoIFlUUGxheWVyLnBsYXllci5nZXRWaWRlb0xvYWRlZEZyYWN0aW9uKCkgPiBzdGFydEF0IC8gWVRQbGF5ZXIucGxheWVyLmdldER1cmF0aW9uKCkgKTtcblx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIucGxheWVyLmdldER1cmF0aW9uKCkgPiAwICYmIFlUUGxheWVyLnBsYXllci5nZXRDdXJyZW50VGltZSgpID49IHN0YXJ0QXQgJiYgY2FuUGxheVZpZGVvICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGVhckludGVydmFsKCBZVFBsYXllci5jaGVja0ZvclN0YXJ0QXQgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNSZWFkeSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgWVRQbGF5ZXIub3B0Lm9uUmVhZHkgPT0gXCJmdW5jdGlvblwiICkgWVRQbGF5ZXIub3B0Lm9uUmVhZHkoIFlUUGxheWVyICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBZVFByZWFkeSA9IGpRdWVyeS5FdmVudCggXCJZVFBSZWFkeVwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBZVFByZWFkeSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIucGF1c2VWaWRlbygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLm9wdC5tdXRlICkgalF1ZXJ5KCBZVFBsYXllciApLllUUFVubXV0ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5jYW5UcmlnZ2VyID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLm9wdC5hdXRvUGxheSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRZVFBsYXllci5ZVFBQbGF5KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkWVRQbGF5ZXIuY3NzKCBcImJhY2tncm91bmQtaW1hZ2VcIiwgXCJub25lXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIucGxheWVyRWwgKS5DU1NBbmltYXRlKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgMTAwMCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIud3JhcHBlci5DU1NBbmltYXRlKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogWVRQbGF5ZXIuaXNBbG9uZSA/IDEgOiBZVFBsYXllci5vcHQub3BhY2l0eVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgMTAwMCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnBhdXNlVmlkZW8oKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIuaXNQbGF5ZXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllci5wbGF5ZXJFbCApLkNTU0FuaW1hdGUoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIDEwMDAgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci53cmFwcGVyLkNTU0FuaW1hdGUoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogWVRQbGF5ZXIuaXNBbG9uZSA/IDEgOiBZVFBsYXllci5vcHQub3BhY2l0eVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIDEwMDAgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaXNQbGF5ZXIgJiYgIVlUUGxheWVyLm9wdC5hdXRvUGxheSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmxvYWRpbmcuaHRtbCggXCJSZWFkeVwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5sb2FkaW5nLmZhZGVPdXQoKTtcblxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCAxMDAgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5jb250cm9sQmFyICkgWVRQbGF5ZXIuY29udHJvbEJhci5zbGlkZURvd24oIDEwMDAgKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQvL1lUUGxheWVyLnBsYXllci5wbGF5VmlkZW8oKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIHN0YXJ0QXQgPj0gMCApIFlUUGxheWVyLnBsYXllci5zZWVrVG8oIHN0YXJ0QXQsIHRydWUgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCAxMDAwICk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0gc1xuXHRcdFx0XHQgKiBAcmV0dXJucyB7c3RyaW5nfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0Zm9ybWF0VGltZTogZnVuY3Rpb24oIHMgKSB7XG5cdFx0XHRcdFx0XHR2YXIgbWluID0gTWF0aC5mbG9vciggcyAvIDYwICk7XG5cdFx0XHRcdFx0XHR2YXIgc2VjID0gTWF0aC5mbG9vciggcyAtICggNjAgKiBtaW4gKSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuKCBtaW4gPD0gOSA/IFwiMFwiICsgbWluIDogbWluICkgKyBcIiA6IFwiICsgKCBzZWMgPD0gOSA/IFwiMFwiICsgc2VjIDogc2VjICk7XG5cdFx0XHRcdH1cblx0XHR9O1xuXHRcdC8qKlxuXHRcdCAqXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0alF1ZXJ5LmZuLnRvZ2dsZVZvbHVtZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRpZiggIVlUUGxheWVyICkgcmV0dXJuO1xuXHRcdFx0XHRpZiggWVRQbGF5ZXIucGxheWVyLmlzTXV0ZWQoKSApIHtcblx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBVbm11dGUoKTtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUE11dGUoKTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdH07XG5cdFx0LyoqXG5cdFx0ICpcblx0XHQgKi9cblx0XHRqUXVlcnkuZm4ub3B0aW1pemVEaXNwbGF5ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdHZhciBkYXRhID0gWVRQbGF5ZXIub3B0O1xuXHRcdFx0XHR2YXIgcGxheWVyQm94ID0galF1ZXJ5KCBZVFBsYXllci5wbGF5ZXJFbCApO1xuXHRcdFx0XHR2YXIgd2luID0ge307XG5cdFx0XHRcdHZhciBlbCA9IFlUUGxheWVyLndyYXBwZXI7XG5cdFx0XHRcdHdpbi53aWR0aCA9IGVsLm91dGVyV2lkdGgoKTtcblx0XHRcdFx0d2luLmhlaWdodCA9IGVsLm91dGVySGVpZ2h0KCk7XG5cdFx0XHRcdHZhciBtYXJnaW4gPSAyNDtcblx0XHRcdFx0dmFyIG92ZXJwcmludCA9IDEwMDtcblx0XHRcdFx0dmFyIHZpZCA9IHt9O1xuXHRcdFx0XHRpZiggZGF0YS5vcHRpbWl6ZURpc3BsYXkgKSB7XG5cdFx0XHRcdFx0XHR2aWQud2lkdGggPSB3aW4ud2lkdGggKyAoICggd2luLndpZHRoICogbWFyZ2luICkgLyAxMDAgKTtcblx0XHRcdFx0XHRcdHZpZC5oZWlnaHQgPSBkYXRhLnJhdGlvID09IFwiMTYvOVwiID8gTWF0aC5jZWlsKCAoIDkgKiB3aW4ud2lkdGggKSAvIDE2ICkgOiBNYXRoLmNlaWwoICggMyAqIHdpbi53aWR0aCApIC8gNCApO1xuXHRcdFx0XHRcdFx0dmlkLm1hcmdpblRvcCA9IC0oICggdmlkLmhlaWdodCAtIHdpbi5oZWlnaHQgKSAvIDIgKTtcblx0XHRcdFx0XHRcdHZpZC5tYXJnaW5MZWZ0ID0gLSggKCB3aW4ud2lkdGggKiAoIG1hcmdpbiAvIDIgKSApIC8gMTAwICk7XG5cdFx0XHRcdFx0XHRpZiggdmlkLmhlaWdodCA8IHdpbi5oZWlnaHQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmlkLmhlaWdodCA9IHdpbi5oZWlnaHQgKyAoICggd2luLmhlaWdodCAqIG1hcmdpbiApIC8gMTAwICk7XG5cdFx0XHRcdFx0XHRcdFx0dmlkLndpZHRoID0gZGF0YS5yYXRpbyA9PSBcIjE2LzlcIiA/IE1hdGguZmxvb3IoICggMTYgKiB3aW4uaGVpZ2h0ICkgLyA5ICkgOiBNYXRoLmZsb29yKCAoIDQgKiB3aW4uaGVpZ2h0ICkgLyAzICk7XG5cdFx0XHRcdFx0XHRcdFx0dmlkLm1hcmdpblRvcCA9IC0oICggd2luLmhlaWdodCAqICggbWFyZ2luIC8gMiApICkgLyAxMDAgKTtcblx0XHRcdFx0XHRcdFx0XHR2aWQubWFyZ2luTGVmdCA9IC0oICggdmlkLndpZHRoIC0gd2luLndpZHRoICkgLyAyICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR2aWQud2lkdGggKz0gb3ZlcnByaW50O1xuXHRcdFx0XHRcdFx0dmlkLmhlaWdodCArPSBvdmVycHJpbnQ7XG5cdFx0XHRcdFx0XHR2aWQubWFyZ2luVG9wIC09IG92ZXJwcmludCAvIDI7XG5cdFx0XHRcdFx0XHR2aWQubWFyZ2luTGVmdCAtPSBvdmVycHJpbnQgLyAyO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dmlkLndpZHRoID0gXCIxMDAlXCI7XG5cdFx0XHRcdFx0XHR2aWQuaGVpZ2h0ID0gXCIxMDAlXCI7XG5cdFx0XHRcdFx0XHR2aWQubWFyZ2luVG9wID0gMDtcblx0XHRcdFx0XHRcdHZpZC5tYXJnaW5MZWZ0ID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0XHRwbGF5ZXJCb3guY3NzKCB7XG5cdFx0XHRcdFx0XHR3aWR0aDogdmlkLndpZHRoLFxuXHRcdFx0XHRcdFx0aGVpZ2h0OiB2aWQuaGVpZ2h0LFxuXHRcdFx0XHRcdFx0bWFyZ2luVG9wOiB2aWQubWFyZ2luVG9wLFxuXHRcdFx0XHRcdFx0bWFyZ2luTGVmdDogdmlkLm1hcmdpbkxlZnRcblx0XHRcdFx0fSApO1xuXHRcdH07XG5cdFx0LyoqXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gYXJyXG5cdFx0ICogQHJldHVybnMge0FycmF5fHN0cmluZ3xCbG9ifCp9XG5cdFx0ICpcblx0XHQgKi9cblx0XHRqUXVlcnkuc2h1ZmZsZSA9IGZ1bmN0aW9uKCBhcnIgKSB7XG5cdFx0XHRcdHZhciBuZXdBcnJheSA9IGFyci5zbGljZSgpO1xuXHRcdFx0XHR2YXIgbGVuID0gbmV3QXJyYXkubGVuZ3RoO1xuXHRcdFx0XHR2YXIgaSA9IGxlbjtcblx0XHRcdFx0d2hpbGUoIGktLSApIHtcblx0XHRcdFx0XHRcdHZhciBwID0gcGFyc2VJbnQoIE1hdGgucmFuZG9tKCkgKiBsZW4gKTtcblx0XHRcdFx0XHRcdHZhciB0ID0gbmV3QXJyYXlbIGkgXTtcblx0XHRcdFx0XHRcdG5ld0FycmF5WyBpIF0gPSBuZXdBcnJheVsgcCBdO1xuXHRcdFx0XHRcdFx0bmV3QXJyYXlbIHAgXSA9IHQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5ld0FycmF5O1xuXHRcdH07XG5cblx0XHQvKiBFeHBvc2VkIHB1YmxpYyBtZXRob2QgKi9cblx0XHRqUXVlcnkuZm4uWVRQbGF5ZXIgPSBqUXVlcnkubWJZVFBsYXllci5idWlsZFBsYXllcjtcblx0XHRqUXVlcnkuZm4uWVRQR2V0UGxheWVyID0galF1ZXJ5Lm1iWVRQbGF5ZXIuZ2V0UGxheWVyO1xuXHRcdGpRdWVyeS5mbi5ZVFBHZXRWaWRlb0lEID0galF1ZXJ5Lm1iWVRQbGF5ZXIuZ2V0VmlkZW9JRDtcblx0XHRqUXVlcnkuZm4uWVRQQ2hhbmdlTW92aWUgPSBqUXVlcnkubWJZVFBsYXllci5jaGFuZ2VNb3ZpZTtcblx0XHRqUXVlcnkuZm4uWVRQUGxheWVyRGVzdHJveSA9IGpRdWVyeS5tYllUUGxheWVyLnBsYXllckRlc3Ryb3k7XG5cblx0XHRqUXVlcnkuZm4uWVRQUGxheSA9IGpRdWVyeS5tYllUUGxheWVyLnBsYXk7XG5cdFx0alF1ZXJ5LmZuLllUUFRvZ2dsZVBsYXkgPSBqUXVlcnkubWJZVFBsYXllci50b2dnbGVQbGF5O1xuXHRcdGpRdWVyeS5mbi5ZVFBTdG9wID0galF1ZXJ5Lm1iWVRQbGF5ZXIuc3RvcDtcblx0XHRqUXVlcnkuZm4uWVRQUGF1c2UgPSBqUXVlcnkubWJZVFBsYXllci5wYXVzZTtcblx0XHRqUXVlcnkuZm4uWVRQU2Vla1RvID0galF1ZXJ5Lm1iWVRQbGF5ZXIuc2Vla1RvO1xuXG5cdFx0alF1ZXJ5LmZuLllUUGxheWxpc3QgPSBqUXVlcnkubWJZVFBsYXllci5wbGF5bGlzdDtcblx0XHRqUXVlcnkuZm4uWVRQUGxheU5leHQgPSBqUXVlcnkubWJZVFBsYXllci5wbGF5TmV4dDtcblx0XHRqUXVlcnkuZm4uWVRQUGxheVByZXYgPSBqUXVlcnkubWJZVFBsYXllci5wbGF5UHJldjtcblxuXHRcdGpRdWVyeS5mbi5ZVFBNdXRlID0galF1ZXJ5Lm1iWVRQbGF5ZXIubXV0ZTtcblx0XHRqUXVlcnkuZm4uWVRQVW5tdXRlID0galF1ZXJ5Lm1iWVRQbGF5ZXIudW5tdXRlO1xuXHRcdGpRdWVyeS5mbi5ZVFBUb2dnbGVWb2x1bWUgPSBqUXVlcnkubWJZVFBsYXllci50b2dnbGVWb2x1bWU7XG5cdFx0alF1ZXJ5LmZuLllUUFNldFZvbHVtZSA9IGpRdWVyeS5tYllUUGxheWVyLnNldFZvbHVtZTtcblxuXHRcdGpRdWVyeS5mbi5ZVFBHZXRWaWRlb0RhdGEgPSBqUXVlcnkubWJZVFBsYXllci5nZXRWaWRlb0RhdGE7XG5cdFx0alF1ZXJ5LmZuLllUUEZ1bGxzY3JlZW4gPSBqUXVlcnkubWJZVFBsYXllci5mdWxsc2NyZWVuO1xuXHRcdGpRdWVyeS5mbi5ZVFBUb2dnbGVMb29wcyA9IGpRdWVyeS5tYllUUGxheWVyLnRvZ2dsZUxvb3BzO1xuXHRcdGpRdWVyeS5mbi5ZVFBTZXRWaWRlb1F1YWxpdHkgPSBqUXVlcnkubWJZVFBsYXllci5zZXRWaWRlb1F1YWxpdHk7XG5cdFx0alF1ZXJ5LmZuLllUUE1hbmFnZVByb2dyZXNzID0galF1ZXJ5Lm1iWVRQbGF5ZXIubWFuYWdlUHJvZ3Jlc3M7XG5cblx0XHRqUXVlcnkuZm4uWVRQQXBwbHlGaWx0ZXIgPSBqUXVlcnkubWJZVFBsYXllci5hcHBseUZpbHRlcjtcblx0XHRqUXVlcnkuZm4uWVRQQXBwbHlGaWx0ZXJzID0galF1ZXJ5Lm1iWVRQbGF5ZXIuYXBwbHlGaWx0ZXJzO1xuXHRcdGpRdWVyeS5mbi5ZVFBUb2dnbGVGaWx0ZXIgPSBqUXVlcnkubWJZVFBsYXllci50b2dnbGVGaWx0ZXI7XG5cdFx0alF1ZXJ5LmZuLllUUFRvZ2dsZUZpbHRlcnMgPSBqUXVlcnkubWJZVFBsYXllci50b2dnbGVGaWx0ZXJzO1xuXHRcdGpRdWVyeS5mbi5ZVFBSZW1vdmVGaWx0ZXIgPSBqUXVlcnkubWJZVFBsYXllci5yZW1vdmVGaWx0ZXI7XG5cdFx0alF1ZXJ5LmZuLllUUERpc2FibGVGaWx0ZXJzID0galF1ZXJ5Lm1iWVRQbGF5ZXIuZGlzYWJsZUZpbHRlcnM7XG5cdFx0alF1ZXJ5LmZuLllUUEVuYWJsZUZpbHRlcnMgPSBqUXVlcnkubWJZVFBsYXllci5lbmFibGVGaWx0ZXJzO1xuXG5cblx0XHQvKipcblx0XHQgKlxuXHRcdCAqIEBkZXByZWNhdGVkXG5cdFx0ICpcblx0XHQgKiovXG5cdFx0alF1ZXJ5LmZuLm1iX1lUUGxheWVyID0galF1ZXJ5Lm1iWVRQbGF5ZXIuYnVpbGRQbGF5ZXI7XG5cdFx0alF1ZXJ5LmZuLnBsYXlOZXh0ID0galF1ZXJ5Lm1iWVRQbGF5ZXIucGxheU5leHQ7XG5cdFx0alF1ZXJ5LmZuLnBsYXlQcmV2ID0galF1ZXJ5Lm1iWVRQbGF5ZXIucGxheVByZXY7XG5cdFx0alF1ZXJ5LmZuLmNoYW5nZU1vdmllID0galF1ZXJ5Lm1iWVRQbGF5ZXIuY2hhbmdlTW92aWU7XG5cdFx0alF1ZXJ5LmZuLmdldFZpZGVvSUQgPSBqUXVlcnkubWJZVFBsYXllci5nZXRWaWRlb0lEO1xuXHRcdGpRdWVyeS5mbi5nZXRQbGF5ZXIgPSBqUXVlcnkubWJZVFBsYXllci5nZXRQbGF5ZXI7XG5cdFx0alF1ZXJ5LmZuLnBsYXllckRlc3Ryb3kgPSBqUXVlcnkubWJZVFBsYXllci5wbGF5ZXJEZXN0cm95O1xuXHRcdGpRdWVyeS5mbi5mdWxsc2NyZWVuID0galF1ZXJ5Lm1iWVRQbGF5ZXIuZnVsbHNjcmVlbjtcblx0XHRqUXVlcnkuZm4uYnVpbGRZVFBDb250cm9scyA9IGpRdWVyeS5tYllUUGxheWVyLmJ1aWxkQ29udHJvbHM7XG5cdFx0alF1ZXJ5LmZuLnBsYXlZVFAgPSBqUXVlcnkubWJZVFBsYXllci5wbGF5O1xuXHRcdGpRdWVyeS5mbi50b2dnbGVMb29wcyA9IGpRdWVyeS5tYllUUGxheWVyLnRvZ2dsZUxvb3BzO1xuXHRcdGpRdWVyeS5mbi5zdG9wWVRQID0galF1ZXJ5Lm1iWVRQbGF5ZXIuc3RvcDtcblx0XHRqUXVlcnkuZm4ucGF1c2VZVFAgPSBqUXVlcnkubWJZVFBsYXllci5wYXVzZTtcblx0XHRqUXVlcnkuZm4uc2Vla1RvWVRQID0galF1ZXJ5Lm1iWVRQbGF5ZXIuc2Vla1RvO1xuXHRcdGpRdWVyeS5mbi5tdXRlWVRQVm9sdW1lID0galF1ZXJ5Lm1iWVRQbGF5ZXIubXV0ZTtcblx0XHRqUXVlcnkuZm4udW5tdXRlWVRQVm9sdW1lID0galF1ZXJ5Lm1iWVRQbGF5ZXIudW5tdXRlO1xuXHRcdGpRdWVyeS5mbi5zZXRZVFBWb2x1bWUgPSBqUXVlcnkubWJZVFBsYXllci5zZXRWb2x1bWU7XG5cdFx0alF1ZXJ5LmZuLnNldFZpZGVvUXVhbGl0eSA9IGpRdWVyeS5tYllUUGxheWVyLnNldFZpZGVvUXVhbGl0eTtcblx0XHRqUXVlcnkuZm4ubWFuYWdlWVRQUHJvZ3Jlc3MgPSBqUXVlcnkubWJZVFBsYXllci5tYW5hZ2VQcm9ncmVzcztcblx0XHRqUXVlcnkuZm4uWVRQR2V0RGF0YUZyb21GZWVkID0galF1ZXJ5Lm1iWVRQbGF5ZXIuZ2V0VmlkZW9EYXRhO1xuXG5cbn0gKSggalF1ZXJ5LCB5dHAgKTtcbjtcbi8qXG4gKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqICBqcXVlcnkubWIuY29tcG9uZW50c1xuICogIGZpbGU6IGpxdWVyeS5tYi5DU1NBbmltYXRlLm1pbi5qc1xuICpcbiAqICBDb3B5cmlnaHQgKGMpIDIwMDEtMjAxNC4gTWF0dGVvIEJpY29jY2hpIChQdXB1bnppKTtcbiAqICBPcGVuIGxhYiBzcmwsIEZpcmVuemUgLSBJdGFseVxuICogIGVtYWlsOiBtYXR0ZW9Ab3Blbi1sYWIuY29tXG4gKiAgc2l0ZTogXHRodHRwOi8vcHVwdW56aS5jb21cbiAqICBibG9nOlx0aHR0cDovL3B1cHVuemkub3Blbi1sYWIuY29tXG4gKiBcdGh0dHA6Ly9vcGVuLWxhYi5jb21cbiAqXG4gKiAgTGljZW5jZXM6IE1JVCwgR1BMXG4gKiAgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAqICBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvZ3BsLmh0bWxcbiAqXG4gKiAgbGFzdCBtb2RpZmllZDogMjYvMDMvMTQgMjEuNDBcbiAqICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICovXG5cbmZ1bmN0aW9uIHVuY2FtZWwoYSl7cmV0dXJuIGEucmVwbGFjZSgvKFtBLVpdKS9nLGZ1bmN0aW9uKGEpe3JldHVyblwiLVwiK2EudG9Mb3dlckNhc2UoKX0pfWZ1bmN0aW9uIHNldFVuaXQoYSxiKXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYXx8YS5tYXRjaCgvXltcXC0wLTlcXC5dK2pRdWVyeS8pP1wiXCIrYStiOmF9ZnVuY3Rpb24gc2V0RmlsdGVyKGEsYixjKXt2YXIgZD11bmNhbWVsKGIpLGU9alF1ZXJ5LmJyb3dzZXIubW96aWxsYT9cIlwiOmpRdWVyeS5DU1Muc2Z4O2FbZStcImZpbHRlclwiXT1hW2UrXCJmaWx0ZXJcIl18fFwiXCIsYz1zZXRVbml0KGM+alF1ZXJ5LkNTUy5maWx0ZXJzW2JdLm1heD9qUXVlcnkuQ1NTLmZpbHRlcnNbYl0ubWF4OmMsalF1ZXJ5LkNTUy5maWx0ZXJzW2JdLnVuaXQpLGFbZStcImZpbHRlclwiXSs9ZCtcIihcIitjK1wiKSBcIixkZWxldGUgYVtiXX1qUXVlcnkuc3VwcG9ydC5DU1N0cmFuc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuYm9keXx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGI9YS5zdHlsZTtyZXR1cm4gdm9pZCAwIT09Yi50cmFuc2l0aW9ufHx2b2lkIDAhPT1iLldlYmtpdFRyYW5zaXRpb258fHZvaWQgMCE9PWIuTW96VHJhbnNpdGlvbnx8dm9pZCAwIT09Yi5Nc1RyYW5zaXRpb258fHZvaWQgMCE9PWIuT1RyYW5zaXRpb259KCksalF1ZXJ5LkNTUz17bmFtZTpcIm1iLkNTU0FuaW1hdGVcIixhdXRob3I6XCJNYXR0ZW8gQmljb2NjaGlcIix2ZXJzaW9uOlwiMi4wLjBcIix0cmFuc2l0aW9uRW5kOlwidHJhbnNpdGlvbkVuZFwiLHNmeDpcIlwiLGZpbHRlcnM6e2JsdXI6e21pbjowLG1heDoxMDAsdW5pdDpcInB4XCJ9LGJyaWdodG5lc3M6e21pbjowLG1heDo0MDAsdW5pdDpcIiVcIn0sY29udHJhc3Q6e21pbjowLG1heDo0MDAsdW5pdDpcIiVcIn0sZ3JheXNjYWxlOnttaW46MCxtYXg6MTAwLHVuaXQ6XCIlXCJ9LGh1ZVJvdGF0ZTp7bWluOjAsbWF4OjM2MCx1bml0OlwiZGVnXCJ9LGludmVydDp7bWluOjAsbWF4OjEwMCx1bml0OlwiJVwifSxzYXR1cmF0ZTp7bWluOjAsbWF4OjQwMCx1bml0OlwiJVwifSxzZXBpYTp7bWluOjAsbWF4OjEwMCx1bml0OlwiJVwifX0sbm9ybWFsaXplQ3NzOmZ1bmN0aW9uKGEpe3ZhciBiPWpRdWVyeS5leHRlbmQoITAse30sYSk7alF1ZXJ5LmJyb3dzZXIud2Via2l0fHxqUXVlcnkuYnJvd3Nlci5vcGVyYT9qUXVlcnkuQ1NTLnNmeD1cIi13ZWJraXQtXCI6alF1ZXJ5LmJyb3dzZXIubW96aWxsYT9qUXVlcnkuQ1NTLnNmeD1cIi1tb3otXCI6alF1ZXJ5LmJyb3dzZXIubXNpZSYmKGpRdWVyeS5DU1Muc2Z4PVwiLW1zLVwiKTtmb3IodmFyIGMgaW4gYil7XCJ0cmFuc2Zvcm1cIj09PWMmJihiW2pRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCJdPWJbY10sZGVsZXRlIGJbY10pLFwidHJhbnNmb3JtLW9yaWdpblwiPT09YyYmKGJbalF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm0tb3JpZ2luXCJdPWFbY10sZGVsZXRlIGJbY10pLFwiZmlsdGVyXCIhPT1jfHxqUXVlcnkuYnJvd3Nlci5tb3ppbGxhfHwoYltqUXVlcnkuQ1NTLnNmeCtcImZpbHRlclwiXT1hW2NdLGRlbGV0ZSBiW2NdKSxcImJsdXJcIj09PWMmJnNldEZpbHRlcihiLFwiYmx1clwiLGFbY10pLFwiYnJpZ2h0bmVzc1wiPT09YyYmc2V0RmlsdGVyKGIsXCJicmlnaHRuZXNzXCIsYVtjXSksXCJjb250cmFzdFwiPT09YyYmc2V0RmlsdGVyKGIsXCJjb250cmFzdFwiLGFbY10pLFwiZ3JheXNjYWxlXCI9PT1jJiZzZXRGaWx0ZXIoYixcImdyYXlzY2FsZVwiLGFbY10pLFwiaHVlUm90YXRlXCI9PT1jJiZzZXRGaWx0ZXIoYixcImh1ZVJvdGF0ZVwiLGFbY10pLFwiaW52ZXJ0XCI9PT1jJiZzZXRGaWx0ZXIoYixcImludmVydFwiLGFbY10pLFwic2F0dXJhdGVcIj09PWMmJnNldEZpbHRlcihiLFwic2F0dXJhdGVcIixhW2NdKSxcInNlcGlhXCI9PT1jJiZzZXRGaWx0ZXIoYixcInNlcGlhXCIsYVtjXSk7dmFyIGQ9XCJcIjtcInhcIj09PWMmJihkPWpRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCIsYltkXT1iW2RdfHxcIlwiLGJbZF0rPVwiIHRyYW5zbGF0ZVgoXCIrc2V0VW5pdChhW2NdLFwicHhcIikrXCIpXCIsZGVsZXRlIGJbY10pLFwieVwiPT09YyYmKGQ9alF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIixiW2RdPWJbZF18fFwiXCIsYltkXSs9XCIgdHJhbnNsYXRlWShcIitzZXRVbml0KGFbY10sXCJweFwiKStcIilcIixkZWxldGUgYltjXSksXCJ6XCI9PT1jJiYoZD1qUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiLGJbZF09YltkXXx8XCJcIixiW2RdKz1cIiB0cmFuc2xhdGVaKFwiK3NldFVuaXQoYVtjXSxcInB4XCIpK1wiKVwiLGRlbGV0ZSBiW2NdKSxcInJvdGF0ZVwiPT09YyYmKGQ9alF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIixiW2RdPWJbZF18fFwiXCIsYltkXSs9XCIgcm90YXRlKFwiK3NldFVuaXQoYVtjXSxcImRlZ1wiKStcIilcIixkZWxldGUgYltjXSksXCJyb3RhdGVYXCI9PT1jJiYoZD1qUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiLGJbZF09YltkXXx8XCJcIixiW2RdKz1cIiByb3RhdGVYKFwiK3NldFVuaXQoYVtjXSxcImRlZ1wiKStcIilcIixkZWxldGUgYltjXSksXCJyb3RhdGVZXCI9PT1jJiYoZD1qUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiLGJbZF09YltkXXx8XCJcIixiW2RdKz1cIiByb3RhdGVZKFwiK3NldFVuaXQoYVtjXSxcImRlZ1wiKStcIilcIixkZWxldGUgYltjXSksXCJyb3RhdGVaXCI9PT1jJiYoZD1qUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiLGJbZF09YltkXXx8XCJcIixiW2RdKz1cIiByb3RhdGVaKFwiK3NldFVuaXQoYVtjXSxcImRlZ1wiKStcIilcIixkZWxldGUgYltjXSksXCJzY2FsZVwiPT09YyYmKGQ9alF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIixiW2RdPWJbZF18fFwiXCIsYltkXSs9XCIgc2NhbGUoXCIrc2V0VW5pdChhW2NdLFwiXCIpK1wiKVwiLGRlbGV0ZSBiW2NdKSxcInNjYWxlWFwiPT09YyYmKGQ9alF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIixiW2RdPWJbZF18fFwiXCIsYltkXSs9XCIgc2NhbGVYKFwiK3NldFVuaXQoYVtjXSxcIlwiKStcIilcIixkZWxldGUgYltjXSksXCJzY2FsZVlcIj09PWMmJihkPWpRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCIsYltkXT1iW2RdfHxcIlwiLGJbZF0rPVwiIHNjYWxlWShcIitzZXRVbml0KGFbY10sXCJcIikrXCIpXCIsZGVsZXRlIGJbY10pLFwic2NhbGVaXCI9PT1jJiYoZD1qUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiLGJbZF09YltkXXx8XCJcIixiW2RdKz1cIiBzY2FsZVooXCIrc2V0VW5pdChhW2NdLFwiXCIpK1wiKVwiLGRlbGV0ZSBiW2NdKSxcInNrZXdcIj09PWMmJihkPWpRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCIsYltkXT1iW2RdfHxcIlwiLGJbZF0rPVwiIHNrZXcoXCIrc2V0VW5pdChhW2NdLFwiZGVnXCIpK1wiKVwiLGRlbGV0ZSBiW2NdKSxcInNrZXdYXCI9PT1jJiYoZD1qUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiLGJbZF09YltkXXx8XCJcIixiW2RdKz1cIiBza2V3WChcIitzZXRVbml0KGFbY10sXCJkZWdcIikrXCIpXCIsZGVsZXRlIGJbY10pLFwic2tld1lcIj09PWMmJihkPWpRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCIsYltkXT1iW2RdfHxcIlwiLGJbZF0rPVwiIHNrZXdZKFwiK3NldFVuaXQoYVtjXSxcImRlZ1wiKStcIilcIixkZWxldGUgYltjXSksXCJwZXJzcGVjdGl2ZVwiPT09YyYmKGQ9alF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIixiW2RdPWJbZF18fFwiXCIsYltkXSs9XCIgcGVyc3BlY3RpdmUoXCIrc2V0VW5pdChhW2NdLFwicHhcIikrXCIpXCIsZGVsZXRlIGJbY10pfXJldHVybiBifSxnZXRQcm9wOmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWIuaW5kZXhPZihjKTwwJiZiLnB1c2godW5jYW1lbChjKSk7cmV0dXJuIGIuam9pbihcIixcIil9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbygpe2YuY2FsbGVkPSEwLGYuQ1NTQUlzUnVubmluZz0hMSxnLm9mZihqUXVlcnkuQ1NTLnRyYW5zaXRpb25FbmQrXCIuXCIrZi5pZCksY2xlYXJUaW1lb3V0KGYudGltZW91dCksZy5jc3MoalF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2l0aW9uXCIsXCJcIiksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZS5hcHBseShmKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBmLkNTU3F1ZXVlJiYoZi5DU1NxdWV1ZSgpLGYuQ1NTcXVldWU9bnVsbCl9dmFyIGY9dGhpcyxnPWpRdWVyeSh0aGlzKTtmLmlkPWYuaWR8fFwiQ1NTQV9cIisobmV3IERhdGUpLmdldFRpbWUoKTt2YXIgaD1ofHx7dHlwZTpcIm5vRXZlbnRcIn07aWYoZi5DU1NBSXNSdW5uaW5nJiZmLmV2ZW50VHlwZT09aC50eXBlJiYhalF1ZXJ5LmJyb3dzZXIubXNpZSYmalF1ZXJ5LmJyb3dzZXIudmVyc2lvbjw9OSlyZXR1cm4gZi5DU1NxdWV1ZT1mdW5jdGlvbigpe2cuQ1NTQW5pbWF0ZShhLGIsYyxkLGUpfSx2b2lkIDA7aWYoZi5DU1NxdWV1ZT1udWxsLGYuZXZlbnRUeXBlPWgudHlwZSwwIT09Zy5sZW5ndGgmJmEpe2lmKGE9alF1ZXJ5Lm5vcm1hbGl6ZUNzcyhhKSxmLkNTU0FJc1J1bm5pbmc9ITAsXCJmdW5jdGlvblwiPT10eXBlb2YgYiYmKGU9YixiPWpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGMmJihkPWMsYz0wKSxcInN0cmluZ1wiPT10eXBlb2YgYyYmKGU9YyxjPTApLFwiZnVuY3Rpb25cIj09dHlwZW9mIGQmJihlPWQsZD1cImN1YmljLWJlemllcigwLjY1LDAuMDMsMC4zNiwwLjcyKVwiKSxcInN0cmluZ1wiPT10eXBlb2YgYilmb3IodmFyIGkgaW4galF1ZXJ5LmZ4LnNwZWVkcyl7aWYoYj09aSl7Yj1qUXVlcnkuZnguc3BlZWRzW2ldO2JyZWFrfWI9alF1ZXJ5LmZ4LnNwZWVkcy5fZGVmYXVsdH1pZihifHwoYj1qUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0KSxcInN0cmluZ1wiPT10eXBlb2YgZSYmKGQ9ZSxlPW51bGwpLCFqUXVlcnkuc3VwcG9ydC5DU1N0cmFuc2l0aW9uKXtmb3IodmFyIGogaW4gYSl7aWYoXCJ0cmFuc2Zvcm1cIj09PWomJmRlbGV0ZSBhW2pdLFwiZmlsdGVyXCI9PT1qJiZkZWxldGUgYVtqXSxcInRyYW5zZm9ybS1vcmlnaW5cIj09PWomJmRlbGV0ZSBhW2pdLFwiYXV0b1wiPT09YVtqXSYmZGVsZXRlIGFbal0sXCJ4XCI9PT1qKXt2YXIgaz1hW2pdLGw9XCJsZWZ0XCI7YVtsXT1rLGRlbGV0ZSBhW2pdfWlmKFwieVwiPT09ail7dmFyIGs9YVtqXSxsPVwidG9wXCI7YVtsXT1rLGRlbGV0ZSBhW2pdfShcIi1tcy10cmFuc2Zvcm1cIj09PWp8fFwiLW1zLWZpbHRlclwiPT09aikmJmRlbGV0ZSBhW2pdfXJldHVybiBnLmRlbGF5KGMpLmFuaW1hdGUoYSxiLGUpLHZvaWQgMH12YXIgbT17XCJkZWZhdWx0XCI6XCJlYXNlXCIsXCJpblwiOlwiZWFzZS1pblwiLG91dDpcImVhc2Utb3V0XCIsXCJpbi1vdXRcIjpcImVhc2UtaW4tb3V0XCIsc25hcDpcImN1YmljLWJlemllcigwLDEsLjUsMSlcIixlYXNlT3V0Q3ViaWM6XCJjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKVwiLGVhc2VJbk91dEN1YmljOlwiY3ViaWMtYmV6aWVyKC42NDUsLjA0NSwuMzU1LDEpXCIsZWFzZUluQ2lyYzpcImN1YmljLWJlemllciguNiwuMDQsLjk4LC4zMzUpXCIsZWFzZU91dENpcmM6XCJjdWJpYy1iZXppZXIoLjA3NSwuODIsLjE2NSwxKVwiLGVhc2VJbk91dENpcmM6XCJjdWJpYy1iZXppZXIoLjc4NSwuMTM1LC4xNSwuODYpXCIsZWFzZUluRXhwbzpcImN1YmljLWJlemllciguOTUsLjA1LC43OTUsLjAzNSlcIixlYXNlT3V0RXhwbzpcImN1YmljLWJlemllciguMTksMSwuMjIsMSlcIixlYXNlSW5PdXRFeHBvOlwiY3ViaWMtYmV6aWVyKDEsMCwwLDEpXCIsZWFzZUluUXVhZDpcImN1YmljLWJlemllciguNTUsLjA4NSwuNjgsLjUzKVwiLGVhc2VPdXRRdWFkOlwiY3ViaWMtYmV6aWVyKC4yNSwuNDYsLjQ1LC45NClcIixlYXNlSW5PdXRRdWFkOlwiY3ViaWMtYmV6aWVyKC40NTUsLjAzLC41MTUsLjk1NSlcIixlYXNlSW5RdWFydDpcImN1YmljLWJlemllciguODk1LC4wMywuNjg1LC4yMilcIixlYXNlT3V0UXVhcnQ6XCJjdWJpYy1iZXppZXIoLjE2NSwuODQsLjQ0LDEpXCIsZWFzZUluT3V0UXVhcnQ6XCJjdWJpYy1iZXppZXIoLjc3LDAsLjE3NSwxKVwiLGVhc2VJblF1aW50OlwiY3ViaWMtYmV6aWVyKC43NTUsLjA1LC44NTUsLjA2KVwiLGVhc2VPdXRRdWludDpcImN1YmljLWJlemllciguMjMsMSwuMzIsMSlcIixlYXNlSW5PdXRRdWludDpcImN1YmljLWJlemllciguODYsMCwuMDcsMSlcIixlYXNlSW5TaW5lOlwiY3ViaWMtYmV6aWVyKC40NywwLC43NDUsLjcxNSlcIixlYXNlT3V0U2luZTpcImN1YmljLWJlemllciguMzksLjU3NSwuNTY1LDEpXCIsZWFzZUluT3V0U2luZTpcImN1YmljLWJlemllciguNDQ1LC4wNSwuNTUsLjk1KVwiLGVhc2VJbkJhY2s6XCJjdWJpYy1iZXppZXIoLjYsLS4yOCwuNzM1LC4wNDUpXCIsZWFzZU91dEJhY2s6XCJjdWJpYy1iZXppZXIoLjE3NSwgLjg4NSwuMzIsMS4yNzUpXCIsZWFzZUluT3V0QmFjazpcImN1YmljLWJlemllciguNjgsLS41NSwuMjY1LDEuNTUpXCJ9O21bZF0mJihkPW1bZF0pLGcub2ZmKGpRdWVyeS5DU1MudHJhbnNpdGlvbkVuZCtcIi5cIitmLmlkKTt2YXIgbj1qUXVlcnkuQ1NTLmdldFByb3AoYSkscD17fTtqUXVlcnkuZXh0ZW5kKHAsYSkscFtqUXVlcnkuQ1NTLnNmeCtcInRyYW5zaXRpb24tcHJvcGVydHlcIl09bixwW2pRdWVyeS5DU1Muc2Z4K1widHJhbnNpdGlvbi1kdXJhdGlvblwiXT1iK1wibXNcIixwW2pRdWVyeS5DU1Muc2Z4K1widHJhbnNpdGlvbi1kZWxheVwiXT1jK1wibXNcIixwW2pRdWVyeS5DU1Muc2Z4K1widHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cIl09ZCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zy5vbmUoalF1ZXJ5LkNTUy50cmFuc2l0aW9uRW5kK1wiLlwiK2YuaWQsbyksZy5jc3MocCl9LDEpLGYudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGYuY2FsbGVkfHwhZT8oZi5jYWxsZWQ9ITEsZi5DU1NBSXNSdW5uaW5nPSExLHZvaWQgMCk6KGcuY3NzKGpRdWVyeS5DU1Muc2Z4K1widHJhbnNpdGlvblwiLFwiXCIpLGUuYXBwbHkoZiksZi5DU1NBSXNSdW5uaW5nPSExLFwiZnVuY3Rpb25cIj09dHlwZW9mIGYuQ1NTcXVldWUmJihmLkNTU3F1ZXVlKCksZi5DU1NxdWV1ZT1udWxsKSx2b2lkIDApfSxiK2MrMTApfX0pfX0salF1ZXJ5LmZuLkNTU0FuaW1hdGU9alF1ZXJ5LkNTUy5hbmltYXRlLGpRdWVyeS5ub3JtYWxpemVDc3M9alF1ZXJ5LkNTUy5ub3JtYWxpemVDc3MsalF1ZXJ5LmZuLmNzczM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWpRdWVyeSh0aGlzKSxjPWpRdWVyeS5ub3JtYWxpemVDc3MoYSk7Yi5jc3MoYyl9KX07XG47LypcbiAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogIGpxdWVyeS5tYi5jb21wb25lbnRzXG4gKiAgZmlsZToganF1ZXJ5Lm1iLmJyb3dzZXIubWluLmpzXG4gKlxuICogIENvcHlyaWdodCAoYykgMjAwMS0yMDE0LiBNYXR0ZW8gQmljb2NjaGkgKFB1cHVuemkpO1xuICogIE9wZW4gbGFiIHNybCwgRmlyZW56ZSAtIEl0YWx5XG4gKiAgZW1haWw6IG1hdHRlb0BvcGVuLWxhYi5jb21cbiAqICBzaXRlOiBcdGh0dHA6Ly9wdXB1bnppLmNvbVxuICogIGJsb2c6XHRodHRwOi8vcHVwdW56aS5vcGVuLWxhYi5jb21cbiAqIFx0aHR0cDovL29wZW4tbGFiLmNvbVxuICpcbiAqICBMaWNlbmNlczogTUlULCBHUExcbiAqICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICogIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwuaHRtbFxuICpcbiAqICBsYXN0IG1vZGlmaWVkOiAyNi8wMy8xNCAyMS40M1xuICogICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKi9cblxudmFyIG5BZ3Q9bmF2aWdhdG9yLnVzZXJBZ2VudDtpZighalF1ZXJ5LmJyb3dzZXIpe2pRdWVyeS5icm93c2VyPXt9LGpRdWVyeS5icm93c2VyLm1vemlsbGE9ITEsalF1ZXJ5LmJyb3dzZXIud2Via2l0PSExLGpRdWVyeS5icm93c2VyLm9wZXJhPSExLGpRdWVyeS5icm93c2VyLnNhZmFyaT0hMSxqUXVlcnkuYnJvd3Nlci5jaHJvbWU9ITEsalF1ZXJ5LmJyb3dzZXIubXNpZT0hMSxqUXVlcnkuYnJvd3Nlci51YT1uQWd0LGpRdWVyeS5icm93c2VyLm5hbWU9bmF2aWdhdG9yLmFwcE5hbWUsalF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249XCJcIitwYXJzZUZsb2F0KG5hdmlnYXRvci5hcHBWZXJzaW9uKSxqUXVlcnkuYnJvd3Nlci5tYWpvclZlcnNpb249cGFyc2VJbnQobmF2aWdhdG9yLmFwcFZlcnNpb24sMTApO3ZhciBuYW1lT2Zmc2V0LHZlck9mZnNldCxpeDtpZigtMSE9KHZlck9mZnNldD1uQWd0LmluZGV4T2YoXCJPcGVyYVwiKSkpalF1ZXJ5LmJyb3dzZXIub3BlcmE9ITAsalF1ZXJ5LmJyb3dzZXIubmFtZT1cIk9wZXJhXCIsalF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249bkFndC5zdWJzdHJpbmcodmVyT2Zmc2V0KzYpLC0xIT0odmVyT2Zmc2V0PW5BZ3QuaW5kZXhPZihcIlZlcnNpb25cIikpJiYoalF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249bkFndC5zdWJzdHJpbmcodmVyT2Zmc2V0KzgpKTtlbHNlIGlmKC0xIT0odmVyT2Zmc2V0PW5BZ3QuaW5kZXhPZihcIk9QUlwiKSkpalF1ZXJ5LmJyb3dzZXIub3BlcmE9ITAsalF1ZXJ5LmJyb3dzZXIubmFtZT1cIk9wZXJhXCIsalF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249bkFndC5zdWJzdHJpbmcodmVyT2Zmc2V0KzQpO2Vsc2UgaWYoLTEhPSh2ZXJPZmZzZXQ9bkFndC5pbmRleE9mKFwiTVNJRVwiKSkpalF1ZXJ5LmJyb3dzZXIubXNpZT0hMCxqUXVlcnkuYnJvd3Nlci5uYW1lPVwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCIsalF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249bkFndC5zdWJzdHJpbmcodmVyT2Zmc2V0KzUpO2Vsc2UgaWYoLTEhPW5BZ3QuaW5kZXhPZihcIlRyaWRlbnRcIikpe2pRdWVyeS5icm93c2VyLm1zaWU9ITAsalF1ZXJ5LmJyb3dzZXIubmFtZT1cIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiO3ZhciBzdGFydD1uQWd0LmluZGV4T2YoXCJydjpcIikrMyxlbmQ9c3RhcnQrNDtqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1uQWd0LnN1YnN0cmluZyhzdGFydCxlbmQpfWVsc2UtMSE9KHZlck9mZnNldD1uQWd0LmluZGV4T2YoXCJDaHJvbWVcIikpPyhqUXVlcnkuYnJvd3Nlci53ZWJraXQ9ITAsalF1ZXJ5LmJyb3dzZXIuY2hyb21lPSEwLGpRdWVyeS5icm93c2VyLm5hbWU9XCJDaHJvbWVcIixqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1uQWd0LnN1YnN0cmluZyh2ZXJPZmZzZXQrNykpOi0xIT0odmVyT2Zmc2V0PW5BZ3QuaW5kZXhPZihcIlNhZmFyaVwiKSk/KGpRdWVyeS5icm93c2VyLndlYmtpdD0hMCxqUXVlcnkuYnJvd3Nlci5zYWZhcmk9ITAsalF1ZXJ5LmJyb3dzZXIubmFtZT1cIlNhZmFyaVwiLGpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPW5BZ3Quc3Vic3RyaW5nKHZlck9mZnNldCs3KSwtMSE9KHZlck9mZnNldD1uQWd0LmluZGV4T2YoXCJWZXJzaW9uXCIpKSYmKGpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPW5BZ3Quc3Vic3RyaW5nKHZlck9mZnNldCs4KSkpOi0xIT0odmVyT2Zmc2V0PW5BZ3QuaW5kZXhPZihcIkFwcGxlV2Via2l0XCIpKT8oalF1ZXJ5LmJyb3dzZXIud2Via2l0PSEwLGpRdWVyeS5icm93c2VyLm5hbWU9XCJTYWZhcmlcIixqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1uQWd0LnN1YnN0cmluZyh2ZXJPZmZzZXQrNyksLTEhPSh2ZXJPZmZzZXQ9bkFndC5pbmRleE9mKFwiVmVyc2lvblwiKSkmJihqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1uQWd0LnN1YnN0cmluZyh2ZXJPZmZzZXQrOCkpKTotMSE9KHZlck9mZnNldD1uQWd0LmluZGV4T2YoXCJGaXJlZm94XCIpKT8oalF1ZXJ5LmJyb3dzZXIubW96aWxsYT0hMCxqUXVlcnkuYnJvd3Nlci5uYW1lPVwiRmlyZWZveFwiLGpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPW5BZ3Quc3Vic3RyaW5nKHZlck9mZnNldCs4KSk6KG5hbWVPZmZzZXQ9bkFndC5sYXN0SW5kZXhPZihcIiBcIikrMSk8KHZlck9mZnNldD1uQWd0Lmxhc3RJbmRleE9mKFwiL1wiKSkmJihqUXVlcnkuYnJvd3Nlci5uYW1lPW5BZ3Quc3Vic3RyaW5nKG5hbWVPZmZzZXQsdmVyT2Zmc2V0KSxqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1uQWd0LnN1YnN0cmluZyh2ZXJPZmZzZXQrMSksalF1ZXJ5LmJyb3dzZXIubmFtZS50b0xvd2VyQ2FzZSgpPT1qUXVlcnkuYnJvd3Nlci5uYW1lLnRvVXBwZXJDYXNlKCkmJihqUXVlcnkuYnJvd3Nlci5uYW1lPW5hdmlnYXRvci5hcHBOYW1lKSk7LTEhPShpeD1qUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbi5pbmRleE9mKFwiO1wiKSkmJihqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1qUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbi5zdWJzdHJpbmcoMCxpeCkpLC0xIT0oaXg9alF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb24uaW5kZXhPZihcIiBcIikpJiYoalF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249alF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb24uc3Vic3RyaW5nKDAsaXgpKSxqUXVlcnkuYnJvd3Nlci5tYWpvclZlcnNpb249cGFyc2VJbnQoXCJcIitqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbiwxMCksaXNOYU4oalF1ZXJ5LmJyb3dzZXIubWFqb3JWZXJzaW9uKSYmKGpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPVwiXCIrcGFyc2VGbG9hdChuYXZpZ2F0b3IuYXBwVmVyc2lvbiksalF1ZXJ5LmJyb3dzZXIubWFqb3JWZXJzaW9uPXBhcnNlSW50KG5hdmlnYXRvci5hcHBWZXJzaW9uLDEwKSksalF1ZXJ5LmJyb3dzZXIudmVyc2lvbj1qUXVlcnkuYnJvd3Nlci5tYWpvclZlcnNpb259alF1ZXJ5LmJyb3dzZXIuYW5kcm9pZD0vQW5kcm9pZC9pLnRlc3QobkFndCksalF1ZXJ5LmJyb3dzZXIuYmxhY2tiZXJyeT0vQmxhY2tCZXJyeXxCQnxQbGF5Qm9vay9pLnRlc3QobkFndCksalF1ZXJ5LmJyb3dzZXIuaW9zPS9pUGhvbmV8aVBhZHxpUG9kfHdlYk9TL2kudGVzdChuQWd0KSxqUXVlcnkuYnJvd3Nlci5vcGVyYU1vYmlsZT0vT3BlcmEgTWluaS9pLnRlc3QobkFndCksalF1ZXJ5LmJyb3dzZXIud2luZG93c01vYmlsZT0vSUVNb2JpbGV8V2luZG93cyBQaG9uZS9pLnRlc3QobkFndCksalF1ZXJ5LmJyb3dzZXIua2luZGxlPS9LaW5kbGV8U2lsay9pLnRlc3QobkFndCksalF1ZXJ5LmJyb3dzZXIubW9iaWxlPWpRdWVyeS5icm93c2VyLmFuZHJvaWR8fGpRdWVyeS5icm93c2VyLmJsYWNrYmVycnl8fGpRdWVyeS5icm93c2VyLmlvc3x8alF1ZXJ5LmJyb3dzZXIud2luZG93c01vYmlsZXx8alF1ZXJ5LmJyb3dzZXIub3BlcmFNb2JpbGV8fGpRdWVyeS5icm93c2VyLmtpbmRsZSxqUXVlcnkuaXNNb2JpbGU9alF1ZXJ5LmJyb3dzZXIubW9iaWxlLGpRdWVyeS5pc1RhYmxldD1qUXVlcnkuYnJvd3Nlci5tb2JpbGUmJmpRdWVyeSh3aW5kb3cpLndpZHRoKCk+NzY1LGpRdWVyeS5pc0FuZHJvaWREZWZhdWx0PWpRdWVyeS5icm93c2VyLmFuZHJvaWQmJiEvY2hyb21lL2kudGVzdChuQWd0KTtcbjsvKl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuIF8ganF1ZXJ5Lm1iLmNvbXBvbmVudHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBmaWxlOiBqcXVlcnkubWIuc2ltcGxlU2xpZGVyLm1pbi5qcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gbGFzdCBtb2RpZmllZDogMTYvMDUvMTUgMjMuNDUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBPcGVuIExhYiBzLnIubC4sIEZsb3JlbmNlIC0gSXRhbHkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIGVtYWlsOiBtYXR0ZW9Ab3Blbi1sYWIuY29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBzaXRlOiBodHRwOi8vcHVwdW56aS5jb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgaHR0cDovL29wZW4tbGFiLmNvbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIGJsb2c6IGh0dHA6Ly9wdXB1bnppLm9wZW4tbGFiLmNvbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBRJkE6ICBodHRwOi8vanF1ZXJ5LnB1cHVuemkuY29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIExpY2VuY2VzOiBNSVQsIEdQTCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC5odG1sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBDb3B5cmlnaHQgKGMpIDIwMDEtMjAxNS4gTWF0dGVvIEJpY29jY2hpIChQdXB1bnppKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXyovXG5cbiFmdW5jdGlvbihhKXsvaXBob25lfGlwb2R8aXBhZHxhbmRyb2lkfGllfGJsYWNrYmVycnl8ZmVubmVjLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7dmFyIGM9XCJvbnRvdWNoc3RhcnRcImluIHdpbmRvd3x8d2luZG93Lm5hdmlnYXRvciYmd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkJiZ3aW5kb3cuTVNHZXN0dXJlfHx3aW5kb3cuRG9jdW1lbnRUb3VjaCYmZG9jdW1lbnQgaW5zdGFuY2VvZiBEb2N1bWVudFRvdWNofHwhMTthLnNpbXBsZVNsaWRlcj17ZGVmYXVsdHM6e2luaXRpYWx2YWw6MCxzY2FsZToxMDAsb3JpZW50YXRpb246XCJoXCIscmVhZG9ubHk6ITEsY2FsbGJhY2s6ITF9LGV2ZW50czp7c3RhcnQ6Yz9cInRvdWNoc3RhcnRcIjpcIm1vdXNlZG93blwiLGVuZDpjP1widG91Y2hlbmRcIjpcIm1vdXNldXBcIixtb3ZlOmM/XCJ0b3VjaG1vdmVcIjpcIm1vdXNlbW92ZVwifSxpbml0OmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD10aGlzLGU9YShkKTtlLmFkZENsYXNzKFwic2ltcGxlU2xpZGVyXCIpLGQub3B0PXt9LGEuZXh0ZW5kKGQub3B0LGEuc2ltcGxlU2xpZGVyLmRlZmF1bHRzLGIpLGEuZXh0ZW5kKGQub3B0LGUuZGF0YSgpKTt2YXIgZj1cImhcIj09ZC5vcHQub3JpZW50YXRpb24/XCJob3Jpem9udGFsXCI6XCJ2ZXJ0aWNhbFwiLGc9YShcIjxkaXYvPlwiKS5hZGRDbGFzcyhcImxldmVsXCIpLmFkZENsYXNzKGYpO2UucHJlcGVuZChnKSxkLmxldmVsPWcsZS5jc3Moe2N1cnNvcjpcImRlZmF1bHRcIn0pLFwiYXV0b1wiPT1kLm9wdC5zY2FsZSYmKGQub3B0LnNjYWxlPWEoZCkub3V0ZXJXaWR0aCgpKSxlLnVwZGF0ZVNsaWRlclZhbCgpLGQub3B0LnJlYWRvbmx5fHwoZS5vbihhLnNpbXBsZVNsaWRlci5ldmVudHMuc3RhcnQsZnVuY3Rpb24oYSl7YyYmKGE9YS5jaGFuZ2VkVG91Y2hlc1swXSksZC5jYW5TbGlkZT0hMCxlLnVwZGF0ZVNsaWRlclZhbChhKSxlLmNzcyh7Y3Vyc29yOlwiY29sLXJlc2l6ZVwifSksYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCl9KSxhKGRvY3VtZW50KS5vbihhLnNpbXBsZVNsaWRlci5ldmVudHMubW92ZSxmdW5jdGlvbihiKXtjJiYoYj1iLmNoYW5nZWRUb3VjaGVzWzBdKSxkLmNhblNsaWRlJiYoYShkb2N1bWVudCkuY3NzKHtjdXJzb3I6XCJkZWZhdWx0XCJ9KSxlLnVwZGF0ZVNsaWRlclZhbChiKSxiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wUHJvcGFnYXRpb24oKSl9KS5vbihhLnNpbXBsZVNsaWRlci5ldmVudHMuZW5kLGZ1bmN0aW9uKCl7YShkb2N1bWVudCkuY3NzKHtjdXJzb3I6XCJhdXRvXCJ9KSxkLmNhblNsaWRlPSExLGUuY3NzKHtjdXJzb3I6XCJhdXRvXCJ9KX0pKX0pfSx1cGRhdGVTbGlkZXJWYWw6ZnVuY3Rpb24oYil7ZnVuY3Rpb24gZyhhLGIpe3JldHVybiBNYXRoLmZsb29yKDEwMCphL2IpfXZhciBjPXRoaXMsZD1jLmdldCgwKTtkLm9wdC5pbml0aWFsdmFsPVwibnVtYmVyXCI9PXR5cGVvZiBkLm9wdC5pbml0aWFsdmFsP2Qub3B0LmluaXRpYWx2YWw6ZC5vcHQuaW5pdGlhbHZhbChkKTt2YXIgZT1hKGQpLm91dGVyV2lkdGgoKSxmPWEoZCkub3V0ZXJIZWlnaHQoKTtkLng9XCJvYmplY3RcIj09dHlwZW9mIGI/Yi5jbGllbnRYK2RvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdC1jLm9mZnNldCgpLmxlZnQ6XCJudW1iZXJcIj09dHlwZW9mIGI/YiplL2Qub3B0LnNjYWxlOmQub3B0LmluaXRpYWx2YWwqZS9kLm9wdC5zY2FsZSxkLnk9XCJvYmplY3RcIj09dHlwZW9mIGI/Yi5jbGllbnRZK2RvY3VtZW50LmJvZHkuc2Nyb2xsVG9wLWMub2Zmc2V0KCkudG9wOlwibnVtYmVyXCI9PXR5cGVvZiBiPyhkLm9wdC5zY2FsZS1kLm9wdC5pbml0aWFsdmFsLWIpKmYvZC5vcHQuc2NhbGU6ZC5vcHQuaW5pdGlhbHZhbCpmL2Qub3B0LnNjYWxlLGQueT1jLm91dGVySGVpZ2h0KCktZC55LGQuc2NhbGVYPWQueCpkLm9wdC5zY2FsZS9lLGQuc2NhbGVZPWQueSpkLm9wdC5zY2FsZS9mLGQub3V0T2ZSYW5nZVg9ZC5zY2FsZVg+ZC5vcHQuc2NhbGU/ZC5zY2FsZVgtZC5vcHQuc2NhbGU6ZC5zY2FsZVg8MD9kLnNjYWxlWDowLGQub3V0T2ZSYW5nZVk9ZC5zY2FsZVk+ZC5vcHQuc2NhbGU/ZC5zY2FsZVktZC5vcHQuc2NhbGU6ZC5zY2FsZVk8MD9kLnNjYWxlWTowLGQub3V0T2ZSYW5nZT1cImhcIj09ZC5vcHQub3JpZW50YXRpb24/ZC5vdXRPZlJhbmdlWDpkLm91dE9mUmFuZ2VZLGQudmFsdWU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGI/XCJoXCI9PWQub3B0Lm9yaWVudGF0aW9uP2QueD49Yy5vdXRlcldpZHRoKCk/ZC5vcHQuc2NhbGU6ZC54PD0wPzA6ZC5zY2FsZVg6ZC55Pj1jLm91dGVySGVpZ2h0KCk/ZC5vcHQuc2NhbGU6ZC55PD0wPzA6ZC5zY2FsZVk6XCJoXCI9PWQub3B0Lm9yaWVudGF0aW9uP2Quc2NhbGVYOmQuc2NhbGVZLFwiaFwiPT1kLm9wdC5vcmllbnRhdGlvbj9kLmxldmVsLndpZHRoKGcoZC54LGUpK1wiJVwiKTpkLmxldmVsLmhlaWdodChnKGQueSxmKSksXCJmdW5jdGlvblwiPT10eXBlb2YgZC5vcHQuY2FsbGJhY2smJmQub3B0LmNhbGxiYWNrKGQpfX0sYS5mbi5zaW1wbGVTbGlkZXI9YS5zaW1wbGVTbGlkZXIuaW5pdCxhLmZuLnVwZGF0ZVNsaWRlclZhbD1hLnNpbXBsZVNsaWRlci51cGRhdGVTbGlkZXJWYWx9KGpRdWVyeSk7XG47LypfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbiBfIGpxdWVyeS5tYi5jb21wb25lbnRzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gZmlsZToganF1ZXJ5Lm1iLnN0b3JhZ2UubWluLmpzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIGxhc3QgbW9kaWZpZWQ6IDI0LzA1LzE1IDE2LjA4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gT3BlbiBMYWIgcy5yLmwuLCBGbG9yZW5jZSAtIEl0YWx5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBlbWFpbDogbWF0dGVvQG9wZW4tbGFiLmNvbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gc2l0ZTogaHR0cDovL3B1cHVuemkuY29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgIGh0dHA6Ly9vcGVuLWxhYi5jb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBibG9nOiBodHRwOi8vcHVwdW56aS5vcGVuLWxhYi5jb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gUSZBOiAgaHR0cDovL2pxdWVyeS5wdXB1bnppLmNvbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBMaWNlbmNlczogTUlULCBHUEwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwuaHRtbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gQ29weXJpZ2h0IChjKSAyMDAxLTIwMTUuIE1hdHRlbyBCaWNvY2NoaSAoUHVwdW56aSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18qL1xuXG4hZnVuY3Rpb24oYSl7YS5tYkNvb2tpZT17c2V0OmZ1bmN0aW9uKGEsYixjLGQpe2I9SlNPTi5zdHJpbmdpZnkoYiksY3x8KGM9NyksZD1kP1wiOyBkb21haW49XCIrZDpcIlwiO3ZhciBmLGU9bmV3IERhdGU7ZS5zZXRUaW1lKGUuZ2V0VGltZSgpKzFlMyo2MCo2MCoyNCpjKSxmPVwiOyBleHBpcmVzPVwiK2UudG9HTVRTdHJpbmcoKSxkb2N1bWVudC5jb29raWU9YStcIj1cIitiK2YrXCI7IHBhdGg9L1wiK2R9LGdldDpmdW5jdGlvbihhKXtmb3IodmFyIGI9YStcIj1cIixjPWRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXtmb3IodmFyIGU9Y1tkXTtcIiBcIj09ZS5jaGFyQXQoMCk7KWU9ZS5zdWJzdHJpbmcoMSxlLmxlbmd0aCk7aWYoMD09ZS5pbmRleE9mKGIpKXJldHVybiBKU09OLnBhcnNlKGUuc3Vic3RyaW5nKGIubGVuZ3RoLGUubGVuZ3RoKSl9cmV0dXJuIG51bGx9LHJlbW92ZTpmdW5jdGlvbihiKXthLm1iQ29va2llLnNldChiLFwiXCIsLTEpfX0sYS5tYlN0b3JhZ2U9e3NldDpmdW5jdGlvbihhLGIpe2I9SlNPTi5zdHJpbmdpZnkoYiksbG9jYWxTdG9yYWdlLnNldEl0ZW0oYSxiKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBsb2NhbFN0b3JhZ2VbYV0/SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbYV0pOm51bGx9LHJlbW92ZTpmdW5jdGlvbihhKXthP2xvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGEpOmxvY2FsU3RvcmFnZS5jbGVhcigpfX19KGpRdWVyeSk7XG4iLCJ2YXIgaW1hZ2VzTG9hZGVkID0gcmVxdWlyZSgnaW1hZ2VzbG9hZGVkJyk7XG5cbihmdW5jdGlvbigkKSB7XG4gIFxuICAvKioqXG4gICAqIE1haW5cbiAgICoqKi9cbiAgIFxuICB2YXIgVW5pZm9ybVRodW1icyA9IGZ1bmN0aW9uKCRlbGUsIHNldHRpbmdzKXtcbiAgICB0aGlzLiRlbGUgPSAkZWxlO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICBcbiAgICB0aGlzLmZvcm1hdGVyID0gbmV3IFVuaWZvcm1UaHVtYnNGb3JtYXRlcih0aGlzLiRlbGUsIHRoaXMuc2V0dGluZ3MpO1xuICAgIHRoaXMuZml0dGVyID0gbmV3IFVuaWZvcm1UaHVtYnNGaXR0ZXIodGhpcy4kZWxlLCB0aGlzLnNldHRpbmdzKTtcbiAgICB0aGlzLmltYWdlTG9hZGVkID0gaW1hZ2VzTG9hZGVkKHRoaXMuJGVsZSk7XG4gICAgXG4gICAgdGhpcy5hZGRFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5oaWRlSW1hZ2VzKCk7XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzLnByb3RvdHlwZS5hZGRFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgXG4gICAgdGhpcy5pbWFnZUxvYWRlZC5vbignZG9uZScsIGZ1bmN0aW9uKCl7XG4gICAgICBzZWxmLmZvcm1hdGVyLnNldEltYWdlRm9ybWF0KCk7XG4gICAgICBzZWxmLmZpdHRlci5zZXRJbWFnZUZpdCgpO1xuICAgICAgc2VsZi5zaG93SW1hZ2VzKCk7XG4gICAgICBzZWxmLiRlbGUudHJpZ2dlcigndXRfaW1hZ2VMb2FkZWQnKTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyByZXNpemUgaW1hZ2VzIG9uIHdpbmRvdyByZXNpemVcbiAgICB2YXIgdGltZW91dDtcbiAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgfVxuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuZm9ybWF0ZXIuc2V0SW1hZ2VGb3JtYXQoKTtcbiAgICAgICAgc2VsZi5maXR0ZXIuc2V0SW1hZ2VGaXQoKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfSk7XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzLnByb3RvdHlwZS5oaWRlSW1hZ2VzID0gZnVuY3Rpb24oKXtcbiAgICB0aGlzLiRlbGUuY3NzKHtcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBvdmVyZmxvdzogJ2hpZGRlbidcbiAgICB9KTtcbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnMucHJvdG90eXBlLnNob3dJbWFnZXMgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuJGVsZS5mYWRlVG8oOTAwLCAxKTtcbiAgfTtcbiAgXG4gIC8qKipcbiAgICogSW1hZ2UgZm9ybWF0ZXJcbiAgICoqKi9cbiAgIFxuICB2YXIgVW5pZm9ybVRodW1ic0Zvcm1hdGVyID0gZnVuY3Rpb24oJHdyYXBwZXIsIHNldHRpbmdzKXtcbiAgICB0aGlzLiR3cmFwcGVyID0gJHdyYXBwZXI7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMucmF0aW8gPSB0aGlzLmdldFJhdGlvKCk7XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzRm9ybWF0ZXIucHJvdG90eXBlLnNldEltYWdlRm9ybWF0ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgd2lkdGhSYXRpbyA9IHRoaXMuJHdyYXBwZXIud2lkdGgoKSAvIHRoaXMucmF0aW8ud2lkdGg7XG4gICAgdmFyIGhlaWdodFJhdGlvID0gd2lkdGhSYXRpbyAqIHRoaXMucmF0aW8uaGVpZ2h0O1xuICAgIHRoaXMuJHdyYXBwZXIuaGVpZ2h0KGhlaWdodFJhdGlvKTtcbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnNGb3JtYXRlci5wcm90b3R5cGUuZ2V0UmF0aW8gPSBmdW5jdGlvbigpe1xuICAgIHZhciByYXRpb1N0ciA9IHRoaXMuX2dldFJhdGlvU3RyaW5nKCk7XG4gICAgcmV0dXJuIHRoaXMuX2dldFJhdGlvRnJvbVN0cmluZyhyYXRpb1N0cik7XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzRm9ybWF0ZXIucHJvdG90eXBlLl9nZXRSYXRpb1N0cmluZyA9IGZ1bmN0aW9uKCl7XG4gICAgc3dpdGNoICh0aGlzLnNldHRpbmdzLmZvcm1hdCkge1xuICAgICAgY2FzZSAnc3F1YXJlJzpcbiAgICAgICAgcmV0dXJuICcxOjEnO1xuICAgICAgY2FzZSAnbGFuZHNjYXBlJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubGFuZHNjYXBlUmF0aW87XG4gICAgICBjYXNlICdwb3J0cmFpdCc6XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnBvcnRyYWl0UmF0aW87XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5yYXRpbztcbiAgICB9XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzRm9ybWF0ZXIucHJvdG90eXBlLl9nZXRSYXRpb0Zyb21TdHJpbmcgPSBmdW5jdGlvbihyYXRpb1N0cil7XG4gICAgdmFyIHJhdGlvQXJyID0gcmF0aW9TdHIuc3BsaXQoJzonKTtcbiAgICByZXR1cm4ge1xuICAgICAgIHdpZHRoOiByYXRpb0FyclswXSxcbiAgICAgIGhlaWdodDogcmF0aW9BcnJbMV1cbiAgICB9O1xuICB9O1xuICBcbiAgLyoqKlxuICAgKiBJbWFnZSBmaXR0ZXJcbiAgICoqKi9cbiAgXG4gIHZhciBVbmlmb3JtVGh1bWJzRml0dGVyID0gZnVuY3Rpb24oJHdyYXBwZXIsIHNldHRpbmdzKXtcbiAgICB0aGlzLiR3cmFwcGVyID0gJHdyYXBwZXI7XG4gICAgdGhpcy4kaW1hZ2UgPSB0aGlzLiR3cmFwcGVyLmZpbmQoJ2ltZycpO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLndyYXBwZXJSYXRpbztcbiAgICB0aGlzLmltYWdlUmF0aW87XG4gICAgdGhpcy5pbWFnZU5hdHVyYWxXaWR0aDtcbiAgICB0aGlzLmltYWdlTmF0dXJhbEhlaWdodDtcbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnNGaXR0ZXIucHJvdG90eXBlLnNldEltYWdlRml0ID0gZnVuY3Rpb24oKXtcbiAgICB0aGlzLl9yZXNldEltYWdlQ1NTKCk7XG4gICAgc3dpdGNoICh0aGlzLnNldHRpbmdzLmZpdCkge1xuICAgICAgY2FzZSAnY3JvcCc6XG4gICAgICAgIHRoaXMuX2Nyb3BJbWFnZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NjYWxlJzpcbiAgICAgICAgdGhpcy5fc2NhbGVJbWFnZSgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5fYWxpZ25JbWFnZSgpO1xuICB9O1xuICBcbiAgVW5pZm9ybVRodW1ic0ZpdHRlci5wcm90b3R5cGUuX2Nyb3BJbWFnZSA9IGZ1bmN0aW9uKCl7XG4gICAgaWYodGhpcy5faW1hZ2VSYXRpbygpID4gdGhpcy5fd3JhcHBlclJhdGlvKCkpe1xuICAgICAgdGhpcy5fZml0SG9yaXpvbnRhbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9maXRWZXJ0aWNhbCgpO1xuICAgIH1cbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnNGaXR0ZXIucHJvdG90eXBlLl9zY2FsZUltYWdlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLl9pbWFnZVJhdGlvKCkgPiB0aGlzLl93cmFwcGVyUmF0aW8oKSl7XG4gICAgICB0aGlzLl9maXRWZXJ0aWNhbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9maXRIb3Jpem9udGFsKCk7XG4gICAgfVxuICB9O1xuICBcbiAgVW5pZm9ybVRodW1ic0ZpdHRlci5wcm90b3R5cGUuX2ZpdEhvcml6b250YWwgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fZ2V0TmF0dXJhbEhlaWdodCh0aGlzLiRpbWFnZSkgPj0gdGhpcy4kd3JhcHBlci5oZWlnaHQoKSkge1xuICAgICAgdGhpcy4kaW1hZ2UuaGVpZ2h0KHRoaXMuJHdyYXBwZXIuaGVpZ2h0KCkpO1xuICAgIH1cbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnNGaXR0ZXIucHJvdG90eXBlLl9maXRWZXJ0aWNhbCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9nZXROYXR1cmFsV2lkdGgodGhpcy4kaW1hZ2UpID49IHRoaXMuJHdyYXBwZXIud2lkdGgoKSkge1xuICAgICAgdGhpcy4kaW1hZ2Uud2lkdGgodGhpcy4kd3JhcHBlci53aWR0aCgpKTtcbiAgICB9XG4gIH07XG5cbiAgVW5pZm9ybVRodW1ic0ZpdHRlci5wcm90b3R5cGUuX2ltYWdlUmF0aW8gPSBmdW5jdGlvbigpe1xuICAgIC8vIGNhY2hlIHRoZSBpbWFnZXMgcmF0aW8gYmVjYXVzZSB3ZSBkb24ndCBuZWVkIHRvIGNhbGN1bGF0ZSBpdCBldmVyeSB0aW1lXG4gICAgdGhpcy5pbWFnZVJhdGlvID0gdGhpcy5pbWFnZVJhdGlvIHx8IHRoaXMuX2dldE5hdHVyYWxXaWR0aCh0aGlzLiRpbWFnZSkgLyB0aGlzLl9nZXROYXR1cmFsSGVpZ2h0KHRoaXMuJGltYWdlKTtcbiAgICByZXR1cm4gdGhpcy5pbWFnZVJhdGlvO1xuICB9O1xuXG4gIFVuaWZvcm1UaHVtYnNGaXR0ZXIucHJvdG90eXBlLl93cmFwcGVyUmF0aW8gPSBmdW5jdGlvbigpe1xuICAgIC8vIGNhY2hlIHRoZSB3cmFwcGVycyByYXRpbyBiZWNhdXNlIHdlIGRvbid0IG5lZWQgdG8gY2FsY3VsYXRlIGl0IGV2ZXJ5IHRpbWVcbiAgICB0aGlzLndyYXBwZXJSYXRpbyA9IHRoaXMud3JhcHBlclJhdGlvIHx8IHRoaXMuJHdyYXBwZXIud2lkdGgoKSAvIHRoaXMuJHdyYXBwZXIuaGVpZ2h0KCk7XG4gICAgcmV0dXJuIHRoaXMud3JhcHBlclJhdGlvO1xuICB9O1xuICBcbiAgVW5pZm9ybVRodW1ic0ZpdHRlci5wcm90b3R5cGUuX2FsaWduSW1hZ2UgPSBmdW5jdGlvbigpe1xuICAgIHZhciBzdHlsZSA9IHt9O1xuICAgIHN0eWxlLm1hcmdpbkxlZnQgPSAodGhpcy4kd3JhcHBlci53aWR0aCgpIC0gdGhpcy4kaW1hZ2Uud2lkdGgoKSkgLyAyO1xuICAgIHN3aXRjaCAodGhpcy5zZXR0aW5ncy5hbGlnbikge1xuICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtaWRkbGUnOlxuICAgICAgICBzdHlsZS5tYXJnaW5Ub3AgPSAodGhpcy4kd3JhcHBlci5oZWlnaHQoKSAtIHRoaXMuJGltYWdlLmhlaWdodCgpKSAvIDI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgc3R5bGUubWFyZ2luVG9wID0gdGhpcy4kd3JhcHBlci5oZWlnaHQoKSAtIHRoaXMuJGltYWdlLmhlaWdodCgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy4kaW1hZ2UuY3NzKHN0eWxlKTtcbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnNGaXR0ZXIucHJvdG90eXBlLl9nZXROYXR1cmFsSGVpZ2h0ID0gZnVuY3Rpb24oJGltYWdlKXtcbiAgICBpZiAoIXRoaXMuaW1hZ2VOYXR1cmFsSGVpZ2h0KSB7XG4gICAgICBpZiAoJGltYWdlLnByb3AoJ25hdHVyYWxIZWlnaHQnKSkge1xuICAgICAgICB0aGlzLmltYWdlTmF0dXJhbEhlaWdodCA9ICRpbWFnZS5wcm9wKCduYXR1cmFsSGVpZ2h0Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmltYWdlTmF0dXJhbEhlaWdodCA9IHRoaXMuX2dldE5hdHVyYWxTaXplKCRpbWFnZSkuaGVpZ2h0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5pbWFnZU5hdHVyYWxIZWlnaHQ7XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzRml0dGVyLnByb3RvdHlwZS5fZ2V0TmF0dXJhbFdpZHRoID0gZnVuY3Rpb24oJGltYWdlKXtcbiAgICBpZiAoIXRoaXMuaW1hZ2VOYXR1cmFsV2lkdGgpIHtcbiAgICAgIGlmICgkaW1hZ2UucHJvcCgnbmF0dXJhbFdpZHRoJykpIHtcbiAgICAgICAgdGhpcy5pbWFnZU5hdHVyYWxXaWR0aCA9ICRpbWFnZS5wcm9wKCduYXR1cmFsV2lkdGgnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW1hZ2VOYXR1cmFsV2lkdGggPSB0aGlzLl9nZXROYXR1cmFsU2l6ZSgkaW1hZ2UpLndpZHRoO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5pbWFnZU5hdHVyYWxXaWR0aDtcbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnNGaXR0ZXIucHJvdG90eXBlLl9nZXROYXR1cmFsU2l6ZSA9IGZ1bmN0aW9uKCRpbWFnZSl7XG4gICAgaWYgKCRpbWFnZS5wcm9wKCdzcmMnKSkge1xuICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgaW1nLnNyYyA9ICRpbWFnZS5wcm9wKCdzcmMnKTtcbiAgICAgIHJldHVybiB7IHdpZHRoOiBpbWcud2lkdGgsIGhlaWdodDogaW1nLmhlaWdodCB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICBcbiAgVW5pZm9ybVRodW1ic0ZpdHRlci5wcm90b3R5cGUuX3Jlc2V0SW1hZ2VDU1MgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuJGltYWdlLmNzcyh7XG4gICAgICBtYXhXaWR0aDogJ25vbmUnLFxuICAgICAgd2lkdGg6ICdhdXRvJyxcbiAgICAgIGhlaWdodDogJ2F1dG8nXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqKlxuICAgKiBqUXVlcnktaWZ5XG4gICAqKiovXG4gICBcbiAgdmFyIHRodW1ibmFpbENvbXBsZXRlQ291bnQgPSAwO1xuICB2YXIgaW52b2tlRmluYWxUcmlnZ2VyID0gZnVuY3Rpb24oc2VsZil7XG4gICAgdGh1bWJuYWlsQ29tcGxldGVDb3VudCsrO1xuICAgIGlmICh0aHVtYm5haWxDb21wbGV0ZUNvdW50ID09PSBzZWxmLmxlbmd0aCkge1xuICAgICAgJChzZWxmKS5sYXN0KCkudHJpZ2dlcigndXRfY29tcGxldGUnKTtcbiAgICB9XG4gIH07XG4gICBcbiAgJC5mbi51bmlmb3JtX3RodW1ibmFpbHMgPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcbiAgICAvLyBjb2xsZWN0IHNldHRpbmdzXG4gICAgdmFyIHNldHRpbmdzID0gJC5leHRlbmQoIHt9LCAkLmZuLnVuaWZvcm1fdGh1bWJuYWlscy5kZWZhdWx0cywgb3B0aW9ucyApO1xuICAgIC8vIGJ1aWxkIHBsdWdpblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gc2VsZi5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgJGVsZSA9ICQodGhpcyk7XG4gICAgICAkZWxlLmRhdGEoJ191bmlmb3JtX3RodW1ibmFpbHMnLCBuZXcgVW5pZm9ybVRodW1icygkZWxlLCBzZXR0aW5ncykpO1xuICAgICAgJGVsZS5vbigndXRfaW1hZ2VMb2FkZWQnLCBmdW5jdGlvbigpe1xuICAgICAgICBpbnZva2VGaW5hbFRyaWdnZXIoc2VsZik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgXG4gIC8vIERlZmF1bHQgc2V0dGluZ3NcbiAgJC5mbi51bmlmb3JtX3RodW1ibmFpbHMuZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICBmaXQ6ICdjcm9wJywgICAvLyBjcm9wfHNjYWxlXG4gICAgICAgICAgICAgcmF0aW86ICcxOjEnLCAgICAvLyBhc3BlY3QgcmF0aW8gZm9yIGltYWdlIGNvbnRhaW5lclxuICAgICAgICAgICAgZm9ybWF0OiAncmF0aW8nLCAgLy8gcmF0aW98c3F1YXJlfGxhbmRzY2FwZXxwb3J0cmFpdFxuICAgICAgICAgICAgIGFsaWduOiAnbWlkZGxlJywgLy8gdG9wfG1pZGRsZXxib3R0b21cbiAgICBsYW5kc2NhcGVSYXRpbzogJzQ6MycsICAgIC8vIGRlZmF1bHQgcmF0aW8gZm9yIGxhbmRzY2FwZVxuICAgICBwb3J0cmFpdFJhdGlvOiAnMzo0JyAgICAgLy8gZGVmYXVsdCByYXRpbyBmb3IgcG9ydHJhaXRcbiAgfTtcblxufShqUXVlcnkpKTsiLCIvKlxuICBBIGNvbGxlY3Rpb24gb2YgcG9seWZpbGxzIGZvciBJRThcbiovXG5cbm1vZHVsZS5leHBvcnRzLmdldENvbXB1dGVkU3R5bGUgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghd2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uKGVsLCBwc2V1ZG8pIHtcbiAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgIHRoaXMuZ2V0UHJvcGVydHlWYWx1ZSA9IGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgdmFyIHJlID0gLyhcXC0oW2Etel0pezF9KS9nO1xuICAgICAgICBpZiAocHJvcCA9PSAnZmxvYXQnKSBwcm9wID0gJ3N0eWxlRmxvYXQnO1xuICAgICAgICBpZiAocmUudGVzdChwcm9wKSkge1xuICAgICAgICAgIHByb3AgPSBwcm9wLnJlcGxhY2UocmUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbMl0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWwuY3VycmVudFN0eWxlW3Byb3BdID8gZWwuY3VycmVudFN0eWxlW3Byb3BdIDogbnVsbDtcbiAgICAgIH07XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5vYmplY3RLZXlzID0gZnVuY3Rpb24gKCkge1xuICAvLyBGcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9rZXlzXG4gIGlmICghT2JqZWN0LmtleXMpIHtcbiAgICBPYmplY3Qua2V5cyA9IChmdW5jdGlvbigpIHtcbiAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgICAgICAgaGFzRG9udEVudW1CdWcgPSAhKHsgdG9TdHJpbmc6IG51bGwgfSkucHJvcGVydHlJc0VudW1lcmFibGUoJ3RvU3RyaW5nJyksXG4gICAgICAgICAgZG9udEVudW1zID0gW1xuICAgICAgICAgICAgJ3RvU3RyaW5nJyxcbiAgICAgICAgICAgICd0b0xvY2FsZVN0cmluZycsXG4gICAgICAgICAgICAndmFsdWVPZicsXG4gICAgICAgICAgICAnaGFzT3duUHJvcGVydHknLFxuICAgICAgICAgICAgJ2lzUHJvdG90eXBlT2YnLFxuICAgICAgICAgICAgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJyxcbiAgICAgICAgICAgICdjb25zdHJ1Y3RvcidcbiAgICAgICAgICBdLFxuICAgICAgICAgIGRvbnRFbnVtc0xlbmd0aCA9IGRvbnRFbnVtcy5sZW5ndGg7XG4gIFxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgJiYgKHR5cGVvZiBvYmogIT09ICdmdW5jdGlvbicgfHwgb2JqID09PSBudWxsKSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5rZXlzIGNhbGxlZCBvbiBub24tb2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIHZhciByZXN1bHQgPSBbXSwgcHJvcCwgaTtcbiAgXG4gICAgICAgIGZvciAocHJvcCBpbiBvYmopIHtcbiAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChwcm9wKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgXG4gICAgICAgIGlmIChoYXNEb250RW51bUJ1Zykge1xuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkb250RW51bXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBkb250RW51bXNbaV0pKSB7XG4gICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGRvbnRFbnVtc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0oKSk7XG4gIH1cbn07IiwiQmFubmVyID0ge307XG5cbnZhciAkYmFubmVyID0gJCgnW2RhdGEtYmFubmVyXScpO1xuXG5CYW5uZXIuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCRiYW5uZXIubGVuZ3RoID4gMCkge1xuICAgIEJhbm5lci5hZGRfZXZlbnRfaGFuZGxlcnMoKTtcbiAgfVxufTtcblxuQmFubmVyLmFkZF9ldmVudF9oYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhpcyBldmVudCBmaXJlcyBpbW1lZGlhdGVseSB3aGVuIHRoZSBzbGlkZSBpbnN0YW5jZSBtZXRob2QgaXMgaW52b2tlZC5cbiAgJGJhbm5lci5vbignc2xpZGUuYnMuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkcmVsYXRlZF90YXJnZXQgPSAkKGUucmVsYXRlZFRhcmdldCk7XG4gICAgLy8gU2V0IHRoZSBkYXRhLWJhbm5lciBhdHRyIHRvIHRoZSBjdXJyZW50IHNsaWRlcyBpbmRleCBzbyB0aGF0IHdlIGNhbiBkbyBhd2Vzb21lIHNjc3Mgc3R1ZmZzXG4gICAgJGJhbm5lci5hdHRyKCdkYXRhLWJhbm5lcicsICRyZWxhdGVkX3RhcmdldC5kYXRhKCdzbGlkZScpKTtcbiAgfSk7XG4gIFxuICAvLyBUaGlzIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIGNhcm91c2VsIGhhcyBjb21wbGV0ZWQgaXRzIHNsaWRlIHRyYW5zaXRpb24uXG4gICRiYW5uZXIub24oJ3NsaWQuYnMuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoKSB7XG4gIH0pO1xufTtcbiAgICBcbm1vZHVsZS5leHBvcnRzID0gQmFubmVyOyIsIkJhbm5lclZpZGVvID0ge307XG5cbnJlcXVpcmUoJ2pxdWVyeS5tYi55dHBsYXllcicpO1xudmFyICRwbGF5ZXIgPSAkKCcuYmFubmVyLXZpZGVvLXBsYXllcicpO1xuXG5CYW5uZXJWaWRlby5pbml0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoJHBsYXllci5sZW5ndGggPiAwICYmICFNb2Rlcm5penIudG91Y2gpIHtcbiAgICAkcGxheWVyLllUUGxheWVyKCk7XG4gIH0gZWxzZSB7XG4gICAgJHBsYXllci5wYXJlbnQoKS5hZGRDbGFzcygnZmFsbGJhY2staW1nJyk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQmFubmVyVmlkZW87IiwidmFyIENhcnRKUyA9IHJlcXVpcmUoXCIuLy4uLy4uL2Jvd2VyX2NvbXBvbmVudHMvc2hvcGlmeS1jYXJ0anMvZGlzdC9jYXJ0LmpzXCIpO1xuXG52YXIgQ2FydCA9IHt9O1xudmFyIG1lc3NhZ2VfY291bnQgPSAwO1xuXG4vLyBDYXJ0IHZhcnNcbnZhciAkY2FydF9kaXNwbGF5X2VsZSA9ICQoJ1tkYXRhLWNhcnQtZGlzcGxheV0nKTtcbnZhciAkY2FydF90b3RhbF9lbGUgPSAkKCdbZGF0YS1jYXJ0LXRvdGFsXScpO1xudmFyICRjYXJ0X2Zvcm1fZWxlID0gJChCc2lmeS5zZWxlY3RvcnMuY2FydC5mb3JtX3NlbGVjdG9yKTtcbnZhciAkY2FydF9tZXNzYWdlX2VsZSA9ICQoQnNpZnkuc2VsZWN0b3JzLmNhcnQubWVzc2FnZV9zZWxlY3Rvcik7XG52YXIgJGFja25vd2xlZGdlbWVudF9jaGVja2JveCA9ICQoQnNpZnkuc2VsZWN0b3JzLmNhcnQuYWNrbm93bGVkZ2VtZW50X2NoZWNrYm94KTtcblxuLy8gcHJvZHVjdCB2YXJzXG5pZiAoQnNpZnkucHJvZHVjdCkge1xuICB2YXIgJHByb2R1Y3RfZm9ybV9lbGUgPSAkKEJzaWZ5LnNlbGVjdG9ycy5wcm9kdWN0LmZvcm1fc2VsZWN0b3IpO1xuICB2YXIgJHByb2R1Y3RfZm9ybV9idXR0b24gPSAkcHJvZHVjdF9mb3JtX2VsZS5maW5kKCdpbnB1dFt0eXBlPXN1Ym1pdF0nKTtcbiAgdmFyICRwcm9kdWN0X2Zvcm1fbWVzc2FnZV9lbGUgPSAkKEJzaWZ5LnNlbGVjdG9ycy5wcm9kdWN0LmZvcm1fbWVzc2FnZV9zZWxlY3Rvcik7XG59XG5cbi8vIFNldCB1cCBjYXJ0IGV2ZW50IGhhbmRsZXJzXG5DYXJ0LmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIFxuICAvLyBmaXJlZCB3aGVuIHRoZSBDYXJ0SlMgb2JqZWN0IGhhcyBmaW5pc2hlZCB1cGRhdGluZyB0aGUgY2FydFxuICAkKGRvY3VtZW50KS5vbignY2FydC5yZXF1ZXN0Q29tcGxldGUnLCBmdW5jdGlvbihldmVudCwgY2FydCkge1xuICAgIC8vIHVwZGF0ZSB0aGUgY2FydCBub3RlIGluIHRoZSBuYXZiYXJcbiAgICBDYXJ0LnVwZGF0ZV9jYXJ0X2Rpc3BsYXkoKTtcbiAgICBDYXJ0LnVwZGF0ZV9jYXJ0X3RhYmxlKCk7XG4gIH0pO1xuICBcbiAgLy8gQWpheCBhZGQgdG8gY2FydCBmcm9tIHByb2R1Y3QgdGVtcGxhdGVcbiAgaWYgKEJzaWZ5LnByb2R1Y3QpIHtcbiAgICAvLyBDYXB0dXJlIHRoZSBmb3JtIHN1Ym1pdFxuICAgICQoZG9jdW1lbnQpLm9uKCdzdWJtaXQnLCBCc2lmeS5zZWxlY3RvcnMucHJvZHVjdC5mb3JtX3NlbGVjdG9yLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyICRjdXJyZW50X3RhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIENhcnQuYWRkX2l0ZW1fdG9fY2FydCgkY3VycmVudF90YXJnZXQpO1xuICAgIH0pO1xuICB9XG4gIFxuICAvLyByZW1vdmUgaXRlbSBmcm9tIGNhcnRcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLXJlbW92ZS1pdGVtXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciAkY3VycmVudF90YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgQ2FydC5yZW1vdmVfaXRlbV9mcm9tX2NhcnQoJGN1cnJlbnRfdGFyZ2V0KTtcbiAgfSk7XG4gIFxuICAvLyBJZiBjaGVja291dCBhY2tub3dsZWRnZW1lbnQgY2hlY2tib3ggZXhpc3RzXG4gIC8vIGFuZCBpcyBub3QgY2hlY2tlZCBkb24ndCBsZXQgdGhlIHVzZXIgaW50byB0aGUgY2hlY2tvdXRcbiAgaWYgKCRhY2tub3dsZWRnZW1lbnRfY2hlY2tib3gubGVuZ3RoID4gMCAmJiAkY2FydF9mb3JtX2VsZS5sZW5ndGggPiAwKSB7XG4gICAgJGNhcnRfZm9ybV9lbGUub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoISRhY2tub3dsZWRnZW1lbnRfY2hlY2tib3guaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgJGFja25vd2xlZGdlbWVudF9jaGVja2JveC5jbG9zZXN0KCcuY2hlY2tib3gnKS5hZGRDbGFzcygnaGFzLWVycm9yJyk7XG4gICAgICAgIENhcnQuc2hvd19tZXNzYWdlKCRjYXJ0X21lc3NhZ2VfZWxlLCAnYWxlcnQgYWxlcnQtZGFuZ2VyJywgQnNpZnkudHJhbnNsYXRpb25zLmNhcnQuYWNrbm93bGVkZ2VtZW50X2NoZWNrYm94X2Vycm9yX21lc3NhZ2UpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxuLypcbiAgQ2FydCBtZXRob2RzXG4qL1xuXG5DYXJ0LmFkZF9pdGVtX3RvX2NhcnQgPSBmdW5jdGlvbiAoJGN1cnJlbnRfdGFyZ2V0KSB7XG4gIHZhciB2YWx1ZXMgPSBDYXJ0LmZvcm1fdmFsdWVzKCRjdXJyZW50X3RhcmdldC5zZXJpYWxpemVBcnJheSgpKTtcbiAgdmFyIHByb3BlcnRpZXMgPSB2YWx1ZXMucHJvcGVydGllcyB8fCB7fTtcbiAgXG4gIHZhciB2YXJpYW50ID0gQnNpZnkuZ2V0X3ZhcmlhbnRfYnlfaWQodmFsdWVzLmlkKTtcbiAgdmFyIGl0ZW1fdGl0bGUgPSAodmFyaWFudC50aXRsZSA9PT0gJ0RlZmF1bHQgVGl0bGUnKSA/IEJzaWZ5LnByb2R1Y3QudGl0bGUgOiBCc2lmeS5wcm9kdWN0LnRpdGxlICsgQnNpZnkudHJhbnNsYXRpb25zLnByb2R1Y3QuaXRlbV90aXRsZV9zZXBlcmF0b3IgKyB2YXJpYW50LnRpdGxlO1xuICBcbiAgdmFyIHBhdGhfYXJyYXkgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoJy8nKTtcbiAgdmFyIGNvbGxlY3Rpb25fdXJsID0gKHBhdGhfYXJyYXlbMV0gPT0gJ2NvbGxlY3Rpb25zJykgPyAnLycrcGF0aF9hcnJheVsxXSsnLycrcGF0aF9hcnJheVsyXSsnLycgOiAnL2NvbGxlY3Rpb25zL2FsbC8nO1xuICBcbiAgLy8gdXBkYXRlIHRoZSB1c2VyIHRoYXQgd2UgYXJlIHdvcmtpbmcgb24gaXRcbiAgJHByb2R1Y3RfZm9ybV9idXR0b24udmFsKEJzaWZ5LnRyYW5zbGF0aW9ucy5wcm9kdWN0LmFkZGluZ190b19jYXJ0X2J1dHRvbl90ZXh0KTtcbiAgXG4gIC8vIGFkZCB0aGUgaXRlbSB0byB0aGUgY2FydFxuICBDYXJ0SlMuYWRkSXRlbSh2YWx1ZXMuaWQsIHZhbHVlcy5xdWFudGl0eSwgcHJvcGVydGllcywge1xuICAgIFwic3VjY2Vzc1wiIDogZnVuY3Rpb24gKGRhdGEsIHRleHRfc3RhdHVzLCBqcVhIUikge1xuICAgICAgXG4gICAgICAvLyBjcmVhdGUgYW5kIGRpc3BsYXkgY29tcGxldGVkIG1lc3NhZ2VcbiAgICAgIHZhciBtZXNzYWdlID0gQnNpZnkudHJhbnNsYXRpb25zLnByb2R1Y3QuYWZ0ZXJfcHJvZHVjdF9hZGRlZF9tZXNzYWdlX2h0bWwucmVwbGFjZSgnW2l0ZW1fdGl0bGVdJywgaXRlbV90aXRsZSkucmVwbGFjZSgnW2NvbGxlY3Rpb25fdXJsXScsIGNvbGxlY3Rpb25fdXJsKTtcbiAgICAgIENhcnQuc2hvd19tZXNzYWdlKCRwcm9kdWN0X2Zvcm1fbWVzc2FnZV9lbGUsICdzdWNjZXNzJywgbWVzc2FnZSk7XG4gICAgICBcbiAgICAgIC8vIHVwZGF0ZSBhZGQgdG8gY2FydCBidXR0b24gdGV4dFxuICAgICAgJHByb2R1Y3RfZm9ybV9idXR0b24udmFsKEJzaWZ5LnRyYW5zbGF0aW9ucy5wcm9kdWN0LmFkZGVkX3RvX2NhcnRfYnV0dG9uX3RleHQpO1xuICAgICAgXG4gICAgfSxcbiAgICBcImVycm9yXCI6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0X3N0YXR1cywgZXJyb3JfdGhyb3duKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0VSUk9SXSAtIEFkZCB0byBjYXJ0OicsIGpxWEhSLCB0ZXh0X3N0YXR1cywgZXJyb3JfdGhyb3duKTtcbiAgICAgIFxuICAgICAgLy8gY3JlYXRlIGFuZCBkaXNwbGF5IGVycm9yIG1lc3NhZ2VcbiAgICAgIHZhciBtZXNzYWdlID0gQnNpZnkudHJhbnNsYXRpb25zLnByb2R1Y3QuYWZ0ZXJfcHJvZHVjdF9hZGRlZF9lcnJvcl9tZXNzYWdlX2h0bWwucmVwbGFjZSgnW2l0ZW1fdGl0bGVdJywgaXRlbV90aXRsZSkucmVwbGFjZSgnW2Vycm9yX21lc3NhZ2VdJywgZXJyb3JfdGhyb3duKTtcbiAgICAgIENhcnQuc2hvd19tZXNzYWdlKCRwcm9kdWN0X2Zvcm1fbWVzc2FnZV9lbGUsICdlcnJvcicsIG1lc3NhZ2UpO1xuICAgICAgXG4gICAgICAvLyB1cGRhdGUgYWRkIHRvIGNhcnQgYnV0dG9uIHRleHRcbiAgICAgICRwcm9kdWN0X2Zvcm1fYnV0dG9uLnZhbChCc2lmeS50cmFuc2xhdGlvbnMucHJvZHVjdC51bmF2YWlsYWJsZV9idXR0b25fdGV4dCk7XG4gICAgfVxuICB9KTtcbn07XG5cbkNhcnQucmVtb3ZlX2l0ZW1fZnJvbV9jYXJ0ID0gZnVuY3Rpb24gKCRjdXJyZW50X3RhcmdldCkge1xuICB2YXIgJGNhcnRfaXRlbV9lbGUgPSAkY3VycmVudF90YXJnZXQuY2xvc2VzdChCc2lmeS5zZWxlY3RvcnMuY2FydC5pdGVtX3NlbGVjdG9yKTtcbiAgXG4gIHZhciBpdGVtID0gQ2FydC5nZXRfaXRlbV9ieV9pZCgkY2FydF9pdGVtX2VsZS5kYXRhKCdjYXJ0LWl0ZW0nKSk7XG4gIHZhciBpdGVtX3RpdGxlID0gaXRlbS5wcm9kdWN0X3RpdGxlO1xuICBpZiAoaXRlbS52YXJpYW50X3RpdGxlKSB7XG4gICAgaXRlbV90aXRsZSArPSBCc2lmeS50cmFuc2xhdGlvbnMucHJvZHVjdC5pdGVtX3RpdGxlX3NlcGVyYXRvciArIGl0ZW0udmFyaWFudF90aXRsZTtcbiAgfVxuICBcbiAgQ2FydEpTLnJlbW92ZUl0ZW0oJGN1cnJlbnRfdGFyZ2V0LmRhdGEoJ3JlbW92ZS1pdGVtJyksIHtcbiAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24gKGRhdGEsIHRleHRfc3RhdHVzLCBqcVhIUikge1xuICAgICAgLy8gaGlkZSBpdGVtIHJvd1xuICAgICAgJGNhcnRfaXRlbV9lbGUuaGlkZSgpO1xuICAgICAgXG4gICAgICAvLyBTaG93IHVzZXIgYSBuaWNlIG1lc3NhZ2VcbiAgICAgIHZhciBtZXNzYWdlID0gQnNpZnkudHJhbnNsYXRpb25zLmNhcnQucmVtb3ZlX2l0ZW1fbWVzc2FnZS5yZXBsYWNlKCdbaXRlbV90aXRsZV0nLCBpdGVtX3RpdGxlKTtcbiAgICAgIENhcnQuc2hvd19tZXNzYWdlKCRjYXJ0X21lc3NhZ2VfZWxlLCAnc3VjY2VzcycsIG1lc3NhZ2UpO1xuICAgICAgXG4gICAgfSxcbiAgICBcImVycm9yXCI6IGZ1bmN0aW9uIChqcVhIUiwgdGV4dF9zdGF0dXMsIGVycm9yX3Rocm93bikge1xuICAgICAgY29uc29sZS5sb2coJ1tFUlJPUl0gLSBSZW1vdmUgaXRlbSBmcm9tIGNhcnQ6JywganFYSFIsIHRleHRfc3RhdHVzLCBlcnJvcl90aHJvd24pO1xuICAgICAgXG4gICAgICAvLyBTaG93IHVzZXIgYSBuaWNlIG1lc3NhZ2VcbiAgICAgIHZhciBtZXNzYWdlID0gQnNpZnkudHJhbnNsYXRpb25zLmNhcnQucmVtb3ZlX2l0ZW1fZXJyb3JfbWVzc2FnZS5yZXBsYWNlKCdbaXRlbV90aXRsZV0nLCBpdGVtX3RpdGxlKS5yZXBsYWNlKCdbZXJyb3JfbWVzc2FnZV0nLCBlcnJvcl90aHJvd24pO1xuICAgICAgQ2FydC5zaG93X21lc3NhZ2UoJGNhcnRfbWVzc2FnZV9lbGUsICdzdWNjZXNzJywgbWVzc2FnZSk7XG4gICAgfSBcbiAgfSk7XG59O1xuXG4vKlxuICBEaXNwbGF5IG1ldGhvZHNcbiovXG5cbi8vIFVwZGF0ZSBjYXJ0IGRpc3BsYXkgd2l0aCB0aGUgY3VycmVudCBjYXJ0IGRldGFpbHNcbkNhcnQudXBkYXRlX2NhcnRfZGlzcGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNhcnRfdG90YWxfcHJpY2UgPSBTaG9waWZ5LmZvcm1hdE1vbmV5KENhcnRKUy5jYXJ0LnRvdGFsX3ByaWNlLCBCc2lmeS5tb25leV9mb3JtYXRzLm1vbmV5Rm9ybWF0KTtcbiAgdmFyIGNhcnRfdG90YWxfcHJpY2Vfd2l0aF9jdXJyZW5jeSA9IFNob3BpZnkuZm9ybWF0TW9uZXkoQ2FydEpTLmNhcnQudG90YWxfcHJpY2UsIEJzaWZ5Lm1vbmV5X2Zvcm1hdHMubW9uZXlXaXRoQ3VycmVuY3lGb3JtYXQpO1xuICBcbiAgdmFyIGNhcnRfZGlzcGxheV90ZXh0ID0gQnNpZnkudHJhbnNsYXRpb25zLmNhcnQuY2FydF9kaXNwbGF5X3RleHQucmVwbGFjZSgnW2l0ZW1fY291bnRdJywgQ2FydEpTLmNhcnQuaXRlbV9jb3VudCk7XG4gIGNhcnRfZGlzcGxheV90ZXh0ID0gQ2FydC5yZXBsYWNlX3ByaWNlKGNhcnRfZGlzcGxheV90ZXh0LCAnW2NhcnRfdG90YWxfcHJpY2VdJywgQ2FydEpTLmNhcnQudG90YWxfcHJpY2UsIGNhcnRfdG90YWxfcHJpY2UpO1xuICBjYXJ0X2Rpc3BsYXlfdGV4dCA9IENhcnQucmVwbGFjZV9wcmljZShjYXJ0X2Rpc3BsYXlfdGV4dCwgJ1tjYXJ0X3RvdGFsX3ByaWNlX3dpdGhfY3VycmVuY3ldJywgQ2FydEpTLmNhcnQudG90YWxfcHJpY2UsIGNhcnRfdG90YWxfcHJpY2Vfd2l0aF9jdXJyZW5jeSk7XG4gICRjYXJ0X2Rpc3BsYXlfZWxlLmh0bWwoY2FydF9kaXNwbGF5X3RleHQpO1xuICBcbiAgdmFyIGNhcnRfdG90YWxfdGV4dCA9IEJzaWZ5LnRyYW5zbGF0aW9ucy5jYXJ0LmNhcnRfdG90YWw7XG4gIGNhcnRfdG90YWxfdGV4dCA9IENhcnQucmVwbGFjZV9wcmljZShjYXJ0X3RvdGFsX3RleHQsICdbY2FydF90b3RhbF9wcmljZV0nLCBDYXJ0SlMuY2FydC50b3RhbF9wcmljZSwgY2FydF90b3RhbF9wcmljZSk7XG4gIGNhcnRfdG90YWxfdGV4dCA9IENhcnQucmVwbGFjZV9wcmljZShjYXJ0X3RvdGFsX3RleHQsICdbY2FydF90b3RhbF9wcmljZV93aXRoX2N1cnJlbmN5XScsIENhcnRKUy5jYXJ0LnRvdGFsX3ByaWNlLCBjYXJ0X3RvdGFsX3ByaWNlX3dpdGhfY3VycmVuY3kpO1xuICAkY2FydF90b3RhbF9lbGUuaHRtbChjYXJ0X3RvdGFsX3RleHQpO1xufTtcblxuQ2FydC5yZXBsYWNlX3ByaWNlID0gZnVuY3Rpb24gKHRhcmdldF9zdHIsIHBsYWNlaG9sZGVyLCBwcmljZV9yYXcsIHByaWNlX2Zvcm1hdGVkKSB7XG4gIHBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXIucmVwbGFjZSgvKFtcXFtcXF1dKS9nLCBcIlxcXFwkMVwiKTtcbiAgdmFyIHJlZ19yYXcgPSBuZXcgUmVnRXhwKFwiZGF0YS1wcmljZT1bJ1xcXCJdKFwiK3BsYWNlaG9sZGVyK1wiKVsnXFxcIl1cIik7XG4gIHZhciByZWdfZm9ybWF0dGVkID0gbmV3IFJlZ0V4cChcIj4oXCIrcGxhY2Vob2xkZXIrXCIpPFwiKTtcbiAgXG4gIHJldHVybiB0YXJnZXRfc3RyXG4gICAgLnJlcGxhY2UocmVnX3JhdywgZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYS5yZXBsYWNlKGIsIHByaWNlX3Jhdyk7IH0pXG4gICAgLnJlcGxhY2UocmVnX2Zvcm1hdHRlZCwgZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYS5yZXBsYWNlKGIsIHByaWNlX2Zvcm1hdGVkKTsgfSk7XG59O1xuXG4vLyBoaWRlIHRoZSBjYXJ0IHRhYmxlIGlmIHRoZSBjYXJ0IGlzIGVtcHR5XG5DYXJ0LnVwZGF0ZV9jYXJ0X3RhYmxlID0gZnVuY3Rpb24gKCkge1xuICBpZiAoQ2FydEpTLmNhcnQuaXRlbV9jb3VudCA9PT0gMCkge1xuICAgICRjYXJ0X2Zvcm1fZWxlLmhpZGUoKTtcbiAgICAkY2FydF9tZXNzYWdlX2VsZS5yZW1vdmVDbGFzcygnaGlkZGVuJykuaHRtbChCc2lmeS50cmFuc2xhdGlvbnMuY2FydC5lbXB0eV9jYXJ0X3RleHQpO1xuICB9XG59O1xuXG4vLyBzaG93IGFuZCBoaWRlIGZlZWRiYWNrIG1lc2FnZXMgZm9yIGNhcnQgYWN0aW9uc1xuQ2FydC5zaG93X21lc3NhZ2UgPSBmdW5jdGlvbiAoJG1lc3NhZ2VfZWxlLCBtZXNzYWdlX2NsYXNzLCBtZXNzYWdlKSB7XG4gIG1lc3NhZ2VfY291bnQrKztcbiAgJG1lc3NhZ2VfZWxlLnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5odG1sKCc8ZGl2IGNsYXNzPVwibm90ZSAnK21lc3NhZ2VfY2xhc3MrJyBtZXNzYWdlJyttZXNzYWdlX2NvdW50KydcIj4nK21lc3NhZ2UrJzwvZGl2PicpO1xuICBDYXJ0LnJlbW92ZV9tZXNzYWdlKG1lc3NhZ2VfY291bnQpO1xufTtcblxuQ2FydC5yZW1vdmVfbWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlX2lkKSB7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICQoJy5tZXNzYWdlJyttZXNzYWdlX2lkKS5mYWRlT3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgfSk7XG4gIH0sIEJzaWZ5Lm1lc3NhZ2VfdGltZW91dCk7XG59O1xuXG4vLyBjb252ZXJ0IGpRdWVyeSBzZXJpYWxpemVBcnJheSByZXN1bHRzIGludG8gc29tZXRoaW5nIHVzZWZ1bFxuQ2FydC5mb3JtX3ZhbHVlcyA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgdmFyIHZhbHMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGFycltpXTtcbiAgICAvLyBuZXN0IG9iamVjdHMgMSBkZWVwIGkuZS4gZm9yIGxpbmVfaXRlbS5wcm9wZXJ0aWVzXG4gICAgdmFyIHJlID0gLyguKilcXFsoLiopXFxdL2lnO1xuICAgIHZhciByZXN1bHQgPSByZS5leGVjKGl0ZW0ubmFtZSk7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgdmFyIGtleSA9IHJlc3VsdFsxXTtcbiAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgIG9ialtyZXN1bHRbMl0gfHwgMF0gPSBpdGVtLnZhbHVlO1xuICAgICAgaWYgKHZhbHNba2V5XSkge1xuICAgICAgICAkLmV4dGVuZCh2YWxzW2tleV0sIG9iaik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWxzW2tleV0gPSBvYmo7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHNbaXRlbS5uYW1lXSA9IGl0ZW0udmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWxzO1xufTtcblxuLypcbiAgQ2FydCB1dGlsaXR5IGZ1bmN0aW9uc1xuKi9cblxuLy8gR2V0IGl0ZW0gZnJvbSBDYXJ0SlMgYnkgdmFyaWFudCBpZFxuQ2FydC5nZXRfaXRlbV9ieV9pZCA9IGZ1bmN0aW9uICh2YXJpYW50X2lkKSB7XG4gIGlmICh0eXBlb2YgdmFyaWFudF9pZCA9PT0gJ3N0cmluZycpIHZhcmlhbnRfaWQgPSBwYXJzZUludCh2YXJpYW50X2lkKTtcbiAgdmFyIGxpbmVfaXRlbTtcbiAgaWYgKENhcnRKUykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ2FydEpTLmNhcnQuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gQ2FydEpTLmNhcnQuaXRlbXNbaV07XG4gICAgICBpZiAoaXRlbS52YXJpYW50X2lkID09PSB2YXJpYW50X2lkKSB7XG4gICAgICAgIGxpbmVfaXRlbSA9IGl0ZW07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBsaW5lX2l0ZW07XG59O1xuXG4vLyBDaGVjayBjYXJ0IGZvciB2YXJpYW50XG5DYXJ0Lmhhc192YXJpYW50ID0gZnVuY3Rpb24gKHZhcmlhbnRfaWQpIHtcbiAgaWYgKHR5cGVvZiB2YXJpYW50X2lkID09PSAnc3RyaW5nJykgdmFyaWFudF9pZCA9IHBhcnNlSW50KHZhcmlhbnRfaWQpO1xuICB2YXIgaGFzX3ZhcmlhbnQgPSBmYWxzZTtcbiAgaWYgKENhcnRKUykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ2FydEpTLmNhcnQuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gQ2FydEpTLmNhcnQuaXRlbXNbaV07XG4gICAgICBpZiAoaXRlbS52YXJpYW50X2lkID09PSB2YXJpYW50X2lkKSB7XG4gICAgICAgIGhhc192YXJpYW50ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGhhc192YXJpYW50O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYXJ0OyIsInZhciBJbWFnZVN3aXRjaGVyID0ge307XG5cbi8vIE5PVEU6IGhvdyB3aWxsIHRoaXMgYWxsIHdvcmsgd2l0aCBzcmNzZXQgPz8hIVxuLy8gVE9ETzogc3dpcGUgYmV0d2VlbiBpbWFnZXMgb24gbW9iaWxlXG5cbi8vIFByZWxvYWQgaW1hZ2VzIGZvciBnYWxsZXJ5XG4vLyBVc2VkIHRoZSBzaXplZCBzcmNcbkltYWdlU3dpdGNoZXIucHJlbG9hZF9wcm9kdWN0X3RodW1icyA9IGZ1bmN0aW9uKCl7XG4gIHZhciAkdGh1bWJzID0gJCgnW2RhdGEtZ2FsbGVyeS1tYWluXScpO1xuICBpZiAoJHRodW1icy5sZW5ndGggPiAwKSB7XG4gICAgdmFyIG1haW5faW1hZ2VfZWxlbWVudCA9ICQoJHRodW1icy5kYXRhKCdnYWxsZXJ5LW1haW4nKSlbMF07XG4gICAgdmFyIG1haW5faW1hZ2Vfc2l6ZSA9IFNob3BpZnkuSW1hZ2UuaW1hZ2VTaXplKG1haW5faW1hZ2VfZWxlbWVudC5zcmMpO1xuICAgIFxuICAgIGlmKCR0aHVtYnMubGVuZ3RoID4gMCl7XG4gICAgICAkdGh1bWJzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHZhciBzcmMgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgdmFyIHNpemVkX3NyYyA9IFNob3BpZnkuSW1hZ2UuZ2V0U2l6ZWRJbWFnZVVybChzcmMsIG1haW5faW1hZ2Vfc2l6ZSk7XG4gICAgICAgIGltYWdlLnNyYyA9IHNpemVkX3NyYztcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufTtcblxuLy8gSW5pdGlhbGlzZSB0aGUgaW1hZ2Ugc3dpdGNoZXIgZm9yIGdhbGxlcnkgdGh1bWJzXG5JbWFnZVN3aXRjaGVyLmltYWdlX3N3dGljaGVyID0gZnVuY3Rpb24gKCkge1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtZ2FsbGVyeS1tYWluXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciAkY3VycmVudF90YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgdmFyIG1haW5faW1hZ2VfZWxlbWVudCA9ICQoJGN1cnJlbnRfdGFyZ2V0LmRhdGEoJ2dhbGxlcnktbWFpbicpKVswXTtcbiAgICB2YXIgaW1hZ2Vfc3JjID0gJGN1cnJlbnRfdGFyZ2V0LmF0dHIoJ2hyZWYnKTtcbiAgICBJbWFnZVN3aXRjaGVyLnN3aXRjaF9pbWFnZShtYWluX2ltYWdlX2VsZW1lbnQsIGltYWdlX3NyYyk7XG4gIH0pO1xufTtcblxuLy8gU3dpdGNoIGltYWdlXG4vLyAtIHRha2VzIHRoZSBtYWluIGltYWdlIGVsZW1lbnQgdGhhdCB3aWxsIGhhdmUgaXQncyBzcmMgY2hhbmdlZFxuLy8gLSBhbmQgdGhlIG5ldyBzcmMgdG8gY2hhbmdlIGl0IHRvXG5JbWFnZVN3aXRjaGVyLnN3aXRjaF9pbWFnZSA9IGZ1bmN0aW9uIChtYWluX2ltYWdlX2VsZW1lbnQsIGltYWdlX3NyYykge1xuICBpZiAoIW1haW5faW1hZ2VfZWxlbWVudCB8fCAhaW1hZ2Vfc3JjKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGdldCB0aGUgbmV3IGltYWdlIHNyYyBhdCB0aGUgY29ycmVjdCBzaXplXG4gIHZhciBtYWluX2ltYWdlX3NpemUgPSBTaG9waWZ5LkltYWdlLmltYWdlU2l6ZShtYWluX2ltYWdlX2VsZW1lbnQuc3JjKTtcbiAgdmFyIG5ld19pbWFnZV9zcmMgPSBTaG9waWZ5LkltYWdlLmdldFNpemVkSW1hZ2VVcmwoaW1hZ2Vfc3JjLCBtYWluX2ltYWdlX3NpemUpO1xuICAvLyBzd2l0Y2ggdGhlIG1haW4gaW1hZ2UgdG8gdGhlIG5ldyBzcmNcbiAgaWYgKG1haW5faW1hZ2VfZWxlbWVudC5zcmMgIT09IG5ld19pbWFnZV9zcmMpIHtcbiAgICBtYWluX2ltYWdlX2VsZW1lbnQuc3JjID0gbmV3X2ltYWdlX3NyYztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbWFnZVN3aXRjaGVyOyIsIi8vIENvbGxlY3QgdGhlIEJzaWZ5IG9iamVjdCBmcm9tIHRoZSB3aW5kb3cgd2l0aCBvdXIgdHJhbnNsYXRpb25zIGFuZCBsaXF1aWQgdmFyaWFibGVzIGFsbCBzZXQgdXBcbnZhciBCc2lmeSA9IHdpbmRvdy5Cc2lmeSB8fCB7fTtcblxuLypcbiAgQm9vdHN0cmFwaWZ5IHV0aWxpdHkgbWV0aG9kc1xuKi9cblxuQnNpZnkuZ2V0X3ZhcmlhbnRfYnlfaWQgPSBmdW5jdGlvbiAodmFyaWFudF9pZCkge1xuICB2YXIgc2VsZWN0ZWRfdmFyaWFudDtcbiAgaWYgKHR5cGVvZiB2YXJpYW50X2lkID09PSAnc3RyaW5nJykgdmFyaWFudF9pZCA9IHBhcnNlSW50KHZhcmlhbnRfaWQpO1xuICBcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBCc2lmeS5wcm9kdWN0LnZhcmlhbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHZhcmlhbnQgPSBCc2lmeS5wcm9kdWN0LnZhcmlhbnRzW2ldO1xuICAgIGlmICh2YXJpYW50LmlkID09PSB2YXJpYW50X2lkKSB7XG4gICAgICBzZWxlY3RlZF92YXJpYW50ID0gdmFyaWFudDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNlbGVjdGVkX3ZhcmlhbnQ7XG59O1xuXG4vLyBhZGQgYnNpZnkgY2xhc3NlcyB0byB0aGUgQnNpZnkgb2JqZWN0XG5Cc2lmeS5DYXJ0ID0gcmVxdWlyZSgnLi9ic2lmeS5jYXJ0LmpzJyk7XG5Cc2lmeS5JbWFnZVN3aXRjaGVyID0gcmVxdWlyZSgnLi9ic2lmeS5pbWFnZV9zd2l0Y2hlci5qcycpO1xuQnNpZnkuVmFyaWFudE9wdGlvblN3aXRjaGVyID0gcmVxdWlyZSgnLi9ic2lmeS52YXJpYW50X29wdGlvbl9zd2l0Y2hlci5qcycpO1xuQnNpZnkuTGlua2VkUHJvZHVjdE9wdGlvbnMgPSByZXF1aXJlKCcuL2JzaWZ5LmxpbmtlZF9wcm9kdWN0X29wdGlvbnMuanMnKTtcbkJzaWZ5LkJhbm5lciA9IHJlcXVpcmUoJy4vYnNpZnkuYmFubmVyLmpzJyk7XG5Cc2lmeS5CYW5uZXJWaWRlbyA9IHJlcXVpcmUoJy4vYnNpZnkuYmFubmVyX3ZpZGVvLmpzJyk7XG5Cc2lmeS5UaHVtYm5haWxzID0gcmVxdWlyZSgnLi9ic2lmeS50aHVtYm5haWxzLmpzJyk7XG5Cc2lmeS5Tb2NpYWxGZWVkcyA9IHJlcXVpcmUoJy4vYnNpZnkuc29jaWFsX2ZlZWRzLmpzJyk7XG5Cc2lmeS5QYXNzd29yZFJlY292ZXIgPSByZXF1aXJlKCcuL2JzaWZ5LnBhc3N3b3JkX3JlY292ZXIuanMnKTtcbkJzaWZ5Lk1lZ2FNZW51ID0gcmVxdWlyZSgnLi9ic2lmeS5tZWdhX21lbnUuanMnKTtcbkJzaWZ5LlNjcm9sbFRvID0gcmVxdWlyZSgnLi9ic2lmeS5zY3JvbGxfdG8uanMnKTtcbkJzaWZ5Lk1vZGFsID0gcmVxdWlyZSgnLi9ic2lmeS5tb2RhbC5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJzaWZ5OyIsIi8vIChjKSBDb3B5cmlnaHQgMjAxNCBDYXJvbGluZSBTY2huYXBwLiBBbGwgUmlnaHRzIFJlc2VydmVkLiBDb250YWN0OiBtbGxlZ2Vvcmdlc2FuZEBnbWFpbC5jb21cbi8vIFNlZSBodHRwOi8vZG9jcy5zaG9waWZ5LmNvbS9tYW51YWwvY29uZmlndXJhdGlvbi9zdG9yZS1jdXN0b21pemF0aW9uL2FkdmFuY2VkLW5hdmlnYXRpb24vbGlua2VkLXByb2R1Y3Qtb3B0aW9uc1xuLy8gTW9kaWZpZWQgZm9yIHVzZSB3aXRoIEJvb3RzdHJhcGlmeTQgYnkgTHVjaWQgLSAwMy8yMDE1XG5cbnZhciBMaW5rZWRQcm9kdWN0T3B0aW9ucyA9IHt9O1xuTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcCA9IHt9O1xuXG5MaW5rZWRQcm9kdWN0T3B0aW9ucy51cGRhdGVPcHRpb25zSW5TZWxlY3RvciA9IGZ1bmN0aW9uKHNlbGVjdG9ySW5kZXgpIHtcbiAgdmFyIGtleSwgc2VsZWN0b3I7XG4gICAgXG4gIHN3aXRjaCAoc2VsZWN0b3JJbmRleCkge1xuICAgIGNhc2UgMDpcbiAgICAgIGtleSA9ICdyb290JztcbiAgICAgIHNlbGVjdG9yID0gJCgnLnNpbmdsZS1vcHRpb24tc2VsZWN0b3I6ZXEoMCknKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMTpcbiAgICAgIGtleSA9ICQoJy5zaW5nbGUtb3B0aW9uLXNlbGVjdG9yOmVxKDApJykudmFsKCk7XG4gICAgICBzZWxlY3RvciA9ICQoJy5zaW5nbGUtb3B0aW9uLXNlbGVjdG9yOmVxKDEpJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICBrZXkgPSAkKCcuc2luZ2xlLW9wdGlvbi1zZWxlY3RvcjplcSgwKScpLnZhbCgpOyAgXG4gICAgICBrZXkgKz0gJyAvICcgKyAkKCcuc2luZ2xlLW9wdGlvbi1zZWxlY3RvcjplcSgxKScpLnZhbCgpO1xuICAgICAgc2VsZWN0b3IgPSAkKCcuc2luZ2xlLW9wdGlvbi1zZWxlY3RvcjplcSgyKScpO1xuICB9XG4gIFxuICB2YXIgaW5pdGlhbFZhbHVlID0gc2VsZWN0b3IudmFsKCk7XG4gIHNlbGVjdG9yLmVtcHR5KCk7ICAgIFxuICB2YXIgYXZhaWxhYmxlT3B0aW9ucyA9IExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXBba2V5XTtcbiAgaWYgKGF2YWlsYWJsZU9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgIGZvciAodmFyIGk9MDsgaTxhdmFpbGFibGVPcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgb3B0aW9uID0gYXZhaWxhYmxlT3B0aW9uc1tpXTtcbiAgICAgIHZhciBuZXdPcHRpb24gPSAkKCc8b3B0aW9uPjwvb3B0aW9uPicpLnZhbChvcHRpb24pLmh0bWwob3B0aW9uKTtcbiAgICAgIHNlbGVjdG9yLmFwcGVuZChuZXdPcHRpb24pO1xuICAgIH1cbiAgICAkKCcuc3dhdGNoW2RhdGEtb3B0aW9uLWluZGV4PVwiJyArIHNlbGVjdG9ySW5kZXggKyAnXCJdIC5zd2F0Y2gtZWxlbWVudCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoJC5pbkFycmF5KCQodGhpcykuYXR0cignZGF0YS12YWx1ZScpLCBhdmFpbGFibGVPcHRpb25zKSAhPT0gLTEpIHtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnc29sZG91dCcpLnNob3coKS5maW5kKCc6cmFkaW8nKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcsJ2Rpc2FibGVkJykucmVtb3ZlQXR0cignY2hlY2tlZCcpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3NvbGRvdXQnKS5oaWRlKCkuZmluZCgnOnJhZGlvJykucmVtb3ZlQXR0cignY2hlY2tlZCcpLmF0dHIoJ2Rpc2FibGVkJywnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoJC5pbkFycmF5KGluaXRpYWxWYWx1ZSwgYXZhaWxhYmxlT3B0aW9ucykgIT09IC0xKSB7XG4gICAgICBzZWxlY3Rvci52YWwoaW5pdGlhbFZhbHVlKTtcbiAgICB9XG4gICAgc2VsZWN0b3IudHJpZ2dlcignY2hhbmdlJyk7XG4gIH1cbn07XG5cbkxpbmtlZFByb2R1Y3RPcHRpb25zLmxpbmtPcHRpb25TZWxlY3RvcnMgPSBmdW5jdGlvbihwcm9kdWN0KSB7XG4gIC8vIEJ1aWxkaW5nIG91ciBtYXBwaW5nIG9iamVjdC5cbiAgZm9yICh2YXIgaT0wOyBpPHByb2R1Y3QudmFyaWFudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmFyaWFudCA9IHByb2R1Y3QudmFyaWFudHNbaV07XG4gICAgaWYgKHZhcmlhbnQuYXZhaWxhYmxlKSB7XG4gICAgICB2YXIga2V5O1xuICAgICAgLy8gR2F0aGVyaW5nIHZhbHVlcyBmb3IgdGhlIDFzdCBkcm9wLWRvd24uXG4gICAgICBMaW5rZWRQcm9kdWN0T3B0aW9ucy5vcHRpb25zTWFwLnJvb3QgPSBMaW5rZWRQcm9kdWN0T3B0aW9ucy5vcHRpb25zTWFwLnJvb3QgfHwgW107XG4gICAgICBMaW5rZWRQcm9kdWN0T3B0aW9ucy5vcHRpb25zTWFwLnJvb3QucHVzaCh2YXJpYW50Lm9wdGlvbjEpO1xuICAgICAgTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcC5yb290ID0gU2hvcGlmeS51bmlxKExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXAucm9vdCk7XG4gICAgICAvLyBHYXRoZXJpbmcgdmFsdWVzIGZvciB0aGUgMm5kIGRyb3AtZG93bi5cbiAgICAgIGlmIChwcm9kdWN0Lm9wdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgICBrZXkgPSB2YXJpYW50Lm9wdGlvbjE7XG4gICAgICAgIExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXBba2V5XSA9IExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXBba2V5XSB8fCBbXTtcbiAgICAgICAgTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcFtrZXldLnB1c2godmFyaWFudC5vcHRpb24yKTtcbiAgICAgICAgTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcFtrZXldID0gU2hvcGlmeS51bmlxKExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXBba2V5XSk7XG4gICAgICB9XG4gICAgICAvLyBHYXRoZXJpbmcgdmFsdWVzIGZvciB0aGUgM3JkIGRyb3AtZG93bi5cbiAgICAgIGlmIChwcm9kdWN0Lm9wdGlvbnMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIGtleSA9IHZhcmlhbnQub3B0aW9uMSArICcgLyAnICsgdmFyaWFudC5vcHRpb24yO1xuICAgICAgICBMaW5rZWRQcm9kdWN0T3B0aW9ucy5vcHRpb25zTWFwW2tleV0gPSBMaW5rZWRQcm9kdWN0T3B0aW9ucy5vcHRpb25zTWFwW2tleV0gfHwgW107XG4gICAgICAgIExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXBba2V5XS5wdXNoKHZhcmlhbnQub3B0aW9uMyk7XG4gICAgICAgIExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXBba2V5XSA9IFNob3BpZnkudW5pcShMaW5rZWRQcm9kdWN0T3B0aW9ucy5vcHRpb25zTWFwW2tleV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBVcGRhdGUgb3B0aW9ucyByaWdodCBhd2F5LlxuICBMaW5rZWRQcm9kdWN0T3B0aW9ucy51cGRhdGVPcHRpb25zSW5TZWxlY3RvcigwKTtcbiAgaWYgKHByb2R1Y3Qub3B0aW9ucy5sZW5ndGggPiAxKSBMaW5rZWRQcm9kdWN0T3B0aW9ucy51cGRhdGVPcHRpb25zSW5TZWxlY3RvcigxKTtcbiAgaWYgKHByb2R1Y3Qub3B0aW9ucy5sZW5ndGggPT09IDMpIExpbmtlZFByb2R1Y3RPcHRpb25zLnVwZGF0ZU9wdGlvbnNJblNlbGVjdG9yKDIpO1xuICAvLyBXaGVuIHRoZXJlIGlzIGFuIHVwZGF0ZSBpbiB0aGUgZmlyc3QgZHJvcGRvd24uXG4gICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnLnNpbmdsZS1vcHRpb24tc2VsZWN0b3I6ZXEoMCknLCBmdW5jdGlvbigpIHtcbiAgICBMaW5rZWRQcm9kdWN0T3B0aW9ucy51cGRhdGVPcHRpb25zSW5TZWxlY3RvcigxKTtcbiAgICBpZiAocHJvZHVjdC5vcHRpb25zLmxlbmd0aCA9PT0gMykgTGlua2VkUHJvZHVjdE9wdGlvbnMudXBkYXRlT3B0aW9uc0luU2VsZWN0b3IoMik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuICAvLyBXaGVuIHRoZXJlIGlzIGFuIHVwZGF0ZSBpbiB0aGUgc2Vjb25kIGRyb3Bkb3duLlxuICAkKGRvY3VtZW50KS5vbignY2hhbmdlJywgJy5zaW5nbGUtb3B0aW9uLXNlbGVjdG9yOmVxKDEpJywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKHByb2R1Y3Qub3B0aW9ucy5sZW5ndGggPT09IDMpIExpbmtlZFByb2R1Y3RPcHRpb25zLnVwZGF0ZU9wdGlvbnNJblNlbGVjdG9yKDIpO1xuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTGlua2VkUHJvZHVjdE9wdGlvbnM7IiwidmFyIGltZ2wgICAgPSByZXF1aXJlKCdpbWFnZXNsb2FkZWQnKTtcbnZhciBtcSAgICAgID0gcmVxdWlyZSgnLi9ic2lmeS5tZWRpYV9xdWVyaWVzLmpzJyk7XG5yZXF1aXJlKCcuL2JzaWZ5LnRvdWNoLmpzJyk7XG5cbi8qIExvYWRlciAqL1xudmFyIEdhbGxlcnlMb2FkZXIgPSBmdW5jdGlvbiAoZWxlLCBwYXJlbnRfZWxlKSB7XG4gIHRoaXMuZWxlID0gZWxlO1xuICB0aGlzLnBhcmVudF9lbGUgPSBwYXJlbnRfZWxlO1xuICB0aGlzLm9uTG9hZGVkID0gZnVuY3Rpb24oKXt9O1xufTtcblxuR2FsbGVyeUxvYWRlci5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCl7XG4gIHRoaXMuJGVsZSA9ICQodGhpcy5lbGUpO1xuICB0aGlzLiRmYWxsYmFja0ltZyA9IHRoaXMuJGVsZS5maW5kKCcuZmFsbGJhY2staW1hZ2UnKTtcbiAgdGhpcy5jYXJvdXNlbF93aWR0aCA9IDA7XG4gIHRoaXMuaW1nTG9hZCA9IG5ldyBpbWdsKHRoaXMuZWxlKTtcbiAgdGhpcy5sYXN0TVEgPSBtcS5zaXplKCk7XG4gIFxuICB2YXIgX3RoaXMgPSB0aGlzO1xuICB0aGlzLmltZ0xvYWQub24oJ3Byb2dyZXNzJywgZnVuY3Rpb24oaW5zdGFuY2UsIGltYWdlKXtcbiAgICBfdGhpcy5fY29sbGVjdF9pbWFnZV93aWR0aChpbWFnZSk7XG4gIH0pLm9uKCdkb25lJywgZnVuY3Rpb24oKXtcbiAgICBfdGhpcy5fc2V0X2Nhcm91c2VsX3dpZHRoKCk7XG4gICAgX3RoaXMub25Mb2FkZWQuYXBwbHkoX3RoaXMpO1xuICB9KTtcbiAgXG4gICQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgIGlmIChfdGhpcy5sYXN0TVEgIT09IG1xLnNpemUoKSkge1xuICAgICAgX3RoaXMuY2Fyb3VzZWxfd2lkdGggPSAwO1xuICAgICAgX3RoaXMuX3JlY2FsY3VsYXRlX2Nhcm91c2VsX3dpZHRoKCk7XG4gICAgICBfdGhpcy5sYXN0TVEgPSBtcS5zaXplKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8vIFByaXZhdGVcbkdhbGxlcnlMb2FkZXIucHJvdG90eXBlLl9jb2xsZWN0X2ltYWdlX3dpZHRoID0gZnVuY3Rpb24oaW1hZ2Upe1xuICBpZihpbWFnZS5pc0xvYWRlZCl7XG4gICAgdmFyICRpbWcgPSAkKGltYWdlLmltZyk7XG4gICAgdmFyICRwYXJlbnQgPSAkaW1nLmNsb3Nlc3QodGhpcy5wYXJlbnRfZWxlKTtcbiAgICB0aGlzLmNhcm91c2VsX3dpZHRoICs9IHRoaXMuX2ltYWdlX3BhcmVudHNfd2lkdGgoJHBhcmVudCk7XG4gIH0gZWxzZSB7XG4gICAgJChpbWFnZS5pbWcpLmhpZGUoKTtcbiAgfVxufTtcblxuR2FsbGVyeUxvYWRlci5wcm90b3R5cGUuX2NvbGxlY3RfZmFsbGJhY2tfaW1hZ2Vfd2lkdGggPSBmdW5jdGlvbigpe1xuICBpZiAodGhpcy4kZmFsbGJhY2tJbWcubGVuZ3RoID4gMCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgX3RoaXMuJGZhbGxiYWNrSW1nLmVhY2goZnVuY3Rpb24gKGksZWxlKSB7XG4gICAgICB2YXIgJGVsZSA9ICQoZWxlKTtcbiAgICAgIHZhciAkcGFyZW50ID0gJGVsZS5jbG9zZXN0KF90aGlzLnBhcmVudF9lbGUpO1xuICAgICAgX3RoaXMuY2Fyb3VzZWxfd2lkdGggKz0gX3RoaXMuX2ltYWdlX3BhcmVudHNfd2lkdGgoJHBhcmVudCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbkdhbGxlcnlMb2FkZXIucHJvdG90eXBlLl9yZWNhbGN1bGF0ZV9jYXJvdXNlbF93aWR0aCA9IGZ1bmN0aW9uKCl7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG4gIF90aGlzLiRlbGUuZmluZCgnaW1nJykuZWFjaChmdW5jdGlvbiAoaSwgaW1nKSB7XG4gICAgdmFyIGltYWdlID0ge1xuICAgICAgaW1nOiBpbWcsXG4gICAgICBpc0xvYWRlZDogdHJ1ZVxuICAgIH07XG4gICAgX3RoaXMuX2NvbGxlY3RfaW1hZ2Vfd2lkdGgoaW1hZ2UpO1xuICB9KTtcbiAgX3RoaXMuX3NldF9jYXJvdXNlbF93aWR0aCgpO1xufTtcblxuR2FsbGVyeUxvYWRlci5wcm90b3R5cGUuX2ltYWdlX3BhcmVudHNfd2lkdGggPSBmdW5jdGlvbigkaW1hZ2VfcGFyZW50KXtcbiAgLy8gcGx1cyBvbmUgYmVjdWFzZSBqcyBpcyByb3VuZGluZyBhY3R1YWwgd2lkdGggd2hlcmUgYXMgYnJvd3NlciBpcyBub3RcbiAgcmV0dXJuICRpbWFnZV9wYXJlbnQud2lkdGgoKSArIHRoaXMuX3BhZGRpbmdfdG9fbnVtKCRpbWFnZV9wYXJlbnQsICdwYWRkaW5nTGVmdCcpICsgdGhpcy5fcGFkZGluZ190b19udW0oJGltYWdlX3BhcmVudCwgJ3BhZGRpbmdSaWdodCcpICsgMTtcbn07XG5cbkdhbGxlcnlMb2FkZXIucHJvdG90eXBlLl9wYWRkaW5nX3RvX251bSA9IGZ1bmN0aW9uKCRpbWFnZV9wYXJlbnQsIHBhZGRpbmcpe1xuICByZXR1cm4gcGFyc2VJbnQoJGltYWdlX3BhcmVudC5jc3MocGFkZGluZykucmVwbGFjZSgncHgnLCAnJykpO1xufTtcblxuR2FsbGVyeUxvYWRlci5wcm90b3R5cGUuX3NldF9jYXJvdXNlbF93aWR0aCA9IGZ1bmN0aW9uKCl7XG4gIHRoaXMuX2NvbGxlY3RfZmFsbGJhY2tfaW1hZ2Vfd2lkdGgoKTtcbiAgdGhpcy4kZWxlLndpZHRoKHRoaXMuY2Fyb3VzZWxfd2lkdGgpO1xufTtcblxuLyogTWFpbiAqL1xudmFyIEdhbGxlcnkgPSBmdW5jdGlvbihvcHRpb25zKXtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgXG4gIHRoaXMuZWxlID0gdGhpcy5vcHRpb25zLmdhbGxlcnlfd3JhcHBlcjtcbiAgdGhpcy5pdGVtX3dyYXBwZXIgPSB0aGlzLm9wdGlvbnMuaXRlbV93cmFwcGVyO1xuICB0aGlzLmNvbnRyb2xzX3dyYXBwZXIgPSB0aGlzLm9wdGlvbnMuY29udHJvbHNfd3JhcHBlcjtcbiAgdGhpcy5sb2FkZXIgPSBuZXcgR2FsbGVyeUxvYWRlcih0aGlzLmVsZSwgdGhpcy5vcHRpb25zLml0ZW1fd3JhcHBlcik7XG4gIHRoaXMub25fbG9hZGVkID0gZmFsc2U7XG4gIFxuICB0aGlzLl9pbml0KCk7XG59O1xuXG5HYWxsZXJ5LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuJGVsZS5wYXJlbnQoKS5hbmltYXRlKHtvcGFjaXR5OiAwfSwgJ3Nsb3cnKTtcbiAgdGhpcy5fcmVtb3ZlX2V2ZW50X2hhbmRsZXJzKCk7XG4gIHRoaXMuX2luaXQoKTtcbn07XG5cbkdhbGxlcnkucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKXtcbiAgdGhpcy4kZWxlID0gJCh0aGlzLmVsZSk7XG5cbiAgaWYodGhpcy4kZWxlLmxlbmd0aCA+IDApe1xuICAgIHRoaXMuX2FkZF9ldmVudF9oYW5kbGVycygpO1xuICAgIHRoaXMubG9hZGVyLmluaXQoKTtcbiAgICB0aGlzLl9zZXRfY3VycmVudF9pbWFnZSgpO1xuICB9XG59O1xuXG5HYWxsZXJ5LnByb3RvdHlwZS5fYWRkX2V2ZW50X2hhbmRsZXJzID0gZnVuY3Rpb24oKXtcbiAgdmFyIF90aGlzID0gdGhpcztcbiAgdGhpcy5sb2FkZXIub25Mb2FkZWQgPSBmdW5jdGlvbigpe1xuICAgIF90aGlzLiRlbGUucGFyZW50KCkuYW5pbWF0ZSh7b3BhY2l0eTogMX0sICdzbG93Jyk7XG4gICAgaWYgKF90aGlzLm9uX2xvYWRlZCkgX3RoaXMub25fbG9hZGVkLmFwcGx5KF90aGlzKTtcbiAgfTtcbiAgXG4gICQoZG9jdW1lbnQpLm9uKCdzd2lwZUxlZnQnLCB0aGlzLmNvbnRyb2xzX3dyYXBwZXIsIGZ1bmN0aW9uIChlKSB7XG4gICAgX3RoaXMuX25leHRfaW1nKCk7XG4gIH0pO1xuICBcbiAgJChkb2N1bWVudCkub24oJ3N3aXBlUmlnaHQnLCB0aGlzLmNvbnRyb2xzX3dyYXBwZXIsIGZ1bmN0aW9uIChlKSB7XG4gICAgX3RoaXMuX3ByZXZfaW1nKCk7XG4gIH0pO1xuICBcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLWdhbGxlcnktZGlyZWN0aW9uXScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyICRjdXJyZW50X3RhcmdldCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgaWYgKCRjdXJyZW50X3RhcmdldC5kYXRhKCdnYWxsZXJ5LWRpcmVjdGlvbicpID09PSAnbGVmdCcpIHtcbiAgICAgIF90aGlzLl9wcmV2X2ltZygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy5fbmV4dF9pbWcoKTtcbiAgICB9XG4gIH0pO1xufTtcblxuR2FsbGVyeS5wcm90b3R5cGUuX3JlbW92ZV9ldmVudF9oYW5kbGVycyA9IGZ1bmN0aW9uKCl7XG4gIHRoaXMubG9hZGVyLm9uTG9hZGVkID0gZmFsc2U7XG4gIFxuICAkKGRvY3VtZW50KS5vZmYoJ3N3aXBlTGVmdCcsIHRoaXMuY29udHJvbHNfd3JhcHBlcik7XG4gICQoZG9jdW1lbnQpLm9mZignc3dpcGVSaWdodCcsIHRoaXMuY29udHJvbHNfd3JhcHBlcik7XG4gICQoZG9jdW1lbnQpLm9mZignY2xpY2snLCAnW2RhdGEtZ2FsbGVyeS1kaXJlY3Rpb25dJyk7XG59O1xuXG5HYWxsZXJ5LnByb3RvdHlwZS5fc2V0X2N1cnJlbnRfaW1hZ2UgPSBmdW5jdGlvbigpe1xuICB2YXIgJGN1cnJlbnQgPSB0aGlzLiRlbGUuZmluZCh0aGlzLml0ZW1fd3JhcHBlcisnLmlzX2N1cnJlbnQnKTtcbiAgaWYgKCRjdXJyZW50Lmxlbmd0aCA+IDApIHtcbiAgIHRoaXMuJGN1cnJlbnRfaW1hZ2UgPSAkY3VycmVudC5maXJzdCgpO1xuICB9IGVsc2Uge1xuICAgdGhpcy4kY3VycmVudF9pbWFnZSA9IHRoaXMuJGVsZS5maW5kKHRoaXMuaXRlbV93cmFwcGVyKS5maXJzdCgpO1xuICB9XG4gIHRoaXMuJGN1cnJlbnRfaW1hZ2UuYWRkQ2xhc3MoJ2lzX2N1cnJlbnQnKTtcbiAgdGhpcy5fY2hlY2tfZm9yX2VuZCgpO1xufTtcblxuR2FsbGVyeS5wcm90b3R5cGUuX3ByZXZfaW1nID0gZnVuY3Rpb24oKXtcbiAgdmFyIHByZXYgPSB0aGlzLiRjdXJyZW50X2ltYWdlLnByZXYoKTtcbiAgaWYgKHByZXYubGVuZ3RoID4gMCkge1xuICAgIHByZXYuY3NzKHsgbWFyZ2luTGVmdDogJzAnIH0pLmFkZENsYXNzKCdpc19jdXJyZW50Jyk7XG4gICAgdGhpcy4kY3VycmVudF9pbWFnZS5yZW1vdmVDbGFzcygnaXNfY3VycmVudCcpO1xuICAgIHRoaXMuJGN1cnJlbnRfaW1hZ2UgPSBwcmV2O1xuICAgIHRoaXMuX2NoZWNrX2Zvcl9lbmQoKTtcbiAgfVxufTtcblxuR2FsbGVyeS5wcm90b3R5cGUuX25leHRfaW1nID0gZnVuY3Rpb24oKXtcbiAgdmFyIG5leHQgPSB0aGlzLiRjdXJyZW50X2ltYWdlLm5leHQoKTtcbiAgaWYgKG5leHQubGVuZ3RoID4gMCkge1xuICAgIHZhciB3aWR0aCA9IHRoaXMubG9hZGVyLl9pbWFnZV9wYXJlbnRzX3dpZHRoKHRoaXMuJGN1cnJlbnRfaW1hZ2UpO1xuICAgIHRoaXMuJGN1cnJlbnRfaW1hZ2UuY3NzKHsgbWFyZ2luTGVmdDogKHdpZHRoICogLTEpIH0pLnJlbW92ZUNsYXNzKCdpc19jdXJyZW50Jyk7XG4gICAgbmV4dC5hZGRDbGFzcygnaXNfY3VycmVudCcpO1xuICAgIHRoaXMuJGN1cnJlbnRfaW1hZ2UgPSBuZXh0O1xuICAgIHRoaXMuX2NoZWNrX2Zvcl9lbmQoKTtcbiAgfVxufTtcblxuR2FsbGVyeS5wcm90b3R5cGUuX2NoZWNrX2Zvcl9lbmQgPSBmdW5jdGlvbiAoKSB7XG4gICQoJ1tkYXRhLWdhbGxlcnktZGlyZWN0aW9uXScpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICBpZiAodGhpcy4kY3VycmVudF9pbWFnZS5wcmV2KCkubGVuZ3RoID09PSAwKSB7XG4gICAgJCgnW2RhdGEtZ2FsbGVyeS1kaXJlY3Rpb249XCJsZWZ0XCJdJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gIH0gZWxzZSBpZiAodGhpcy4kY3VycmVudF9pbWFnZS5uZXh0KCkubGVuZ3RoID09PSAwKSB7XG4gICAgJCgnW2RhdGEtZ2FsbGVyeS1kaXJlY3Rpb249XCJyaWdodFwiXScpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEdhbGxlcnk7IiwicmVxdWlyZSgnLi9fcG9seWZpbGxzLmpzJykuZ2V0Q29tcHV0ZWRTdHlsZSgpO1xuXG5tb2R1bGUuZXhwb3J0cy5zaXplID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSwnOmFmdGVyJykuZ2V0UHJvcGVydHlWYWx1ZSgnY29udGVudCcpLnJlcGxhY2UoL1snXCJdL2csIFwiXCIpO1xufTsiLCJ2YXIgTWVnYU1lbnUgPSB7fTtcbnZhciBtZW51X3NlbGVjdG9yID0gJ1tkYXRhLW1lbnU9XCJtZWdhXCJdJztcbnZhciAkbWVudSA9ICQobWVudV9zZWxlY3Rvcik7XG5cbk1lZ2FNZW51LmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICgkbWVudS5sZW5ndGggPiAwKSB7XG4gICAgTWVnYU1lbnUuYWRkX2V2ZW50X2hhbmRsZXJzKCk7XG4gIH1cbn07XG5cbk1lZ2FNZW51LmFkZF9ldmVudF9oYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gSGlkZSBhbGwgb3BlbiBtZW51c1xuICAkKGRvY3VtZW50KS5vbignc2hvdy5icy5jb2xsYXBzZScsIG1lbnVfc2VsZWN0b3IrJyAuY29sbGFwc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgJChtZW51X3NlbGVjdG9yKycgLmNvbGxhcHNlLmluJykuZWFjaChmdW5jdGlvbiAoaSwgaXRlbSkge1xuICAgICAgJChpdGVtKS5jb2xsYXBzZSgnaGlkZScpO1xuICAgIH0pO1xuICAgICRtZW51LmFkZENsYXNzKCdvcGVuJyk7XG4gIH0pO1xuICBcbiAgJChkb2N1bWVudCkub24oJ2hpZGRlbi5icy5jb2xsYXBzZScsIG1lbnVfc2VsZWN0b3IrJyAuY29sbGFwc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVGltZW91dCBoYWNrIHRvIG1ha2Ugc3VyZSB0aGUgdHJhbnNpdGlvbnMgaGF2ZSBmaW5pc2hlZC5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgkKG1lbnVfc2VsZWN0b3IrJyAuY29sbGFwc2UuaW4nKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgJG1lbnUucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgIH1cbiAgICB9LCAzNTApO1xuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTWVnYU1lbnU7IiwiLypcbiAgVE9ETzpcbiAgLSBoYW5kbGUgbXVsdGlwbGUgbW9kYWxzXG4qL1xuXG52YXIgTW9kYWwgPSB7fTtcbnZhciBtb2RhbF9zZWxlY3RvciA9ICdbZGF0YS1ic2lmeS1tb2RhbF0nO1xudmFyIG1vZGFsX3RyaWdnZXJfc2VsZWN0b3IgPSAnW2RhdGEtbW9kYWwtdHJpZ2dlcl0nO1xudmFyICRtb2RhbCA9ICQobW9kYWxfc2VsZWN0b3IpO1xudmFyICRtb2RhbF90cmlnZ2VyID0gJChtb2RhbF90cmlnZ2VyX3NlbGVjdG9yKTtcblxuTW9kYWwuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCRtb2RhbC5sZW5ndGggPiAwKSB7XG4gICAgJG1vZGFsX3RyaWdnZXIuZWFjaChmdW5jdGlvbiAoaSwgdHJpZ2dlcikge1xuICAgICAgTW9kYWwuX3NldF90cmlnZ2VyX2xpc3RlbmVyKHRyaWdnZXIpO1xuICAgIH0pO1xuICB9XG4gIFxuICBNb2RhbC5fc2V0X2V2ZW50X2xpc3RlbmVycygpO1xufTtcblxuLy8gUHJpdmF0ZVxuXG5Nb2RhbC5fc2V0X2V2ZW50X2xpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gY2xlYW4gdXAgY29udGVudFxuICAkbW9kYWwub24oJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgJG1vZGFsLmZpbmQoJy5tb2RhbC1jb250ZW50JykuaHRtbCgnJyk7XG4gIH0pO1xufTtcblxuTW9kYWwuX3NldF90cmlnZ2VyX2xpc3RlbmVyID0gZnVuY3Rpb24gKHRyaWdnZXIpIHtcbiAgdmFyICR0cmlnZ2VyID0gJCh0cmlnZ2VyKTtcbiAgJHRyaWdnZXIub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyICRjdXJyZW50X3RhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBNb2RhbC5fbG9hZF9jb250ZW50KCRjdXJyZW50X3RhcmdldCk7XG4gIH0pO1xufTtcblxuTW9kYWwuX2xvYWRfY29udGVudCA9IGZ1bmN0aW9uICgkY3VycmVudF90YXJnZXQpIHtcbiAgdmFyIGNvbnRlbnRfdXJsID0gJGN1cnJlbnRfdGFyZ2V0LmF0dHIoJ2hyZWYnKTtcbiAgaWYgKE1vZGFsLl9pc19leHRlcm5hbF9jb250ZW50KGNvbnRlbnRfdXJsKSkge1xuICAgICQuYWpheChjb250ZW50X3VybCkuZG9uZShmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgJG1vZGFsLmZpbmQoJy5tb2RhbC1jb250ZW50JykuaHRtbChjb250ZW50KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY29udGVudCA9ICQoY29udGVudF91cmwpLmh0bWwoKTtcbiAgICAkbW9kYWwuZmluZCgnLm1vZGFsLWNvbnRlbnQnKS5odG1sKGNvbnRlbnQpO1xuICB9XG4gICRtb2RhbC5tb2RhbCgpO1xufTtcblxuTW9kYWwuX2lzX2V4dGVybmFsX2NvbnRlbnQgPSBmdW5jdGlvbiAoY29udGVudF91cmwpIHtcbiAgcmV0dXJuIGNvbnRlbnRfdXJsLmNoYXJBdCgwKSAhPT0gJyMnO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb2RhbDsiLCJ2YXIgUGFzc3dvcmRSZWNvdmVyID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnJlY292ZXJfc3RyaW5nID0gJyNyZWNvdmVyJztcbiAgdGhpcy4kbGlua3MgPSAkKCdtYWluIFtocmVmKj1cIi9hY2NvdW50L2xvZ2luXCJdJyk7XG4gIHRoaXMuJHNlY3Rpb25zID0gJCgnW2RhdGEtYnNpZnktdG9nZ2xlLXJlY292ZXJdJyk7XG4gIHRoaXMuZm9yY2UgPSAoJCgnW2RhdGEtYnNpZnktdG9nZ2xlLXJlY292ZXItZm9yY2VdJykubGVuZ3RoID4gMCk7XG4gIFxuICBpZiAodGhpcy4kc2VjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgIHRoaXMuX2FkZF9ldmVudF9saXN0ZW5lcnMoKTtcbiAgICB0aGlzLnRvZ2dsZV9mb3JtcygpO1xuICB9XG59O1xuXG5QYXNzd29yZFJlY292ZXIucHJvdG90eXBlLnRvZ2dsZV9mb3JtcyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoID09PSB0aGlzLnJlY292ZXJfc3RyaW5nIHx8IHRoaXMuZm9yY2UpIHtcbiAgICB0aGlzLnNob3dfcmVjb3Zlcl9mb3JtKCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zaG93X2xvZ2luX2Zvcm0oKTtcbiAgfVxufTtcblxuUGFzc3dvcmRSZWNvdmVyLnByb3RvdHlwZS5zaG93X3JlY292ZXJfZm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcbiAgdGhpcy5fZWFjaF9zZWN0aW9uKGZ1bmN0aW9uICgkc2VjdGlvbikge1xuICAgIF90aGlzLl90b2dnbGVfc2VjdGlvbigoJHNlY3Rpb24uZGF0YSgnYnNpZnktdG9nZ2xlLXJlY292ZXInKSA9PT0gJ3JlY292ZXInKSwgJHNlY3Rpb24pO1xuICB9KTtcbn07XG5cblBhc3N3b3JkUmVjb3Zlci5wcm90b3R5cGUuc2hvd19sb2dpbl9mb3JtID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICB0aGlzLl9lYWNoX3NlY3Rpb24oZnVuY3Rpb24gKCRzZWN0aW9uKSB7XG4gICAgX3RoaXMuX3RvZ2dsZV9zZWN0aW9uKCgkc2VjdGlvbi5kYXRhKCdic2lmeS10b2dnbGUtcmVjb3ZlcicpICE9PSAncmVjb3ZlcicpLCAkc2VjdGlvbik7XG4gIH0pO1xufTtcblxuLy8gUHJpdmF0ZVxuXG5QYXNzd29yZFJlY292ZXIucHJvdG90eXBlLl9hZGRfZXZlbnRfbGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICBfdGhpcy4kbGlua3Mub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgX3RoaXMuX29uX2NsaWNrKCQoZS5jdXJyZW50VGFyZ2V0KSk7XG4gIH0pO1xufTtcblxuUGFzc3dvcmRSZWNvdmVyLnByb3RvdHlwZS5fb25fY2xpY2sgPSBmdW5jdGlvbiAoJGN1cnJlbnRfdGFyZ2V0KSB7XG4gIGlmICgkY3VycmVudF90YXJnZXQuYXR0cignaHJlZicpLmluZGV4T2YodGhpcy5yZWNvdmVyX3N0cmluZykgPiAtMSkge1xuICAgIHRoaXMuc2hvd19yZWNvdmVyX2Zvcm0oKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnNob3dfbG9naW5fZm9ybSgpO1xuICB9XG59O1xuXG5QYXNzd29yZFJlY292ZXIucHJvdG90eXBlLl9lYWNoX3NlY3Rpb24gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdGhpcy4kc2VjdGlvbnMuZWFjaChmdW5jdGlvbiAoaSwgc2VjdGlvbikge1xuICAgIHZhciAkc2VjdGlvbiA9ICQoc2VjdGlvbik7XG4gICAgY2FsbGJhY2soJHNlY3Rpb24pO1xuICB9KTtcbn07XG5cblBhc3N3b3JkUmVjb3Zlci5wcm90b3R5cGUuX3RvZ2dsZV9zZWN0aW9uID0gZnVuY3Rpb24gKGNvbmRpdGlvbiwgJHNlY3Rpb24pIHtcbiAgaWYgKGNvbmRpdGlvbikge1xuICAgICRzZWN0aW9uLnNob3coKTtcbiAgfSBlbHNlIHtcbiAgICAkc2VjdGlvbi5oaWRlKCk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUGFzc3dvcmRSZWNvdmVyOyIsInZhciBTY3JvbGxUbyA9IHt9O1xudmFyIHNjcm9sbF9zZWxlY3RvciA9ICdbZGF0YS1zY3JvbGwtdG9dJztcblxuU2Nyb2xsVG8uaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgc2Nyb2xsX3NlbGVjdG9yLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgU2Nyb2xsVG8uZ28odGFyZ2V0KTtcbiAgfSk7XG59O1xuXG5TY3JvbGxUby5nbyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgJCgnYm9keScpLmFuaW1hdGUoe1xuICAgIHNjcm9sbFRvcDogJCh0YXJnZXQpLm9mZnNldCgpLnRvcFxuICB9LCA4MDApO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTY3JvbGxUbzsiLCIvKmpzaGludCBtdWx0aXN0cjogdHJ1ZSAqL1xuXG52YXIgSW5zdGFncmFtRmVlZCA9IGZ1bmN0aW9uIChlbGUpIHtcbiAgdGhpcy5lbGUgPSBlbGU7XG4gIHRoaXMuJGVsZSA9ICQodGhpcy5lbGUpO1xuICB0aGlzLmFwaV91cmwgPSAnaHR0cHM6Ly9hcGkuaW5zdGFncmFtLmNvbS92MSc7XG4gIFxuICB0aGlzLnJlcXVlc3RfcXVldWUgPSBbXTtcbiAgdGhpcy5yZXF1ZXN0aW5nID0gZmFsc2U7XG4gIFxuICB0aGlzLmltYWdlX2NvdW50X2RlZmF1bHQgPSAxMjtcbiAgdGhpcy5pbWFnZV9jb3VudF9idWZmZXIgPSAxMDsgLy8gYWRkIGEgZmV3IGV4dHJhIGluY2FzZSB3ZSBzb21lIGhhdmUgYmVlbiBmaWx0ZXJlZCBvdXQgYnkgaW5zdGFncmFtIG9yIHRoZSBibGFja2xpc3RcbiAgXG4gIHRoaXMuX2dldF9kYXRhKCk7XG4gIHRoaXMuX2xvYWRfZmVlZCgpO1xufTtcblxuSW5zdGFncmFtRmVlZC5wcm90b3R5cGUuX2dldF9kYXRhID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmNsaWVudF9pZCA9IHRoaXMuJGVsZS5kYXRhKCdjbGllbnQtaWQnKTtcbiAgdGhpcy5pbWFnZV9jb3VudCA9ICggdGhpcy4kZWxlLmRhdGEoJ2ltYWdlLWNvdW50JykgfHwgdGhpcy5pbWFnZV9jb3VudF9kZWZhdWx0ICk7XG4gIHRoaXMuaW1hZ2VfdG90YWwgPSB0aGlzLmltYWdlX2NvdW50ICsgdGhpcy5pbWFnZV9jb3VudF9idWZmZXI7XG4gIFxuICB0aGlzLmhhc2h0YWcgPSB0aGlzLiRlbGUuZGF0YSgnaGFzaHRhZycpO1xuICB0aGlzLnVzZXIgPSB0aGlzLiRlbGUuZGF0YSgndXNlcicpO1xuICB0aGlzLl9nZXRfdXNlcl9pZCgpO1xufTtcblxuSW5zdGFncmFtRmVlZC5wcm90b3R5cGUuX2dldF91c2VyX2lkID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy51c2VyKSB7XG4gICAgdGhpcy5yZXF1ZXN0X3F1ZXVlLnB1c2goJ3VzZXJfaWQnKTtcbiAgICB0aGlzLl9zdGFydF9yZXF1ZXN0cygpO1xuICB9XG59O1xuXG5JbnN0YWdyYW1GZWVkLnByb3RvdHlwZS5fbG9hZF9mZWVkID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcmVxdWVzdF90eXBlO1xuICBpZiAodGhpcy5oYXNodGFnICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXF1ZXN0X3R5cGUgPSAnaGFzaHRhZyc7XG4gIH0gZWxzZSBpZiAodGhpcy51c2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXF1ZXN0X3R5cGUgPSAndXNlcic7XG4gIH1cbiAgdGhpcy5yZXF1ZXN0X3F1ZXVlLnB1c2gocmVxdWVzdF90eXBlKTtcbiAgdGhpcy5fc3RhcnRfcmVxdWVzdHMoKTtcbn07XG5cbkluc3RhZ3JhbUZlZWQucHJvdG90eXBlLl9idWlsZF9yZXF1ZXN0ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgaWYgKHRoaXMuY2xpZW50X2lkID09PSBudWxsKSB0aHJvdyAnW0VSUk9SXSBJbnN0YWdyYW06IFlvdSBtdXN0IHByb3ZpZGUgYSBjbGllbnQgaWQnO1xuICB2YXIgcmVxdWVzdCA9IHt9O1xuICByZXF1ZXN0LmRhdGEgPSB7XG4gICAgY2xpZW50X2lkOiB0aGlzLmNsaWVudF9pZFxuICB9O1xuICBcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAndXNlcl9pZCc6XG4gICAgICByZXF1ZXN0LnVybCA9IHRoaXMuYXBpX3VybCArICcvdXNlcnMvc2VhcmNoP3E9JyArIHRoaXMudXNlcjtcbiAgICAgIHJlcXVlc3QuY2FsbGJhY2sgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy51c2VyX2lkID0gcmVzcG9uc2UuZGF0YVswXS5pZDtcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBcbiAgICBjYXNlICd1c2VyJzpcbiAgICAgIHJlcXVlc3QudXJsID0gdGhpcy5hcGlfdXJsICsgJy91c2Vycy8nICsgdGhpcy51c2VyX2lkICsgJy9tZWRpYS9yZWNlbnQnO1xuICAgICAgcmVxdWVzdC5kYXRhID0gJC5leHRlbmQocmVxdWVzdC5kYXRhLCB7XG4gICAgICAgIGNvdW50OiB0aGlzLmltYWdlX3RvdGFsXG4gICAgICB9KTtcbiAgICAgIHJlcXVlc3QuY2FsbGJhY2sgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5fYnVpbGRfZmVlZChyZXNwb25zZS5kYXRhKTtcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBcbiAgICBjYXNlICdoYXNodGFnJzpcbiAgICAgIHJlcXVlc3QudXJsID0gdGhpcy5hcGlfdXJsICsgJy90YWdzLycgKyB0aGlzLmhhc2h0YWcgKyAnL21lZGlhL3JlY2VudCc7XG4gICAgICByZXF1ZXN0LmRhdGEgPSAkLmV4dGVuZChyZXF1ZXN0LmRhdGEsIHtcbiAgICAgICAgY291bnQ6IHRoaXMuaW1hZ2VfdG90YWxcbiAgICAgIH0pO1xuICAgICAgcmVxdWVzdC5jYWxsYmFjayA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB0aGlzLl9idWlsZF9mZWVkKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIFxuICByZXR1cm4gcmVxdWVzdDtcbn07XG5cbkluc3RhZ3JhbUZlZWQucHJvdG90eXBlLl9zdGFydF9yZXF1ZXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLnJlcXVlc3RpbmcpIHtcbiAgICB0aGlzLnJlcXVlc3RpbmcgPSB0cnVlO1xuICAgIHRoaXMuX3JlcXVlc3QoKTtcbiAgfVxufTtcblxuSW5zdGFncmFtRmVlZC5wcm90b3R5cGUuX3JlcXVlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnJlcXVlc3RfcXVldWUubGVuZ3RoID4gMCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHJlcXVlc3RfdHlwZSA9IHRoaXMucmVxdWVzdF9xdWV1ZS5zaGlmdCgpO1xuICAgIHZhciByZXF1ZXN0ID0gdGhpcy5fYnVpbGRfcmVxdWVzdChyZXF1ZXN0X3R5cGUpO1xuICAgIFxuICAgICQuYWpheCh7XG4gICAgICBkYXRhVHlwZTogXCJqc29ucFwiLFxuICAgICAgdXJsOiByZXF1ZXN0LnVybCxcbiAgICAgIGRhdGE6IHJlcXVlc3QuZGF0YVxuICAgIH0pXG4gICAgLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXF1ZXN0LmNhbGxiYWNrLmFwcGx5KF90aGlzLCBbcmVzcG9uc2VdKTtcbiAgICAgIF90aGlzLl9yZXF1ZXN0KCk7XG4gICAgfSlcbiAgICAuZmFpbChmdW5jdGlvbiAoYSxiLGMpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdmYWlsJywgYSwgYiwgYyk7XG4gICAgfSk7XG4gICAgXG4gIH0gZWxzZSB7XG4gICAgdGhpcy5yZXF1ZXN0aW5nID0gZmFsc2U7XG4gIH1cbn07XG5cbkluc3RhZ3JhbUZlZWQucHJvdG90eXBlLl9idWlsZF9mZWVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIG1hcmt1cCxcbiAgICBmaWx0ZXJlZF9kYXRhID0gdGhpcy5fZmlsdGVyX2RhdGEoZGF0YSk7XG4gICAgXG4gIGlmIChmaWx0ZXJlZF9kYXRhLmxlbmd0aCA+IDApIHtcbiAgICBtYXJrdXAgPSB0aGlzLl9idWlsZF9mZWVkX21hcmt1cChmaWx0ZXJlZF9kYXRhKTtcbiAgICB0aGlzLiRlbGUuYWRkQ2xhc3MoJ2dyb3VwJykuYXR0cignZGF0YS1ncm91cC1zaXplJywgZmlsdGVyZWRfZGF0YS5sZW5ndGgpO1xuICB9IGVsc2Uge1xuICAgIG1hcmt1cCA9IHRoaXMuX2J1aWxkX2Vycm9yX21hcmt1cCgpO1xuICB9XG4gIFxuICB0aGlzLiRlbGUuYXBwZW5kKG1hcmt1cCk7XG59O1xuXG5JbnN0YWdyYW1GZWVkLnByb3RvdHlwZS5fZmlsdGVyX2RhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAvKiBUT0RPOiByZW1vdmUgYmxhY2tsaXN0ZWQgaW1hZ2VzICovXG4gIHJldHVybiBkYXRhO1xufTtcblxuSW5zdGFncmFtRmVlZC5wcm90b3R5cGUuX2J1aWxkX2ZlZWRfbWFya3VwID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIG1hcmt1cCA9ICcnO1xuICB2YXIgY291bnQgPSAoZGF0YS5sZW5ndGggPCB0aGlzLmltYWdlX2NvdW50KT8gZGF0YS5sZW5ndGggOiB0aGlzLmltYWdlX2NvdW50O1xuICBcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBkYXRhW2ldO1xuICAgIGlmIChpdGVtKSB7XG4gICAgICBtYXJrdXAgKz0gdGhpcy5fYnVpbGRfaXRlbV9tYXJrdXAoaXRlbSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXJrdXA7XG59O1xuICBcbkluc3RhZ3JhbUZlZWQucHJvdG90eXBlLl9idWlsZF9pdGVtX21hcmt1cCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHJldHVybiAnPGRpdiBjbGFzcz1cImdyb3VwLWl0ZW0td3JhcFwiPlxcXG4gICAgPGZpZ3VyZSBjbGFzcz1cImdyb3VwLWl0ZW0gdGh1bWJuYWlsXCI+XFxcbiAgICAgIDxhIGhyZWY9XCInKyBkYXRhLmxpbmsgKydcIj5cXFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtaXRlbS1pbWFnZVwiPlxcXG4gICAgICAgICAgPGltZyBzcmM9XCInICsgZGF0YS5pbWFnZXMuc3RhbmRhcmRfcmVzb2x1dGlvbi51cmwgKyAnXCIgYWx0PVwiJyArIGRhdGEuY2FwdGlvbi50ZXh0ICsgJ1wiPlxcXG4gICAgICAgIDwvZGl2PlxcXG4gICAgICAgIDxmaWdjYXB0aW9uIGNsYXNzPVwiZ3JvdXAtaXRlbS1kZXRhaWxzIGNhcHRpb25cIj5cXFxuICAgICAgICAgIDxwPjxzcGFuIGNsYXNzPVwidXNlclwiPicgKyBkYXRhLmNhcHRpb24uZnJvbS51c2VybmFtZSArICc8L3NwYW4+ICcgKyBkYXRhLmNhcHRpb24udGV4dCArICc8L3A+XFxcbiAgICAgICAgPC9maWdjYXB0aW9uPlxcXG4gICAgICA8L2E+XFxcbiAgICA8L2ZpZ3VyZT5cXFxuICA8L2Rpdj4nO1xufTtcblxuSW5zdGFncmFtRmVlZC5wcm90b3R5cGUuX2J1aWxkX2Vycm9yX21hcmt1cCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHJldHVybiAnPHA+JyArIHRoaXMuJGVsZS5kYXRhKCdlbXB0eS1tZXNzYWdlJykgKyAnPC9wPic7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEluc3RhZ3JhbUZlZWQ7IiwidmFyIEluc3RhZ3JhbSA9IHJlcXVpcmUoJy4vYnNpZnkuc29jaWFsX2ZlZWRfaW5zdGFncmFtLmpzJyk7XG5cbnZhciBTb2NpYWxGZWVkcyA9IHt9O1xuXG5Tb2NpYWxGZWVkcy5pbml0ID0gZnVuY3Rpb24gKCkge1xuICBTb2NpYWxGZWVkcy5pbnN0YWdyYW0oKTtcbn07XG5cblNvY2lhbEZlZWRzLmluc3RhZ3JhbSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGVsZXMgPSBTb2NpYWxGZWVkcy5fZ2V0X2VsZW1lbnRzKCdpbnN0YWdyYW0nKTtcbiAgaWYgKGVsZXMubGVuZ3RoID4gMCkge1xuICAgIGVsZXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBuZXcgSW5zdGFncmFtKHRoaXMpO1xuICAgIH0pO1xuICB9XG59O1xuXG5Tb2NpYWxGZWVkcy5fZ2V0X2VsZW1lbnRzID0gZnVuY3Rpb24gKHNlcnZpY2UpIHtcbiAgdmFyIGVsZV9zZWxlY3RvciA9ICdbZGF0YS1zb2NpYWwtZmVlZD1cIicrc2VydmljZSsnXCJdJztcbiAgcmV0dXJuICQoZWxlX3NlbGVjdG9yKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU29jaWFsRmVlZHM7IiwicmVxdWlyZSgndW5pZm9ybVRodW1ibmFpbHMnKTtcbnJlcXVpcmUoJ2pxdWVyeS1vcmRlcmx5Jyk7XG5cbnZhciBUaHVtYm5haWxzID0ge307XG5cblRodW1ibmFpbHMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKEJzaWZ5LnRodW1ibmFpbF9zZXR0aW5ncy5jb25zdHJhaW5faW1hZ2VzKSB7XG4gICAgXG4gICAgdmFyIG9wdHMgPSB7fTtcbiAgICBvcHRzLmZpdCA9IChCc2lmeS50aHVtYm5haWxfc2V0dGluZ3MuY3JvcF9pbWFnZXMpPyAnY3JvcCcgOiAnc2NhbGUnO1xuICAgIG9wdHMuYWxpZ24gPSBCc2lmeS50aHVtYm5haWxfc2V0dGluZ3MuaW1hZ2VfYWxpZ25tZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHJhdGlvID0gQnNpZnkudGh1bWJuYWlsX3NldHRpbmdzLmltYWdlX3JhdGlvLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHJhdGlvID09PSAnc3F1YXJlJyB8fCByYXRpbyA9PT0gJ2xhbmRzY2FwZScgfHwgcmF0aW8gPT09ICdwb3J0cmFpdCcpIHtcbiAgICAgIG9wdHMuZm9ybWF0ID0gcmF0aW87XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMucmF0aW8gPSByYXRpbztcbiAgICB9XG4gICAgXG4gICAgdmFyICRpbWdfd3JhcHBlcnMgPSAkKEJzaWZ5LnRodW1ibmFpbF9zZWxlY3RvcnMuaW1hZ2Vfd3JhcHBlcik7XG4gICAgXG4gICAgaWYgKCRpbWdfd3JhcHBlcnMubGVuZ3RoID4gMCkge1xuICAgICAgJGltZ193cmFwcGVycy51bmlmb3JtX3RodW1ibmFpbHMob3B0cykub24oJ3V0X2NvbXBsZXRlJywgZnVuY3Rpb24oKXtcbiAgICAgICAgVGh1bWJuYWlscy5vcmRlcmx5KCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8ganVzdCB1c2Ugb3JkZXJseVxuICAgICAgVGh1bWJuYWlscy5vcmRlcmx5KCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGp1c3QgdXNlIG9yZGVybHlcbiAgICBUaHVtYm5haWxzLm9yZGVybHkoKTtcbiAgfVxufTtcblxuVGh1bWJuYWlscy5vcmRlcmx5ID0gZnVuY3Rpb24gKCkge1xuICAkKEJzaWZ5LnRodW1ibmFpbF9zZWxlY3RvcnMuZGV0YWlsc193cmFwcGVyKS5vcmRlcmx5KHsgbWV0aG9kOiAnY2hpbGRyZW4nIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBUaHVtYm5haWxzOyIsInZhciBTd2lwZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy50aHJlc2hvbGQgPSA1O1xuICB0aGlzLnhEb3duID0gbnVsbDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICB0aGlzLnlEb3duID0gbnVsbDtcbiAgdGhpcy5hZGRfZXZlbnRfbGlzdGVuZXJzKCk7XG59O1xuXG5Td2lwZS5wcm90b3R5cGUuYWRkX2V2ZW50X2xpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcbiAgaWYgKEVsZW1lbnQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgX3RoaXMuaGFuZGxlVG91Y2hTdGFydChldnQpO1xuICAgIH0sIGZhbHNlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICBfdGhpcy5oYW5kbGVUb3VjaE1vdmUoZXZ0KTtcbiAgICB9LCBmYWxzZSk7XG4gIH1cbn07XG5cblN3aXBlLnByb3RvdHlwZS5oYW5kbGVUb3VjaFN0YXJ0ID0gZnVuY3Rpb24gKGV2dCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gIHRoaXMueERvd24gPSBldnQudG91Y2hlc1swXS5jbGllbnRYOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gIHRoaXMueURvd24gPSBldnQudG91Y2hlc1swXS5jbGllbnRZOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG59OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuXG5Td2lwZS5wcm90b3R5cGUuaGFuZGxlVG91Y2hNb3ZlID0gZnVuY3Rpb24gKGV2dCkge1xuICBpZiAoICEgdGhpcy54RG93biB8fCAhIHRoaXMueURvd24gKSByZXR1cm47XG4gIFxuICB2YXIgY3VycmVudF90YXJnZXQgPSBldnQudGFyZ2V0VG91Y2hlc1swXS50YXJnZXQ7XG4gIFxuICB2YXIgeFVwID0gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgdmFyIHlVcCA9IGV2dC50b3VjaGVzWzBdLmNsaWVudFk7XG4gIFxuICB2YXIgeERpZmYgPSB0aGlzLnhEb3duIC0geFVwO1xuICB2YXIgeURpZmYgPSB0aGlzLnlEb3duIC0geVVwO1xuICBcbiAgaWYgKCBNYXRoLmFicyggeERpZmYgKSA+IE1hdGguYWJzKCB5RGlmZiApICkge1xuICAgIGlmICggeERpZmYgPiAwICkge1xuICAgICAgaWYgKHhEaWZmID4gdGhpcy50aHJlc2hvbGQpIHtcbiAgICAgICAgJChjdXJyZW50X3RhcmdldCkudHJpZ2dlcignc3dpcGVMZWZ0Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh4RGlmZiAqIC0xID4gdGhpcy50aHJlc2hvbGQpIHtcbiAgICAgICAgJChjdXJyZW50X3RhcmdldCkudHJpZ2dlcignc3dpcGVSaWdodCcpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoIHlEaWZmID4gMCApIHtcbiAgICAgIGlmICh5RGlmZiA+IHRoaXMudGhyZXNob2xkKSB7XG4gICAgICAgICQoY3VycmVudF90YXJnZXQpLnRyaWdnZXIoJ3N3aXBlVXAnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHlEaWZmICogLTEgPiB0aGlzLnRocmVzaG9sZCkge1xuICAgICAgICAkKGN1cnJlbnRfdGFyZ2V0KS50cmlnZ2VyKCdzd2lwZURvd24nKTtcbiAgICAgIH1cbiAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgfVxuICAvKiByZXNldCB2YWx1ZXMgKi9cbiAgdGhpcy54RG93biA9IG51bGw7XG4gIHRoaXMueURvd24gPSBudWxsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxufTtcblxubmV3IFN3aXBlKCk7IiwidmFyIFZhcmlhbnRPcHRpb25Td2l0Y2hlciA9IHt9O1xuXG4vLyBTd2l0Y2ggdGhlIHZhcmlhbnQgaWYgdGhlIGdhbGxlcnkgdGh1bWIgaXMgbGlua2VkIHRvIG9uZVxuVmFyaWFudE9wdGlvblN3aXRjaGVyLmltYWdlX3ZhcmlhbnRfc3dpdGNoZXIgPSBmdW5jdGlvbiAoKSB7XG4gIFxuICB2YXIgJHByb2R1Y3Rfc2VsZWN0b3IgPSAkKEJzaWZ5LnNlbGVjdG9ycy5wcm9kdWN0LnNlbGVjdF9zZWxlY3Rvcik7XG4gIFxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtdmFyaWFudC1pZF0nLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgJGN1cnJlbnRfdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIC8vIHVwZGF0ZSB0aGUgcHJvZHVjdCBzZWxlY3RvciB3aXRoIHRoZSBuZXcgdmFyaWFudCBpZFxuICAgICRwcm9kdWN0X3NlbGVjdG9yLnZhbCgkY3VycmVudF90YXJnZXQuZGF0YSgndmFyaWFudC1pZCcpKTtcbiAgICAvLyB1cGRhdGUgdGhlIG9wdGlvbiBzZWxlY3RvcnNcbiAgICBWYXJpYW50T3B0aW9uU3dpdGNoZXIudXBkYXRlX3Byb2R1Y3Rfc2VsZWN0b3Jfb3B0aW9ucygkcHJvZHVjdF9zZWxlY3Rvcik7XG4gIH0pO1xufTtcblxuLy8gTWFrZSB0aGUgb3JpZ2luYWwgdmFyaWFudCBzZWxlY3RvciB1cGRhdGUgdGhlIGdlbmVyYXRlZCBvcHRpb24gc2VsZWN0b3JzXG4vLyB3ZSBhcmUgbm90IGRvaW5nIHRoaXMgb24gYSB0cmlnZ2VyIGV2ZW50IGJlY2F1c2UgaWYgd2UgZGlkIHdlJ2QgZW5kIHVwIGluIHJlY3Vyc2l2ZSBoZWxsXG5WYXJpYW50T3B0aW9uU3dpdGNoZXIudXBkYXRlX3Byb2R1Y3Rfc2VsZWN0b3Jfb3B0aW9ucyA9IGZ1bmN0aW9uICgkcHJvZHVjdF9zZWxlY3Rvcikge1xuICBcbiAgLy8gZ2V0IHRoZSBzZWxlY3RlZCB2YXJpYW50IG9iamVjdFxuICB2YXIgdmFyaWFudF9pZCA9ICRwcm9kdWN0X3NlbGVjdG9yLnZhbCgpO1xuICB2YXIgdmFyaWFudCA9IEJzaWZ5LmdldF92YXJpYW50X2J5X2lkKHZhcmlhbnRfaWQpO1xuICBcbiAgaWYgKHZhcmlhbnQpIHtcbiAgICAvLyB1cGRhdGUgZWFjaCBvcHRpb24gc2VsZWN0b3JcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJzaWZ5LnByb2R1Y3Qub3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG9wdGlvbiA9ICdvcHRpb24nKyhpKzEpO1xuICAgICAgdmFyIHZhbHVlID0gdmFyaWFudFtvcHRpb25dO1xuICAgICAgJCgnLnNpbmdsZS1vcHRpb24tc2VsZWN0b3I6ZXEoJytpKycpJykudmFsKHZhbHVlKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVmFyaWFudE9wdGlvblN3aXRjaGVyOyJdfQ==
