(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var Bsify=require("./bsify.js"),CartJS=require("./../../bower_components/shopify-cartjs/dist/cart.js"),Lookbook=require("./bsify.lookbook_gallery.js"),App=function(){if(CartJS.init(Bsify.cart,Bsify.money_formats),Bsify.product&&(Bsify.ImageSwitcher.preload_product_thumbs(),Bsify.ImageSwitcher.image_swticher(),Bsify.VariantOptionSwitcher.image_variant_switcher(),Bsify.linked_product_options&&Bsify.product.available&&Bsify.product.options.length>1&&Bsify.LinkedProductOptions.linkOptionSelectors(Bsify.product)),Bsify.ajax_add_to_cart&&Bsify.Cart.init(),Bsify.Thumbnails.init(),Bsify.Banner.init(),Bsify.BannerVideo.init(),Bsify.MegaMenu.init(),$(".collection-lookbook").length>0){var o=new Lookbook({gallery_wrapper:".collection-lookbook .products.group",item_wrapper:".group-item-wrap",controls_wrapper:".lookbook-controls"});o.on_loaded=function(){Bsify.Thumbnails.orderly()}}Modernizr.input.placeholder?$("html").addClass("placeholder"):$("html").addClass("no-placeholder"),Bsify.SocialFeeds.init(),new Bsify.PasswordRecover},app=new App;module.exports=app,window.CartJS=CartJS;


},{"./../../bower_components/shopify-cartjs/dist/cart.js":2,"./bsify.js":14,"./bsify.lookbook_gallery.js":16}],2:[function(require,module,exports){
(function(){var t,e,r,n,a,u,i=function(t,e){return function(){return t.apply(e,arguments)}};e=function(){function t(){this.update=i(this.update,this)}return t.prototype.update=function(t){var e,r,a;for(r in t)a=t[r],"items"!==r&&(this[r]=a);return this.items=function(){var r,a,u,i;for(u=t.items,i=[],r=0,a=u.length;a>r;r++)e=u[r],i.push(new n(e));return i}()},t}(),n=function(){function t(t){this.propertyArray=i(this.propertyArray,this),this.update=i(this.update,this),this.update(t)}return t.prototype.update=function(t){var e,n;for(e in t)n=t[e],"properties"!==e&&(this[e]=n);return this.properties=r.Utils.extend({},t.properties)},t.prototype.propertyArray=function(){var t,e,r,n;r=this.properties,n=[];for(t in r)e=r[t],n.push({name:t,value:e});return n},t}(),r={settings:{debug:!1,dataAPI:!0,requestBodyClass:null,rivetsModels:{},moneyFormat:null,moneyWithCurrencyFormat:null},cart:new e},r.init=function(t,e){return null==e&&(e={}),r.configure(e),r.Utils.log("Initialising CartJS."),r.cart.update(t),r.settings.dataAPI&&(r.Utils.log('"dataAPI" setting is true, initialising Data API.'),r.Data.init()),r.settings.requestBodyClass&&(r.Utils.log('"requestBodyClass" set, adding event listeners.'),$(document).on("cart.requestStarted",function(){return $("body").addClass(r.settings.requestBodyClass)}),$(document).on("cart.requestComplete",function(){return $("body").removeClass(r.settings.requestBodyClass)})),r.Rivets.init()},r.configure=function(t){return null==t&&(t={}),r.Utils.extend(r.settings,t)},r.Utils={log:function(){return r.Utils.console(console.log,arguments)},error:function(){return r.Utils.console(console.error,arguments)},console:function(t,e){return r.settings.debug&&"undefined"!=typeof console&&null!==console?(e=Array.prototype.slice.call(e),e.unshift("[CartJS]:"),t.apply(console,e)):void 0},wrapKeys:function(t,e,r){var n,a,u;null==e&&(e="properties"),u={};for(n in t)a=t[n],u[""+e+"["+n+"]"]=null!=r?r:a;return u},unwrapKeys:function(t,e,r){var n,a,u,i;null==e&&(e="properties"),a={};for(n in t)i=t[n],u=n.replace(""+e+"[","").replace("]",""),a[u]=null!=r?r:i;return a},extend:function(t,e){var r,n;for(r in e)n=e[r],t[r]=n;return t},clone:function(t){var e,r;if(null==t||"object"!=typeof t)return t;r=new t.constructor;for(e in t)r[e]=clone(t[e]);return r},isArray:Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},ensureArray:function(t){return r.Utils.isArray(t)?t:null!=t?[t]:[]},formatMoney:function(t,e){var r;return null!=(null!=(r=window.Shopify)?r.formatMoney:void 0)?Shopify.formatMoney(t,e):t},getSizedImageUrl:function(t,e){var r,n;return null!=(null!=(r=window.Shopify)&&null!=(n=r.Image)?n.getSizedImageUrl:void 0)?Shopify.Image.getSizedImageUrl(t,e):t}},u=[],a=!1,r.Queue={add:function(t,e,n){var i;return null==n&&(n={}),i={url:t,data:e,type:n.type||"POST",dataType:n.dataType||"json",success:r.Utils.ensureArray(n.success),error:r.Utils.ensureArray(n.error),complete:r.Utils.ensureArray(n.complete)},n.updateCart&&i.success.push(r.cart.update),u.push(i),a?void 0:(jQuery(document).trigger("cart.requestStarted",[r.cart]),r.Queue.process())},process:function(){var t;return u.length?(a=!0,t=u.shift(),t.complete=r.Queue.process,jQuery.ajax(t)):(a=!1,void jQuery(document).trigger("cart.requestComplete",[r.cart]))}},r.Core={getCart:function(t){return null==t&&(t={}),t.type="GET",t.updateCart=!0,r.Queue.add("/cart.js",{},t)},addItem:function(t,e,n,a){var u;return null==e&&(e=1),null==n&&(n={}),null==a&&(a={}),u=r.Utils.wrapKeys(n),u.id=t,u.quantity=e,r.Queue.add("/cart/add.js",u,a),r.Core.getCart()},updateItem:function(t,e,n,a){var u;return null==n&&(n={}),null==a&&(a={}),u=r.Utils.wrapKeys(n),u.line=t,null!=e&&(u.quantity=e),a.updateCart=!0,r.Queue.add("/cart/change.js",u,a)},removeItem:function(t,e){return null==e&&(e={}),r.Core.updateItem(t,0,{},e)},updateItemById:function(t,e,n,a){var u;return null==n&&(n={}),null==a&&(a={}),u=r.Utils.wrapKeys(n),u.id=t,null!=e&&(u.quantity=e),a.updateCart=!0,r.Queue.add("/cart/change.js",u,a)},updateItemQuantitiesById:function(t,e){return null==t&&(t={}),null==e&&(e={}),e.updateCart=!0,r.Queue.add("/cart/update.js",{updates:t},e)},removeItemById:function(t,e){var n;return null==e&&(e={}),n={id:t,quantity:0},e.updateCart=!0,r.Queue.add("/cart/change.js",n,e)},clear:function(t){return null==t&&(t={}),t.updateCart=!0,r.Queue.add("/cart/clear.js",{},t)},getAttribute:function(t,e){return t in r.cart.attributes?r.cart.attributes[t]:e},setAttribute:function(t,e,n){var a;return null==n&&(n={}),a={},a[t]=e,r.Core.setAttributes(a,n)},getAttributes:function(){return r.cart.attributes},setAttributes:function(t,e){return null==t&&(t={}),null==e&&(e={}),e.updateCart=!0,r.Queue.add("/cart/update.js",r.Utils.wrapKeys(t,"attributes"),e)},clearAttributes:function(t){return null==t&&(t={}),t.updateCart=!0,r.Queue.add("/cart/update.js",r.Utils.wrapKeys(r.Core.getAttributes(),"attributes",""),t)},getNote:function(){return r.cart.note},setNote:function(t,e){return null==e&&(e={}),e.updateCart=!0,r.Queue.add("/cart/update.js",{note:t},e)}},t=jQuery(document),r.Data={init:function(){return r.Data.setEventListeners("on"),r.Data.render(null,r.cart)},destroy:function(){return r.Data.setEventListeners("off")},setEventListeners:function(e){return t[e]("click","[data-cart-add]",r.Data.add),t[e]("click","[data-cart-remove]",r.Data.remove),t[e]("click","[data-cart-remove-id]",r.Data.removeById),t[e]("click","[data-cart-update]",r.Data.update),t[e]("click","[data-cart-update-id]",r.Data.updateById),t[e]("click","[data-cart-clear]",r.Data.clear),t[e]("change","[data-cart-toggle]",r.Data.toggle),t[e]("change","[data-cart-toggle-attribute]",r.Data.toggleAttribute),t[e]("submit","[data-cart-submit]",r.Data.submit),t[e]("cart.requestComplete",r.Data.render)},add:function(t){var e;return t.preventDefault(),e=jQuery(this),r.Core.addItem(e.attr("data-cart-add"),e.attr("data-cart-quantity"))},remove:function(t){var e;return t.preventDefault(),e=jQuery(this),r.Core.removeItem(e.attr("data-cart-remove"))},removeById:function(t){var e;return t.preventDefault(),e=jQuery(this),r.Core.removeItemById(e.attr("data-cart-remove-id"))},update:function(t){var e;return t.preventDefault(),e=jQuery(this),r.Core.updateItem(e.attr("data-cart-update"),e.attr("data-cart-quantity"))},updateById:function(t){var e;return t.preventDefault(),e=jQuery(this),r.Core.updateItemById(e.attr("data-cart-update-id"),e.attr("data-cart-quantity"))},clear:function(t){return t.preventDefault(),r.Core.clear()},toggle:function(t){var e,n;return e=jQuery(this),n=e.attr("data-cart-toggle"),e.is(":checked")?r.Core.addItem(n):r.Core.removeItemById(n)},toggleAttribute:function(t){var e,n;return e=jQuery(this),n=e.attr("data-cart-toggle-attribute"),r.Core.setAttribute(n,e.is(":checked")?"Yes":"")},submit:function(t){var e,n,a,u;return t.preventDefault(),e=jQuery(this).serializeArray(),n=void 0,u=void 0,a={},jQuery.each(e,function(t,e){return"id"===e.name?n=e.value:"quantity"===e.name?u=e.value:a[e.name]=e.value}),r.Core.addItem(n,u,r.Utils.unwrapKeys(a))},render:function(t,e){var n;return n={item_count:e.item_count,total_price:e.total_price,total_price_money:r.Utils.formatMoney(e.total_price,r.settings.moneyFormat),total_price_money_with_currency:r.Utils.formatMoney(e.total_price,r.settings.moneyWithCurrencyFormat)},jQuery("[data-cart-render]").each(function(){var t;return t=jQuery(this),t.text(n[t.attr("data-cart-render")])})}},"rivets"in window?(r.Rivets={views:[],init:function(){return r.Rivets.bindViews()},destroy:function(){return r.Rivets.unbindViews()},bindViews:function(){var t;return r.Utils.log("Rivets.js is present, binding views."),r.Rivets.unbindViews(),t=r.Utils.extend({cart:r.cart},r.settings.rivetsModels),jQuery("[data-cart-view]").each(function(){return r.Rivets.views.push(rivets.bind(this,t))})},unbindViews:function(){var t,e,n,a;for(a=r.Rivets.views,e=0,n=a.length;n>e;e++)t=a[e],t.unbind();return r.Rivets.views=[]}},rivets.formatters.eq=function(t,e){return t===e},rivets.formatters.lt=function(t,e){return e>t},rivets.formatters.gt=function(t,e){return t>e},rivets.formatters.not=function(t){return!t},rivets.formatters.empty=function(t){return!t.length},rivets.formatters.plus=function(t,e){return parseInt(t)+parseInt(e)},rivets.formatters.minus=function(t,e){return parseInt(t)-parseInt(e)},rivets.formatters.prepend=function(t,e){return e+t},rivets.formatters.append=function(t,e){return t+e},rivets.formatters.money=function(t){return r.Utils.formatMoney(t,r.settings.moneyFormat)},rivets.formatters.money_with_currency=function(t){return r.Utils.formatMoney(t,r.settings.moneyWithCurrencyFormat)},rivets.formatters.productImageSize=function(t,e){return r.Utils.getSizedImageUrl(t,e)}):r.Rivets={init:function(){},destroy:function(){}},r.factory=function(t){return t.init=r.init,t.configure=r.configure,t.cart=r.cart,t.settings=r.settings,t.addItem=r.Core.addItem,t.updateItem=r.Core.updateItem,t.updateItemById=r.Core.updateItemById,t.updateItemQuantitiesById=r.Core.updateItemQuantitiesById,t.removeItem=r.Core.removeItem,t.clear=r.Core.clear,t.getAttribute=r.Core.getAttribute,t.setAttribute=r.Core.setAttribute,t.getAttributes=r.Core.getAttributes,t.setAttributes=r.Core.setAttributes,t.clearAttributes=r.Core.clearAttributes,t.getNote=r.Core.getNote,t.setNote=r.Core.setNote},"object"==typeof exports?r.factory(exports):"function"==typeof define&&define.amd?define(["exports"],function(t){return r.factory(this.CartJS=t),t}):r.factory(this.CartJS={})}).call(this);


},{}],3:[function(require,module,exports){
!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return t(e,i,n)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,i){"use strict";function n(e,t){for(var i in t)e[i]=t[i];return e}function o(e){return"[object Array]"===d.call(e)}function r(e){var t=[];if(o(e))t=e;else if("number"==typeof e.length)for(var i=0,n=e.length;n>i;i++)t.push(e[i]);else t.push(e);return t}function s(e,t,i){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=n({},this.options),"function"==typeof t?i=t:n(this.options,t),i&&this.on("always",i),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var o=this;setTimeout(function(){o.check()})}function h(e){this.img=e}function f(e){this.src=e,p[e]=this}var c=e.jQuery,a=e.console,u="undefined"!=typeof a,d=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var i=this.elements[e];"IMG"===i.nodeName&&this.addImage(i);var n=i.nodeType;if(n&&(1===n||9===n||11===n))for(var o=i.querySelectorAll("img"),r=0,s=o.length;s>r;r++){var h=o[r];this.addImage(h)}}},s.prototype.addImage=function(e){var t=new h(e);this.images.push(t)},s.prototype.check=function(){function e(e,o){return t.options.debug&&u&&a.log("confirm",e,o),t.progress(e),i++,i===n&&t.complete(),!0}var t=this,i=0,n=this.images.length;if(this.hasAnyBroken=!1,!n)return void this.complete();for(var o=0;n>o;o++){var r=this.images[o];r.on("confirm",e),r.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var i=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[i](t)}})},c&&(c.fn.imagesLoaded=function(e,t){var i=new s(this,e,t);return i.jqDeferred.promise(c(this))}),h.prototype=new t,h.prototype.check=function(){var e=p[this.img.src]||new f(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,i){return t.confirm(e.isLoaded,i),!0}),e.check()},h.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var p={};return f.prototype=new t,f.prototype.check=function(){if(!this.isChecked){var e=new Image;i.bind(e,"load",this),i.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},f.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},f.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},f.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},f.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},f.prototype.unbindProxyEvents=function(e){i.unbind(e.target,"load",this),i.unbind(e.target,"error",this)},s});


},{"eventie":4,"wolfy87-eventemitter":5}],4:[function(require,module,exports){
!function(e){"use strict";function n(n){var t=e.event;return t.target=t.target||t.srcElement||n,t}var t=document.documentElement,o=function(){};t.addEventListener?o=function(e,n,t){e.addEventListener(n,t,!1)}:t.attachEvent&&(o=function(e,t,o){e[t+o]=o.handleEvent?function(){var t=n(e);o.handleEvent.call(o,t)}:function(){var t=n(e);o.call(e,t)},e.attachEvent("on"+t,e[t+o])});var c=function(){};t.removeEventListener?c=function(e,n,t){e.removeEventListener(n,t,!1)}:t.detachEvent&&(c=function(e,n,t){e.detachEvent("on"+n,e[n+t]);try{delete e[n+t]}catch(o){e[n+t]=void 0}});var i={bind:o,unbind:c};"function"==typeof define&&define.amd?define(i):"object"==typeof exports?module.exports=i:e.eventie=i}(window);


},{}],5:[function(require,module,exports){
(function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i=this,s=i.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),s="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(s?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,s=this.getListenersAsObject(e);for(i in s)s.hasOwnProperty(i)&&(r=t(s[i],n),-1!==r&&s[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)s.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?s.call(this,r,i):o.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,s,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)n=o[i][r],n.once===!0&&this.removeListener(e,n.listener),s=n.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=s,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:i.EventEmitter=e}).call(this);


},{}],6:[function(require,module,exports){
!function(n){if(!window.__orderly){window.__orderly=!0;var t=n(window);t.on("resize",function(n){t.trigger("orderly")});var r={};r.init=function(n){return this.$els=n,this.len=n.length,this},r.attach=function(){void 0===this.attached&&(this.attached=!0,t.on("orderly",m(this.handler(),100)))},r.handler=function(){var n=this;return function(){l(n),e(n)}};var e=function(n){for(var t=0;t<n.len;)t=i(n,null,0,[],t)},i=function(t,r,e,i,l){for(;l<t.len&&(r=o(t,r,l),null!==r);)e=u(t,e,l),i.push(t.$els[l]),l++;return e=c(e),a(t,n(i),e),l},o=function(n,t,r){var e=n.$els.eq(r),i=e.offset().left;return null!==t&&t>=i?null:i},u=function(n,t,r){var e=n.$els[r].getBoundingClientRect(),i=e.bottom-e.top;return Math.max(t,i)},c=function(n){return Math.round(n).toString()+"px"},a=function(t,r,e){r.each(function(t,i){n(i).css({height:e}),h(i,"resize",e,t,r.length)})},l=function(t){var r=t.$els;r.each(function(t,e){h(e,"reset","",t,r.length),n(e).css({height:""})})},h=function(t,r,e,i,o){n(t).trigger("orderly."+r,[t,e,i,o])};n.fn.orderly=function(n){return this.length>0&&f(this,n),this};var f=function(n,t){var r=t&&t.method||"register",e=d[r];e(n)},s=function(n){var t=Object.create(r).init(n);t.attach(),t.handler()()},d={};d.register=s,d.children=function(n){var t=w++;v(n,t),s(n),g(n,t),s(n)};var g=function(n,t){for(var r=n[0].children.length,e=0;r>e;e++)s(y(t,e))},v=function(t,r){t.each(function(t,e){n(e.children).each(function(t,e){n(e).attr("data-orderly",r+":"+t)})})},y=function(t,r){return n('[data-orderly="'+t+":"+r+'"]')},m=function(n,t){var r;return function(){clearTimeout(r),r=setTimeout(function(){r=null,n.apply(this,arguments)},t)}},w=0}}(jQuery);


},{}],7:[function(require,module,exports){
function uncamel(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function setUnit(e,r){return"string"!=typeof e||e.match(/^[\-0-9\.]+jQuery/)?""+e+r:e}function setFilter(e,r,t){var a=uncamel(r),o=jQuery.browser.mozilla?"":jQuery.CSS.sfx;e[o+"filter"]=e[o+"filter"]||"",t=setUnit(t>jQuery.CSS.filters[r].max?jQuery.CSS.filters[r].max:t,jQuery.CSS.filters[r].unit),e[o+"filter"]+=a+"("+t+") ",delete e[r]}var ytp=ytp||{};window.onYouTubeIframeAPIReady=function(){ytp.YTAPIReady||(ytp.YTAPIReady=!0,jQuery(document).trigger("YTAPIReady"))};var getYTPVideoID=function(e){var r,t;return e.indexOf("youtu.be")>0?(r=e.substr(e.lastIndexOf("/")+1,e.length),t=r.indexOf("?list=")>0?r.substr(r.lastIndexOf("="),r.length):null,r=t?r.substr(0,r.lastIndexOf("?")):r):e.indexOf("http")>-1?(r=e.match(/[\\?&]v=([^&#]*)/)[1],t=e.indexOf("list=")>0?e.match(/[\\?&]list=([^&#]*)/)[1]:null):(r=e.length>15?null:e,t=r?null:e),{videoID:r,playlistID:t}};!function(jQuery,ytp){jQuery.mbYTPlayer={name:"jquery.mb.YTPlayer",version:"2.9.4",build:"{{ build }}",author:"Matteo Bicocchi",apiKey:"",defaults:{containment:"body",ratio:"auto",videoURL:null,playlistURL:null,startAt:0,stopAt:0,autoPlay:!0,vol:50,addRaster:!1,opacity:1,quality:"default",mute:!1,loop:!0,showControls:!0,showAnnotations:!1,showYTLogo:!0,stopMovieOnBlur:!0,realfullscreen:!0,gaTrack:!0,optimizeDisplay:!0,onReady:function(e){}},controls:{play:"P",pause:"p",mute:"M",unmute:"A",onlyYT:"O",showSite:"R",ytLogo:"Y"},locationProtocol:"https:",buildPlayer:function(options){return this.each(function(){var YTPlayer=this,$YTPlayer=jQuery(YTPlayer);YTPlayer.loop=0,YTPlayer.opt={},YTPlayer.state={},YTPlayer.filtersEnabled=!0,YTPlayer.filters={grayscale:{value:0,unit:"%"},hue_rotate:{value:0,unit:"deg"},invert:{value:0,unit:"%"},opacity:{value:0,unit:"%"},saturate:{value:0,unit:"%"},sepia:{value:0,unit:"%"},brightness:{value:0,unit:"%"},contrast:{value:0,unit:"%"},blur:{value:0,unit:"px"}},$YTPlayer.addClass("mb_YTPlayer");var property=$YTPlayer.data("property")&&"string"==typeof $YTPlayer.data("property")?eval("("+$YTPlayer.data("property")+")"):$YTPlayer.data("property");"undefined"!=typeof property&&"undefined"!=typeof property.vol&&(property.vol=0===property.vol?property.vol=1:property.vol),jQuery.extend(YTPlayer.opt,jQuery.mbYTPlayer.defaults,options,property),YTPlayer.hasChanged||(YTPlayer.defaultOpt={},jQuery.extend(YTPlayer.defaultOpt,jQuery.mbYTPlayer.defaults,options,property)),YTPlayer.isRetina=window.retina||window.devicePixelRatio>1;var isIframe=function(){var e=!1;try{self.location.href!=top.location.href&&(e=!0)}catch(r){e=!0}return e};YTPlayer.canGoFullScreen=!(jQuery.browser.msie||jQuery.browser.opera||isIframe()),YTPlayer.canGoFullScreen||(YTPlayer.opt.realfullscreen=!1),$YTPlayer.attr("id")||$YTPlayer.attr("id","video_"+(new Date).getTime());var playerID="mbYTP_"+YTPlayer.id;YTPlayer.isAlone=!1,YTPlayer.hasFocus=!0;var videoID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).videoID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).videoID:!1,playlistID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).playlistID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).playlistID:!1;YTPlayer.videoID=videoID,YTPlayer.playlistID=playlistID,YTPlayer.opt.showAnnotations=YTPlayer.opt.showAnnotations?"0":"3";var playerVars={autoplay:0,modestbranding:1,controls:0,showinfo:0,rel:0,enablejsapi:1,version:3,playerapiid:playerID,origin:"*",allowfullscreen:!0,wmode:"transparent",iv_load_policy:YTPlayer.opt.showAnnotations};document.createElement("video").canPlayType&&jQuery.extend(playerVars,{html5:1}),jQuery.browser.msie&&jQuery.browser.version<9&&(this.opt.opacity=1);var playerBox=jQuery("<div/>").attr("id",playerID).addClass("playerBox"),overlay=jQuery("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).addClass("YTPOverlay");if(YTPlayer.isSelf="self"==YTPlayer.opt.containment,YTPlayer.defaultOpt.containment=YTPlayer.opt.containment=jQuery("self"==YTPlayer.opt.containment?this:YTPlayer.opt.containment),YTPlayer.isBackground="body"==YTPlayer.opt.containment.get(0).tagName.toLowerCase(),!YTPlayer.isBackground||!ytp.backgroundIsInited){var isPlayer=YTPlayer.opt.containment.is(jQuery(this));if(YTPlayer.canPlayOnMobile=isPlayer&&0===jQuery(this).children().length,isPlayer?YTPlayer.isPlayer=!0:$YTPlayer.hide(),jQuery.browser.mobile&&!YTPlayer.canPlayOnMobile)return void $YTPlayer.remove();var wrapper=jQuery("<div/>").addClass("mbYTP_wrapper").attr("id","wrapper_"+playerID);if(wrapper.css({position:"absolute",zIndex:0,minWidth:"100%",minHeight:"100%",left:0,top:0,overflow:"hidden",opacity:0}),playerBox.css({position:"absolute",zIndex:0,width:"100%",height:"100%",top:0,left:0,overflow:"hidden"}),wrapper.append(playerBox),YTPlayer.opt.containment.children().not("script, style").each(function(){"static"==jQuery(this).css("position")&&jQuery(this).css("position","relative")}),YTPlayer.isBackground?(jQuery("body").css({boxSizing:"border-box"}),wrapper.css({position:"fixed",top:0,left:0,zIndex:0}),$YTPlayer.hide()):"static"==YTPlayer.opt.containment.css("position")&&YTPlayer.opt.containment.css({position:"relative"}),YTPlayer.opt.containment.prepend(wrapper),YTPlayer.wrapper=wrapper,playerBox.css({opacity:1}),jQuery.browser.mobile||(playerBox.after(overlay),YTPlayer.overlay=overlay),YTPlayer.isBackground||overlay.on("mouseenter",function(){YTPlayer.controlBar&&YTPlayer.controlBar.addClass("visible")}).on("mouseleave",function(){YTPlayer.controlBar&&YTPlayer.controlBar.removeClass("visible")}),ytp.YTAPIReady)setTimeout(function(){jQuery(document).trigger("YTAPIReady")},100);else{jQuery("#YTAPI").remove();var tag=jQuery("<script></script>").attr({src:jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/iframe_api?v="+jQuery.mbYTPlayer.version,id:"YTAPI"});jQuery("head").prepend(tag)}jQuery(document).on("YTAPIReady",function(){YTPlayer.isBackground&&ytp.backgroundIsInited||YTPlayer.isInit||(YTPlayer.isBackground&&(ytp.backgroundIsInited=!0),YTPlayer.opt.autoPlay="undefined"==typeof YTPlayer.opt.autoPlay?YTPlayer.isBackground?!0:!1:YTPlayer.opt.autoPlay,YTPlayer.opt.vol=YTPlayer.opt.vol?YTPlayer.opt.vol:100,jQuery.mbYTPlayer.getDataFromAPI(YTPlayer),jQuery(YTPlayer).on("YTPChanged",function(){if(!YTPlayer.isInit){if(YTPlayer.isInit=!0,jQuery.browser.mobile&&YTPlayer.canPlayOnMobile){if(YTPlayer.opt.containment.outerWidth()>jQuery(window).width()){YTPlayer.opt.containment.css({maxWidth:"100%"});var h=.6*YTPlayer.opt.containment.outerWidth();YTPlayer.opt.containment.css({maxHeight:h})}return void new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),height:"100%",width:"100%",events:{onReady:function(e){YTPlayer.player=e.target,playerBox.css({opacity:1}),YTPlayer.wrapper.css({opacity:1})}}})}new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),playerVars:playerVars,events:{onReady:function(e){if(YTPlayer.player=e.target,!YTPlayer.isReady){YTPlayer.isReady=YTPlayer.isPlayer&&!YTPlayer.opt.autoPlay?!1:!0,YTPlayer.playerEl=YTPlayer.player.getIframe(),$YTPlayer.optimizeDisplay(),YTPlayer.videoID=videoID,jQuery(window).on("resize.YTP",function(){$YTPlayer.optimizeDisplay()}),jQuery.mbYTPlayer.checkForState(YTPlayer);var r=jQuery.Event("YTPUnstarted");r.time=YTPlayer.player.time,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(r)}},onStateChange:function(event){if("function"==typeof event.target.getPlayerState){var state=event.target.getPlayerState();if(YTPlayer.state!=state){YTPlayer.state=state;var eventType;switch(state){case-1:eventType="YTPUnstarted";break;case 0:eventType="YTPEnd";break;case 1:eventType="YTPStart",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause),"undefined"!=typeof _gaq&&eval(YTPlayer.opt.gaTrack)&&_gaq.push(["_trackEvent","YTPlayer","Play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString()]),"undefined"!=typeof ga&&eval(YTPlayer.opt.gaTrack)&&ga("send","event","YTPlayer","play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString());break;case 2:eventType="YTPPause",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 3:YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality),eventType="YTPBuffering",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 5:eventType="YTPCued"}var YTPEvent=jQuery.Event(eventType);YTPEvent.time=YTPlayer.player.time,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(YTPEvent)}}},onPlaybackQualityChange:function(e){var r=e.target.getPlaybackQuality(),t=jQuery.Event("YTPQualityChange");t.quality=r,jQuery(YTPlayer).trigger(t)},onError:function(e){150==e.data&&(console.log("Embedding this video is restricted by Youtube."),YTPlayer.isPlayList&&jQuery(YTPlayer).playNext()),2==e.data&&YTPlayer.isPlayList&&jQuery(YTPlayer).playNext(),"function"==typeof YTPlayer.opt.onError&&YTPlayer.opt.onError($YTPlayer,e)}}})}}))})}})},getDataFromAPI:function(e){if(e.videoData=jQuery.mbStorage.get("YYTPlayer_data_"+e.videoID),jQuery(e).off("YTPData.YTPlayer").on("YTPData.YTPlayer",function(){if(e.hasData&&e.isPlayer&&!e.opt.autoPlay){var r=e.videoData.thumb_max||e.videoData.thumb_high||e.videoData.thumb_medium;e.opt.containment.css({background:"rgba(0,0,0,0.5) url("+r+") center center",backgroundSize:"cover"}),e.opt.backgroundUrl=r}}),e.videoData)setTimeout(function(){e.opt.ratio="auto"==e.opt.ratio?"16/9":e.opt.ratio,e.dataReceived=!0,jQuery(e).trigger("YTPChanged");var r=jQuery.Event("YTPData");r.prop={};for(var t in e.videoData)r.prop[t]=e.videoData[t];jQuery(e).trigger(r)},500),e.hasData=!0;else if(jQuery.mbYTPlayer.apiKey)jQuery.getJSON(jQuery.mbYTPlayer.locationProtocol+"//www.googleapis.com/youtube/v3/videos?id="+e.videoID+"&key="+jQuery.mbYTPlayer.apiKey+"&part=snippet",function(r){function t(r){e.videoData={},e.videoData.id=e.videoID,e.videoData.channelTitle=r.channelTitle,e.videoData.title=r.title,e.videoData.description=r.description.length<400?r.description:r.description.substring(0,400)+" ...",e.videoData.aspectratio="auto"==e.opt.ratio?"16/9":e.opt.ratio,e.opt.ratio=e.videoData.aspectratio,e.videoData.thumb_max=r.thumbnails.maxres?r.thumbnails.maxres.url:null,e.videoData.thumb_high=r.thumbnails.high?r.thumbnails.high.url:null,e.videoData.thumb_medium=r.thumbnails.medium?r.thumbnails.medium.url:null,jQuery.mbStorage.set("YYTPlayer_data_"+e.videoID,e.videoData)}e.dataReceived=!0,jQuery(e).trigger("YTPChanged"),t(r.items[0].snippet),e.hasData=!0;var a=jQuery.Event("YTPData");a.prop={};for(var o in e.videoData)a.prop[o]=e.videoData[o];jQuery(e).trigger(a)});else{if(setTimeout(function(){jQuery(e).trigger("YTPChanged")},50),e.isPlayer&&!e.opt.autoPlay){var r=jQuery.mbYTPlayer.locationProtocol+"//i.ytimg.com/vi/"+e.videoID+"/hqdefault.jpg";e.opt.containment.css({background:"rgba(0,0,0,0.5) url("+r+") center center",backgroundSize:"cover"}),e.opt.backgroundUrl=r}e.videoData=null,e.opt.ratio="auto"==e.opt.ratio?"16/9":e.opt.ratio}e.isPlayer&&!e.opt.autoPlay&&(e.loading=jQuery("<div/>").addClass("loading").html("Loading").hide(),jQuery(e).append(e.loading),e.loading.fadeIn())},removeStoredData:function(){jQuery.mbStorage.remove()},getVideoData:function(){var e=this.get(0);return e.videoData},getVideoID:function(){var e=this.get(0);return e.videoID||!1},setVideoQuality:function(e){var r=this.get(0);jQuery.browser.chrome||r.player.setPlaybackQuality(e)},playlist:function(e,r,t){var a=this,o=a.get(0);return o.isPlayList=!0,r&&(e=jQuery.shuffle(e)),o.videoID||(o.videos=e,o.videoCounter=0,o.videoLength=e.length,jQuery(o).data("property",e[0]),jQuery(o).mb_YTPlayer()),"function"==typeof t&&jQuery(o).on("YTPChanged",function(){t(o)}),jQuery(o).on("YTPEnd",function(){jQuery(o).playNext()}),a},playNext:function(){var e=this.get(0);return e.videoCounter++,e.videoCounter>=e.videoLength&&(e.videoCounter=0),jQuery(e).changeMovie(e.videos[e.videoCounter]),this},playPrev:function(){var e=this.get(0);return e.videoCounter--,e.videoCounter<0&&(e.videoCounter=e.videoLength-1),jQuery(e).changeMovie(e.videos[e.videoCounter]),this},changeMovie:function(e){var r=this.get(0);r.opt.startAt=0,r.opt.stopAt=0,r.opt.mute=!0,r.hasData=!1,r.hasChanged=!0,e&&jQuery.extend(r.opt,r.defaultOpt,e),r.videoID=getYTPVideoID(r.opt.videoURL).videoID,jQuery(r.playerEl).CSSAnimate({opacity:0},200,function(){return jQuery(r).YTPGetPlayer().cueVideoByUrl(encodeURI(jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/v/"+r.videoID),1,r.opt.quality),jQuery.mbYTPlayer.checkForState(r),jQuery(r).optimizeDisplay(),jQuery.mbYTPlayer.getDataFromAPI(r),this})},getPlayer:function(){return jQuery(this).get(0).player},playerDestroy:function(){var e=this.get(0);ytp.YTAPIReady=!1,ytp.backgroundIsInited=!1,e.isInit=!1,e.videoID=null;var r=e.wrapper;return r.remove(),jQuery("#controlBar_"+e.id).remove(),clearInterval(e.checkForStartAt),clearInterval(e.getState),this},fullscreen:function(real){function hideMouse(){YTPlayer.overlay.css({cursor:"none"})}function RunPrefixMethod(e,r){for(var t,a,o=["webkit","moz","ms","o",""],i=0;i<o.length&&!e[t];){if(t=r,""==o[i]&&(t=t.substr(0,1).toLowerCase()+t.substr(1)),t=o[i]+t,a=typeof e[t],"undefined"!=a)return o=[o[i]],"function"==a?e[t]():e[t];i++}}function launchFullscreen(e){RunPrefixMethod(e,"RequestFullScreen")}function cancelFullscreen(){(RunPrefixMethod(document,"FullScreen")||RunPrefixMethod(document,"IsFullScreen"))&&RunPrefixMethod(document,"CancelFullScreen")}var YTPlayer=this.get(0);"undefined"==typeof real&&(real=YTPlayer.opt.realfullscreen),real=eval(real);var controls=jQuery("#controlBar_"+YTPlayer.id),fullScreenBtn=controls.find(".mb_OnlyYT"),videoWrapper=YTPlayer.isSelf?YTPlayer.opt.containment:YTPlayer.wrapper;if(real){var fullscreenchange=jQuery.browser.mozilla?"mozfullscreenchange":jQuery.browser.webkit?"webkitfullscreenchange":"fullscreenchange";jQuery(document).off(fullscreenchange).on(fullscreenchange,function(){var e=RunPrefixMethod(document,"IsFullScreen")||RunPrefixMethod(document,"FullScreen");e?(jQuery(YTPlayer).YTPSetVideoQuality("default"),jQuery(YTPlayer).trigger("YTPFullScreenStart")):(YTPlayer.isAlone=!1,fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),jQuery(YTPlayer).YTPSetVideoQuality(YTPlayer.opt.quality),videoWrapper.removeClass("fullscreen"),videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0}),YTPlayer.isBackground?jQuery("body").after(controls):YTPlayer.wrapper.before(controls),jQuery(window).resize(),jQuery(YTPlayer).trigger("YTPFullScreenEnd"))})}return YTPlayer.isAlone?(jQuery(document).off("mousemove.YTPlayer"),YTPlayer.overlay.css({cursor:"auto"}),real?cancelFullscreen():(videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0})),fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),YTPlayer.isAlone=!1):(jQuery(document).on("mousemove.YTPlayer",function(e){YTPlayer.overlay.css({cursor:"auto"}),clearTimeout(YTPlayer.hideCursor),jQuery(e.target).parents().is(".mb_YTPBar")||(YTPlayer.hideCursor=setTimeout(hideMouse,3e3))}),hideMouse(),real?(videoWrapper.css({opacity:0}),videoWrapper.addClass("fullscreen"),launchFullscreen(videoWrapper.get(0)),setTimeout(function(){videoWrapper.CSSAnimate({opacity:1},1e3),YTPlayer.wrapper.append(controls),jQuery(YTPlayer).optimizeDisplay(),YTPlayer.player.seekTo(YTPlayer.player.getCurrentTime()+.1,!0)},500)):videoWrapper.css({zIndex:1e4}).CSSAnimate({opacity:1},1e3),fullScreenBtn.html(jQuery.mbYTPlayer.controls.showSite),YTPlayer.isAlone=!0),this},toggleLoops:function(){var e=this.get(0),r=e.opt;return 1==r.loop?r.loop=0:(r.startAt?e.player.seekTo(r.startAt):e.player.playVideo(),r.loop=1),this},play:function(){var e=this.get(0);if(e.isReady){var r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPPlaypause");return t.html(jQuery.mbYTPlayer.controls.pause),e.player.playVideo(),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},2e3),jQuery(e.playerEl).CSSAnimate({opacity:1},1e3),jQuery(e).css("background-image","none"),this}},togglePlay:function(e){var r=this.get(0);return 1==r.state?this.YTPPause():this.YTPPlay(),"function"==typeof e&&e(r.state),this},stop:function(){var e=this.get(0),r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPPlaypause");return t.html(jQuery.mbYTPlayer.controls.play),e.player.stopVideo(),this},pause:function(){var e=this.get(0),r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPPlaypause");return t.html(jQuery.mbYTPlayer.controls.play),e.player.pauseVideo(),this},seekTo:function(e){var r=this.get(0);return r.player.seekTo(e,!0),this},setVolume:function(e){var r=this.get(0);return e||r.opt.vol||0!=r.player.getVolume()?!e&&r.player.getVolume()>0||e&&r.opt.vol==e?r.isMute?jQuery(r).YTPUnmute():jQuery(r).YTPMute():(r.opt.vol=e,r.player.setVolume(r.opt.vol),r.volumeBar&&r.volumeBar.length&&r.volumeBar.updateSliderVal(e)):jQuery(r).YTPUnmute(),this},mute:function(){var e=this.get(0);if(!e.isMute){e.player.mute(),e.isMute=!0,e.player.setVolume(0),e.volumeBar&&e.volumeBar.length&&e.volumeBar.width()>10&&e.volumeBar.updateSliderVal(0);var r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPMuteUnmute");t.html(jQuery.mbYTPlayer.controls.unmute),jQuery(e).addClass("isMuted"),e.volumeBar&&e.volumeBar.length&&e.volumeBar.addClass("muted");var a=jQuery.Event("YTPMuted");return a.time=e.player.time,e.canTrigger&&jQuery(e).trigger(a),this}},unmute:function(){var e=this.get(0);if(e.isMute){e.player.unMute(),e.isMute=!1,e.player.setVolume(e.opt.vol),e.volumeBar&&e.volumeBar.length&&e.volumeBar.updateSliderVal(e.opt.vol>10?e.opt.vol:10);var r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPMuteUnmute");t.html(jQuery.mbYTPlayer.controls.mute),jQuery(e).removeClass("isMuted"),e.volumeBar&&e.volumeBar.length&&e.volumeBar.removeClass("muted");var a=jQuery.Event("YTPUnmuted");return a.time=e.player.time,e.canTrigger&&jQuery(e).trigger(a),this}},applyFilter:function(e,r){var t=this.get(0);return t.filters[e].value=r,t.filtersEnabled&&this.YTPEnableFilters(),this},applyFilters:function(e){var r=this.get(0);return this.on("YTPReady",function(){for(var t in e)r.filters[t].value=e[t],jQuery(r).YTPApplyFilter(t,e[t]);jQuery(r).trigger("YTPFiltersApplied")}),this},toggleFilter:function(e,r){return this.each(function(){var t=this;t.filters[e].value?t.filters[e].value=0:t.filters[e].value=r,t.filtersEnabled&&jQuery(this).YTPEnableFilters()})},toggleFilters:function(e){return this.each(function(){var r=this;r.filtersEnabled?(jQuery(r).trigger("YTPDisableFilters"),jQuery(r).YTPDisableFilters()):(jQuery(r).YTPEnableFilters(),jQuery(r).trigger("YTPEnableFilters")),"function"==typeof e&&e(r.filtersEnabled)})},disableFilters:function(){return this.each(function(){var e=this,r=jQuery(e.playerEl);r.css("-webkit-filter",""),r.css("filter",""),e.filtersEnabled=!1})},enableFilters:function(){return this.each(function(){var e=this,r=jQuery(e.playerEl),t="";for(var a in e.filters)e.filters[a].value&&(t+=a.replace("_","-")+"("+e.filters[a].value+e.filters[a].unit+") ");r.css("-webkit-filter",t),r.css("filter",t),e.filtersEnabled=!0})},removeFilter:function(e,r){return this.each(function(){"function"==typeof e&&(r=e,e=null);var t=this;if(e)jQuery(this).YTPApplyFilter(e,0),"function"==typeof r&&r(e);else for(var a in t.filters)jQuery(this).YTPApplyFilter(a,0),"function"==typeof r&&r(a)})},manageProgress:function(){var e=this.get(0),r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPProgress"),a=r.find(".mb_YTPLoaded"),o=r.find(".mb_YTPseekbar"),i=t.outerWidth(),l=Math.floor(e.player.getCurrentTime()),n=Math.floor(e.player.getDuration()),u=l*i/n,s=0,y=100*e.player.getVideoLoadedFraction();return a.css({left:s,width:y+"%"}),o.css({left:0,width:u}),{totalTime:n,currentTime:l}},buildControls:function(YTPlayer){var data=YTPlayer.opt;if(data.showYTLogo=data.showYTLogo||data.printUrl,!jQuery("#controlBar_"+YTPlayer.id).length){YTPlayer.controlBar=jQuery("<span/>").attr("id","controlBar_"+YTPlayer.id).addClass("mb_YTPBar").css({whiteSpace:"noWrap",position:YTPlayer.isBackground?"fixed":"absolute",zIndex:YTPlayer.isBackground?1e4:1e3}).hide();var buttonBar=jQuery("<div/>").addClass("buttonBar"),playpause=jQuery("<span>"+jQuery.mbYTPlayer.controls.play+"</span>").addClass("mb_YTPPlaypause ytpicon").click(function(){1==YTPlayer.player.getPlayerState()?jQuery(YTPlayer).YTPPause():jQuery(YTPlayer).YTPPlay()}),MuteUnmute=jQuery("<span>"+jQuery.mbYTPlayer.controls.mute+"</span>").addClass("mb_YTPMuteUnmute ytpicon").click(function(){0==YTPlayer.player.getVolume()?jQuery(YTPlayer).YTPUnmute():jQuery(YTPlayer).YTPMute()}),volumeBar=jQuery("<div/>").addClass("mb_YTPVolumeBar").css({display:"inline-block"});YTPlayer.volumeBar=volumeBar;var idx=jQuery("<span/>").addClass("mb_YTPTime"),vURL=data.videoURL?data.videoURL:"";vURL.indexOf("http")<0&&(vURL=jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/watch?v="+data.videoURL);var movieUrl=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.ytLogo).addClass("mb_YTPUrl ytpicon").attr("title","view on YouTube").on("click",function(){window.open(vURL,"viewOnYT")}),onlyVideo=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.onlyYT).addClass("mb_OnlyYT ytpicon").on("click",function(){jQuery(YTPlayer).YTPFullscreen(data.realfullscreen)}),progressBar=jQuery("<div/>").addClass("mb_YTPProgress").css("position","absolute").click(function(e){timeBar.css({width:e.clientX-timeBar.offset().left}),YTPlayer.timeW=e.clientX-timeBar.offset().left,YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0});var r=Math.floor(YTPlayer.player.getDuration());YTPlayer["goto"]=timeBar.outerWidth()*r/progressBar.outerWidth(),YTPlayer.player.seekTo(parseFloat(YTPlayer["goto"]),!0),YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0})}),loadedBar=jQuery("<div/>").addClass("mb_YTPLoaded").css("position","absolute"),timeBar=jQuery("<div/>").addClass("mb_YTPseekbar").css("position","absolute");progressBar.append(loadedBar).append(timeBar),buttonBar.append(playpause).append(MuteUnmute).append(volumeBar).append(idx),data.showYTLogo&&buttonBar.append(movieUrl),(YTPlayer.isBackground||eval(YTPlayer.opt.realfullscreen)&&!YTPlayer.isBackground)&&buttonBar.append(onlyVideo),YTPlayer.controlBar.append(buttonBar).append(progressBar),YTPlayer.isBackground?jQuery("body").after(YTPlayer.controlBar):(YTPlayer.controlBar.addClass("inlinePlayer"),YTPlayer.wrapper.before(YTPlayer.controlBar)),volumeBar.simpleSlider({initialval:YTPlayer.opt.vol,scale:100,orientation:"h",callback:function(e){0==e.value?jQuery(YTPlayer).YTPMute():jQuery(YTPlayer).YTPUnmute(),YTPlayer.player.setVolume(e.value),YTPlayer.isMute||(YTPlayer.opt.vol=e.value)}})}},checkForState:function(YTPlayer){var interval=YTPlayer.opt.showControls?100:700;return clearInterval(YTPlayer.getState),jQuery.contains(document,YTPlayer)?(jQuery.mbYTPlayer.checkForStart(YTPlayer),void(YTPlayer.getState=setInterval(function(){var prog=jQuery(YTPlayer).YTPManageProgress(),$YTPlayer=jQuery(YTPlayer),data=YTPlayer.opt,startAt=YTPlayer.opt.startAt?YTPlayer.opt.startAt:0,stopAt=YTPlayer.opt.stopAt>YTPlayer.opt.startAt?YTPlayer.opt.stopAt:0;if(stopAt=stopAt<YTPlayer.player.getDuration()?stopAt:0,YTPlayer.player.time!=prog.currentTime){var YTPEvent=jQuery.Event("YTPTime");YTPEvent.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(YTPEvent)}if(YTPlayer.player.time=prog.currentTime,0==YTPlayer.player.getVolume()?$YTPlayer.addClass("isMuted"):$YTPlayer.removeClass("isMuted"),YTPlayer.opt.showControls&&(prog.totalTime?YTPlayer.controlBar.find(".mb_YTPTime").html(jQuery.mbYTPlayer.formatTime(prog.currentTime)+" / "+jQuery.mbYTPlayer.formatTime(prog.totalTime)):YTPlayer.controlBar.find(".mb_YTPTime").html("-- : -- / -- : --")),eval(YTPlayer.opt.stopMovieOnBlur)&&(document.hasFocus()?document.hasFocus()&&!YTPlayer.hasFocus&&-1!=YTPlayer.state&&0!=YTPlayer.state&&(YTPlayer.hasFocus=!0,$YTPlayer.YTPPlay()):1==YTPlayer.state&&(YTPlayer.hasFocus=!1,$YTPlayer.YTPPause())),YTPlayer.controlBar&&YTPlayer.controlBar.outerWidth()<=400&&!YTPlayer.isCompact?(YTPlayer.controlBar.addClass("compact"),YTPlayer.isCompact=!0,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)):YTPlayer.controlBar&&YTPlayer.controlBar.outerWidth()>400&&YTPlayer.isCompact&&(YTPlayer.controlBar.removeClass("compact"),YTPlayer.isCompact=!1,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)),1==YTPlayer.player.getPlayerState()&&(parseFloat(YTPlayer.player.getDuration()-1.5)<YTPlayer.player.getCurrentTime()||stopAt>0&&parseFloat(YTPlayer.player.getCurrentTime())>stopAt)){if(YTPlayer.isEnded)return;if(YTPlayer.isEnded=!0,setTimeout(function(){YTPlayer.isEnded=!1},1e3),YTPlayer.isPlayList){clearInterval(YTPlayer.getState);var YTPEnd=jQuery.Event("YTPEnd");return YTPEnd.time=YTPlayer.player.time,void jQuery(YTPlayer).trigger(YTPEnd)}data.loop?(startAt=startAt||1,YTPlayer.player.pauseVideo(),YTPlayer.player.seekTo(startAt,!0),$YTPlayer.YTPPlay()):(YTPlayer.player.pauseVideo(),YTPlayer.wrapper.CSSAnimate({opacity:0},1e3,function(){var e=jQuery.Event("YTPEnd");e.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(e),YTPlayer.player.seekTo(startAt,!0),YTPlayer.isBackground||YTPlayer.opt.containment.css({background:"rgba(0,0,0,0.5) url("+YTPlayer.opt.backgroundUrl+") center center",backgroundSize:"cover"})}))}},interval))):(jQuery(YTPlayer).YTPPlayerDestroy(),clearInterval(YTPlayer.getState),void clearInterval(YTPlayer.checkForStartAt))},checkForStart:function(e){var r=jQuery(e);if(!jQuery.contains(document,e))return void jQuery(e).YTPPlayerDestroy();if(jQuery.browser.chrome&&(e.opt.quality="default"),e.player.pauseVideo(),jQuery(e).muteYTPVolume(),jQuery("#controlBar_"+e.id).remove(),e.opt.showControls&&jQuery.mbYTPlayer.buildControls(e),e.opt.addRaster){var t="dot"==e.opt.addRaster?"raster-dot":"raster";e.overlay.addClass(e.isRetina?t+" retina":t)}else e.overlay.removeClass(function(e,r){var t=r.split(" "),a=[];return jQuery.each(t,function(e,r){/raster.*/.test(r)&&a.push(r)}),a.push("retina"),a.join(" ")});e.checkForStartAt=setInterval(function(){jQuery(e).YTPMute();var t=e.opt.startAt?e.opt.startAt:1,a=e.player.getVideoLoadedFraction()>t/e.player.getDuration();if(e.player.getDuration()>0&&e.player.getCurrentTime()>=t&&a){clearInterval(e.checkForStartAt),e.isReady=!0,"function"==typeof e.opt.onReady&&e.opt.onReady(e);var o=jQuery.Event("YTPReady");jQuery(e).trigger(o),e.player.pauseVideo(),e.opt.mute||jQuery(e).YTPUnmute(),e.canTrigger=!0,e.opt.autoPlay?(r.YTPPlay(),r.css("background-image","none"),jQuery(e.playerEl).CSSAnimate({opacity:1},1e3),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},1e3)):(e.player.pauseVideo(),e.isPlayer||(jQuery(e.playerEl).CSSAnimate({opacity:1},1e3),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},1e3))),e.isPlayer&&!e.opt.autoPlay&&(e.loading.html("Ready"),setTimeout(function(){e.loading.fadeOut()},100)),e.controlBar&&e.controlBar.slideDown(1e3)}else t>=0&&e.player.seekTo(t,!0)},1e3)},formatTime:function(e){var r=Math.floor(e/60),t=Math.floor(e-60*r);return(9>=r?"0"+r:r)+" : "+(9>=t?"0"+t:t)}},jQuery.fn.toggleVolume=function(){var e=this.get(0);if(e)return e.player.isMuted()?(jQuery(e).YTPUnmute(),!0):(jQuery(e).YTPMute(),!1)},jQuery.fn.optimizeDisplay=function(){var e=this.get(0),r=e.opt,t=jQuery(e.playerEl),a={},o=e.wrapper;a.width=o.outerWidth(),a.height=o.outerHeight();var i=24,l=100,n={};r.optimizeDisplay?(n.width=a.width+a.width*i/100,n.height="16/9"==r.ratio?Math.ceil(9*a.width/16):Math.ceil(3*a.width/4),n.marginTop=-((n.height-a.height)/2),n.marginLeft=-(a.width*(i/2)/100),n.height<a.height&&(n.height=a.height+a.height*i/100,n.width="16/9"==r.ratio?Math.floor(16*a.height/9):Math.floor(4*a.height/3),n.marginTop=-(a.height*(i/2)/100),n.marginLeft=-((n.width-a.width)/2)),n.width+=l,n.height+=l,n.marginTop-=l/2,n.marginLeft-=l/2):(n.width="100%",n.height="100%",n.marginTop=0,n.marginLeft=0),t.css({width:n.width,height:n.height,marginTop:n.marginTop,marginLeft:n.marginLeft})},jQuery.shuffle=function(e){for(var r=e.slice(),t=r.length,a=t;a--;){var o=parseInt(Math.random()*t),i=r[a];r[a]=r[o],r[o]=i}return r},jQuery.fn.YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.YTPGetPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.YTPGetVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.YTPChangeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.YTPPlayerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.YTPPlay=jQuery.mbYTPlayer.play,jQuery.fn.YTPTogglePlay=jQuery.mbYTPlayer.togglePlay,jQuery.fn.YTPStop=jQuery.mbYTPlayer.stop,jQuery.fn.YTPPause=jQuery.mbYTPlayer.pause,jQuery.fn.YTPSeekTo=jQuery.mbYTPlayer.seekTo,jQuery.fn.YTPlaylist=jQuery.mbYTPlayer.playlist,jQuery.fn.YTPPlayNext=jQuery.mbYTPlayer.playNext,jQuery.fn.YTPPlayPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.YTPMute=jQuery.mbYTPlayer.mute,jQuery.fn.YTPUnmute=jQuery.mbYTPlayer.unmute,jQuery.fn.YTPToggleVolume=jQuery.mbYTPlayer.toggleVolume,jQuery.fn.YTPSetVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.YTPGetVideoData=jQuery.mbYTPlayer.getVideoData,jQuery.fn.YTPFullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.YTPToggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.YTPSetVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.YTPManageProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPApplyFilter=jQuery.mbYTPlayer.applyFilter,jQuery.fn.YTPApplyFilters=jQuery.mbYTPlayer.applyFilters,jQuery.fn.YTPToggleFilter=jQuery.mbYTPlayer.toggleFilter,jQuery.fn.YTPToggleFilters=jQuery.mbYTPlayer.toggleFilters,jQuery.fn.YTPRemoveFilter=jQuery.mbYTPlayer.removeFilter,jQuery.fn.YTPDisableFilters=jQuery.mbYTPlayer.disableFilters,jQuery.fn.YTPEnableFilters=jQuery.mbYTPlayer.enableFilters,jQuery.fn.mb_YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.playNext=jQuery.mbYTPlayer.playNext,jQuery.fn.playPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.changeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.getVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.getPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.playerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.fullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.buildYTPControls=jQuery.mbYTPlayer.buildControls,jQuery.fn.playYTP=jQuery.mbYTPlayer.play,jQuery.fn.toggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.stopYTP=jQuery.mbYTPlayer.stop,jQuery.fn.pauseYTP=jQuery.mbYTPlayer.pause,jQuery.fn.seekToYTP=jQuery.mbYTPlayer.seekTo,jQuery.fn.muteYTPVolume=jQuery.mbYTPlayer.mute,jQuery.fn.unmuteYTPVolume=jQuery.mbYTPlayer.unmute,jQuery.fn.setYTPVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.setVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.manageYTPProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPGetDataFromFeed=jQuery.mbYTPlayer.getVideoData}(jQuery,ytp),jQuery.support.CSStransition=function(){var e=document.body||document.documentElement,r=e.style;return void 0!==r.transition||void 0!==r.WebkitTransition||void 0!==r.MozTransition||void 0!==r.MsTransition||void 0!==r.OTransition}(),jQuery.CSS={name:"mb.CSSAnimate",author:"Matteo Bicocchi",version:"2.0.0",transitionEnd:"transitionEnd",sfx:"",filters:{blur:{min:0,max:100,unit:"px"},brightness:{min:0,max:400,unit:"%"},contrast:{min:0,max:400,unit:"%"},grayscale:{min:0,max:100,unit:"%"},hueRotate:{min:0,max:360,unit:"deg"},invert:{min:0,max:100,unit:"%"},saturate:{min:0,max:400,unit:"%"},sepia:{min:0,max:100,unit:"%"}},normalizeCss:function(e){var r=jQuery.extend(!0,{},e);jQuery.browser.webkit||jQuery.browser.opera?jQuery.CSS.sfx="-webkit-":jQuery.browser.mozilla?jQuery.CSS.sfx="-moz-":jQuery.browser.msie&&(jQuery.CSS.sfx="-ms-");for(var t in r){"transform"===t&&(r[jQuery.CSS.sfx+"transform"]=r[t],delete r[t]),"transform-origin"===t&&(r[jQuery.CSS.sfx+"transform-origin"]=e[t],delete r[t]),"filter"!==t||jQuery.browser.mozilla||(r[jQuery.CSS.sfx+"filter"]=e[t],delete r[t]),"blur"===t&&setFilter(r,"blur",e[t]),"brightness"===t&&setFilter(r,"brightness",e[t]),"contrast"===t&&setFilter(r,"contrast",e[t]),"grayscale"===t&&setFilter(r,"grayscale",e[t]),"hueRotate"===t&&setFilter(r,"hueRotate",e[t]),
"invert"===t&&setFilter(r,"invert",e[t]),"saturate"===t&&setFilter(r,"saturate",e[t]),"sepia"===t&&setFilter(r,"sepia",e[t]);var a="";"x"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" translateX("+setUnit(e[t],"px")+")",delete r[t]),"y"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" translateY("+setUnit(e[t],"px")+")",delete r[t]),"z"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" translateZ("+setUnit(e[t],"px")+")",delete r[t]),"rotate"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" rotate("+setUnit(e[t],"deg")+")",delete r[t]),"rotateX"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" rotateX("+setUnit(e[t],"deg")+")",delete r[t]),"rotateY"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" rotateY("+setUnit(e[t],"deg")+")",delete r[t]),"rotateZ"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" rotateZ("+setUnit(e[t],"deg")+")",delete r[t]),"scale"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" scale("+setUnit(e[t],"")+")",delete r[t]),"scaleX"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" scaleX("+setUnit(e[t],"")+")",delete r[t]),"scaleY"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" scaleY("+setUnit(e[t],"")+")",delete r[t]),"scaleZ"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" scaleZ("+setUnit(e[t],"")+")",delete r[t]),"skew"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" skew("+setUnit(e[t],"deg")+")",delete r[t]),"skewX"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" skewX("+setUnit(e[t],"deg")+")",delete r[t]),"skewY"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" skewY("+setUnit(e[t],"deg")+")",delete r[t]),"perspective"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" perspective("+setUnit(e[t],"px")+")",delete r[t])}return r},getProp:function(e){var r=[];for(var t in e)r.indexOf(t)<0&&r.push(uncamel(t));return r.join(",")},animate:function(e,r,t,a,o){return this.each(function(){function i(){l.called=!0,l.CSSAIsRunning=!1,n.off(jQuery.CSS.transitionEnd+"."+l.id),clearTimeout(l.timeout),n.css(jQuery.CSS.sfx+"transition",""),"function"==typeof o&&o.apply(l),"function"==typeof l.CSSqueue&&(l.CSSqueue(),l.CSSqueue=null)}var l=this,n=jQuery(this);l.id=l.id||"CSSA_"+(new Date).getTime();var u=u||{type:"noEvent"};if(l.CSSAIsRunning&&l.eventType==u.type&&!jQuery.browser.msie&&jQuery.browser.version<=9)return void(l.CSSqueue=function(){n.CSSAnimate(e,r,t,a,o)});if(l.CSSqueue=null,l.eventType=u.type,0!==n.length&&e){if(e=jQuery.normalizeCss(e),l.CSSAIsRunning=!0,"function"==typeof r&&(o=r,r=jQuery.fx.speeds._default),"function"==typeof t&&(a=t,t=0),"string"==typeof t&&(o=t,t=0),"function"==typeof a&&(o=a,a="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof r)for(var s in jQuery.fx.speeds){if(r==s){r=jQuery.fx.speeds[s];break}r=jQuery.fx.speeds._default}if(r||(r=jQuery.fx.speeds._default),"string"==typeof o&&(a=o,o=null),!jQuery.support.CSStransition){for(var y in e){if("transform"===y&&delete e[y],"filter"===y&&delete e[y],"transform-origin"===y&&delete e[y],"auto"===e[y]&&delete e[y],"x"===y){var p=e[y],d="left";e[d]=p,delete e[y]}if("y"===y){var p=e[y],d="top";e[d]=p,delete e[y]}("-ms-transform"===y||"-ms-filter"===y)&&delete e[y]}return void n.delay(t).animate(e,r,o)}var c={"default":"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};c[a]&&(a=c[a]),n.off(jQuery.CSS.transitionEnd+"."+l.id);var f=jQuery.CSS.getProp(e),P={};jQuery.extend(P,e),P[jQuery.CSS.sfx+"transition-property"]=f,P[jQuery.CSS.sfx+"transition-duration"]=r+"ms",P[jQuery.CSS.sfx+"transition-delay"]=t+"ms",P[jQuery.CSS.sfx+"transition-timing-function"]=a,setTimeout(function(){n.one(jQuery.CSS.transitionEnd+"."+l.id,i),n.css(P)},1),l.timeout=setTimeout(function(){return l.called||!o?(l.called=!1,void(l.CSSAIsRunning=!1)):(n.css(jQuery.CSS.sfx+"transition",""),o.apply(l),l.CSSAIsRunning=!1,void("function"==typeof l.CSSqueue&&(l.CSSqueue(),l.CSSqueue=null)))},r+t+10)}})}},jQuery.fn.CSSAnimate=jQuery.CSS.animate,jQuery.normalizeCss=jQuery.CSS.normalizeCss,jQuery.fn.css3=function(e){return this.each(function(){var r=jQuery(this),t=jQuery.normalizeCss(e);r.css(t)})};var nAgt=navigator.userAgent;if(!jQuery.browser){jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.msie=!1,jQuery.browser.ua=nAgt,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var nameOffset,verOffset,ix;if(-1!=(verOffset=nAgt.indexOf("Opera")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8));else if(-1!=(verOffset=nAgt.indexOf("OPR")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+4);else if(-1!=(verOffset=nAgt.indexOf("MSIE")))jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5);else if(-1!=nAgt.indexOf("Trident")){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3,end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}else-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion}jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.isMobile=jQuery.browser.mobile,jQuery.isTablet=jQuery.browser.mobile&&jQuery(window).width()>765,jQuery.isAndroidDefault=jQuery.browser.android&&!/chrome/i.test(nAgt),!function(e){/iphone|ipod|ipad|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase());var r="ontouchstart"in window||window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture||window.DocumentTouch&&document instanceof DocumentTouch||!1;e.simpleSlider={defaults:{initialval:0,scale:100,orientation:"h",readonly:!1,callback:!1},events:{start:r?"touchstart":"mousedown",end:r?"touchend":"mouseup",move:r?"touchmove":"mousemove"},init:function(t){return this.each(function(){var a=this,o=e(a);o.addClass("simpleSlider"),a.opt={},e.extend(a.opt,e.simpleSlider.defaults,t),e.extend(a.opt,o.data());var i="h"==a.opt.orientation?"horizontal":"vertical",l=e("<div/>").addClass("level").addClass(i);o.prepend(l),a.level=l,o.css({cursor:"default"}),"auto"==a.opt.scale&&(a.opt.scale=e(a).outerWidth()),o.updateSliderVal(),a.opt.readonly||(o.on(e.simpleSlider.events.start,function(e){r&&(e=e.changedTouches[0]),a.canSlide=!0,o.updateSliderVal(e),o.css({cursor:"col-resize"}),e.preventDefault(),e.stopPropagation()}),e(document).on(e.simpleSlider.events.move,function(t){r&&(t=t.changedTouches[0]),a.canSlide&&(e(document).css({cursor:"default"}),o.updateSliderVal(t),t.preventDefault(),t.stopPropagation())}).on(e.simpleSlider.events.end,function(){e(document).css({cursor:"auto"}),a.canSlide=!1,o.css({cursor:"auto"})}))})},updateSliderVal:function(r){function t(e,r){return Math.floor(100*e/r)}var a=this,o=a.get(0);o.opt.initialval="number"==typeof o.opt.initialval?o.opt.initialval:o.opt.initialval(o);var i=e(o).outerWidth(),l=e(o).outerHeight();o.x="object"==typeof r?r.clientX+document.body.scrollLeft-a.offset().left:"number"==typeof r?r*i/o.opt.scale:o.opt.initialval*i/o.opt.scale,o.y="object"==typeof r?r.clientY+document.body.scrollTop-a.offset().top:"number"==typeof r?(o.opt.scale-o.opt.initialval-r)*l/o.opt.scale:o.opt.initialval*l/o.opt.scale,o.y=a.outerHeight()-o.y,o.scaleX=o.x*o.opt.scale/i,o.scaleY=o.y*o.opt.scale/l,o.outOfRangeX=o.scaleX>o.opt.scale?o.scaleX-o.opt.scale:o.scaleX<0?o.scaleX:0,o.outOfRangeY=o.scaleY>o.opt.scale?o.scaleY-o.opt.scale:o.scaleY<0?o.scaleY:0,o.outOfRange="h"==o.opt.orientation?o.outOfRangeX:o.outOfRangeY,o.value="undefined"!=typeof r?"h"==o.opt.orientation?o.x>=a.outerWidth()?o.opt.scale:o.x<=0?0:o.scaleX:o.y>=a.outerHeight()?o.opt.scale:o.y<=0?0:o.scaleY:"h"==o.opt.orientation?o.scaleX:o.scaleY,"h"==o.opt.orientation?o.level.width(t(o.x,i)+"%"):o.level.height(t(o.y,l)),"function"==typeof o.opt.callback&&o.opt.callback(o)}},e.fn.simpleSlider=e.simpleSlider.init,e.fn.updateSliderVal=e.simpleSlider.updateSliderVal}(jQuery),!function(e){e.mbCookie={set:function(e,r,t,a){r=JSON.stringify(r),t||(t=7),a=a?"; domain="+a:"";var o,i=new Date;i.setTime(i.getTime()+864e5*t),o="; expires="+i.toGMTString(),document.cookie=e+"="+r+o+"; path=/"+a},get:function(e){for(var r=e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var o=t[a];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(r))return JSON.parse(o.substring(r.length,o.length))}return null},remove:function(r){e.mbCookie.set(r,"",-1)}},e.mbStorage={set:function(e,r){r=JSON.stringify(r),localStorage.setItem(e,r)},get:function(e){return localStorage[e]?JSON.parse(localStorage[e]):null},remove:function(e){e?localStorage.removeItem(e):localStorage.clear()}}}(jQuery);


},{}],8:[function(require,module,exports){
var imagesLoaded=require("imagesloaded");!function(t){var i=function(t,i){this.$ele=t,this.settings=i,this.formater=new e(this.$ele,this.settings),this.fitter=new a(this.$ele,this.settings),this.imageLoaded=imagesLoaded(this.$ele),this.addEventHandlers(),this.hideImages()};i.prototype.addEventHandlers=function(){var i=this;this.imageLoaded.on("done",function(){i.formater.setImageFormat(),i.fitter.setImageFit(),i.showImages(),i.$ele.trigger("ut_imageLoaded")});var e;t(window).resize(function(){e&&clearTimeout(e),e=setTimeout(function(){i.formater.setImageFormat(),i.fitter.setImageFit()},100)})},i.prototype.hideImages=function(){this.$ele.css({opacity:0,overflow:"hidden"})},i.prototype.showImages=function(){this.$ele.fadeTo(900,1)};var e=function(t,i){this.$wrapper=t,this.settings=i,this.ratio=this.getRatio()};e.prototype.setImageFormat=function(){var t=this.$wrapper.width()/this.ratio.width,i=t*this.ratio.height;this.$wrapper.height(i)},e.prototype.getRatio=function(){var t=this._getRatioString();return this._getRatioFromString(t)},e.prototype._getRatioString=function(){switch(this.settings.format){case"square":return"1:1";case"landscape":return this.settings.landscapeRatio;case"portrait":return this.settings.portraitRatio;default:return this.settings.ratio}},e.prototype._getRatioFromString=function(t){var i=t.split(":");return{width:i[0],height:i[1]}};var a=function(t,i){this.$wrapper=t,this.$image=this.$wrapper.find("img"),this.settings=i,this.wrapperRatio,this.imageRatio,this.imageNaturalWidth,this.imageNaturalHeight};a.prototype.setImageFit=function(){switch(this._resetImageCSS(),this.settings.fit){case"crop":this._cropImage();break;case"scale":this._scaleImage()}this._alignImage()},a.prototype._cropImage=function(){this._imageRatio()>this._wrapperRatio()?this._fitHorizontal():this._fitVertical()},a.prototype._scaleImage=function(){this._imageRatio()>this._wrapperRatio()?this._fitVertical():this._fitHorizontal()},a.prototype._fitHorizontal=function(){this._getNaturalHeight(this.$image)>=this.$wrapper.height()&&this.$image.height(this.$wrapper.height())},a.prototype._fitVertical=function(){this._getNaturalWidth(this.$image)>=this.$wrapper.width()&&this.$image.width(this.$wrapper.width())},a.prototype._imageRatio=function(){return this.imageRatio=this.imageRatio||this._getNaturalWidth(this.$image)/this._getNaturalHeight(this.$image),this.imageRatio},a.prototype._wrapperRatio=function(){return this.wrapperRatio=this.wrapperRatio||this.$wrapper.width()/this.$wrapper.height(),this.wrapperRatio},a.prototype._alignImage=function(){var t={};switch(t.marginLeft=(this.$wrapper.width()-this.$image.width())/2,this.settings.align){case"top":break;case"middle":t.marginTop=(this.$wrapper.height()-this.$image.height())/2;break;case"bottom":t.marginTop=this.$wrapper.height()-this.$image.height()}this.$image.css(t)},a.prototype._getNaturalHeight=function(t){return this.imageNaturalHeight||(t.prop("naturalHeight")?this.imageNaturalHeight=t.prop("naturalHeight"):this.imageNaturalHeight=this._getNaturalSize(t).height),this.imageNaturalHeight},a.prototype._getNaturalWidth=function(t){return this.imageNaturalWidth||(t.prop("naturalWidth")?this.imageNaturalWidth=t.prop("naturalWidth"):this.imageNaturalWidth=this._getNaturalSize(t).width),this.imageNaturalWidth},a.prototype._getNaturalSize=function(t){if(t.prop("src")){var i=new Image;return i.src=t.prop("src"),{width:i.width,height:i.height}}return!1},a.prototype._resetImageCSS=function(){this.$image.css({maxWidth:"none",width:"auto",height:"auto"})};var r=0,h=function(i){r++,r===i.length&&t(i).last().trigger("ut_complete")};t.fn.uniform_thumbnails=function(e){var a=t.extend({},t.fn.uniform_thumbnails.defaults,e),r=this;return r.each(function(){var e=t(this);e.data("_uniform_thumbnails",new i(e,a)),e.on("ut_imageLoaded",function(){h(r)})})},t.fn.uniform_thumbnails.defaults={fit:"crop",ratio:"1:1",format:"ratio",align:"middle",landscapeRatio:"4:3",portraitRatio:"3:4"}}(jQuery);


},{"imagesloaded":3}],9:[function(require,module,exports){
module.exports.getComputedStyle=function(){window.getComputedStyle||(window.getComputedStyle=function(t,e){return this.el=t,this.getPropertyValue=function(e){var r=/(\-([a-z]){1})/g;return"float"==e&&(e="styleFloat"),r.test(e)&&(e=e.replace(r,function(){return arguments[2].toUpperCase()})),t.currentStyle[e]?t.currentStyle[e]:null},this})},module.exports.objectKeys=function(){Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=r.length;return function(n){if("object"!=typeof n&&("function"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var u,l,c=[];for(u in n)t.call(n,u)&&c.push(u);if(e)for(l=0;o>l;l++)t.call(n,r[l])&&c.push(r[l]);return c}}())};


},{}],10:[function(require,module,exports){
Banner={};var $banner=$("[data-banner]");Banner.init=function(){$banner.length>0&&Banner.add_event_handlers()},Banner.add_event_handlers=function(){$banner.on("slide.bs.carousel",function(n){var a=$(n.relatedTarget);$banner.attr("data-banner",a.data("slide"))}),$banner.on("slid.bs.carousel",function(){})},module.exports=Banner;


},{}],11:[function(require,module,exports){
BannerVideo={},require("jquery.mb.ytplayer");var $player=$(".banner-video-player");BannerVideo.init=function(){$player.length>0&&!Modernizr.touch?$player.YTPlayer():$player.parent().addClass("fallback-img")},module.exports=BannerVideo;


},{"jquery.mb.ytplayer":7}],12:[function(require,module,exports){
var CartJS=require("./../../bower_components/shopify-cartjs/dist/cart.js"),Cart={},message_count=0,$cart_display_ele=$("[data-cart-display]"),$cart_total_ele=$("[data-cart-total]"),$cart_form_ele=$(Bsify.selectors.cart.form_selector),$cart_message_ele=$(Bsify.selectors.cart.message_selector),$acknowledgement_checkbox=$(Bsify.selectors.cart.acknowledgement_checkbox);if(Bsify.product)var $product_form_ele=$(Bsify.selectors.product.form_selector),$product_form_button=$product_form_ele.find("input[type=submit]"),$product_form_message_ele=$(Bsify.selectors.product.form_message_selector);Cart.init=function(){$(document).on("cart.requestComplete",function(t,e){Cart.update_cart_display(),Cart.update_cart_table()}),Bsify.product&&$(document).on("submit",Bsify.selectors.product.form_selector,function(t){t.preventDefault();var e=$(t.currentTarget);Cart.add_item_to_cart(e)}),$(document).on("click","[data-remove-item]",function(t){t.preventDefault();var e=$(t.currentTarget);Cart.remove_item_from_cart(e)}),$acknowledgement_checkbox.length>0&&$cart_form_ele.length>0&&$cart_form_ele.on("submit",function(t){return $acknowledgement_checkbox.is(":checked")?void 0:($acknowledgement_checkbox.closest(".checkbox").addClass("has-error"),Cart.show_message($cart_message_ele,"alert alert-danger",Bsify.translations.cart.acknowledgement_checkbox_error_message),t.preventDefault(),!1)})},Cart.add_item_to_cart=function(t){var e=Cart.form_values(t.serializeArray()),r={},a=Bsify.get_variant_by_id(e.id),o="Default Title"===a.title?Bsify.product.title:Bsify.product.title+Bsify.translations.product.item_title_seperator+a.title,c=window.location.pathname.split("/"),s="collections"==c[1]?"/"+c[1]+"/"+c[2]+"/":"/collections/all/";$product_form_button.val(Bsify.translations.product.adding_to_cart_button_text),CartJS.addItem(e.id,e.quantity,r,{success:function(t,e,r){var a=Bsify.translations.product.after_product_added_message_html.replace("[item_title]",o).replace("[collection_url]",s);Cart.show_message($product_form_message_ele,"success",a),$product_form_button.val(Bsify.translations.product.added_to_cart_button_text)},error:function(t,e,r){console.log("[ERROR] - Add to cart:",t,e,r);var a=Bsify.translations.product.after_product_added_error_message_html.replace("[item_title]",o).replace("[error_message]",r);Cart.show_message($product_form_message_ele,"error",a),$product_form_button.val(Bsify.translations.product.unavailable_button_text)}})},Cart.remove_item_from_cart=function(t){var e=t.closest(Bsify.selectors.cart.item_selector),r=Cart.get_item_by_id(e.data("cart-item")),a=r.product_title;r.variant_title&&(a+=Bsify.translations.product.item_title_seperator+r.variant_title),CartJS.removeItem(t.data("remove-item"),{success:function(t,r,o){e.hide();var c=Bsify.translations.cart.remove_item_message.replace("[item_title]",a);Cart.show_message($cart_message_ele,"success",c)},error:function(t,e,r){console.log("[ERROR] - Remove item from cart:",t,e,r);var o=Bsify.translations.cart.remove_item_error_message.replace("[item_title]",a).replace("[error_message]",r);Cart.show_message($cart_message_ele,"success",o)}})},Cart.update_cart_display=function(){var t=Shopify.formatMoney(CartJS.cart.total_price,Bsify.money_formats.moneyFormat),e=Shopify.formatMoney(CartJS.cart.total_price,Bsify.money_formats.moneyWithCurrencyFormat),r=Bsify.translations.cart.cart_display_text.replace("[item_count]",CartJS.cart.item_count);r=Cart.replace_price(r,"[cart_total_price]",CartJS.cart.total_price,t),r=Cart.replace_price(r,"[cart_total_price_with_currency]",CartJS.cart.total_price,e),$cart_display_ele.html(r);var a=Bsify.translations.cart.cart_total;a=Cart.replace_price(a,"[cart_total_price]",CartJS.cart.total_price,t),a=Cart.replace_price(a,"[cart_total_price_with_currency]",CartJS.cart.total_price,e),$cart_total_ele.html(a)},Cart.replace_price=function(t,e,r,a){e=e.replace(/([\[\]])/g,"\\$1");var o=new RegExp("data-price=['\"]("+e+")['\"]"),c=new RegExp(">("+e+")<");return t.replace(o,function(t,e){return t.replace(e,r)}).replace(c,function(t,e){return t.replace(e,a)})},Cart.update_cart_table=function(){0===CartJS.cart.item_count&&($cart_form_ele.hide(),$cart_message_ele.removeClass("hidden").html(Bsify.translations.cart.empty_cart_text))},Cart.show_message=function(t,e,r){message_count++,t.removeClass("hidden").html('<div class="note '+e+" message"+message_count+'">'+r+"</div>"),Cart.remove_message(message_count)},Cart.remove_message=function(t){setTimeout(function(){$(".message"+t).fadeOut(function(){$(this).remove()})},Bsify.message_timeout)},Cart.form_values=function(t){for(var e={},r=0;r<t.length;r++){var a=t[r];e[a.name]=a.value}return e},Cart.get_item_by_id=function(t){"string"==typeof t&&(t=parseInt(t));var e;if(CartJS)for(var r=0;r<CartJS.cart.items.length;r++){var a=CartJS.cart.items[r];a.variant_id===t&&(e=a)}return e},Cart.has_variant=function(t){"string"==typeof t&&(t=parseInt(t));var e=!1;if(CartJS)for(var r=0;r<CartJS.cart.items.length;r++){var a=CartJS.cart.items[r];a.variant_id===t&&(e=!0)}return e},module.exports=Cart;


},{"./../../bower_components/shopify-cartjs/dist/cart.js":2}],13:[function(require,module,exports){
var ImageSwitcher={};ImageSwitcher.preload_product_thumbs=function(){var e=$("[data-gallery-main]");if(e.length>0){var a=$(e.data("gallery-main"))[0],i=Shopify.Image.imageSize(a.src);e.length>0&&e.each(function(){var e=new Image,a=$(this).attr("href"),r=Shopify.Image.getSizedImageUrl(a,i);e.src=r})}},ImageSwitcher.image_swticher=function(){$(document).on("click","[data-gallery-main]",function(e){e.preventDefault();var a=$(e.currentTarget),i=$(a.data("gallery-main"))[0],r=a.attr("href");ImageSwitcher.switch_image(i,r)})},ImageSwitcher.switch_image=function(e,a){if(e&&a){var i=Shopify.Image.imageSize(e.src),r=Shopify.Image.getSizedImageUrl(a,i);e.src!==r&&(e.src=r)}},module.exports=ImageSwitcher;


},{}],14:[function(require,module,exports){
var Bsify=window.Bsify||{};Bsify.get_variant_by_id=function(i){var r;"string"==typeof i&&(i=parseInt(i));for(var s=0;s<Bsify.product.variants.length;s++){var e=Bsify.product.variants[s];e.id===i&&(r=e)}return r},Bsify.Cart=require("./bsify.cart.js"),Bsify.ImageSwitcher=require("./bsify.image_switcher.js"),Bsify.VariantOptionSwitcher=require("./bsify.variant_option_switcher.js"),Bsify.LinkedProductOptions=require("./bsify.linked_product_options.js"),Bsify.Banner=require("./bsify.banner.js"),Bsify.BannerVideo=require("./bsify.banner_video.js"),Bsify.Thumbnails=require("./bsify.thumbnails.js"),Bsify.SocialFeeds=require("./bsify.social_feeds.js"),Bsify.PasswordRecover=require("./bsify.password_recover.js"),Bsify.MegaMenu=require("./bsify.mega_menu.js"),module.exports=Bsify;


},{"./bsify.banner.js":10,"./bsify.banner_video.js":11,"./bsify.cart.js":12,"./bsify.image_switcher.js":13,"./bsify.linked_product_options.js":15,"./bsify.mega_menu.js":18,"./bsify.password_recover.js":19,"./bsify.social_feeds.js":21,"./bsify.thumbnails.js":22,"./bsify.variant_option_switcher.js":24}],15:[function(require,module,exports){
var LinkedProductOptions={};LinkedProductOptions.optionsMap={},LinkedProductOptions.updateOptionsInSelector=function(o){var t,n;switch(o){case 0:t="root",n=$(".single-option-selector:eq(0)");break;case 1:t=$(".single-option-selector:eq(0)").val(),n=$(".single-option-selector:eq(1)");break;case 2:t=$(".single-option-selector:eq(0)").val(),t+=" / "+$(".single-option-selector:eq(1)").val(),n=$(".single-option-selector:eq(2)")}var i=n.val();n.empty();var e=LinkedProductOptions.optionsMap[t];if(void 0!==e){for(var p=0;p<e.length;p++){var s=e[p],d=$("<option></option>").val(s).html(s);n.append(d)}$('.swatch[data-option-index="'+o+'"] .swatch-element').each(function(){-1!==$.inArray($(this).attr("data-value"),e)?$(this).removeClass("soldout").show().find(":radio").removeAttr("disabled","disabled").removeAttr("checked"):$(this).addClass("soldout").hide().find(":radio").removeAttr("checked").attr("disabled","disabled")}),-1!==$.inArray(i,e)&&n.val(i),n.trigger("change")}},LinkedProductOptions.linkOptionSelectors=function(o){for(var t=0;t<o.variants.length;t++){var n=o.variants[t];if(n.available){var i;LinkedProductOptions.optionsMap.root=LinkedProductOptions.optionsMap.root||[],LinkedProductOptions.optionsMap.root.push(n.option1),LinkedProductOptions.optionsMap.root=Shopify.uniq(LinkedProductOptions.optionsMap.root),o.options.length>1&&(i=n.option1,LinkedProductOptions.optionsMap[i]=LinkedProductOptions.optionsMap[i]||[],LinkedProductOptions.optionsMap[i].push(n.option2),LinkedProductOptions.optionsMap[i]=Shopify.uniq(LinkedProductOptions.optionsMap[i])),3===o.options.length&&(i=n.option1+" / "+n.option2,LinkedProductOptions.optionsMap[i]=LinkedProductOptions.optionsMap[i]||[],LinkedProductOptions.optionsMap[i].push(n.option3),LinkedProductOptions.optionsMap[i]=Shopify.uniq(LinkedProductOptions.optionsMap[i]))}}LinkedProductOptions.updateOptionsInSelector(0),o.options.length>1&&LinkedProductOptions.updateOptionsInSelector(1),3===o.options.length&&LinkedProductOptions.updateOptionsInSelector(2),$(document).on("change",".single-option-selector:eq(0)",function(){return LinkedProductOptions.updateOptionsInSelector(1),3===o.options.length&&LinkedProductOptions.updateOptionsInSelector(2),!0}),$(document).on("change",".single-option-selector:eq(1)",function(){return 3===o.options.length&&LinkedProductOptions.updateOptionsInSelector(2),!0})},module.exports=LinkedProductOptions;


},{}],16:[function(require,module,exports){
var imgl=require("imagesloaded"),mq=require("./bsify.media_queries.js");require("./bsify.touch.js");var GalleryLoader=function(e,t){this.ele=e,this.parent_ele=t,this.onLoaded=function(){}};GalleryLoader.prototype.init=function(){this.$ele=$(this.ele),this.$fallbackImg=this.$ele.find(".fallback-image"),this.carousel_width=0,this.imgLoad=new imgl(this.ele),this.lastMQ=mq.size();var e=this;this.imgLoad.on("progress",function(t,i){e._collect_image_width(i)}).on("done",function(){e._set_carousel_width(),e.onLoaded.apply(e)}),$(window).on("resize",function(){e.lastMQ!==mq.size()&&(e.carousel_width=0,e._recalculate_carousel_width(),e.lastMQ=mq.size())})},GalleryLoader.prototype._collect_image_width=function(e){if(e.isLoaded){var t=$(e.img),i=t.closest(this.parent_ele);this.carousel_width+=this._image_parents_width(i)}else $(e.img).hide()},GalleryLoader.prototype._collect_fallback_image_width=function(){if(this.$fallbackImg.length>0){var e=this;e.$fallbackImg.each(function(t,i){var r=$(i),a=r.closest(e.parent_ele);e.carousel_width+=e._image_parents_width(a)})}},GalleryLoader.prototype._recalculate_carousel_width=function(){var e=this;e.$ele.find("img").each(function(t,i){var r={img:i,isLoaded:!0};e._collect_image_width(r)}),e._set_carousel_width()},GalleryLoader.prototype._image_parents_width=function(e){return e.width()+this._padding_to_num(e,"paddingLeft")+this._padding_to_num(e,"paddingRight")+1},GalleryLoader.prototype._padding_to_num=function(e,t){return parseInt(e.css(t).replace("px",""))},GalleryLoader.prototype._set_carousel_width=function(){this._collect_fallback_image_width(),this.$ele.width(this.carousel_width)};var Gallery=function(e){this.options=e,this.ele=this.options.gallery_wrapper,this.item_wrapper=this.options.item_wrapper,this.controls_wrapper=this.options.controls_wrapper,this.loader=new GalleryLoader(this.ele,this.options.item_wrapper),this.on_loaded=!1,this._init()};Gallery.prototype.update=function(){this.$ele.parent().animate({opacity:0},"slow"),this._remove_event_handlers(),this._init()},Gallery.prototype._init=function(){this.$ele=$(this.ele),this.$ele.length>0&&(this._add_event_handlers(),this.loader.init(),this._set_current_image())},Gallery.prototype._add_event_handlers=function(){var e=this;this.loader.onLoaded=function(){e.$ele.parent().animate({opacity:1},"slow"),e.on_loaded&&e.on_loaded.apply(e)},$(document).on("swipeLeft",this.controls_wrapper,function(t){e._next_img()}),$(document).on("swipeRight",this.controls_wrapper,function(t){e._prev_img()}),$(document).on("click","[data-gallery-direction]",function(t){t.preventDefault();var i=$(t.currentTarget);"left"===i.data("gallery-direction")?e._prev_img():e._next_img()})},Gallery.prototype._remove_event_handlers=function(){this.loader.onLoaded=!1,$(document).off("swipeLeft",this.controls_wrapper),$(document).off("swipeRight",this.controls_wrapper),$(document).off("click","[data-gallery-direction]")},Gallery.prototype._set_current_image=function(){var e=this.$ele.find(this.item_wrapper+".is_current");e.length>0?this.$current_image=e.first():this.$current_image=this.$ele.find(this.item_wrapper).first(),this.$current_image.addClass("is_current"),this._check_for_end()},Gallery.prototype._prev_img=function(){var e=this.$current_image.prev();e.length>0&&(e.css({marginLeft:"0"}).addClass("is_current"),this.$current_image.removeClass("is_current"),this.$current_image=e,this._check_for_end())},Gallery.prototype._next_img=function(){var e=this.$current_image.next();if(e.length>0){var t=this.loader._image_parents_width(this.$current_image);this.$current_image.css({marginLeft:-1*t}).removeClass("is_current"),e.addClass("is_current"),this.$current_image=e,this._check_for_end()}},Gallery.prototype._check_for_end=function(){$("[data-gallery-direction]").removeClass("disabled"),0===this.$current_image.prev().length?$('[data-gallery-direction="left"]').addClass("disabled"):0===this.$current_image.next().length&&$('[data-gallery-direction="right"]').addClass("disabled")},module.exports=Gallery;


},{"./bsify.media_queries.js":17,"./bsify.touch.js":23,"imagesloaded":3}],17:[function(require,module,exports){
require("./_polyfills.js").getComputedStyle(),module.exports.size=function(){return window.getComputedStyle(document.body,":after").getPropertyValue("content").replace(/['"]/g,"")};


},{"./_polyfills.js":9}],18:[function(require,module,exports){
var MegaMenu={},menu_selector='[data-menu="mega"]';MegaMenu.init=function(){$(menu_selector).length>0&&MegaMenu.add_event_handlers()},MegaMenu.add_event_handlers=function(){$(document).on("show.bs.collapse",menu_selector+" .collapse",function(){$(menu_selector+" .collapse.in").each(function(e,n){$(n).collapse("hide")})})},module.exports=MegaMenu;


},{}],19:[function(require,module,exports){
var PasswordRecover=function(){this.recover_string="#recover",this.$links=$('main [href*="/account/login"]'),this.$sections=$("[data-bsify-toggle-recover]"),this.force=$("[data-bsify-toggle-recover-force]").length>0,this.$sections.length>0&&(this._add_event_listeners(),this.toggle_forms())};PasswordRecover.prototype.toggle_forms=function(){window.location.hash===this.recover_string||this.force?this.show_recover_form():this.show_login_form()},PasswordRecover.prototype.show_recover_form=function(){var o=this;this._each_section(function(e){o._toggle_section("recover"===e.data("bsify-toggle-recover"),e)})},PasswordRecover.prototype.show_login_form=function(){var o=this;this._each_section(function(e){o._toggle_section("recover"!==e.data("bsify-toggle-recover"),e)})},PasswordRecover.prototype._add_event_listeners=function(){var o=this;o.$links.on("click",function(e){e.preventDefault(),o._on_click($(e.currentTarget))})},PasswordRecover.prototype._on_click=function(o){o.attr("href").indexOf(this.recover_string)>-1?this.show_recover_form():this.show_login_form()},PasswordRecover.prototype._each_section=function(o){this.$sections.each(function(e,t){var r=$(t);o(r)})},PasswordRecover.prototype._toggle_section=function(o,e){o?e.show():e.hide()},module.exports=PasswordRecover;


},{}],20:[function(require,module,exports){
var InstagramFeed=function(t){this.ele=t,this.$ele=$(this.ele),this.api_url="https://api.instagram.com/v1",this.request_queue=[],this.requesting=!1,this.image_count_default=12,this.image_count_buffer=10,this._get_data(),this._load_feed()};InstagramFeed.prototype._get_data=function(){this.client_id=this.$ele.data("client-id"),this.image_count=this.$ele.data("image-count")||this.image_count_default,this.image_total=this.image_count+this.image_count_buffer,this.hashtag=this.$ele.data("hashtag"),this.user=this.$ele.data("user"),this._get_user_id()},InstagramFeed.prototype._get_user_id=function(){this.user&&(this.request_queue.push("user_id"),this._start_requests())},InstagramFeed.prototype._load_feed=function(){var t;void 0!==this.hashtag?t="hashtag":void 0!==this.user&&(t="user"),this.request_queue.push(t),this._start_requests()},InstagramFeed.prototype._build_request=function(t){if(null===this.client_id)throw"[ERROR] Instagram: You must provide a client id";var e={};switch(e.data={client_id:this.client_id},t){case"user_id":e.url=this.api_url+"/users/search?q="+this.user,e.callback=function(t){this.user_id=t.data[0].id};break;case"user":e.url=this.api_url+"/users/"+this.user_id+"/media/recent",e.data=$.extend(e.data,{count:this.image_total}),e.callback=function(t){this._build_feed(t.data)};break;case"hashtag":e.url=this.api_url+"/tags/"+this.hashtag+"/media/recent",e.data=$.extend(e.data,{count:this.image_total}),e.callback=function(t){this._build_feed(t.data)}}return e},InstagramFeed.prototype._start_requests=function(){this.requesting||(this.requesting=!0,this._request())},InstagramFeed.prototype._request=function(){if(this.request_queue.length>0){var t=this,e=this.request_queue.shift(),a=this._build_request(e);$.ajax({dataType:"jsonp",url:a.url,data:a.data}).done(function(e){a.callback.apply(t,[e]),t._request()}).fail(function(t,e,a){console.log("fail",t,e,a)})}else this.requesting=!1},InstagramFeed.prototype._build_feed=function(t){var e,a=this._filter_data(t);a.length>0?(e=this._build_feed_markup(a),this.$ele.addClass("group").attr("data-group-size",a.length)):e=this._build_error_markup(),this.$ele.append(e)},InstagramFeed.prototype._filter_data=function(t){return t},InstagramFeed.prototype._build_feed_markup=function(t){for(var e="",a=t.length<this.image_count?t.length:this.image_count,i=0;a>i;i++){var s=t[i];s&&(e+=this._build_item_markup(s))}return e},InstagramFeed.prototype._build_item_markup=function(t){return'<div class="group-item-wrap">    <figure class="group-item thumbnail">      <a href="'+t.link+'">        <div class="group-item-image">          <img src="'+t.images.standard_resolution.url+'" alt="'+t.caption.text+'">        </div>        <figcaption class="group-item-details caption">          <p><span class="user">'+t.caption.from.username+"</span> "+t.caption.text+"</p>        </figcaption>      </a>    </figure>  </div>"},InstagramFeed.prototype._build_error_markup=function(t){return"<p>"+this.$ele.data("empty-message")+"</p>"},module.exports=InstagramFeed;


},{}],21:[function(require,module,exports){
var Instagram=require("./bsify.social_feed_instagram.js"),SocialFeeds={};SocialFeeds.init=function(){SocialFeeds.instagram()},SocialFeeds.instagram=function(){var e=SocialFeeds._get_elements("instagram");e.length>0&&e.each(function(){new Instagram(this)})},SocialFeeds._get_elements=function(e){var a='[data-social-feed="'+e+'"]';return $(a)},module.exports=SocialFeeds;


},{"./bsify.social_feed_instagram.js":20}],22:[function(require,module,exports){
require("uniformThumbnails"),require("jquery-orderly");var Thumbnails={};Thumbnails.init=function(){if(Bsify.thumbnail_settings.constrain_images){var i={};i.fit=Bsify.thumbnail_settings.crop_images?"crop":"scale",i.align=Bsify.thumbnail_settings.image_alignment.toLowerCase();var e=Bsify.thumbnail_settings.image_ratio.toLowerCase();"square"===e||"landscape"===e||"portrait"===e?i.format=e:i.ratio=e;var r=$(Bsify.thumbnail_selectors.image_wrapper);r.length>0?r.uniform_thumbnails(i).on("ut_complete",function(){Thumbnails.orderly()}):Thumbnails.orderly()}else Thumbnails.orderly()},Thumbnails.orderly=function(){$(Bsify.thumbnail_selectors.details_wrapper).orderly({method:"children"})},module.exports=Thumbnails;


},{"jquery-orderly":6,"uniformThumbnails":8}],23:[function(require,module,exports){
var Swipe=function(){this.threshold=5,this.xDown=null,this.yDown=null,this.add_event_listeners()};Swipe.prototype.add_event_listeners=function(){var t=this;Element.prototype.addEventListener&&(document.addEventListener("touchstart",function(e){t.handleTouchStart(e)},!1),document.addEventListener("touchmove",function(e){t.handleTouchMove(e)},!1))},Swipe.prototype.handleTouchStart=function(t){this.xDown=t.touches[0].clientX,this.yDown=t.touches[0].clientY},Swipe.prototype.handleTouchMove=function(t){if(this.xDown&&this.yDown){var e=t.targetTouches[0].target,n=t.touches[0].clientX,i=t.touches[0].clientY,o=this.xDown-n,h=this.yDown-i;Math.abs(o)>Math.abs(h)?o>0?o>this.threshold&&$(e).trigger("swipeLeft"):-1*o>this.threshold&&$(e).trigger("swipeRight"):h>0?h>this.threshold&&$(e).trigger("swipeUp"):-1*h>this.threshold&&$(e).trigger("swipeDown"),this.xDown=null,this.yDown=null}},new Swipe;


},{}],24:[function(require,module,exports){
var VariantOptionSwitcher={};VariantOptionSwitcher.image_variant_switcher=function(){var t=$(Bsify.selectors.product.select_selector);$(document).on("click","[data-variant-id]",function(i){i.preventDefault();var r=$(i.currentTarget);t.val(r.data("variant-id")),VariantOptionSwitcher.update_product_selector_options(t)})},VariantOptionSwitcher.update_product_selector_options=function(t){var i=t.val(),r=Bsify.get_variant_by_id(i);if(r)for(var a=0;a<Bsify.product.options.length;a++){var e="option"+(a+1),n=r[e];$(".single-option-selector:eq("+a+")").val(n).trigger("change")}},module.exports=VariantOptionSwitcher;


},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9zcmMvanMvYXBwLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvYm93ZXJfY29tcG9uZW50cy9zaG9waWZ5LWNhcnRqcy9kaXN0L2NhcnQuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9ub2RlX21vZHVsZXMvaW1hZ2VzbG9hZGVkL2ltYWdlc2xvYWRlZC5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L25vZGVfbW9kdWxlcy9pbWFnZXNsb2FkZWQvbm9kZV9tb2R1bGVzL2V2ZW50aWUvZXZlbnRpZS5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L25vZGVfbW9kdWxlcy9pbWFnZXNsb2FkZWQvbm9kZV9tb2R1bGVzL3dvbGZ5ODctZXZlbnRlbWl0dGVyL0V2ZW50RW1pdHRlci5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L25vZGVfbW9kdWxlcy9qcXVlcnktb3JkZXJseS9zcmMvanF1ZXJ5Lm9yZGVybHkuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9ub2RlX21vZHVsZXMvanF1ZXJ5Lm1iLnl0cGxheWVyL2Rpc3QvanF1ZXJ5Lm1iLllUUGxheWVyLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvbm9kZV9tb2R1bGVzL3VuaWZvcm1UaHVtYm5haWxzL3NyYy9qcXVlcnkudW5pZm9ybV90aHVtYm5haWxzLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL19wb2x5ZmlsbHMuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9zcmMvanMvYnNpZnkuYmFubmVyLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LmJhbm5lcl92aWRlby5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L3NyYy9qcy9ic2lmeS5jYXJ0LmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LmltYWdlX3N3aXRjaGVyLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LmxpbmtlZF9wcm9kdWN0X29wdGlvbnMuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9zcmMvanMvYnNpZnkubG9va2Jvb2tfZ2FsbGVyeS5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L3NyYy9qcy9ic2lmeS5tZWRpYV9xdWVyaWVzLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5Lm1lZ2FfbWVudS5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L3NyYy9qcy9ic2lmeS5wYXNzd29yZF9yZWNvdmVyLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LnNvY2lhbF9mZWVkX2luc3RhZ3JhbS5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L3NyYy9qcy9ic2lmeS5zb2NpYWxfZmVlZHMuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9zcmMvanMvYnNpZnkudGh1bWJuYWlscy5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L3NyYy9qcy9ic2lmeS50b3VjaC5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L3NyYy9qcy9ic2lmeS52YXJpYW50X29wdGlvbl9zd2l0Y2hlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0lBLEdBQUksT0FBUSxRQUFRLGNBQ2hCLE9BQVMsUUFBUSx3REFDakIsU0FBVyxRQUFRLCtCQUVuQixJQUFNLFdBc0NSLEdBcENBLE9BQU8sS0FBSyxNQUFNLEtBQU0sTUFBTSxlQUcxQixNQUFNLFVBRVIsTUFBTSxjQUFjLHlCQUNwQixNQUFNLGNBQWMsaUJBRXBCLE1BQU0s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QUFTLEVBQUUsSUFBSSxhQUFhLEdBQUcsVUFBVSxFQUFFLFdBQVcsRUFBRSxJQUFJLFVBQVUsR0FBRyxVQUFVLEVBQUUsUUFBUSxFQUFFLEdBQUksSUFBSSxHQUFFLEVBQUcsT0FBTSxJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLGVBQWUsUUFBUSxFQUFFLEdBQUcsTUFBTSxVQUFXLEdBQUUsSUFBSSxNQUFNLElBQUksRUFBRSxPQUFPLElBQUksSUFBSSxZQUFZLEVBQUUsR0FBRyxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksZUFBZSxRQUFRLEVBQUUsR0FBRyxNQUFNLFVBQVcsR0FBRSxJQUFJLE1BQU0sSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxlQUFlLFFBQVEsRUFBRSxHQUFHLE1BQU0sVUFBVyxHQUFFLElBQUksV0FBVyxJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLFdBQVcsUUFBUSxFQUFFLEdBQUcsT0FBTyxVQUFXLEdBQUUsSUFBSSxZQUFZLElBQUksRUFBRSxPQUFPLElBQUksSUFBSSxZQUFZLEVBQUUsR0FBRyxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksWUFBWSxRQUFRLEVBQUUsR0FBRyxPQUFPLFVBQVcsR0FBRSxJQUFJLFlBQVksSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxZQUFZLFFBQVEsRUFBRSxHQUFHLE9BQU8sVUFBVyxHQUFFLElBQUksWUFBWSxJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLFlBQVksUUFBUSxFQUFFLEdBQUcsT0FBTyxVQUFXLEdBQUUsSUFBSSxVQUFVLElBQUksRUFBRSxPQUFPLElBQUksSUFBSSxZQUFZLEVBQUUsR0FBRyxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksVUFBVSxRQUFRLEVBQUUsR0FBRyxJQUFJLFVBQVcsR0FBRSxJQUFJLFdBQVcsSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxXQUFXLFFBQVEsRUFBRSxHQUFHLElBQUksVUFBVyxHQUFFLElBQUksV0FBVyxJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLFdBQVcsUUFBUSxFQUFFLEdBQUcsSUFBSSxVQUFXLEdBQUUsSUFBSSxXQUFXLElBQUksRUFBRSxPQUFPLElBQUksSUFBSSxZQUFZLEVBQUUsR0FBRyxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksV0FBVyxRQUFRLEVBQUUsR0FBRyxJQUFJLFVBQVcsR0FBRSxJQUFJLFNBQVMsSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxTQUFTLFFBQVEsRUFBRSxHQUFHLE9BQU8sVUFBVyxHQUFFLElBQUksVUFBVSxJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLFVBQVUsUUFBUSxFQUFFLEdBQUcsT0FBTyxVQUFXLEdBQUUsSUFBSSxVQUFVLElBQUksRUFBRSxPQUFPLElBQUksSUFBSSxZQUFZLEVBQUUsR0FBRyxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksVUFBVSxRQUFRLEVBQUUsR0FBRyxPQUFPLFVBQVcsR0FBRSxJQUFJLGdCQUFnQixJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLGdCQUFnQixRQUFRLEVBQUUsR0FBRyxNQUFNLFVBQVcsR0FBRSxJQUFJLE1BQU8sSUFBRyxRQUFRLFNBQVMsR0FBRyxHQUFJLEtBQUssS0FBSSxHQUFJLEtBQUssR0FBRSxFQUFFLFFBQVEsR0FBRyxHQUFHLEVBQUUsS0FBSyxRQUFRLEdBQUksT0FBTyxHQUFFLEtBQUssTUFBTSxRQUFRLFNBQVMsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLE1BQU8sTUFBSyxLQUFLLFdBQVcsUUFBUyxLQUFJLEVBQUUsUUFBTyxFQUFHLEVBQUUsZUFBYyxFQUFHLEVBQUUsSUFBSSxPQUFPLElBQUksY0FBYyxJQUFJLEVBQUUsSUFBSSxhQUFhLEVBQUUsU0FBUyxFQUFFLElBQUksT0FBTyxJQUFJLElBQUksYUFBYSxJQUFJLGtCQUFtQixJQUFHLEVBQUUsTUFBTSxHQUFHLGtCQUFtQixHQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUsU0FBUyxNQUFNLEdBQUksR0FBRSxLQUFLLEVBQUUsT0FBTyxLQUFNLEdBQUUsR0FBRyxFQUFFLElBQUksU0FBUSxHQUFLLE9BQU0sU0FBVSxJQUFJLEdBQUUsSUFBSSxLQUFLLFVBQVcsSUFBRyxFQUFFLGVBQWUsRUFBRSxXQUFXLEVBQUUsT0FBTyxPQUFPLFFBQVEsTUFBTSxPQUFPLFFBQVEsU0FBUyxFQUFFLFlBQU8sRUFBRSxTQUFTLFdBQVcsRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBVyxJQUFHLEVBQUUsU0FBUyxLQUFLLEVBQUUsVUFBVSxFQUFFLEtBQUssSUFBSSxFQUFFLFFBQVEsRUFBRSxDQUFDLEdBQUcsRUFBRSxPQUFPLGFBQWEsR0FBRyxFQUFFLGVBQWMsRUFBRyxrQkFBbUIsS0FBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEdBQUcsT0FBTyxVQUFVLGtCQUFtQixLQUFJLEVBQUUsRUFBRSxFQUFFLEdBQUcsZ0JBQWlCLEtBQUksRUFBRSxFQUFFLEVBQUUsR0FBRyxrQkFBbUIsS0FBSSxFQUFFLEVBQUUsRUFBRSxxQ0FBcUMsZ0JBQWlCLEdBQUUsSUFBSSxHQUFJLEtBQUssUUFBTyxHQUFHLE9BQU8sQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsT0FBTyxHQUFHLE9BQU8sRUFBRyxPQUFNLEVBQUUsT0FBTyxH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LE9BQU0sRUFBRyxPQUFPLFFBQVEsS0FBSyxRQUFRLE9BQU8sUUFBUSxZQUFZLEtBQUssVUFBVSxVQUFVLEdBQUcsS0FBSyxVQUFVLEtBQUssUUFBUSxjQUFjLE9BQU8sUUFBUSxZQUFZLEtBQUssVUFBVSxVQUFVLFFBQVMsSUFBRyxLQUFLLFVBQVUsS0FBSyxRQUFRLFFBQVEsT0FBTyxRQUFRLE9BQU0sRUFBRyxPQUFPLFFBQVEsS0FBSyxRQUFRLE9BQU8sUUFBUSxZQUFZLEtBQUssVUFBVSxVQUFVLE9BQVEsSUFBRyxLQUFLLFVBQVUsS0FBSyxRQUFRLFNBQVMsT0FBTyxRQUFRLE1BQUssRUFBRyxPQUFPLFFBQVEsS0FBSyw4QkFBOEIsT0FBTyxRQUFRLFlBQVksS0FBSyxVQUFVLFVBQVUsT0FBUSxJQUFHLElBQUksS0FBSyxRQUFRLFdBQVcsQ0FBQyxPQUFPLFFBQVEsTUFBSyxFQUFHLE9BQU8sUUFBUSxLQUFLLDZCQUE4QixJQUFJLE9BQU0sS0FBSyxRQUFRLE9BQU8sRUFBRSxJQUFJLE1BQU0sQ0FBRSxRQUFPLFFBQVEsWUFBWSxLQUFLLFVBQVUsTUFBTSxTQUFTLEtBQUssVUFBVSxLQUFLLFFBQVEsWUFBWSxPQUFPLFFBQVEsUUFBTyxFQUFHLE9BQU8sUUFBUSxRQUFPLEVBQUcsT0FBTyxRQUFRLEtBQUssU0FBUyxPQUFPLFFBQVEsWUFBWSxLQUFLLFVBQVUsVUFBVSxJQUFJLEtBQUssVUFBVSxLQUFLLFFBQVEsWUFBWSxPQUFPLFFBQVEsUUFBTyxFQUFHLE9BQU8sUUFBUSxRQUFPLEVBQUcsT0FBTyxRQUFRLEtBQUssU0FBUyxPQUFPLFFBQVEsWUFBWSxLQUFLLFVBQVUsVUFBVSxHQUFHLEtBQUssVUFBVSxLQUFLLFFBQVEsY0FBYyxPQUFPLFFBQVEsWUFBWSxLQUFLLFVBQVUsVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLFFBQVEsaUJBQWlCLE9BQU8sUUFBUSxRQUFPLEVBQUcsT0FBTyxRQUFRLEtBQUssU0FBUyxPQUFPLFFBQVEsWUFBWSxLQUFLLFVBQVUsVUFBVSxHQUFHLEtBQUssVUFB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QUksRUFFRixJQUFLLEdBQUksR0FBSSxFQUFHLEVBQUksTUFBTSxRQUFRLFFBQVEsT0FBUSxJQUFLLENBQ3JELEdBQUksR0FBUyxVQUFVLEVBQUUsR0FDckIsRUFBUSxFQUFRLEVBQ3BCLEdBQUUsOEJBQThCLEVBQUUsS0FBSyxJQUFJLEdBQU8sUUFBUSxZQUtoRSxPQUFPLFFBQVUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLypcbiAgTWFpbiBhcHAgZm9yIEJvb3RzdHJhcGlmeVxuKi9cblxudmFyIEJzaWZ5ID0gcmVxdWlyZSgnLi9ic2lmeS5qcycpO1xudmFyIENhcnRKUyA9IHJlcXVpcmUoXCIuLy4uLy4uL2Jvd2VyX2NvbXBvbmVudHMvc2hvcGlmeS1jYXJ0anMvZGlzdC9jYXJ0LmpzXCIpO1xudmFyIExvb2tib29rID0gcmVxdWlyZSgnLi9ic2lmeS5sb29rYm9va19nYWxsZXJ5LmpzJyk7XG5cbnZhciBBcHAgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIGluaXQgQ2FydEpTXG4gIENhcnRKUy5pbml0KEJzaWZ5LmNhcnQsIEJzaWZ5Lm1vbmV5X2Zvcm1hdHMpO1xuXG4gIC8vIGluaXQgcHJvZHVjdCB0ZW1wbGF0ZSBqc1xuICBpZiAoQnNpZnkucHJvZHVjdCkge1xuICAgIC8vIFByZWxvYWQgaW1hZ2VzIGFuZCBjYWxsIGltYWdlIHN3aXRjaGVyIGluaXRcbiAgICBCc2lmeS5JbWFnZVN3aXRjaGVyLnByZWxvYWRfcHJvZHVjdF90aHVtYnMoKTtcbiAgICBCc2lmeS5JbWFnZVN3aXRjaGVyLmltYWdlX3N3dGljaGVyKCk7XG4gICAgLy8gSW5pdGlhbGlzZSB0aGUgaW1hZ2VfdmFyaWFudF9zd2l0Y2hlclxuICAgIEJzaWZ5LlZhcmlhbnRPcHRpb25Td2l0Y2hlci5pbWFnZV92YXJpYW50X3N3aXRjaGVyKCk7XG5cbiAgICAvLyBDYWxsIGxpbmtPcHRpb25TZWxlY3RvcnNcbiAgICAvLyBDaGVjayB0aGF0IHdlIHdhbnQgdG8gdXNlIHRoZSBsaW5rZWQgcHJvZHVjdCBvcHRpb25zXG4gICAgaWYgKEJzaWZ5LmxpbmtlZF9wcm9kdWN0X29wdGlvbnMpIHtcbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgcHJvZHVjdCBtZWV0cyB0aGUgY29ycmVjdCBjaXRlcmlhIGZvciBsaW5rZWQgcHJvZHVjdCBvcHRpb25zIGFuZCB0aGVuIGluaXRpYWxpc2VcbiAgICAgIGlmIChCc2lmeS5wcm9kdWN0LmF2YWlsYWJsZSAmJiBCc2lmeS5wcm9kdWN0Lm9wdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgICBCc2lmeS5MaW5rZWRQcm9kdWN0T3B0aW9ucy5saW5rT3B0aW9uU2VsZWN0b3JzKEJzaWZ5LnByb2R1Y3QpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIGluaXQgYWpheCBhZGQgdG8gY2FydFxuICBpZiAoQnNpZnkuYWpheF9hZGRfdG9fY2FydCkge1xuICAgIEJzaWZ5LkNhcnQuaW5pdCgpO1xuICB9XG5cbiAgLy8gbG9hZCB1bmlmb3JtIHRodW1icyBhbmQgb3JkZXJseVxuICBCc2lmeS5UaHVtYm5haWxzLmluaXQoKTtcblxuICAvLyBpbml0IGV2ZW50IGxpc3RlbmVycyBmb3IgYmFubmVyXG4gIEJzaWZ5LkJhbm5lci5pbml0KCk7XG4gIEJzaWZ5LkJhbm5lclZpZGVvLmluaXQoKTtcblxuICAvLyBpbml0IGV2ZW50IGxpc3RlbmVycyBmb3IgbWVnYW1lbnUgXG4gIEJzaWZ5Lk1lZ2FNZW51LmluaXQoKTtcblxuICAvLyBpbml0IGxvb2tib29rIGdhbGxlcnlcbiAgaWYgKCQoJy5jb2xsZWN0aW9uLWxvb2tib29rJykubGVuZ3RoID4gMCkge1xuICAgIHZhciBsb29rYm9vayA9IG5ldyBMb29rYm9vayh7XG4gICAgICBnYWxsZXJ5X3dyYXBwZXI6ICcuY29sbGVjdGlvbi1sb29rYm9vayAucHJvZHVjdHMuZ3JvdXAnLFxuICAgICAgaXRlbV93cmFwcGVyOiAnLmdyb3VwLWl0ZW0td3JhcCcsXG4gICAgICBjb250cm9sc193cmFwcGVyOiAnLmxvb2tib29rLWNvbnRyb2xzJ1xuICAgIH0pO1xuXG4gICAgbG9va2Jvb2sub25fbG9hZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgQnNpZnkuVGh1bWJuYWlscy5vcmRlcmx5KCk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIHRlc3QgZm9yIHBsYWNlaG9sZGVyXG4gIGlmIChNb2Rlcm5penIuaW5wdXQucGxhY2Vob2xkZXIpIHtcbiAgICAkKCdodG1sJykuYWRkQ2xhc3MoJ3BsYWNlaG9sZGVyJyk7XG4gIH0gZWxzZSB7XG4gICAgJCgnaHRtbCcpLmFkZENsYXNzKCduby1wbGFjZWhvbGRlcicpO1xuICB9XG5cbiAgLy8gaW5pdCBzb2NpYWwgZmVlZHNcbiAgQnNpZnkuU29jaWFsRmVlZHMuaW5pdCgpO1xuICBcbiAgbmV3IEJzaWZ5LlBhc3N3b3JkUmVjb3ZlcigpO1xufTtcblxuLy8gaW5pdGlhdGUgdGhlIGFwcCBhbmQgZXhwb3NlIGl0IHRvIHRoZSBicm93c2VyXG52YXIgYXBwID0gbmV3IEFwcCgpO1xubW9kdWxlLmV4cG9ydHMgPSBhcHA7XG53aW5kb3cuQ2FydEpTID0gQ2FydEpTOyIsIihmdW5jdGlvbigpIHtcbiAgdmFyICRkb2N1bWVudCwgQ2FydCwgQ2FydEpTLCBJdGVtLCBwcm9jZXNzaW5nLCBxdWV1ZSxcbiAgICBfX2JpbmQgPSBmdW5jdGlvbihmbiwgbWUpeyByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KG1lLCBhcmd1bWVudHMpOyB9OyB9O1xuXG4gIENhcnQgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gQ2FydCgpIHtcbiAgICAgIHRoaXMudXBkYXRlID0gX19iaW5kKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBDYXJ0LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihjYXJ0KSB7XG4gICAgICB2YXIgaXRlbSwga2V5LCB2YWx1ZTtcbiAgICAgIGZvciAoa2V5IGluIGNhcnQpIHtcbiAgICAgICAgdmFsdWUgPSBjYXJ0W2tleV07XG4gICAgICAgIGlmIChrZXkgIT09ICdpdGVtcycpIHtcbiAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuaXRlbXMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfaSwgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7XG4gICAgICAgIF9yZWYgPSBjYXJ0Lml0ZW1zO1xuICAgICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICBpdGVtID0gX3JlZltfaV07XG4gICAgICAgICAgX3Jlc3VsdHMucHVzaChuZXcgSXRlbShpdGVtKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgICAgfSkoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENhcnQ7XG5cbiAgfSkoKTtcblxuICBJdGVtID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIEl0ZW0oaXRlbSkge1xuICAgICAgdGhpcy5wcm9wZXJ0eUFycmF5ID0gX19iaW5kKHRoaXMucHJvcGVydHlBcnJheSwgdGhpcyk7XG4gICAgICB0aGlzLnVwZGF0ZSA9IF9fYmluZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICB0aGlzLnVwZGF0ZShpdGVtKTtcbiAgICB9XG5cbiAgICBJdGVtLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgICB2YXIga2V5LCB2YWx1ZTtcbiAgICAgIGZvciAoa2V5IGluIGl0ZW0pIHtcbiAgICAgICAgdmFsdWUgPSBpdGVtW2tleV07XG4gICAgICAgIGlmIChrZXkgIT09ICdwcm9wZXJ0aWVzJykge1xuICAgICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzID0gQ2FydEpTLlV0aWxzLmV4dGVuZCh7fSwgaXRlbS5wcm9wZXJ0aWVzKTtcbiAgICB9O1xuXG4gICAgSXRlbS5wcm90b3R5cGUucHJvcGVydHlBcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5hbWUsIHZhbHVlLCBfcmVmLCBfcmVzdWx0cztcbiAgICAgIF9yZWYgPSB0aGlzLnByb3BlcnRpZXM7XG4gICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yIChuYW1lIGluIF9yZWYpIHtcbiAgICAgICAgdmFsdWUgPSBfcmVmW25hbWVdO1xuICAgICAgICBfcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICB9O1xuXG4gICAgcmV0dXJuIEl0ZW07XG5cbiAgfSkoKTtcblxuICBDYXJ0SlMgPSB7XG4gICAgc2V0dGluZ3M6IHtcbiAgICAgIGRlYnVnOiBmYWxzZSxcbiAgICAgIGRhdGFBUEk6IHRydWUsXG4gICAgICByZXF1ZXN0Qm9keUNsYXNzOiBudWxsLFxuICAgICAgcml2ZXRzTW9kZWxzOiB7fSxcbiAgICAgIG1vbmV5Rm9ybWF0OiBudWxsLFxuICAgICAgbW9uZXlXaXRoQ3VycmVuY3lGb3JtYXQ6IG51bGxcbiAgICB9LFxuICAgIGNhcnQ6IG5ldyBDYXJ0KClcbiAgfTtcblxuICBDYXJ0SlMuaW5pdCA9IGZ1bmN0aW9uKGNhcnQsIHNldHRpbmdzKSB7XG4gICAgaWYgKHNldHRpbmdzID09IG51bGwpIHtcbiAgICAgIHNldHRpbmdzID0ge307XG4gICAgfVxuICAgIENhcnRKUy5jb25maWd1cmUoc2V0dGluZ3MpO1xuICAgIENhcnRKUy5VdGlscy5sb2coJ0luaXRpYWxpc2luZyBDYXJ0SlMuJyk7XG4gICAgQ2FydEpTLmNhcnQudXBkYXRlKGNhcnQpO1xuICAgIGlmIChDYXJ0SlMuc2V0dGluZ3MuZGF0YUFQSSkge1xuICAgICAgQ2FydEpTLlV0aWxzLmxvZygnXCJkYXRhQVBJXCIgc2V0dGluZyBpcyB0cnVlLCBpbml0aWFsaXNpbmcgRGF0YSBBUEkuJyk7XG4gICAgICBDYXJ0SlMuRGF0YS5pbml0KCk7XG4gICAgfVxuICAgIGlmIChDYXJ0SlMuc2V0dGluZ3MucmVxdWVzdEJvZHlDbGFzcykge1xuICAgICAgQ2FydEpTLlV0aWxzLmxvZygnXCJyZXF1ZXN0Qm9keUNsYXNzXCIgc2V0LCBhZGRpbmcgZXZlbnQgbGlzdGVuZXJzLicpO1xuICAgICAgJChkb2N1bWVudCkub24oJ2NhcnQucmVxdWVzdFN0YXJ0ZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQoJ2JvZHknKS5hZGRDbGFzcyhDYXJ0SlMuc2V0dGluZ3MucmVxdWVzdEJvZHlDbGFzcyk7XG4gICAgICB9KTtcbiAgICAgICQoZG9jdW1lbnQpLm9uKCdjYXJ0LnJlcXVlc3RDb21wbGV0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJCgnYm9keScpLnJlbW92ZUNsYXNzKENhcnRKUy5zZXR0aW5ncy5yZXF1ZXN0Qm9keUNsYXNzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gQ2FydEpTLlJpdmV0cy5pbml0KCk7XG4gIH07XG5cbiAgQ2FydEpTLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uKHNldHRpbmdzKSB7XG4gICAgaWYgKHNldHRpbmdzID09IG51bGwpIHtcbiAgICAgIHNldHRpbmdzID0ge307XG4gICAgfVxuICAgIHJldHVybiBDYXJ0SlMuVXRpbHMuZXh0ZW5kKENhcnRKUy5zZXR0aW5ncywgc2V0dGluZ3MpO1xuICB9O1xuXG4gIENhcnRKUy5VdGlscyA9IHtcbiAgICBsb2c6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIENhcnRKUy5VdGlscy5jb25zb2xlKGNvbnNvbGUubG9nLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIENhcnRKUy5VdGlscy5jb25zb2xlKGNvbnNvbGUuZXJyb3IsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBjb25zb2xlOiBmdW5jdGlvbihtZXRob2QsIGFyZ3MpIHtcbiAgICAgIGlmIChDYXJ0SlMuc2V0dGluZ3MuZGVidWcgJiYgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnNvbGUgIT09IG51bGwpKSB7XG4gICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKTtcbiAgICAgICAgYXJncy51bnNoaWZ0KCdbQ2FydEpTXTonKTtcbiAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdyYXBLZXlzOiBmdW5jdGlvbihvYmosIHR5cGUsIG92ZXJyaWRlKSB7XG4gICAgICB2YXIga2V5LCB2YWx1ZSwgd3JhcHBlZDtcbiAgICAgIGlmICh0eXBlID09IG51bGwpIHtcbiAgICAgICAgdHlwZSA9ICdwcm9wZXJ0aWVzJztcbiAgICAgIH1cbiAgICAgIHdyYXBwZWQgPSB7fTtcbiAgICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICB3cmFwcGVkW1wiXCIgKyB0eXBlICsgXCJbXCIgKyBrZXkgKyBcIl1cIl0gPSBvdmVycmlkZSAhPSBudWxsID8gb3ZlcnJpZGUgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVkO1xuICAgIH0sXG4gICAgdW53cmFwS2V5czogZnVuY3Rpb24ob2JqLCB0eXBlLCBvdmVycmlkZSkge1xuICAgICAgdmFyIGtleSwgdW53cmFwcGVkLCB1bndyYXBwZWRLZXksIHZhbHVlO1xuICAgICAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgICAgICB0eXBlID0gJ3Byb3BlcnRpZXMnO1xuICAgICAgfVxuICAgICAgdW53cmFwcGVkID0ge307XG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgdW53cmFwcGVkS2V5ID0ga2V5LnJlcGxhY2UoXCJcIiArIHR5cGUgKyBcIltcIiwgXCJcIikucmVwbGFjZShcIl1cIiwgXCJcIik7XG4gICAgICAgIHVud3JhcHBlZFt1bndyYXBwZWRLZXldID0gb3ZlcnJpZGUgIT0gbnVsbCA/IG92ZXJyaWRlIDogdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW53cmFwcGVkO1xuICAgIH0sXG4gICAgZXh0ZW5kOiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciBrZXksIHZhbDtcbiAgICAgIGZvciAoa2V5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgdmFsID0gcHJvcGVydGllc1trZXldO1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSxcbiAgICBjbG9uZTogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIga2V5LCBuZXdJbnN0YW5jZTtcbiAgICAgIGlmICgob2JqZWN0ID09IG51bGwpIHx8IHR5cGVvZiBvYmplY3QgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9XG4gICAgICBuZXdJbnN0YW5jZSA9IG5ldyBvYmplY3QuY29uc3RydWN0b3IoKTtcbiAgICAgIGZvciAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICBuZXdJbnN0YW5jZVtrZXldID0gY2xvbmUob2JqZWN0W2tleV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld0luc3RhbmNlO1xuICAgIH0sXG4gICAgaXNBcnJheTogQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH0sXG4gICAgZW5zdXJlQXJyYXk6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoQ2FydEpTLlV0aWxzLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbdmFsdWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0sXG4gICAgZm9ybWF0TW9uZXk6IGZ1bmN0aW9uKHZhbHVlLCBmb3JtYXQpIHtcbiAgICAgIHZhciBfcmVmO1xuICAgICAgaWYgKCgoX3JlZiA9IHdpbmRvdy5TaG9waWZ5KSAhPSBudWxsID8gX3JlZi5mb3JtYXRNb25leSA6IHZvaWQgMCkgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gU2hvcGlmeS5mb3JtYXRNb25leSh2YWx1ZSwgZm9ybWF0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldFNpemVkSW1hZ2VVcmw6IGZ1bmN0aW9uKHNyYywgc2l6ZSkge1xuICAgICAgdmFyIF9yZWYsIF9yZWYxO1xuICAgICAgaWYgKCgoX3JlZiA9IHdpbmRvdy5TaG9waWZ5KSAhPSBudWxsID8gKF9yZWYxID0gX3JlZi5JbWFnZSkgIT0gbnVsbCA/IF9yZWYxLmdldFNpemVkSW1hZ2VVcmwgOiB2b2lkIDAgOiB2b2lkIDApICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFNob3BpZnkuSW1hZ2UuZ2V0U2l6ZWRJbWFnZVVybChzcmMsIHNpemUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNyYztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcXVldWUgPSBbXTtcblxuICBwcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgQ2FydEpTLlF1ZXVlID0ge1xuICAgIGFkZDogZnVuY3Rpb24odXJsLCBkYXRhLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcmVxdWVzdDtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgcmVxdWVzdCA9IHtcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIHR5cGU6IG9wdGlvbnMudHlwZSB8fCAnUE9TVCcsXG4gICAgICAgIGRhdGFUeXBlOiBvcHRpb25zLmRhdGFUeXBlIHx8ICdqc29uJyxcbiAgICAgICAgc3VjY2VzczogQ2FydEpTLlV0aWxzLmVuc3VyZUFycmF5KG9wdGlvbnMuc3VjY2VzcyksXG4gICAgICAgIGVycm9yOiBDYXJ0SlMuVXRpbHMuZW5zdXJlQXJyYXkob3B0aW9ucy5lcnJvciksXG4gICAgICAgIGNvbXBsZXRlOiBDYXJ0SlMuVXRpbHMuZW5zdXJlQXJyYXkob3B0aW9ucy5jb21wbGV0ZSlcbiAgICAgIH07XG4gICAgICBpZiAob3B0aW9ucy51cGRhdGVDYXJ0KSB7XG4gICAgICAgIHJlcXVlc3Quc3VjY2Vzcy5wdXNoKENhcnRKUy5jYXJ0LnVwZGF0ZSk7XG4gICAgICB9XG4gICAgICBxdWV1ZS5wdXNoKHJlcXVlc3QpO1xuICAgICAgaWYgKHByb2Nlc3NpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgalF1ZXJ5KGRvY3VtZW50KS50cmlnZ2VyKCdjYXJ0LnJlcXVlc3RTdGFydGVkJywgW0NhcnRKUy5jYXJ0XSk7XG4gICAgICByZXR1cm4gQ2FydEpTLlF1ZXVlLnByb2Nlc3MoKTtcbiAgICB9LFxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhcmFtcztcbiAgICAgIGlmICghcXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHByb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgalF1ZXJ5KGRvY3VtZW50KS50cmlnZ2VyKCdjYXJ0LnJlcXVlc3RDb21wbGV0ZScsIFtDYXJ0SlMuY2FydF0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICAgIHBhcmFtcyA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICBwYXJhbXMuY29tcGxldGUgPSBDYXJ0SlMuUXVldWUucHJvY2VzcztcbiAgICAgIHJldHVybiBqUXVlcnkuYWpheChwYXJhbXMpO1xuICAgIH1cbiAgfTtcblxuICBDYXJ0SlMuQ29yZSA9IHtcbiAgICBnZXRDYXJ0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMudHlwZSA9ICdHRVQnO1xuICAgICAgb3B0aW9ucy51cGRhdGVDYXJ0ID0gdHJ1ZTtcbiAgICAgIHJldHVybiBDYXJ0SlMuUXVldWUuYWRkKCcvY2FydC5qcycsIHt9LCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGFkZEl0ZW06IGZ1bmN0aW9uKGlkLCBxdWFudGl0eSwgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgICAgdmFyIGRhdGE7XG4gICAgICBpZiAocXVhbnRpdHkgPT0gbnVsbCkge1xuICAgICAgICBxdWFudGl0eSA9IDE7XG4gICAgICB9XG4gICAgICBpZiAocHJvcGVydGllcyA9PSBudWxsKSB7XG4gICAgICAgIHByb3BlcnRpZXMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgZGF0YSA9IENhcnRKUy5VdGlscy53cmFwS2V5cyhwcm9wZXJ0aWVzKTtcbiAgICAgIGRhdGEuaWQgPSBpZDtcbiAgICAgIGRhdGEucXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgICAgIENhcnRKUy5RdWV1ZS5hZGQoJy9jYXJ0L2FkZC5qcycsIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIENhcnRKUy5Db3JlLmdldENhcnQoKTtcbiAgICB9LFxuICAgIHVwZGF0ZUl0ZW06IGZ1bmN0aW9uKGxpbmUsIHF1YW50aXR5LCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgICB2YXIgZGF0YTtcbiAgICAgIGlmIChwcm9wZXJ0aWVzID09IG51bGwpIHtcbiAgICAgICAgcHJvcGVydGllcyA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBkYXRhID0gQ2FydEpTLlV0aWxzLndyYXBLZXlzKHByb3BlcnRpZXMpO1xuICAgICAgZGF0YS5saW5lID0gbGluZTtcbiAgICAgIGlmIChxdWFudGl0eSAhPSBudWxsKSB7XG4gICAgICAgIGRhdGEucXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMudXBkYXRlQ2FydCA9IHRydWU7XG4gICAgICByZXR1cm4gQ2FydEpTLlF1ZXVlLmFkZCgnL2NhcnQvY2hhbmdlLmpzJywgZGF0YSwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICByZW1vdmVJdGVtOiBmdW5jdGlvbihsaW5lLCBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBDYXJ0SlMuQ29yZS51cGRhdGVJdGVtKGxpbmUsIDAsIHt9LCBvcHRpb25zKTtcbiAgICB9LFxuICAgIHVwZGF0ZUl0ZW1CeUlkOiBmdW5jdGlvbihpZCwgcXVhbnRpdHksIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBkYXRhO1xuICAgICAgaWYgKHByb3BlcnRpZXMgPT0gbnVsbCkge1xuICAgICAgICBwcm9wZXJ0aWVzID0ge307XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGRhdGEgPSBDYXJ0SlMuVXRpbHMud3JhcEtleXMocHJvcGVydGllcyk7XG4gICAgICBkYXRhLmlkID0gaWQ7XG4gICAgICBpZiAocXVhbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBkYXRhLnF1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgICB9XG4gICAgICBvcHRpb25zLnVwZGF0ZUNhcnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIENhcnRKUy5RdWV1ZS5hZGQoJy9jYXJ0L2NoYW5nZS5qcycsIGRhdGEsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgdXBkYXRlSXRlbVF1YW50aXRpZXNCeUlkOiBmdW5jdGlvbih1cGRhdGVzLCBvcHRpb25zKSB7XG4gICAgICBpZiAodXBkYXRlcyA9PSBudWxsKSB7XG4gICAgICAgIHVwZGF0ZXMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgb3B0aW9ucy51cGRhdGVDYXJ0ID0gdHJ1ZTtcbiAgICAgIHJldHVybiBDYXJ0SlMuUXVldWUuYWRkKCcvY2FydC91cGRhdGUuanMnLCB7XG4gICAgICAgIHVwZGF0ZXM6IHVwZGF0ZXNcbiAgICAgIH0sIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgcmVtb3ZlSXRlbUJ5SWQ6IGZ1bmN0aW9uKGlkLCBvcHRpb25zKSB7XG4gICAgICB2YXIgZGF0YTtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgZGF0YSA9IHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICBxdWFudGl0eTogMFxuICAgICAgfTtcbiAgICAgIG9wdGlvbnMudXBkYXRlQ2FydCA9IHRydWU7XG4gICAgICByZXR1cm4gQ2FydEpTLlF1ZXVlLmFkZCgnL2NhcnQvY2hhbmdlLmpzJywgZGF0YSwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBjbGVhcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBvcHRpb25zLnVwZGF0ZUNhcnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIENhcnRKUy5RdWV1ZS5hZGQoJy9jYXJ0L2NsZWFyLmpzJywge30sIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZ2V0QXR0cmlidXRlOiBmdW5jdGlvbihhdHRyaWJ1dGVOYW1lLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVOYW1lIGluIENhcnRKUy5jYXJ0LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmV0dXJuIENhcnRKUy5jYXJ0LmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0QXR0cmlidXRlOiBmdW5jdGlvbihhdHRyaWJ1dGVOYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgdmFyIGF0dHJpYnV0ZXM7XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiBDYXJ0SlMuQ29yZS5zZXRBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZ2V0QXR0cmlidXRlczogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQ2FydEpTLmNhcnQuYXR0cmlidXRlcztcbiAgICB9LFxuICAgIHNldEF0dHJpYnV0ZXM6IGZ1bmN0aW9uKGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzID09IG51bGwpIHtcbiAgICAgICAgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBvcHRpb25zLnVwZGF0ZUNhcnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIENhcnRKUy5RdWV1ZS5hZGQoJy9jYXJ0L3VwZGF0ZS5qcycsIENhcnRKUy5VdGlscy53cmFwS2V5cyhhdHRyaWJ1dGVzLCAnYXR0cmlidXRlcycpLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGNsZWFyQXR0cmlidXRlczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBvcHRpb25zLnVwZGF0ZUNhcnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIENhcnRKUy5RdWV1ZS5hZGQoJy9jYXJ0L3VwZGF0ZS5qcycsIENhcnRKUy5VdGlscy53cmFwS2V5cyhDYXJ0SlMuQ29yZS5nZXRBdHRyaWJ1dGVzKCksICdhdHRyaWJ1dGVzJywgJycpLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGdldE5vdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIENhcnRKUy5jYXJ0Lm5vdGU7XG4gICAgfSxcbiAgICBzZXROb3RlOiBmdW5jdGlvbihub3RlLCBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMudXBkYXRlQ2FydCA9IHRydWU7XG4gICAgICByZXR1cm4gQ2FydEpTLlF1ZXVlLmFkZCgnL2NhcnQvdXBkYXRlLmpzJywge1xuICAgICAgICBub3RlOiBub3RlXG4gICAgICB9LCBvcHRpb25zKTtcbiAgICB9XG4gIH07XG5cbiAgJGRvY3VtZW50ID0galF1ZXJ5KGRvY3VtZW50KTtcblxuICBDYXJ0SlMuRGF0YSA9IHtcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgIENhcnRKUy5EYXRhLnNldEV2ZW50TGlzdGVuZXJzKCdvbicpO1xuICAgICAgcmV0dXJuIENhcnRKUy5EYXRhLnJlbmRlcihudWxsLCBDYXJ0SlMuY2FydCk7XG4gICAgfSxcbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBDYXJ0SlMuRGF0YS5zZXRFdmVudExpc3RlbmVycygnb2ZmJyk7XG4gICAgfSxcbiAgICBzZXRFdmVudExpc3RlbmVyczogZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICAkZG9jdW1lbnRbbWV0aG9kXSgnY2xpY2snLCAnW2RhdGEtY2FydC1hZGRdJywgQ2FydEpTLkRhdGEuYWRkKTtcbiAgICAgICRkb2N1bWVudFttZXRob2RdKCdjbGljaycsICdbZGF0YS1jYXJ0LXJlbW92ZV0nLCBDYXJ0SlMuRGF0YS5yZW1vdmUpO1xuICAgICAgJGRvY3VtZW50W21ldGhvZF0oJ2NsaWNrJywgJ1tkYXRhLWNhcnQtcmVtb3ZlLWlkXScsIENhcnRKUy5EYXRhLnJlbW92ZUJ5SWQpO1xuICAgICAgJGRvY3VtZW50W21ldGhvZF0oJ2NsaWNrJywgJ1tkYXRhLWNhcnQtdXBkYXRlXScsIENhcnRKUy5EYXRhLnVwZGF0ZSk7XG4gICAgICAkZG9jdW1lbnRbbWV0aG9kXSgnY2xpY2snLCAnW2RhdGEtY2FydC11cGRhdGUtaWRdJywgQ2FydEpTLkRhdGEudXBkYXRlQnlJZCk7XG4gICAgICAkZG9jdW1lbnRbbWV0aG9kXSgnY2xpY2snLCAnW2RhdGEtY2FydC1jbGVhcl0nLCBDYXJ0SlMuRGF0YS5jbGVhcik7XG4gICAgICAkZG9jdW1lbnRbbWV0aG9kXSgnY2hhbmdlJywgJ1tkYXRhLWNhcnQtdG9nZ2xlXScsIENhcnRKUy5EYXRhLnRvZ2dsZSk7XG4gICAgICAkZG9jdW1lbnRbbWV0aG9kXSgnY2hhbmdlJywgJ1tkYXRhLWNhcnQtdG9nZ2xlLWF0dHJpYnV0ZV0nLCBDYXJ0SlMuRGF0YS50b2dnbGVBdHRyaWJ1dGUpO1xuICAgICAgJGRvY3VtZW50W21ldGhvZF0oJ3N1Ym1pdCcsICdbZGF0YS1jYXJ0LXN1Ym1pdF0nLCBDYXJ0SlMuRGF0YS5zdWJtaXQpO1xuICAgICAgcmV0dXJuICRkb2N1bWVudFttZXRob2RdKCdjYXJ0LnJlcXVlc3RDb21wbGV0ZScsIENhcnRKUy5EYXRhLnJlbmRlcik7XG4gICAgfSxcbiAgICBhZGQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciAkdGhpcztcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICR0aGlzID0galF1ZXJ5KHRoaXMpO1xuICAgICAgcmV0dXJuIENhcnRKUy5Db3JlLmFkZEl0ZW0oJHRoaXMuYXR0cignZGF0YS1jYXJ0LWFkZCcpLCAkdGhpcy5hdHRyKCdkYXRhLWNhcnQtcXVhbnRpdHknKSk7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciAkdGhpcztcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICR0aGlzID0galF1ZXJ5KHRoaXMpO1xuICAgICAgcmV0dXJuIENhcnRKUy5Db3JlLnJlbW92ZUl0ZW0oJHRoaXMuYXR0cignZGF0YS1jYXJ0LXJlbW92ZScpKTtcbiAgICB9LFxuICAgIHJlbW92ZUJ5SWQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciAkdGhpcztcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICR0aGlzID0galF1ZXJ5KHRoaXMpO1xuICAgICAgcmV0dXJuIENhcnRKUy5Db3JlLnJlbW92ZUl0ZW1CeUlkKCR0aGlzLmF0dHIoJ2RhdGEtY2FydC1yZW1vdmUtaWQnKSk7XG4gICAgfSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciAkdGhpcztcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICR0aGlzID0galF1ZXJ5KHRoaXMpO1xuICAgICAgcmV0dXJuIENhcnRKUy5Db3JlLnVwZGF0ZUl0ZW0oJHRoaXMuYXR0cignZGF0YS1jYXJ0LXVwZGF0ZScpLCAkdGhpcy5hdHRyKCdkYXRhLWNhcnQtcXVhbnRpdHknKSk7XG4gICAgfSxcbiAgICB1cGRhdGVCeUlkOiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgJHRoaXM7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkdGhpcyA9IGpRdWVyeSh0aGlzKTtcbiAgICAgIHJldHVybiBDYXJ0SlMuQ29yZS51cGRhdGVJdGVtQnlJZCgkdGhpcy5hdHRyKCdkYXRhLWNhcnQtdXBkYXRlLWlkJyksICR0aGlzLmF0dHIoJ2RhdGEtY2FydC1xdWFudGl0eScpKTtcbiAgICB9LFxuICAgIGNsZWFyOiBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gQ2FydEpTLkNvcmUuY2xlYXIoKTtcbiAgICB9LFxuICAgIHRvZ2dsZTogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyICRpbnB1dCwgaWQ7XG4gICAgICAkaW5wdXQgPSBqUXVlcnkodGhpcyk7XG4gICAgICBpZCA9ICRpbnB1dC5hdHRyKCdkYXRhLWNhcnQtdG9nZ2xlJyk7XG4gICAgICBpZiAoJGlucHV0LmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgIHJldHVybiBDYXJ0SlMuQ29yZS5hZGRJdGVtKGlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBDYXJ0SlMuQ29yZS5yZW1vdmVJdGVtQnlJZChpZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB0b2dnbGVBdHRyaWJ1dGU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciAkaW5wdXQsIGF0dHJpYnV0ZTtcbiAgICAgICRpbnB1dCA9IGpRdWVyeSh0aGlzKTtcbiAgICAgIGF0dHJpYnV0ZSA9ICRpbnB1dC5hdHRyKCdkYXRhLWNhcnQtdG9nZ2xlLWF0dHJpYnV0ZScpO1xuICAgICAgcmV0dXJuIENhcnRKUy5Db3JlLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsICRpbnB1dC5pcygnOmNoZWNrZWQnKSA/ICdZZXMnIDogJycpO1xuICAgIH0sXG4gICAgc3VibWl0OiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgZGF0YUFycmF5LCBpZCwgcHJvcGVydGllcywgcXVhbnRpdHk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBkYXRhQXJyYXkgPSBqUXVlcnkodGhpcykuc2VyaWFsaXplQXJyYXkoKTtcbiAgICAgIGlkID0gdm9pZCAwO1xuICAgICAgcXVhbnRpdHkgPSB2b2lkIDA7XG4gICAgICBwcm9wZXJ0aWVzID0ge307XG4gICAgICBqUXVlcnkuZWFjaChkYXRhQXJyYXksIGZ1bmN0aW9uKGksIGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0ubmFtZSA9PT0gJ2lkJykge1xuICAgICAgICAgIHJldHVybiBpZCA9IGl0ZW0udmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS5uYW1lID09PSAncXVhbnRpdHknKSB7XG4gICAgICAgICAgcmV0dXJuIHF1YW50aXR5ID0gaXRlbS52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcHJvcGVydGllc1tpdGVtLm5hbWVdID0gaXRlbS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gQ2FydEpTLkNvcmUuYWRkSXRlbShpZCwgcXVhbnRpdHksIENhcnRKUy5VdGlscy51bndyYXBLZXlzKHByb3BlcnRpZXMpKTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oZSwgY2FydCkge1xuICAgICAgdmFyIGNvbnRleHQ7XG4gICAgICBjb250ZXh0ID0ge1xuICAgICAgICAnaXRlbV9jb3VudCc6IGNhcnQuaXRlbV9jb3VudCxcbiAgICAgICAgJ3RvdGFsX3ByaWNlJzogY2FydC50b3RhbF9wcmljZSxcbiAgICAgICAgJ3RvdGFsX3ByaWNlX21vbmV5JzogQ2FydEpTLlV0aWxzLmZvcm1hdE1vbmV5KGNhcnQudG90YWxfcHJpY2UsIENhcnRKUy5zZXR0aW5ncy5tb25leUZvcm1hdCksXG4gICAgICAgICd0b3RhbF9wcmljZV9tb25leV93aXRoX2N1cnJlbmN5JzogQ2FydEpTLlV0aWxzLmZvcm1hdE1vbmV5KGNhcnQudG90YWxfcHJpY2UsIENhcnRKUy5zZXR0aW5ncy5tb25leVdpdGhDdXJyZW5jeUZvcm1hdClcbiAgICAgIH07XG4gICAgICByZXR1cm4galF1ZXJ5KCdbZGF0YS1jYXJ0LXJlbmRlcl0nKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHRoaXM7XG4gICAgICAgICR0aGlzID0galF1ZXJ5KHRoaXMpO1xuICAgICAgICByZXR1cm4gJHRoaXMudGV4dChjb250ZXh0WyR0aGlzLmF0dHIoJ2RhdGEtY2FydC1yZW5kZXInKV0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGlmICgncml2ZXRzJyBpbiB3aW5kb3cpIHtcbiAgICBDYXJ0SlMuUml2ZXRzID0ge1xuICAgICAgdmlld3M6IFtdLFxuICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBDYXJ0SlMuUml2ZXRzLmJpbmRWaWV3cygpO1xuICAgICAgfSxcbiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gQ2FydEpTLlJpdmV0cy51bmJpbmRWaWV3cygpO1xuICAgICAgfSxcbiAgICAgIGJpbmRWaWV3czogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtb2RlbHM7XG4gICAgICAgIENhcnRKUy5VdGlscy5sb2coJ1JpdmV0cy5qcyBpcyBwcmVzZW50LCBiaW5kaW5nIHZpZXdzLicpO1xuICAgICAgICBDYXJ0SlMuUml2ZXRzLnVuYmluZFZpZXdzKCk7XG4gICAgICAgIG1vZGVscyA9IENhcnRKUy5VdGlscy5leHRlbmQoe1xuICAgICAgICAgIGNhcnQ6IENhcnRKUy5jYXJ0XG4gICAgICAgIH0sIENhcnRKUy5zZXR0aW5ncy5yaXZldHNNb2RlbHMpO1xuICAgICAgICByZXR1cm4galF1ZXJ5KCdbZGF0YS1jYXJ0LXZpZXddJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gQ2FydEpTLlJpdmV0cy52aWV3cy5wdXNoKHJpdmV0cy5iaW5kKHRoaXMsIG1vZGVscykpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB1bmJpbmRWaWV3czogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2aWV3LCBfaSwgX2xlbiwgX3JlZjtcbiAgICAgICAgX3JlZiA9IENhcnRKUy5SaXZldHMudmlld3M7XG4gICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICAgIHZpZXcgPSBfcmVmW19pXTtcbiAgICAgICAgICB2aWV3LnVuYmluZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDYXJ0SlMuUml2ZXRzLnZpZXdzID0gW107XG4gICAgICB9XG4gICAgfTtcbiAgICByaXZldHMuZm9ybWF0dGVycy5lcSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHJldHVybiBhID09PSBiO1xuICAgIH07XG4gICAgcml2ZXRzLmZvcm1hdHRlcnMubHQgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICByZXR1cm4gYSA8IGI7XG4gICAgfTtcbiAgICByaXZldHMuZm9ybWF0dGVycy5ndCA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHJldHVybiBhID4gYjtcbiAgICB9O1xuICAgIHJpdmV0cy5mb3JtYXR0ZXJzLm5vdCA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiAhYTtcbiAgICB9O1xuICAgIHJpdmV0cy5mb3JtYXR0ZXJzLmVtcHR5ID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuICFhLmxlbmd0aDtcbiAgICB9O1xuICAgIHJpdmV0cy5mb3JtYXR0ZXJzLnBsdXMgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQoYSkgKyBwYXJzZUludChiKTtcbiAgICB9O1xuICAgIHJpdmV0cy5mb3JtYXR0ZXJzLm1pbnVzID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KGEpIC0gcGFyc2VJbnQoYik7XG4gICAgfTtcbiAgICByaXZldHMuZm9ybWF0dGVycy5wcmVwZW5kID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIGIgKyBhO1xuICAgIH07XG4gICAgcml2ZXRzLmZvcm1hdHRlcnMuYXBwZW5kID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIGEgKyBiO1xuICAgIH07XG4gICAgcml2ZXRzLmZvcm1hdHRlcnMubW9uZXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIENhcnRKUy5VdGlscy5mb3JtYXRNb25leSh2YWx1ZSwgQ2FydEpTLnNldHRpbmdzLm1vbmV5Rm9ybWF0KTtcbiAgICB9O1xuICAgIHJpdmV0cy5mb3JtYXR0ZXJzLm1vbmV5X3dpdGhfY3VycmVuY3kgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIENhcnRKUy5VdGlscy5mb3JtYXRNb25leSh2YWx1ZSwgQ2FydEpTLnNldHRpbmdzLm1vbmV5V2l0aEN1cnJlbmN5Rm9ybWF0KTtcbiAgICB9O1xuICAgIHJpdmV0cy5mb3JtYXR0ZXJzLnByb2R1Y3RJbWFnZVNpemUgPSBmdW5jdGlvbihzcmMsIHNpemUpIHtcbiAgICAgIHJldHVybiBDYXJ0SlMuVXRpbHMuZ2V0U2l6ZWRJbWFnZVVybChzcmMsIHNpemUpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgQ2FydEpTLlJpdmV0cyA9IHtcbiAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge30sXG4gICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHt9XG4gICAgfTtcbiAgfVxuXG4gIENhcnRKUy5mYWN0b3J5ID0gZnVuY3Rpb24oZXhwb3J0cykge1xuICAgIGV4cG9ydHMuaW5pdCA9IENhcnRKUy5pbml0O1xuICAgIGV4cG9ydHMuY29uZmlndXJlID0gQ2FydEpTLmNvbmZpZ3VyZTtcbiAgICBleHBvcnRzLmNhcnQgPSBDYXJ0SlMuY2FydDtcbiAgICBleHBvcnRzLnNldHRpbmdzID0gQ2FydEpTLnNldHRpbmdzO1xuICAgIGV4cG9ydHMuYWRkSXRlbSA9IENhcnRKUy5Db3JlLmFkZEl0ZW07XG4gICAgZXhwb3J0cy51cGRhdGVJdGVtID0gQ2FydEpTLkNvcmUudXBkYXRlSXRlbTtcbiAgICBleHBvcnRzLnVwZGF0ZUl0ZW1CeUlkID0gQ2FydEpTLkNvcmUudXBkYXRlSXRlbUJ5SWQ7XG4gICAgZXhwb3J0cy51cGRhdGVJdGVtUXVhbnRpdGllc0J5SWQgPSBDYXJ0SlMuQ29yZS51cGRhdGVJdGVtUXVhbnRpdGllc0J5SWQ7XG4gICAgZXhwb3J0cy5yZW1vdmVJdGVtID0gQ2FydEpTLkNvcmUucmVtb3ZlSXRlbTtcbiAgICBleHBvcnRzLmNsZWFyID0gQ2FydEpTLkNvcmUuY2xlYXI7XG4gICAgZXhwb3J0cy5nZXRBdHRyaWJ1dGUgPSBDYXJ0SlMuQ29yZS5nZXRBdHRyaWJ1dGU7XG4gICAgZXhwb3J0cy5zZXRBdHRyaWJ1dGUgPSBDYXJ0SlMuQ29yZS5zZXRBdHRyaWJ1dGU7XG4gICAgZXhwb3J0cy5nZXRBdHRyaWJ1dGVzID0gQ2FydEpTLkNvcmUuZ2V0QXR0cmlidXRlcztcbiAgICBleHBvcnRzLnNldEF0dHJpYnV0ZXMgPSBDYXJ0SlMuQ29yZS5zZXRBdHRyaWJ1dGVzO1xuICAgIGV4cG9ydHMuY2xlYXJBdHRyaWJ1dGVzID0gQ2FydEpTLkNvcmUuY2xlYXJBdHRyaWJ1dGVzO1xuICAgIGV4cG9ydHMuZ2V0Tm90ZSA9IENhcnRKUy5Db3JlLmdldE5vdGU7XG4gICAgcmV0dXJuIGV4cG9ydHMuc2V0Tm90ZSA9IENhcnRKUy5Db3JlLnNldE5vdGU7XG4gIH07XG5cbiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIENhcnRKUy5mYWN0b3J5KGV4cG9ydHMpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbJ2V4cG9ydHMnXSwgZnVuY3Rpb24oZXhwb3J0cykge1xuICAgICAgQ2FydEpTLmZhY3RvcnkodGhpcy5DYXJ0SlMgPSBleHBvcnRzKTtcbiAgICAgIHJldHVybiBleHBvcnRzO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIENhcnRKUy5mYWN0b3J5KHRoaXMuQ2FydEpTID0ge30pO1xuICB9XG5cbn0pLmNhbGwodGhpcyk7XG4iLCIvKiFcbiAqIGltYWdlc0xvYWRlZCB2My4xLjhcbiAqIEphdmFTY3JpcHQgaXMgYWxsIGxpa2UgXCJZb3UgaW1hZ2VzIGFyZSBkb25lIHlldCBvciB3aGF0P1wiXG4gKiBNSVQgTGljZW5zZVxuICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHsgJ3VzZSBzdHJpY3QnO1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cblxuICAvKmdsb2JhbCBkZWZpbmU6IGZhbHNlLCBtb2R1bGU6IGZhbHNlLCByZXF1aXJlOiBmYWxzZSAqL1xuXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgJ2V2ZW50RW1pdHRlci9FdmVudEVtaXR0ZXInLFxuICAgICAgJ2V2ZW50aWUvZXZlbnRpZSdcbiAgICBdLCBmdW5jdGlvbiggRXZlbnRFbWl0dGVyLCBldmVudGllICkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgRXZlbnRFbWl0dGVyLCBldmVudGllICk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHJlcXVpcmUoJ3dvbGZ5ODctZXZlbnRlbWl0dGVyJyksXG4gICAgICByZXF1aXJlKCdldmVudGllJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93LmltYWdlc0xvYWRlZCA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICB3aW5kb3cuRXZlbnRFbWl0dGVyLFxuICAgICAgd2luZG93LmV2ZW50aWVcbiAgICApO1xuICB9XG5cbn0pKCB3aW5kb3csXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICBmYWN0b3J5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgRXZlbnRFbWl0dGVyLCBldmVudGllICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciAkID0gd2luZG93LmpRdWVyeTtcbnZhciBjb25zb2xlID0gd2luZG93LmNvbnNvbGU7XG52YXIgaGFzQ29uc29sZSA9IHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJztcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vLyBleHRlbmQgb2JqZWN0c1xuZnVuY3Rpb24gZXh0ZW5kKCBhLCBiICkge1xuICBmb3IgKCB2YXIgcHJvcCBpbiBiICkge1xuICAgIGFbIHByb3AgXSA9IGJbIHByb3AgXTtcbiAgfVxuICByZXR1cm4gYTtcbn1cblxudmFyIG9ialRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmZ1bmN0aW9uIGlzQXJyYXkoIG9iaiApIHtcbiAgcmV0dXJuIG9ialRvU3RyaW5nLmNhbGwoIG9iaiApID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vLyB0dXJuIGVsZW1lbnQgb3Igbm9kZUxpc3QgaW50byBhbiBhcnJheVxuZnVuY3Rpb24gbWFrZUFycmF5KCBvYmogKSB7XG4gIHZhciBhcnkgPSBbXTtcbiAgaWYgKCBpc0FycmF5KCBvYmogKSApIHtcbiAgICAvLyB1c2Ugb2JqZWN0IGlmIGFscmVhZHkgYW4gYXJyYXlcbiAgICBhcnkgPSBvYmo7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBvYmoubGVuZ3RoID09PSAnbnVtYmVyJyApIHtcbiAgICAvLyBjb252ZXJ0IG5vZGVMaXN0IHRvIGFycmF5XG4gICAgZm9yICggdmFyIGk9MCwgbGVuID0gb2JqLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkge1xuICAgICAgYXJ5LnB1c2goIG9ialtpXSApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBhcnJheSBvZiBzaW5nbGUgaW5kZXhcbiAgICBhcnkucHVzaCggb2JqICk7XG4gIH1cbiAgcmV0dXJuIGFyeTtcbn1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBpbWFnZXNMb2FkZWQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheSwgRWxlbWVudCwgTm9kZUxpc3QsIFN0cmluZ30gZWxlbVxuICAgKiBAcGFyYW0ge09iamVjdCBvciBGdW5jdGlvbn0gb3B0aW9ucyAtIGlmIGZ1bmN0aW9uLCB1c2UgYXMgY2FsbGJhY2tcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gb25BbHdheXMgLSBjYWxsYmFjayBmdW5jdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gSW1hZ2VzTG9hZGVkKCBlbGVtLCBvcHRpb25zLCBvbkFsd2F5cyApIHtcbiAgICAvLyBjb2VyY2UgSW1hZ2VzTG9hZGVkKCkgd2l0aG91dCBuZXcsIHRvIGJlIG5ldyBJbWFnZXNMb2FkZWQoKVxuICAgIGlmICggISggdGhpcyBpbnN0YW5jZW9mIEltYWdlc0xvYWRlZCApICkge1xuICAgICAgcmV0dXJuIG5ldyBJbWFnZXNMb2FkZWQoIGVsZW0sIG9wdGlvbnMgKTtcbiAgICB9XG4gICAgLy8gdXNlIGVsZW0gYXMgc2VsZWN0b3Igc3RyaW5nXG4gICAgaWYgKCB0eXBlb2YgZWxlbSA9PT0gJ3N0cmluZycgKSB7XG4gICAgICBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggZWxlbSApO1xuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudHMgPSBtYWtlQXJyYXkoIGVsZW0gKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoIHt9LCB0aGlzLm9wdGlvbnMgKTtcblxuICAgIGlmICggdHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicgKSB7XG4gICAgICBvbkFsd2F5cyA9IG9wdGlvbnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4dGVuZCggdGhpcy5vcHRpb25zLCBvcHRpb25zICk7XG4gICAgfVxuXG4gICAgaWYgKCBvbkFsd2F5cyApIHtcbiAgICAgIHRoaXMub24oICdhbHdheXMnLCBvbkFsd2F5cyApO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0SW1hZ2VzKCk7XG5cbiAgICBpZiAoICQgKSB7XG4gICAgICAvLyBhZGQgalF1ZXJ5IERlZmVycmVkIG9iamVjdFxuICAgICAgdGhpcy5qcURlZmVycmVkID0gbmV3ICQuRGVmZXJyZWQoKTtcbiAgICB9XG5cbiAgICAvLyBIQUNLIGNoZWNrIGFzeW5jIHRvIGFsbG93IHRpbWUgdG8gYmluZCBsaXN0ZW5lcnNcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgX3RoaXMuY2hlY2soKTtcbiAgICB9KTtcbiAgfVxuXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5vcHRpb25zID0ge307XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5nZXRJbWFnZXMgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmltYWdlcyA9IFtdO1xuXG4gICAgLy8gZmlsdGVyICYgZmluZCBpdGVtcyBpZiB3ZSBoYXZlIGFuIGl0ZW0gc2VsZWN0b3JcbiAgICBmb3IgKCB2YXIgaT0wLCBsZW4gPSB0aGlzLmVsZW1lbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkge1xuICAgICAgdmFyIGVsZW0gPSB0aGlzLmVsZW1lbnRzW2ldO1xuICAgICAgLy8gZmlsdGVyIHNpYmxpbmdzXG4gICAgICBpZiAoIGVsZW0ubm9kZU5hbWUgPT09ICdJTUcnICkge1xuICAgICAgICB0aGlzLmFkZEltYWdlKCBlbGVtICk7XG4gICAgICB9XG4gICAgICAvLyBmaW5kIGNoaWxkcmVuXG4gICAgICAvLyBubyBub24tZWxlbWVudCBub2RlcywgIzE0M1xuICAgICAgdmFyIG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcbiAgICAgIGlmICggIW5vZGVUeXBlIHx8ICEoIG5vZGVUeXBlID09PSAxIHx8IG5vZGVUeXBlID09PSA5IHx8IG5vZGVUeXBlID09PSAxMSApICkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBjaGlsZEVsZW1zID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKTtcbiAgICAgIC8vIGNvbmNhdCBjaGlsZEVsZW1zIHRvIGZpbHRlckZvdW5kIGFycmF5XG4gICAgICBmb3IgKCB2YXIgaj0wLCBqTGVuID0gY2hpbGRFbGVtcy5sZW5ndGg7IGogPCBqTGVuOyBqKysgKSB7XG4gICAgICAgIHZhciBpbWcgPSBjaGlsZEVsZW1zW2pdO1xuICAgICAgICB0aGlzLmFkZEltYWdlKCBpbWcgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SW1hZ2V9IGltZ1xuICAgKi9cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRJbWFnZSA9IGZ1bmN0aW9uKCBpbWcgKSB7XG4gICAgdmFyIGxvYWRpbmdJbWFnZSA9IG5ldyBMb2FkaW5nSW1hZ2UoIGltZyApO1xuICAgIHRoaXMuaW1hZ2VzLnB1c2goIGxvYWRpbmdJbWFnZSApO1xuICB9O1xuXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBjaGVja2VkQ291bnQgPSAwO1xuICAgIHZhciBsZW5ndGggPSB0aGlzLmltYWdlcy5sZW5ndGg7XG4gICAgdGhpcy5oYXNBbnlCcm9rZW4gPSBmYWxzZTtcbiAgICAvLyBjb21wbGV0ZSBpZiBubyBpbWFnZXNcbiAgICBpZiAoICFsZW5ndGggKSB7XG4gICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Db25maXJtKCBpbWFnZSwgbWVzc2FnZSApIHtcbiAgICAgIGlmICggX3RoaXMub3B0aW9ucy5kZWJ1ZyAmJiBoYXNDb25zb2xlICkge1xuICAgICAgICBjb25zb2xlLmxvZyggJ2NvbmZpcm0nLCBpbWFnZSwgbWVzc2FnZSApO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5wcm9ncmVzcyggaW1hZ2UgKTtcbiAgICAgIGNoZWNrZWRDb3VudCsrO1xuICAgICAgaWYgKCBjaGVja2VkQ291bnQgPT09IGxlbmd0aCApIHtcbiAgICAgICAgX3RoaXMuY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlOyAvLyBiaW5kIG9uY2VcbiAgICB9XG5cbiAgICBmb3IgKCB2YXIgaT0wOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG4gICAgICB2YXIgbG9hZGluZ0ltYWdlID0gdGhpcy5pbWFnZXNbaV07XG4gICAgICBsb2FkaW5nSW1hZ2Uub24oICdjb25maXJtJywgb25Db25maXJtICk7XG4gICAgICBsb2FkaW5nSW1hZ2UuY2hlY2soKTtcbiAgICB9XG4gIH07XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5wcm9ncmVzcyA9IGZ1bmN0aW9uKCBpbWFnZSApIHtcbiAgICB0aGlzLmhhc0FueUJyb2tlbiA9IHRoaXMuaGFzQW55QnJva2VuIHx8ICFpbWFnZS5pc0xvYWRlZDtcbiAgICAvLyBIQUNLIC0gQ2hyb21lIHRyaWdnZXJzIGV2ZW50IGJlZm9yZSBvYmplY3QgcHJvcGVydGllcyBoYXZlIGNoYW5nZWQuICM4M1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICBfdGhpcy5lbWl0KCAncHJvZ3Jlc3MnLCBfdGhpcywgaW1hZ2UgKTtcbiAgICAgIGlmICggX3RoaXMuanFEZWZlcnJlZCAmJiBfdGhpcy5qcURlZmVycmVkLm5vdGlmeSApIHtcbiAgICAgICAgX3RoaXMuanFEZWZlcnJlZC5ub3RpZnkoIF90aGlzLCBpbWFnZSApO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZXZlbnROYW1lID0gdGhpcy5oYXNBbnlCcm9rZW4gPyAnZmFpbCcgOiAnZG9uZSc7XG4gICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIC8vIEhBQ0sgLSBhbm90aGVyIHNldFRpbWVvdXQgc28gdGhhdCBjb25maXJtIGhhcHBlbnMgYWZ0ZXIgcHJvZ3Jlc3NcbiAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgIF90aGlzLmVtaXQoIGV2ZW50TmFtZSwgX3RoaXMgKTtcbiAgICAgIF90aGlzLmVtaXQoICdhbHdheXMnLCBfdGhpcyApO1xuICAgICAgaWYgKCBfdGhpcy5qcURlZmVycmVkICkge1xuICAgICAgICB2YXIganFNZXRob2QgPSBfdGhpcy5oYXNBbnlCcm9rZW4gPyAncmVqZWN0JyA6ICdyZXNvbHZlJztcbiAgICAgICAgX3RoaXMuanFEZWZlcnJlZFsganFNZXRob2QgXSggX3RoaXMgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBqcXVlcnkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICBpZiAoICQgKSB7XG4gICAgJC5mbi5pbWFnZXNMb2FkZWQgPSBmdW5jdGlvbiggb3B0aW9ucywgY2FsbGJhY2sgKSB7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgSW1hZ2VzTG9hZGVkKCB0aGlzLCBvcHRpb25zLCBjYWxsYmFjayApO1xuICAgICAgcmV0dXJuIGluc3RhbmNlLmpxRGVmZXJyZWQucHJvbWlzZSggJCh0aGlzKSApO1xuICAgIH07XG4gIH1cblxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIGZ1bmN0aW9uIExvYWRpbmdJbWFnZSggaW1nICkge1xuICAgIHRoaXMuaW1nID0gaW1nO1xuICB9XG5cbiAgTG9hZGluZ0ltYWdlLnByb3RvdHlwZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gZmlyc3QgY2hlY2sgY2FjaGVkIGFueSBwcmV2aW91cyBpbWFnZXMgdGhhdCBoYXZlIHNhbWUgc3JjXG4gICAgdmFyIHJlc291cmNlID0gY2FjaGVbIHRoaXMuaW1nLnNyYyBdIHx8IG5ldyBSZXNvdXJjZSggdGhpcy5pbWcuc3JjICk7XG4gICAgaWYgKCByZXNvdXJjZS5pc0NvbmZpcm1lZCApIHtcbiAgICAgIHRoaXMuY29uZmlybSggcmVzb3VyY2UuaXNMb2FkZWQsICdjYWNoZWQgd2FzIGNvbmZpcm1lZCcgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBjb21wbGV0ZSBpcyB0cnVlIGFuZCBicm93c2VyIHN1cHBvcnRzIG5hdHVyYWwgc2l6ZXMsXG4gICAgLy8gdHJ5IHRvIGNoZWNrIGZvciBpbWFnZSBzdGF0dXMgbWFudWFsbHkuXG4gICAgaWYgKCB0aGlzLmltZy5jb21wbGV0ZSAmJiB0aGlzLmltZy5uYXR1cmFsV2lkdGggIT09IHVuZGVmaW5lZCApIHtcbiAgICAgIC8vIHJlcG9ydCBiYXNlZCBvbiBuYXR1cmFsV2lkdGhcbiAgICAgIHRoaXMuY29uZmlybSggdGhpcy5pbWcubmF0dXJhbFdpZHRoICE9PSAwLCAnbmF0dXJhbFdpZHRoJyApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIG5vbmUgb2YgdGhlIGNoZWNrcyBhYm92ZSBtYXRjaGVkLCBzaW11bGF0ZSBsb2FkaW5nIG9uIGRldGFjaGVkIGVsZW1lbnQuXG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICByZXNvdXJjZS5vbiggJ2NvbmZpcm0nLCBmdW5jdGlvbiggcmVzcmMsIG1lc3NhZ2UgKSB7XG4gICAgICBfdGhpcy5jb25maXJtKCByZXNyYy5pc0xvYWRlZCwgbWVzc2FnZSApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG5cbiAgICByZXNvdXJjZS5jaGVjaygpO1xuICB9O1xuXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUuY29uZmlybSA9IGZ1bmN0aW9uKCBpc0xvYWRlZCwgbWVzc2FnZSApIHtcbiAgICB0aGlzLmlzTG9hZGVkID0gaXNMb2FkZWQ7XG4gICAgdGhpcy5lbWl0KCAnY29uZmlybScsIHRoaXMsIG1lc3NhZ2UgKTtcbiAgfTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBSZXNvdXJjZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8vIFJlc291cmNlIGNoZWNrcyBlYWNoIHNyYywgb25seSBvbmNlXG4gIC8vIHNlcGFyYXRlIGNsYXNzIGZyb20gTG9hZGluZ0ltYWdlIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzLiBTZWUgIzExNVxuXG4gIHZhciBjYWNoZSA9IHt9O1xuXG4gIGZ1bmN0aW9uIFJlc291cmNlKCBzcmMgKSB7XG4gICAgdGhpcy5zcmMgPSBzcmM7XG4gICAgLy8gYWRkIHRvIGNhY2hlXG4gICAgY2FjaGVbIHNyYyBdID0gdGhpcztcbiAgfVxuXG4gIFJlc291cmNlLnByb3RvdHlwZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBSZXNvdXJjZS5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBvbmx5IHRyaWdnZXIgY2hlY2tpbmcgb25jZVxuICAgIGlmICggdGhpcy5pc0NoZWNrZWQgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHNpbXVsYXRlIGxvYWRpbmcgb24gZGV0YWNoZWQgZWxlbWVudFxuICAgIHZhciBwcm94eUltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgZXZlbnRpZS5iaW5kKCBwcm94eUltYWdlLCAnbG9hZCcsIHRoaXMgKTtcbiAgICBldmVudGllLmJpbmQoIHByb3h5SW1hZ2UsICdlcnJvcicsIHRoaXMgKTtcbiAgICBwcm94eUltYWdlLnNyYyA9IHRoaXMuc3JjO1xuICAgIC8vIHNldCBmbGFnXG4gICAgdGhpcy5pc0NoZWNrZWQgPSB0cnVlO1xuICB9O1xuXG4gIC8vIC0tLS0tIGV2ZW50cyAtLS0tLSAvL1xuXG4gIC8vIHRyaWdnZXIgc3BlY2lmaWVkIGhhbmRsZXIgZm9yIGV2ZW50IHR5cGVcbiAgUmVzb3VyY2UucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgIHZhciBtZXRob2QgPSAnb24nICsgZXZlbnQudHlwZTtcbiAgICBpZiAoIHRoaXNbIG1ldGhvZCBdICkge1xuICAgICAgdGhpc1sgbWV0aG9kIF0oIGV2ZW50ICk7XG4gICAgfVxuICB9O1xuXG4gIFJlc291cmNlLnByb3RvdHlwZS5vbmxvYWQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgdGhpcy5jb25maXJtKCB0cnVlLCAnb25sb2FkJyApO1xuICAgIHRoaXMudW5iaW5kUHJveHlFdmVudHMoIGV2ZW50ICk7XG4gIH07XG5cbiAgUmVzb3VyY2UucHJvdG90eXBlLm9uZXJyb3IgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgdGhpcy5jb25maXJtKCBmYWxzZSwgJ29uZXJyb3InICk7XG4gICAgdGhpcy51bmJpbmRQcm94eUV2ZW50cyggZXZlbnQgKTtcbiAgfTtcblxuICAvLyAtLS0tLSBjb25maXJtIC0tLS0tIC8vXG5cbiAgUmVzb3VyY2UucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiggaXNMb2FkZWQsIG1lc3NhZ2UgKSB7XG4gICAgdGhpcy5pc0NvbmZpcm1lZCA9IHRydWU7XG4gICAgdGhpcy5pc0xvYWRlZCA9IGlzTG9hZGVkO1xuICAgIHRoaXMuZW1pdCggJ2NvbmZpcm0nLCB0aGlzLCBtZXNzYWdlICk7XG4gIH07XG5cbiAgUmVzb3VyY2UucHJvdG90eXBlLnVuYmluZFByb3h5RXZlbnRzID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgIGV2ZW50aWUudW5iaW5kKCBldmVudC50YXJnZXQsICdsb2FkJywgdGhpcyApO1xuICAgIGV2ZW50aWUudW5iaW5kKCBldmVudC50YXJnZXQsICdlcnJvcicsIHRoaXMgKTtcbiAgfTtcblxuICAvLyAtLS0tLSAgLS0tLS0gLy9cblxuICByZXR1cm4gSW1hZ2VzTG9hZGVkO1xuXG59KTtcbiIsIi8qIVxuICogZXZlbnRpZSB2MS4wLjZcbiAqIGV2ZW50IGJpbmRpbmcgaGVscGVyXG4gKiAgIGV2ZW50aWUuYmluZCggZWxlbSwgJ2NsaWNrJywgbXlGbiApXG4gKiAgIGV2ZW50aWUudW5iaW5kKCBlbGVtLCAnY2xpY2snLCBteUZuIClcbiAqIE1JVCBsaWNlbnNlXG4gKi9cblxuLypqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgdW5kZWY6IHRydWUsIHVudXNlZDogdHJ1ZSAqL1xuLypnbG9iYWwgZGVmaW5lOiBmYWxzZSwgbW9kdWxlOiBmYWxzZSAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3cgKSB7XG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbnZhciBiaW5kID0gZnVuY3Rpb24oKSB7fTtcblxuZnVuY3Rpb24gZ2V0SUVFdmVudCggb2JqICkge1xuICB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7XG4gIC8vIGFkZCBldmVudC50YXJnZXRcbiAgZXZlbnQudGFyZ2V0ID0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQgfHwgb2JqO1xuICByZXR1cm4gZXZlbnQ7XG59XG5cbmlmICggZG9jRWxlbS5hZGRFdmVudExpc3RlbmVyICkge1xuICBiaW5kID0gZnVuY3Rpb24oIG9iaiwgdHlwZSwgZm4gKSB7XG4gICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGZuLCBmYWxzZSApO1xuICB9O1xufSBlbHNlIGlmICggZG9jRWxlbS5hdHRhY2hFdmVudCApIHtcbiAgYmluZCA9IGZ1bmN0aW9uKCBvYmosIHR5cGUsIGZuICkge1xuICAgIG9ialsgdHlwZSArIGZuIF0gPSBmbi5oYW5kbGVFdmVudCA/XG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gZ2V0SUVFdmVudCggb2JqICk7XG4gICAgICAgIGZuLmhhbmRsZUV2ZW50LmNhbGwoIGZuLCBldmVudCApO1xuICAgICAgfSA6XG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gZ2V0SUVFdmVudCggb2JqICk7XG4gICAgICAgIGZuLmNhbGwoIG9iaiwgZXZlbnQgKTtcbiAgICAgIH07XG4gICAgb2JqLmF0dGFjaEV2ZW50KCBcIm9uXCIgKyB0eXBlLCBvYmpbIHR5cGUgKyBmbiBdICk7XG4gIH07XG59XG5cbnZhciB1bmJpbmQgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAoIGRvY0VsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciApIHtcbiAgdW5iaW5kID0gZnVuY3Rpb24oIG9iaiwgdHlwZSwgZm4gKSB7XG4gICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGZuLCBmYWxzZSApO1xuICB9O1xufSBlbHNlIGlmICggZG9jRWxlbS5kZXRhY2hFdmVudCApIHtcbiAgdW5iaW5kID0gZnVuY3Rpb24oIG9iaiwgdHlwZSwgZm4gKSB7XG4gICAgb2JqLmRldGFjaEV2ZW50KCBcIm9uXCIgKyB0eXBlLCBvYmpbIHR5cGUgKyBmbiBdICk7XG4gICAgdHJ5IHtcbiAgICAgIGRlbGV0ZSBvYmpbIHR5cGUgKyBmbiBdO1xuICAgIH0gY2F0Y2ggKCBlcnIgKSB7XG4gICAgICAvLyBjYW4ndCBkZWxldGUgd2luZG93IG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICBvYmpbIHR5cGUgKyBmbiBdID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGV2ZW50aWUgPSB7XG4gIGJpbmQ6IGJpbmQsXG4gIHVuYmluZDogdW5iaW5kXG59O1xuXG4vLyAtLS0tLSBtb2R1bGUgZGVmaW5pdGlvbiAtLS0tLSAvL1xuXG5pZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgLy8gQU1EXG4gIGRlZmluZSggZXZlbnRpZSApO1xufSBlbHNlIGlmICggdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICkge1xuICAvLyBDb21tb25KU1xuICBtb2R1bGUuZXhwb3J0cyA9IGV2ZW50aWU7XG59IGVsc2Uge1xuICAvLyBicm93c2VyIGdsb2JhbFxuICB3aW5kb3cuZXZlbnRpZSA9IGV2ZW50aWU7XG59XG5cbn0pKCB3aW5kb3cgKTtcbiIsIi8qIVxuICogRXZlbnRFbWl0dGVyIHY0LjIuMTEgLSBnaXQuaW8vZWVcbiAqIFVubGljZW5zZSAtIGh0dHA6Ly91bmxpY2Vuc2Uub3JnL1xuICogT2xpdmVyIENhbGR3ZWxsIC0gaHR0cDovL29saS5tZS51ay9cbiAqIEBwcmVzZXJ2ZVxuICovXG5cbjsoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIENsYXNzIGZvciBtYW5hZ2luZyBldmVudHMuXG4gICAgICogQ2FuIGJlIGV4dGVuZGVkIHRvIHByb3ZpZGUgZXZlbnQgZnVuY3Rpb25hbGl0eSBpbiBvdGhlciBjbGFzc2VzLlxuICAgICAqXG4gICAgICogQGNsYXNzIEV2ZW50RW1pdHRlciBNYW5hZ2VzIGV2ZW50IHJlZ2lzdGVyaW5nIGFuZCBlbWl0dGluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7fVxuXG4gICAgLy8gU2hvcnRjdXRzIHRvIGltcHJvdmUgc3BlZWQgYW5kIHNpemVcbiAgICB2YXIgcHJvdG8gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlO1xuICAgIHZhciBleHBvcnRzID0gdGhpcztcbiAgICB2YXIgb3JpZ2luYWxHbG9iYWxWYWx1ZSA9IGV4cG9ydHMuRXZlbnRFbWl0dGVyO1xuXG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIGluZGV4IG9mIHRoZSBsaXN0ZW5lciBmb3IgdGhlIGV2ZW50IGluIGl0cyBzdG9yYWdlIGFycmF5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbltdfSBsaXN0ZW5lcnMgQXJyYXkgb2YgbGlzdGVuZXJzIHRvIHNlYXJjaCB0aHJvdWdoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byBsb29rIGZvci5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEluZGV4IG9mIHRoZSBzcGVjaWZpZWQgbGlzdGVuZXIsIC0xIGlmIG5vdCBmb3VuZFxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluZGV4T2ZMaXN0ZW5lcihsaXN0ZW5lcnMsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBpID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBhIG1ldGhvZCB3aGlsZSBrZWVwaW5nIHRoZSBjb250ZXh0IGNvcnJlY3QsIHRvIGFsbG93IGZvciBvdmVyd3JpdGluZyBvZiB0YXJnZXQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHRhcmdldCBtZXRob2QuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IFRoZSBhbGlhc2VkIG1ldGhvZFxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFsaWFzKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGFsaWFzQ2xvc3VyZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW25hbWVdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gICAgICogV2lsbCBpbml0aWFsaXNlIHRoZSBldmVudCBvYmplY3QgYW5kIGxpc3RlbmVyIGFycmF5cyBpZiByZXF1aXJlZC5cbiAgICAgKiBXaWxsIHJldHVybiBhbiBvYmplY3QgaWYgeW91IHVzZSBhIHJlZ2V4IHNlYXJjaC4gVGhlIG9iamVjdCBjb250YWlucyBrZXlzIGZvciBlYWNoIG1hdGNoZWQgZXZlbnQuIFNvIC9iYVtyel0vIG1pZ2h0IHJldHVybiBhbiBvYmplY3QgY29udGFpbmluZyBiYXIgYW5kIGJhei4gQnV0IG9ubHkgaWYgeW91IGhhdmUgZWl0aGVyIGRlZmluZWQgdGhlbSB3aXRoIGRlZmluZUV2ZW50IG9yIGFkZGVkIHNvbWUgbGlzdGVuZXJzIHRvIHRoZW0uXG4gICAgICogRWFjaCBwcm9wZXJ0eSBpbiB0aGUgb2JqZWN0IHJlc3BvbnNlIGlzIGFuIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIHJldHVybiB0aGUgbGlzdGVuZXJzIGZyb20uXG4gICAgICogQHJldHVybiB7RnVuY3Rpb25bXXxPYmplY3R9IEFsbCBsaXN0ZW5lciBmdW5jdGlvbnMgZm9yIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICBwcm90by5nZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRMaXN0ZW5lcnMoZXZ0KSB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLl9nZXRFdmVudHMoKTtcbiAgICAgICAgdmFyIHJlc3BvbnNlO1xuICAgICAgICB2YXIga2V5O1xuXG4gICAgICAgIC8vIFJldHVybiBhIGNvbmNhdGVuYXRlZCBhcnJheSBvZiBhbGwgbWF0Y2hpbmcgZXZlbnRzIGlmXG4gICAgICAgIC8vIHRoZSBzZWxlY3RvciBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAgICAgICAgaWYgKGV2dCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSB7fTtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIGV2ZW50cykge1xuICAgICAgICAgICAgICAgIGlmIChldmVudHMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBldnQudGVzdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlW2tleV0gPSBldmVudHNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IGV2ZW50c1tldnRdIHx8IChldmVudHNbZXZ0XSA9IFtdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGFrZXMgYSBsaXN0IG9mIGxpc3RlbmVyIG9iamVjdHMgYW5kIGZsYXR0ZW5zIGl0IGludG8gYSBsaXN0IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IGxpc3RlbmVycyBSYXcgbGlzdGVuZXIgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbltdfSBKdXN0IHRoZSBsaXN0ZW5lciBmdW5jdGlvbnMuXG4gICAgICovXG4gICAgcHJvdG8uZmxhdHRlbkxpc3RlbmVycyA9IGZ1bmN0aW9uIGZsYXR0ZW5MaXN0ZW5lcnMobGlzdGVuZXJzKSB7XG4gICAgICAgIHZhciBmbGF0TGlzdGVuZXJzID0gW107XG4gICAgICAgIHZhciBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGZsYXRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcnNbaV0ubGlzdGVuZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZsYXRMaXN0ZW5lcnM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIHJlcXVlc3RlZCBsaXN0ZW5lcnMgdmlhIGdldExpc3RlbmVycyBidXQgd2lsbCBhbHdheXMgcmV0dXJuIHRoZSByZXN1bHRzIGluc2lkZSBhbiBvYmplY3QuIFRoaXMgaXMgbWFpbmx5IGZvciBpbnRlcm5hbCB1c2UgYnV0IG90aGVycyBtYXkgZmluZCBpdCB1c2VmdWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byByZXR1cm4gdGhlIGxpc3RlbmVycyBmcm9tLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQWxsIGxpc3RlbmVyIGZ1bmN0aW9ucyBmb3IgYW4gZXZlbnQgaW4gYW4gb2JqZWN0LlxuICAgICAqL1xuICAgIHByb3RvLmdldExpc3RlbmVyc0FzT2JqZWN0ID0gZnVuY3Rpb24gZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmdldExpc3RlbmVycyhldnQpO1xuICAgICAgICB2YXIgcmVzcG9uc2U7XG5cbiAgICAgICAgaWYgKGxpc3RlbmVycyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IHt9O1xuICAgICAgICAgICAgcmVzcG9uc2VbZXZ0XSA9IGxpc3RlbmVycztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNwb25zZSB8fCBsaXN0ZW5lcnM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciBmdW5jdGlvbiB0byB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICAgICAqIFRoZSBsaXN0ZW5lciB3aWxsIG5vdCBiZSBhZGRlZCBpZiBpdCBpcyBhIGR1cGxpY2F0ZS5cbiAgICAgKiBJZiB0aGUgbGlzdGVuZXIgcmV0dXJucyB0cnVlIHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkIGFmdGVyIGl0IGlzIGNhbGxlZC5cbiAgICAgKiBJZiB5b3UgcGFzcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhcyB0aGUgZXZlbnQgbmFtZSB0aGVuIHRoZSBsaXN0ZW5lciB3aWxsIGJlIGFkZGVkIHRvIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGF0dGFjaCB0aGUgbGlzdGVuZXIgdG8uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgTWV0aG9kIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyBlbWl0dGVkLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkIGFmdGVyIGNhbGxpbmcuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8uYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcihldnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGV2dCk7XG4gICAgICAgIHZhciBsaXN0ZW5lcklzV3JhcHBlZCA9IHR5cGVvZiBsaXN0ZW5lciA9PT0gJ29iamVjdCc7XG4gICAgICAgIHZhciBrZXk7XG5cbiAgICAgICAgZm9yIChrZXkgaW4gbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGtleSkgJiYgaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVyc1trZXldLCBsaXN0ZW5lcikgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzW2tleV0ucHVzaChsaXN0ZW5lcklzV3JhcHBlZCA/IGxpc3RlbmVyIDoge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcjogbGlzdGVuZXIsXG4gICAgICAgICAgICAgICAgICAgIG9uY2U6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxpYXMgb2YgYWRkTGlzdGVuZXJcbiAgICAgKi9cbiAgICBwcm90by5vbiA9IGFsaWFzKCdhZGRMaXN0ZW5lcicpO1xuXG4gICAgLyoqXG4gICAgICogU2VtaS1hbGlhcyBvZiBhZGRMaXN0ZW5lci4gSXQgd2lsbCBhZGQgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmVcbiAgICAgKiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgYWZ0ZXIgaXRzIGZpcnN0IGV4ZWN1dGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGF0dGFjaCB0aGUgbGlzdGVuZXIgdG8uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgTWV0aG9kIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyBlbWl0dGVkLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkIGFmdGVyIGNhbGxpbmcuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8uYWRkT25jZUxpc3RlbmVyID0gZnVuY3Rpb24gYWRkT25jZUxpc3RlbmVyKGV2dCwgbGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTGlzdGVuZXIoZXZ0LCB7XG4gICAgICAgICAgICBsaXN0ZW5lcjogbGlzdGVuZXIsXG4gICAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBvZiBhZGRPbmNlTGlzdGVuZXIuXG4gICAgICovXG4gICAgcHJvdG8ub25jZSA9IGFsaWFzKCdhZGRPbmNlTGlzdGVuZXInKTtcblxuICAgIC8qKlxuICAgICAqIERlZmluZXMgYW4gZXZlbnQgbmFtZS4gVGhpcyBpcyByZXF1aXJlZCBpZiB5b3Ugd2FudCB0byB1c2UgYSByZWdleCB0byBhZGQgYSBsaXN0ZW5lciB0byBtdWx0aXBsZSBldmVudHMgYXQgb25jZS4gSWYgeW91IGRvbid0IGRvIHRoaXMgdGhlbiBob3cgZG8geW91IGV4cGVjdCBpdCB0byBrbm93IHdoYXQgZXZlbnQgdG8gYWRkIHRvPyBTaG91bGQgaXQganVzdCBhZGQgdG8gZXZlcnkgcG9zc2libGUgbWF0Y2ggZm9yIGEgcmVnZXg/IE5vLiBUaGF0IGlzIHNjYXJ5IGFuZCBiYWQuXG4gICAgICogWW91IG5lZWQgdG8gdGVsbCBpdCB3aGF0IGV2ZW50IG5hbWVzIHNob3VsZCBiZSBtYXRjaGVkIGJ5IGEgcmVnZXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGNyZWF0ZS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5kZWZpbmVFdmVudCA9IGZ1bmN0aW9uIGRlZmluZUV2ZW50KGV2dCkge1xuICAgICAgICB0aGlzLmdldExpc3RlbmVycyhldnQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlcyBkZWZpbmVFdmVudCB0byBkZWZpbmUgbXVsdGlwbGUgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmdbXX0gZXZ0cyBBbiBhcnJheSBvZiBldmVudCBuYW1lcyB0byBkZWZpbmUuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8uZGVmaW5lRXZlbnRzID0gZnVuY3Rpb24gZGVmaW5lRXZlbnRzKGV2dHMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0aGlzLmRlZmluZUV2ZW50KGV2dHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgbGlzdGVuZXIgZnVuY3Rpb24gZnJvbSB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICAgICAqIFdoZW4gcGFzc2VkIGEgcmVndWxhciBleHByZXNzaW9uIGFzIHRoZSBldmVudCBuYW1lLCBpdCB3aWxsIHJlbW92ZSB0aGUgbGlzdGVuZXIgZnJvbSBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byByZW1vdmUgdGhlIGxpc3RlbmVyIGZyb20uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgTWV0aG9kIHRvIHJlbW92ZSBmcm9tIHRoZSBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2dCwgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KTtcbiAgICAgICAgdmFyIGluZGV4O1xuICAgICAgICB2YXIga2V5O1xuXG4gICAgICAgIGZvciAoa2V5IGluIGxpc3RlbmVycykge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpbmRleE9mTGlzdGVuZXIobGlzdGVuZXJzW2tleV0sIGxpc3RlbmVyKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzW2tleV0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxpYXMgb2YgcmVtb3ZlTGlzdGVuZXJcbiAgICAgKi9cbiAgICBwcm90by5vZmYgPSBhbGlhcygncmVtb3ZlTGlzdGVuZXInKTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgbGlzdGVuZXJzIGluIGJ1bGsgdXNpbmcgdGhlIG1hbmlwdWxhdGVMaXN0ZW5lcnMgbWV0aG9kLlxuICAgICAqIElmIHlvdSBwYXNzIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHlvdSBjYW4gYWRkIHRvIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBUaGUgb2JqZWN0IHNob3VsZCBjb250YWluIGtleSB2YWx1ZSBwYWlycyBvZiBldmVudHMgYW5kIGxpc3RlbmVycyBvciBsaXN0ZW5lciBhcnJheXMuIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGFuIGV2ZW50IG5hbWUgYW5kIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0byBiZSBhZGRlZC5cbiAgICAgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBhZGQgdGhlIGFycmF5IG9mIGxpc3RlbmVycyB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG4gICAgICogWWVhaCwgdGhpcyBmdW5jdGlvbiBkb2VzIHF1aXRlIGEgYml0LiBUaGF0J3MgcHJvYmFibHkgYSBiYWQgdGhpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8UmVnRXhwfSBldnQgQW4gZXZlbnQgbmFtZSBpZiB5b3Ugd2lsbCBwYXNzIGFuIGFycmF5IG9mIGxpc3RlbmVycyBuZXh0LiBBbiBvYmplY3QgaWYgeW91IHdpc2ggdG8gYWRkIHRvIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gW2xpc3RlbmVyc10gQW4gb3B0aW9uYWwgYXJyYXkgb2YgbGlzdGVuZXIgZnVuY3Rpb25zIHRvIGFkZC5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5hZGRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcnMoZXZ0LCBsaXN0ZW5lcnMpIHtcbiAgICAgICAgLy8gUGFzcyB0aHJvdWdoIHRvIG1hbmlwdWxhdGVMaXN0ZW5lcnNcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaXB1bGF0ZUxpc3RlbmVycyhmYWxzZSwgZXZ0LCBsaXN0ZW5lcnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGxpc3RlbmVycyBpbiBidWxrIHVzaW5nIHRoZSBtYW5pcHVsYXRlTGlzdGVuZXJzIG1ldGhvZC5cbiAgICAgKiBJZiB5b3UgcGFzcyBhbiBvYmplY3QgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB5b3UgY2FuIHJlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBUaGUgb2JqZWN0IHNob3VsZCBjb250YWluIGtleSB2YWx1ZSBwYWlycyBvZiBldmVudHMgYW5kIGxpc3RlbmVycyBvciBsaXN0ZW5lciBhcnJheXMuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYW4gZXZlbnQgbmFtZSBhbmQgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRvIGJlIHJlbW92ZWQuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgZnJvbSBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8UmVnRXhwfSBldnQgQW4gZXZlbnQgbmFtZSBpZiB5b3Ugd2lsbCBwYXNzIGFuIGFycmF5IG9mIGxpc3RlbmVycyBuZXh0LiBBbiBvYmplY3QgaWYgeW91IHdpc2ggdG8gcmVtb3ZlIGZyb20gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbltdfSBbbGlzdGVuZXJzXSBBbiBvcHRpb25hbCBhcnJheSBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLnJlbW92ZUxpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVycyhldnQsIGxpc3RlbmVycykge1xuICAgICAgICAvLyBQYXNzIHRocm91Z2ggdG8gbWFuaXB1bGF0ZUxpc3RlbmVyc1xuICAgICAgICByZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKHRydWUsIGV2dCwgbGlzdGVuZXJzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRWRpdHMgbGlzdGVuZXJzIGluIGJ1bGsuIFRoZSBhZGRMaXN0ZW5lcnMgYW5kIHJlbW92ZUxpc3RlbmVycyBtZXRob2RzIGJvdGggdXNlIHRoaXMgdG8gZG8gdGhlaXIgam9iLiBZb3Ugc2hvdWxkIHJlYWxseSB1c2UgdGhvc2UgaW5zdGVhZCwgdGhpcyBpcyBhIGxpdHRsZSBsb3dlciBsZXZlbC5cbiAgICAgKiBUaGUgZmlyc3QgYXJndW1lbnQgd2lsbCBkZXRlcm1pbmUgaWYgdGhlIGxpc3RlbmVycyBhcmUgcmVtb3ZlZCAodHJ1ZSkgb3IgYWRkZWQgKGZhbHNlKS5cbiAgICAgKiBJZiB5b3UgcGFzcyBhbiBvYmplY3QgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB5b3UgY2FuIGFkZC9yZW1vdmUgZnJvbSBtdWx0aXBsZSBldmVudHMgYXQgb25jZS4gVGhlIG9iamVjdCBzaG91bGQgY29udGFpbiBrZXkgdmFsdWUgcGFpcnMgb2YgZXZlbnRzIGFuZCBsaXN0ZW5lcnMgb3IgbGlzdGVuZXIgYXJyYXlzLlxuICAgICAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGFuIGV2ZW50IG5hbWUgYW5kIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0byBiZSBhZGRlZC9yZW1vdmVkLlxuICAgICAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGEgcmVndWxhciBleHByZXNzaW9uIHRvIG1hbmlwdWxhdGUgdGhlIGxpc3RlbmVycyBvZiBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHJlbW92ZSBUcnVlIGlmIHlvdSB3YW50IHRvIHJlbW92ZSBsaXN0ZW5lcnMsIGZhbHNlIGlmIHlvdSB3YW50IHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8UmVnRXhwfSBldnQgQW4gZXZlbnQgbmFtZSBpZiB5b3Ugd2lsbCBwYXNzIGFuIGFycmF5IG9mIGxpc3RlbmVycyBuZXh0LiBBbiBvYmplY3QgaWYgeW91IHdpc2ggdG8gYWRkL3JlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gW2xpc3RlbmVyc10gQW4gb3B0aW9uYWwgYXJyYXkgb2YgbGlzdGVuZXIgZnVuY3Rpb25zIHRvIGFkZC9yZW1vdmUuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8ubWFuaXB1bGF0ZUxpc3RlbmVycyA9IGZ1bmN0aW9uIG1hbmlwdWxhdGVMaXN0ZW5lcnMocmVtb3ZlLCBldnQsIGxpc3RlbmVycykge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICB2YXIgc2luZ2xlID0gcmVtb3ZlID8gdGhpcy5yZW1vdmVMaXN0ZW5lciA6IHRoaXMuYWRkTGlzdGVuZXI7XG4gICAgICAgIHZhciBtdWx0aXBsZSA9IHJlbW92ZSA/IHRoaXMucmVtb3ZlTGlzdGVuZXJzIDogdGhpcy5hZGRMaXN0ZW5lcnM7XG5cbiAgICAgICAgLy8gSWYgZXZ0IGlzIGFuIG9iamVjdCB0aGVuIHBhc3MgZWFjaCBvZiBpdHMgcHJvcGVydGllcyB0byB0aGlzIG1ldGhvZFxuICAgICAgICBpZiAodHlwZW9mIGV2dCA9PT0gJ29iamVjdCcgJiYgIShldnQgaW5zdGFuY2VvZiBSZWdFeHApKSB7XG4gICAgICAgICAgICBmb3IgKGkgaW4gZXZ0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2dC5oYXNPd25Qcm9wZXJ0eShpKSAmJiAodmFsdWUgPSBldnRbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgdGhlIHNpbmdsZSBsaXN0ZW5lciBzdHJhaWdodCB0aHJvdWdoIHRvIHRoZSBzaW5ndWxhciBtZXRob2RcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlLmNhbGwodGhpcywgaSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHBhc3MgYmFjayB0byB0aGUgbXVsdGlwbGUgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlLmNhbGwodGhpcywgaSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gU28gZXZ0IG11c3QgYmUgYSBzdHJpbmdcbiAgICAgICAgICAgIC8vIEFuZCBsaXN0ZW5lcnMgbXVzdCBiZSBhbiBhcnJheSBvZiBsaXN0ZW5lcnNcbiAgICAgICAgICAgIC8vIExvb3Agb3ZlciBpdCBhbmQgcGFzcyBlYWNoIG9uZSB0byB0aGUgbXVsdGlwbGUgbWV0aG9kXG4gICAgICAgICAgICBpID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICBzaW5nbGUuY2FsbCh0aGlzLCBldnQsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgbGlzdGVuZXJzIGZyb20gYSBzcGVjaWZpZWQgZXZlbnQuXG4gICAgICogSWYgeW91IGRvIG5vdCBzcGVjaWZ5IGFuIGV2ZW50IHRoZW4gYWxsIGxpc3RlbmVycyB3aWxsIGJlIHJlbW92ZWQuXG4gICAgICogVGhhdCBtZWFucyBldmVyeSBldmVudCB3aWxsIGJlIGVtcHRpZWQuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgYSByZWdleCB0byByZW1vdmUgYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBbZXZ0XSBPcHRpb25hbCBuYW1lIG9mIHRoZSBldmVudCB0byByZW1vdmUgYWxsIGxpc3RlbmVycyBmb3IuIFdpbGwgcmVtb3ZlIGZyb20gZXZlcnkgZXZlbnQgaWYgbm90IHBhc3NlZC5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50KGV2dCkge1xuICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiBldnQ7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLl9nZXRFdmVudHMoKTtcbiAgICAgICAgdmFyIGtleTtcblxuICAgICAgICAvLyBSZW1vdmUgZGlmZmVyZW50IHRoaW5ncyBkZXBlbmRpbmcgb24gdGhlIHN0YXRlIG9mIGV2dFxuICAgICAgICBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50XG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW2V2dF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZ0IGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgYWxsIGV2ZW50cyBtYXRjaGluZyB0aGUgcmVnZXguXG4gICAgICAgICAgICBmb3IgKGtleSBpbiBldmVudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzLmhhc093blByb3BlcnR5KGtleSkgJiYgZXZ0LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZXZlbnRzW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgaW4gYWxsIGV2ZW50c1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBvZiByZW1vdmVFdmVudC5cbiAgICAgKlxuICAgICAqIEFkZGVkIHRvIG1pcnJvciB0aGUgbm9kZSBBUEkuXG4gICAgICovXG4gICAgcHJvdG8ucmVtb3ZlQWxsTGlzdGVuZXJzID0gYWxpYXMoJ3JlbW92ZUV2ZW50Jyk7XG5cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhbiBldmVudCBvZiB5b3VyIGNob2ljZS5cbiAgICAgKiBXaGVuIGVtaXR0ZWQsIGV2ZXJ5IGxpc3RlbmVyIGF0dGFjaGVkIHRvIHRoYXQgZXZlbnQgd2lsbCBiZSBleGVjdXRlZC5cbiAgICAgKiBJZiB5b3UgcGFzcyB0aGUgb3B0aW9uYWwgYXJndW1lbnQgYXJyYXkgdGhlbiB0aG9zZSBhcmd1bWVudHMgd2lsbCBiZSBwYXNzZWQgdG8gZXZlcnkgbGlzdGVuZXIgdXBvbiBleGVjdXRpb24uXG4gICAgICogQmVjYXVzZSBpdCB1c2VzIGBhcHBseWAsIHlvdXIgYXJyYXkgb2YgYXJndW1lbnRzIHdpbGwgYmUgcGFzc2VkIGFzIGlmIHlvdSB3cm90ZSB0aGVtIG91dCBzZXBhcmF0ZWx5LlxuICAgICAqIFNvIHRoZXkgd2lsbCBub3QgYXJyaXZlIHdpdGhpbiB0aGUgYXJyYXkgb24gdGhlIG90aGVyIHNpZGUsIHRoZXkgd2lsbCBiZSBzZXBhcmF0ZS5cbiAgICAgKiBZb3UgY2FuIGFsc28gcGFzcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBlbWl0IHRvIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGVtaXQgYW5kIGV4ZWN1dGUgbGlzdGVuZXJzIGZvci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnc10gT3B0aW9uYWwgYXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byBlYWNoIGxpc3RlbmVyLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmVtaXRFdmVudCA9IGZ1bmN0aW9uIGVtaXRFdmVudChldnQsIGFyZ3MpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KTtcbiAgICAgICAgdmFyIGxpc3RlbmVyO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgdmFyIHJlc3BvbnNlO1xuXG4gICAgICAgIGZvciAoa2V5IGluIGxpc3RlbmVycykge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgaSA9IGxpc3RlbmVyc1trZXldLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGxpc3RlbmVyIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHNoYWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGVpdGhlciB3aXRoIGEgYmFzaWMgY2FsbCBvciBhbiBhcHBseSBpZiB0aGVyZSBpcyBhbiBhcmdzIGFycmF5XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXJzW2tleV1baV07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm9uY2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lci5saXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGxpc3RlbmVyLmxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3MgfHwgW10pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSA9PT0gdGhpcy5fZ2V0T25jZVJldHVyblZhbHVlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lci5saXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxpYXMgb2YgZW1pdEV2ZW50XG4gICAgICovXG4gICAgcHJvdG8udHJpZ2dlciA9IGFsaWFzKCdlbWl0RXZlbnQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRseSBkaWZmZXJlbnQgZnJvbSBlbWl0RXZlbnQgaW4gdGhhdCBpdCB3aWxsIHBhc3MgaXRzIGFyZ3VtZW50cyBvbiB0byB0aGUgbGlzdGVuZXJzLCBhcyBvcHBvc2VkIHRvIHRha2luZyBhIHNpbmdsZSBhcnJheSBvZiBhcmd1bWVudHMgdG8gcGFzcyBvbi5cbiAgICAgKiBBcyB3aXRoIGVtaXRFdmVudCwgeW91IGNhbiBwYXNzIGEgcmVnZXggaW4gcGxhY2Ugb2YgdGhlIGV2ZW50IG5hbWUgdG8gZW1pdCB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBlbWl0IGFuZCBleGVjdXRlIGxpc3RlbmVycyBmb3IuXG4gICAgICogQHBhcmFtIHsuLi4qfSBPcHRpb25hbCBhZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gZWFjaCBsaXN0ZW5lci5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5lbWl0ID0gZnVuY3Rpb24gZW1pdChldnQpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICByZXR1cm4gdGhpcy5lbWl0RXZlbnQoZXZ0LCBhcmdzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCB2YWx1ZSB0byBjaGVjayBhZ2FpbnN0IHdoZW4gZXhlY3V0aW5nIGxpc3RlbmVycy4gSWYgYVxuICAgICAqIGxpc3RlbmVycyByZXR1cm4gdmFsdWUgbWF0Y2hlcyB0aGUgb25lIHNldCBoZXJlIHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkXG4gICAgICogYWZ0ZXIgZXhlY3V0aW9uLiBUaGlzIHZhbHVlIGRlZmF1bHRzIHRvIHRydWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBuZXcgdmFsdWUgdG8gY2hlY2sgZm9yIHdoZW4gZXhlY3V0aW5nIGxpc3RlbmVycy5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5zZXRPbmNlUmV0dXJuVmFsdWUgPSBmdW5jdGlvbiBzZXRPbmNlUmV0dXJuVmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fb25jZVJldHVyblZhbHVlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHRoZSBjdXJyZW50IHZhbHVlIHRvIGNoZWNrIGFnYWluc3Qgd2hlbiBleGVjdXRpbmcgbGlzdGVuZXJzLiBJZlxuICAgICAqIHRoZSBsaXN0ZW5lcnMgcmV0dXJuIHZhbHVlIG1hdGNoZXMgdGhpcyBvbmUgdGhlbiBpdCBzaG91bGQgYmUgcmVtb3ZlZFxuICAgICAqIGF1dG9tYXRpY2FsbHkuIEl0IHdpbGwgcmV0dXJuIHRydWUgYnkgZGVmYXVsdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4geyp8Qm9vbGVhbn0gVGhlIGN1cnJlbnQgdmFsdWUgdG8gY2hlY2sgZm9yIG9yIHRoZSBkZWZhdWx0LCB0cnVlLlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLl9nZXRPbmNlUmV0dXJuVmFsdWUgPSBmdW5jdGlvbiBfZ2V0T25jZVJldHVyblZhbHVlKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eSgnX29uY2VSZXR1cm5WYWx1ZScpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25jZVJldHVyblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB0aGUgZXZlbnRzIG9iamVjdCBhbmQgY3JlYXRlcyBvbmUgaWYgcmVxdWlyZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBldmVudHMgc3RvcmFnZSBvYmplY3QuXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG8uX2dldEV2ZW50cyA9IGZ1bmN0aW9uIF9nZXRFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ldmVudHMgfHwgKHRoaXMuX2V2ZW50cyA9IHt9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV2ZXJ0cyB0aGUgZ2xvYmFsIHtAbGluayBFdmVudEVtaXR0ZXJ9IHRvIGl0cyBwcmV2aW91cyB2YWx1ZSBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGlzIHZlcnNpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gTm9uIGNvbmZsaWN0aW5nIEV2ZW50RW1pdHRlciBjbGFzcy5cbiAgICAgKi9cbiAgICBFdmVudEVtaXR0ZXIubm9Db25mbGljdCA9IGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICAgIGV4cG9ydHMuRXZlbnRFbWl0dGVyID0gb3JpZ2luYWxHbG9iYWxWYWx1ZTtcbiAgICAgICAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcbiAgICB9O1xuXG4gICAgLy8gRXhwb3NlIHRoZSBjbGFzcyBlaXRoZXIgdmlhIEFNRCwgQ29tbW9uSlMgb3IgdGhlIGdsb2JhbCBvYmplY3RcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpe1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4cG9ydHMuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuICAgIH1cbn0uY2FsbCh0aGlzKSk7XG4iLCIoIGZ1bmN0aW9uICggJCApIHtcblxuICAgIGlmICggd2luZG93Ll9fb3JkZXJseSApIHsgcmV0dXJuOyB9IHdpbmRvdy5fX29yZGVybHkgPSB0cnVlO1xuXG4gICAgdmFyICR3ID0gJCggd2luZG93ICk7XG5cbiAgICAkdy5vbiggJ3Jlc2l6ZScsIGZ1bmN0aW9uICggZSApIHtcbiAgICAgICAgJHcudHJpZ2dlciggJ29yZGVybHknICk7XG4gICAgfSk7XG5cbiAgICAvLyAtLS1cblxuICAgIHZhciBwcm90byA9IHt9O1xuXG4gICAgcHJvdG8uaW5pdCA9IGZ1bmN0aW9uICggJGVscyApIHtcbiAgICAgICAgdGhpcy4kZWxzID0gJGVscztcbiAgICAgICAgdGhpcy5sZW4gID0gJGVscy5sZW5ndGg7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qICAgIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgfn5+fn5+fn5+fn5+fn5+fn5+fn4gKi9cblxuICAgIHByb3RvLmF0dGFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCB0aGlzLmF0dGFjaGVkID09PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICB0aGlzLmF0dGFjaGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgJHcub24oICdvcmRlcmx5JywgX2RlYm91bmNlKCB0aGlzLmhhbmRsZXIoKSwgMTAwICkgKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90by5oYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF9yZXNldCggdGhhdCApO1xuICAgICAgICAgICAgX2VhY2hFbGVtZW50KCB0aGF0ICk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyogICAgUHJpdmF0ZVxuICAgICAgIH5+fn5+fn5+fn5+fn4gKi9cblxuICAgIHZhciBfZWFjaEVsZW1lbnQgPSBmdW5jdGlvbiAoIG9iaiApIHtcbiAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgb2JqLmxlbjsgKSB7XG4gICAgICAgICAgICBpID0gX2N1cnJlbnRSb3coIG9iaiwgbnVsbCwgMCwgW10sIGkgKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgX2N1cnJlbnRSb3cgPSBmdW5jdGlvbiAoIG9iaiwgbGFzdFBvcywgbWF4LCByb3csIGkgKSB7XG4gICAgICAgIGZvciAoIDsgaSA8IG9iai5sZW47ICkge1xuICAgICAgICAgICAgbGFzdFBvcyA9IF9pblJvdyggb2JqLCBsYXN0UG9zLCBpICk7XG5cbiAgICAgICAgICAgIGlmICggbGFzdFBvcyA9PT0gbnVsbCApIGJyZWFrO1xuXG4gICAgICAgICAgICBtYXggPSBfbWF4KCBvYmosIG1heCwgaSApO1xuICAgICAgICAgICAgcm93LnB1c2goIG9iai4kZWxzW2ldICk7XG5cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuXG4gICAgICAgIG1heCA9IF9tYXhQeCggbWF4ICk7XG5cbiAgICAgICAgX3Jlc2l6ZSggb2JqLCAkKCByb3cgKSwgbWF4ICk7XG5cbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfTtcblxuICAgIHZhciBfaW5Sb3cgPSBmdW5jdGlvbiAoIG9iaiwgbGFzdFBvcywgaSApIHtcbiAgICAgICAgdmFyICRlbCA9IG9iai4kZWxzLmVxKCBpIClcbiAgICAgICAgICAsIHBvcyA9ICRlbC5vZmZzZXQoKS5sZWZ0O1xuXG4gICAgICAgIGlmICggbGFzdFBvcyAhPT0gbnVsbCAmJiBwb3MgPD0gbGFzdFBvcyApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9O1xuXG4gICAgLy8gUmV0dXJucyBsYXJnZXIgb2YgbWF4IGFuZCBoZWlnaHQgb2YgZWxlbWVudCBpbmRleGVkIGkuXG4gICAgLy9cbiAgICB2YXIgX21heCA9IGZ1bmN0aW9uICggb2JqLCBtYXgsIGkgKSB7XG4gICAgICAgIHZhciBib3ggICAgID0gb2JqLiRlbHNbaV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgICAsIGN1cnJlbnQgPSBib3guYm90dG9tIC0gYm94LnRvcDtcblxuICAgICAgICByZXR1cm4gTWF0aC5tYXgoIG1heCwgY3VycmVudCApO1xuICAgIH07XG5cbiAgICAvLyBDb252ZXJ0cyBuIHRvIHB4IHZhbHVlIHN0cmluZyBmb3IgQ1NTLlxuICAgIC8vXG4gICAgdmFyIF9tYXhQeCA9IGZ1bmN0aW9uICggbiApIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoIG4gKS50b1N0cmluZygpICsgJ3B4JztcbiAgICB9O1xuXG4gICAgdmFyIF9yZXNpemUgPSBmdW5jdGlvbiAoIG9iaiwgJHJvdywgaGVpZ2h0ICkge1xuICAgICAgICAkcm93LmVhY2goIGZ1bmN0aW9uICggaSwgZWwgKSB7XG4gICAgICAgICAgICAkKCBlbCApLmNzcyggeyBoZWlnaHQ6IGhlaWdodCB9ICk7XG5cbiAgICAgICAgICAgIF9lbWl0KCBlbCwgJ3Jlc2l6ZScsIGhlaWdodCwgaSwgJHJvdy5sZW5ndGggKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBfcmVzZXQgPSBmdW5jdGlvbiAoIG9iaiApIHtcbiAgICAgICAgdmFyICRhbGwgPSBvYmouJGVscztcblxuICAgICAgICAkYWxsLmVhY2goIGZ1bmN0aW9uICggaSwgZWwgKSB7XG4gICAgICAgICAgICBfZW1pdCggZWwsICdyZXNldCcsICcnLCBpLCAkYWxsLmxlbmd0aCApO1xuXG4gICAgICAgICAgICAkKCBlbCApLmNzcyggeyBoZWlnaHQ6ICcnIH0gKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBfZW1pdCA9IGZ1bmN0aW9uICggZWwsIGV2ZW50LCBoLCBpLCBsICkge1xuICAgICAgICAkKCBlbCApLnRyaWdnZXIoICdvcmRlcmx5LicgKyBldmVudCwgWyBlbCwgaCwgaSwgbCBdICk7XG4gICAgfTtcblxuICAgIC8qICAgIGpRdWVyeSBQbHVnaW5cbiAgICAgICB+fn5+fn5+fn5+fn5+fn5+fn5+ICovXG5cbiAgICAkLmZuLm9yZGVybHkgPSBmdW5jdGlvbiAoIG9wdGlvbnMgKSB7XG4gICAgICAgIGlmICggdGhpcy5sZW5ndGggPiAwICkge1xuICAgICAgICAgICAgX2RlbGVnYXRlKCB0aGlzLCBvcHRpb25zICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLy8gLS0tXG5cbiAgICB2YXIgX2RlbGVnYXRlID0gZnVuY3Rpb24gKCAkZWxzLCBvcHRpb25zICkge1xuICAgICAgICB2YXIgbSAgPSBvcHRpb25zICYmIG9wdGlvbnMubWV0aG9kIHx8ICdyZWdpc3RlcidcbiAgICAgICAgICAsIGZuID0gX21ldGhvZHNbbV07XG5cbiAgICAgICAgZm4oICRlbHMgKTtcbiAgICB9O1xuXG4gICAgdmFyIF9yZWdpc3RlciA9IGZ1bmN0aW9uICggJGVscyApIHtcbiAgICAgICAgdmFyIG8gPSBPYmplY3QuY3JlYXRlKCBwcm90byApLmluaXQoICRlbHMgKTtcblxuICAgICAgICBvLmF0dGFjaCgpO1xuICAgICAgICBvLmhhbmRsZXIoKSgpO1xuICAgIH07XG5cbiAgICB2YXIgX21ldGhvZHMgPSB7fTtcblxuICAgIC8vIENhbGwgZm9yIGVhY2ggc3BlY2lmaWMgY29sbGVjdGlvbiBvZiBlbGVtZW50cyB0byBhbGlnbiBwZXIgcm93LlxuICAgIC8vXG4gICAgX21ldGhvZHNbJ3JlZ2lzdGVyJ10gPSBfcmVnaXN0ZXI7XG5cbiAgICAvLyBDYWxsIG9uIGEgY29sbGVjdGlvbiBvZiBwYXJlbnQgY29udGFpbmVycy4gRWFjaCBkaXJlY3QgY2hpbGQgZWxlbWVudFxuICAgIC8vIHdpbGwgYmUgZ2l2ZW4gb3JkZXJseSgpLlxuICAgIC8vXG4gICAgX21ldGhvZHNbJ2NoaWxkcmVuJ10gPSBmdW5jdGlvbiAoICRlbHMgKSB7XG4gICAgICAgIHZhciBjID0gX2luZGV4Q291bnRlcisrXG5cbiAgICAgICAgX2Fzc2lnbkRhdGEoICRlbHMsIGMgKTtcbiAgICAgICAgX3JlZ2lzdGVyKCAkZWxzICk7IC8vIG5vbi1jbGVhcmVkIGZsb2F0cyBmbHVzaC1sZWZ0IG9uIG5ldyByb3dcbiAgICAgICAgX3JlZ2lzdGVyQ2hpbGRyZW4oICRlbHMsIGMgKTtcbiAgICAgICAgX3JlZ2lzdGVyKCAkZWxzICk7XG4gICAgfTtcblxuICAgIHZhciBfcmVnaXN0ZXJDaGlsZHJlbiA9IGZ1bmN0aW9uICggJGVscywgYyApIHtcbiAgICAgICAgdmFyIGxlbiA9ICRlbHNbMF0uY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuICAgICAgICAgICAgX3JlZ2lzdGVyKCBfZmluZCggYywgaSApICk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQXNzaWduIGRhdGEtb3JkZXJseSBmb3IgYWxsIGNoaWxkcmVuIG9mIGVhY2ggZWxlbWVudC5cbiAgICAvL1xuICAgIHZhciBfYXNzaWduRGF0YSA9IGZ1bmN0aW9uICggJGVscywgYyApIHtcbiAgICAgICAgJGVscy5lYWNoKCBmdW5jdGlvbiAoIGksIGVsICkge1xuICAgICAgICAgICAgJCggZWwuY2hpbGRyZW4gKS5lYWNoKCBmdW5jdGlvbiAoIGksIGNoICkge1xuICAgICAgICAgICAgICAgICQoIGNoICkuYXR0ciggJ2RhdGEtb3JkZXJseScsIGMgKyAnOicgKyBpICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIFJldHVybiBjb2xsZWN0aW9uIG9mIGVsZW1lbnRzIG1hdGNoaW5nIGNvdW50ZXIgYyBhbmQgaW5kZXggaS5cbiAgICAvL1xuICAgIHZhciBfZmluZCA9IGZ1bmN0aW9uICggYywgaSApIHtcbiAgICAgICAgcmV0dXJuICQoICdbZGF0YS1vcmRlcmx5PVwiJyArIGMgKyAnOicgKyBpICsgJ1wiXScgKTtcbiAgICB9O1xuXG4gICAgLyogICAgVXRpbFxuICAgICAgIH5+fn5+fn5+fn4gKi9cblxuICAgIHZhciBfZGVib3VuY2UgPSBmdW5jdGlvbiAoIGZuLCBtcyApIHtcbiAgICAgICAgdmFyIHRpbWVvdXQ7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCggdGltZW91dCApO1xuXG4gICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCggZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcbiAgICAgICAgICAgIH0sIG1zICk7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qICAgIFN0YXRlXG4gICAgICAgfn5+fn5+fn5+fn4gKi9cblxuICAgIHZhciBfaW5kZXhDb3VudGVyID0gMDtcblxufSkoIGpRdWVyeSApO1xuIiwiLypfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbiBfIGpxdWVyeS5tYi5jb21wb25lbnRzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gZmlsZToganF1ZXJ5Lm1iLllUUGxheWVyLnNyYy5qcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIGxhc3QgbW9kaWZpZWQ6IDAxLzA3LzE1IDE5LjM1ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gT3BlbiBMYWIgcy5yLmwuLCBGbG9yZW5jZSAtIEl0YWx5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBlbWFpbDogbWF0dGVvQG9wZW4tbGFiLmNvbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gc2l0ZTogaHR0cDovL3B1cHVuemkuY29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgIGh0dHA6Ly9vcGVuLWxhYi5jb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBibG9nOiBodHRwOi8vcHVwdW56aS5vcGVuLWxhYi5jb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gUSZBOiAgaHR0cDovL2pxdWVyeS5wdXB1bnppLmNvbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBMaWNlbmNlczogTUlULCBHUEwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwuaHRtbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gQ29weXJpZ2h0IChjKSAyMDAxLTIwMTUuIE1hdHRlbyBCaWNvY2NoaSAoUHVwdW56aSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18qL1xudmFyIHl0cCA9IHl0cCB8fCB7fTtcblxud2luZG93Lm9uWW91VHViZUlmcmFtZUFQSVJlYWR5ID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYoIHl0cC5ZVEFQSVJlYWR5ICkgcmV0dXJuO1xuXHRcdHl0cC5ZVEFQSVJlYWR5ID0gdHJ1ZTtcblx0XHRqUXVlcnkoIGRvY3VtZW50ICkudHJpZ2dlciggXCJZVEFQSVJlYWR5XCIgKTtcbn1cblxudmFyIGdldFlUUFZpZGVvSUQgPSBmdW5jdGlvbiggdXJsICkge1xuXHRcdHZhciB2aWRlb0lELCBwbGF5bGlzdElEO1xuXHRcdGlmKCB1cmwuaW5kZXhPZiggXCJ5b3V0dS5iZVwiICkgPiAwICkge1xuXHRcdFx0XHR2aWRlb0lEID0gdXJsLnN1YnN0ciggdXJsLmxhc3RJbmRleE9mKCBcIi9cIiApICsgMSwgdXJsLmxlbmd0aCApO1xuXHRcdFx0XHRwbGF5bGlzdElEID0gdmlkZW9JRC5pbmRleE9mKCBcIj9saXN0PVwiICkgPiAwID8gdmlkZW9JRC5zdWJzdHIoIHZpZGVvSUQubGFzdEluZGV4T2YoIFwiPVwiICksIHZpZGVvSUQubGVuZ3RoICkgOiBudWxsO1xuXHRcdFx0XHR2aWRlb0lEID0gcGxheWxpc3RJRCA/IHZpZGVvSUQuc3Vic3RyKCAwLCB2aWRlb0lELmxhc3RJbmRleE9mKCBcIj9cIiApICkgOiB2aWRlb0lEO1xuXHRcdH0gZWxzZSBpZiggdXJsLmluZGV4T2YoIFwiaHR0cFwiICkgPiAtMSApIHtcblx0XHRcdFx0dmlkZW9JRCA9IHVybC5tYXRjaCggL1tcXFxcPyZddj0oW14mI10qKS8gKVsgMSBdO1xuXHRcdFx0XHRwbGF5bGlzdElEID0gdXJsLmluZGV4T2YoIFwibGlzdD1cIiApID4gMCA/IHVybC5tYXRjaCggL1tcXFxcPyZdbGlzdD0oW14mI10qKS8gKVsgMSBdIDogbnVsbDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2aWRlb0lEID0gdXJsLmxlbmd0aCA+IDE1ID8gbnVsbCA6IHVybDtcblx0XHRcdFx0cGxheWxpc3RJRCA9IHZpZGVvSUQgPyBudWxsIDogdXJsO1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0XHR2aWRlb0lEOiB2aWRlb0lELFxuXHRcdFx0XHRwbGF5bGlzdElEOiBwbGF5bGlzdElEXG5cdFx0fTtcbn07XG5cbiggZnVuY3Rpb24oIGpRdWVyeSwgeXRwICkge1xuXG5cdFx0alF1ZXJ5Lm1iWVRQbGF5ZXIgPSB7XG5cdFx0XHRcdG5hbWU6IFwianF1ZXJ5Lm1iLllUUGxheWVyXCIsXG5cdFx0XHRcdHZlcnNpb246IFwiMi45LjRcIixcblx0XHRcdFx0YnVpbGQ6IFwie3sgYnVpbGQgfX1cIixcblx0XHRcdFx0YXV0aG9yOiBcIk1hdHRlbyBCaWNvY2NoaVwiLFxuXHRcdFx0XHRhcGlLZXk6IFwiXCIsXG5cdFx0XHRcdGRlZmF1bHRzOiB7XG5cdFx0XHRcdFx0XHRjb250YWlubWVudDogXCJib2R5XCIsXG5cdFx0XHRcdFx0XHRyYXRpbzogXCJhdXRvXCIsIC8vIFwiYXV0b1wiLCBcIjE2LzlcIiwgXCI0LzNcIlxuXHRcdFx0XHRcdFx0dmlkZW9VUkw6IG51bGwsXG5cdFx0XHRcdFx0XHRwbGF5bGlzdFVSTDogbnVsbCxcblx0XHRcdFx0XHRcdHN0YXJ0QXQ6IDAsXG5cdFx0XHRcdFx0XHRzdG9wQXQ6IDAsXG5cdFx0XHRcdFx0XHRhdXRvUGxheTogdHJ1ZSxcblx0XHRcdFx0XHRcdHZvbDogNTAsIC8vIDEgdG8gMTAwXG5cdFx0XHRcdFx0XHRhZGRSYXN0ZXI6IGZhbHNlLFxuXHRcdFx0XHRcdFx0b3BhY2l0eTogMSxcblx0XHRcdFx0XHRcdHF1YWxpdHk6IFwiZGVmYXVsdFwiLCAvL29yIOKAnHNtYWxs4oCdLCDigJxtZWRpdW3igJ0sIOKAnGxhcmdl4oCdLCDigJxoZDcyMOKAnSwg4oCcaGQxMDgw4oCdLCDigJxoaWdocmVz4oCdXG5cdFx0XHRcdFx0XHRtdXRlOiBmYWxzZSxcblx0XHRcdFx0XHRcdGxvb3A6IHRydWUsXG5cdFx0XHRcdFx0XHRzaG93Q29udHJvbHM6IHRydWUsXG5cdFx0XHRcdFx0XHRzaG93QW5ub3RhdGlvbnM6IGZhbHNlLFxuXHRcdFx0XHRcdFx0c2hvd1lUTG9nbzogdHJ1ZSxcblx0XHRcdFx0XHRcdHN0b3BNb3ZpZU9uQmx1cjogdHJ1ZSxcblx0XHRcdFx0XHRcdHJlYWxmdWxsc2NyZWVuOiB0cnVlLFxuXHRcdFx0XHRcdFx0Z2FUcmFjazogdHJ1ZSxcblx0XHRcdFx0XHRcdG9wdGltaXplRGlzcGxheTogdHJ1ZSxcblx0XHRcdFx0XHRcdG9uUmVhZHk6IGZ1bmN0aW9uKCBwbGF5ZXIgKSB7fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKiBAZm9udGZhY2UgaWNvbnMgKi9cblx0XHRcdFx0Y29udHJvbHM6IHtcblx0XHRcdFx0XHRcdHBsYXk6IFwiUFwiLFxuXHRcdFx0XHRcdFx0cGF1c2U6IFwicFwiLFxuXHRcdFx0XHRcdFx0bXV0ZTogXCJNXCIsXG5cdFx0XHRcdFx0XHR1bm11dGU6IFwiQVwiLFxuXHRcdFx0XHRcdFx0b25seVlUOiBcIk9cIixcblx0XHRcdFx0XHRcdHNob3dTaXRlOiBcIlJcIixcblx0XHRcdFx0XHRcdHl0TG9nbzogXCJZXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0bG9jYXRpb25Qcm90b2NvbDogXCJodHRwczpcIixcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSBvcHRpb25zXG5cdFx0XHRcdCAqIEByZXR1cm5zIFtwbGF5ZXJzXVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0YnVpbGRQbGF5ZXI6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcztcblx0XHRcdFx0XHRcdFx0XHR2YXIgJFlUUGxheWVyID0galF1ZXJ5KCBZVFBsYXllciApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmxvb3AgPSAwO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdCA9IHt9O1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnN0YXRlID0ge307XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuZmlsdGVyc0VuYWJsZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmZpbHRlcnMgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGdyYXlzY2FsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bml0OiBcIiVcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRodWVfcm90YXRlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXQ6IFwiZGVnXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0aW52ZXJ0OiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXQ6IFwiJVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pdDogXCIlXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2F0dXJhdGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pdDogXCIlXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2VwaWE6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pdDogXCIlXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0YnJpZ2h0bmVzczoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bml0OiBcIiVcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250cmFzdDoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bml0OiBcIiVcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRibHVyOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXQ6IFwicHhcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHQkWVRQbGF5ZXIuYWRkQ2xhc3MoIFwibWJfWVRQbGF5ZXJcIiApO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBwcm9wZXJ0eSA9ICRZVFBsYXllci5kYXRhKCBcInByb3BlcnR5XCIgKSAmJiB0eXBlb2YgJFlUUGxheWVyLmRhdGEoIFwicHJvcGVydHlcIiApID09IFwic3RyaW5nXCIgPyBldmFsKCAnKCcgKyAkWVRQbGF5ZXIuZGF0YSggXCJwcm9wZXJ0eVwiICkgKyAnKScgKSA6ICRZVFBsYXllci5kYXRhKCBcInByb3BlcnR5XCIgKTtcblx0XHRcdFx0XHRcdFx0XHRpZiggdHlwZW9mIHByb3BlcnR5ICE9IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHByb3BlcnR5LnZvbCAhPSBcInVuZGVmaW5lZFwiICkgcHJvcGVydHkudm9sID0gcHJvcGVydHkudm9sID09PSAwID8gcHJvcGVydHkudm9sID0gMSA6IHByb3BlcnR5LnZvbDtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZXh0ZW5kKCBZVFBsYXllci5vcHQsIGpRdWVyeS5tYllUUGxheWVyLmRlZmF1bHRzLCBvcHRpb25zLCBwcm9wZXJ0eSApO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIuaGFzQ2hhbmdlZCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuZGVmYXVsdE9wdCA9IHt9O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZXh0ZW5kKCBZVFBsYXllci5kZWZhdWx0T3B0LCBqUXVlcnkubWJZVFBsYXllci5kZWZhdWx0cywgb3B0aW9ucywgcHJvcGVydHkgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNSZXRpbmEgPSAoIHdpbmRvdy5yZXRpbmEgfHwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gPiAxICk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGlzSWZyYW1lID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBpc0lmciA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIHNlbGYubG9jYXRpb24uaHJlZiAhPSB0b3AubG9jYXRpb24uaHJlZiApIGlzSWZyID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCggZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlzSWZyID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gaXNJZnI7XG5cdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5jYW5Hb0Z1bGxTY3JlZW4gPSAhKCBqUXVlcnkuYnJvd3Nlci5tc2llIHx8IGpRdWVyeS5icm93c2VyLm9wZXJhIHx8IGlzSWZyYW1lKCkgKTtcblx0XHRcdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLmNhbkdvRnVsbFNjcmVlbiApIFlUUGxheWVyLm9wdC5yZWFsZnVsbHNjcmVlbiA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCAhJFlUUGxheWVyLmF0dHIoIFwiaWRcIiApICkgJFlUUGxheWVyLmF0dHIoIFwiaWRcIiwgXCJ2aWRlb19cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpICk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHBsYXllcklEID0gXCJtYllUUF9cIiArIFlUUGxheWVyLmlkO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmlzQWxvbmUgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5oYXNGb2N1cyA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHZpZGVvSUQgPSB0aGlzLm9wdC52aWRlb1VSTCA/IGdldFlUUFZpZGVvSUQoIHRoaXMub3B0LnZpZGVvVVJMICkudmlkZW9JRCA6ICRZVFBsYXllci5hdHRyKCBcImhyZWZcIiApID8gZ2V0WVRQVmlkZW9JRCggJFlUUGxheWVyLmF0dHIoIFwiaHJlZlwiICkgKS52aWRlb0lEIDogZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHBsYXlsaXN0SUQgPSB0aGlzLm9wdC52aWRlb1VSTCA/IGdldFlUUFZpZGVvSUQoIHRoaXMub3B0LnZpZGVvVVJMICkucGxheWxpc3RJRCA6ICRZVFBsYXllci5hdHRyKCBcImhyZWZcIiApID8gZ2V0WVRQVmlkZW9JRCggJFlUUGxheWVyLmF0dHIoIFwiaHJlZlwiICkgKS5wbGF5bGlzdElEIDogZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9JRCA9IHZpZGVvSUQ7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWxpc3RJRCA9IHBsYXlsaXN0SUQ7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LnNob3dBbm5vdGF0aW9ucyA9ICggWVRQbGF5ZXIub3B0LnNob3dBbm5vdGF0aW9ucyApID8gJzAnIDogJzMnO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBwbGF5ZXJWYXJzID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQnYXV0b3BsYXknOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnbW9kZXN0YnJhbmRpbmcnOiAxLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnY29udHJvbHMnOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnc2hvd2luZm8nOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQncmVsJzogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0J2VuYWJsZWpzYXBpJzogMSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0J3ZlcnNpb24nOiAzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQncGxheWVyYXBpaWQnOiBwbGF5ZXJJRCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0J29yaWdpbic6ICcqJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0J2FsbG93ZnVsbHNjcmVlbic6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCd3bW9kZSc6ICd0cmFuc3BhcmVudCcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdpdl9sb2FkX3BvbGljeSc6IFlUUGxheWVyLm9wdC5zaG93QW5ub3RhdGlvbnNcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAndmlkZW8nICkuY2FuUGxheVR5cGUgKSBqUXVlcnkuZXh0ZW5kKCBwbGF5ZXJWYXJzLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdodG1sNSc6IDFcblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIGpRdWVyeS5icm93c2VyLm1zaWUgJiYgalF1ZXJ5LmJyb3dzZXIudmVyc2lvbiA8IDkgKSB0aGlzLm9wdC5vcGFjaXR5ID0gMTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcGxheWVyQm94ID0galF1ZXJ5KCBcIjxkaXYvPlwiICkuYXR0ciggXCJpZFwiLCBwbGF5ZXJJRCApLmFkZENsYXNzKCBcInBsYXllckJveFwiICk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG92ZXJsYXkgPSBqUXVlcnkoIFwiPGRpdi8+XCIgKS5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGhlaWdodDogXCIxMDAlXCJcblx0XHRcdFx0XHRcdFx0XHR9ICkuYWRkQ2xhc3MoIFwiWVRQT3ZlcmxheVwiICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNTZWxmID0gWVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50ID09IFwic2VsZlwiO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmRlZmF1bHRPcHQuY29udGFpbm1lbnQgPSBZVFBsYXllci5vcHQuY29udGFpbm1lbnQgPSBZVFBsYXllci5vcHQuY29udGFpbm1lbnQgPT0gXCJzZWxmXCIgPyBqUXVlcnkoIHRoaXMgKSA6IGpRdWVyeSggWVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50ICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNCYWNrZ3JvdW5kID0gWVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50LmdldCggMCApLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSBcImJvZHlcIjtcblx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaXNCYWNrZ3JvdW5kICYmIHl0cC5iYWNrZ3JvdW5kSXNJbml0ZWQgKSByZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGlzUGxheWVyID0gWVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50LmlzKCBqUXVlcnkoIHRoaXMgKSApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmNhblBsYXlPbk1vYmlsZSA9IGlzUGxheWVyICYmIGpRdWVyeSggdGhpcyApLmNoaWxkcmVuKCkubGVuZ3RoID09PSAwO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCAhaXNQbGF5ZXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCRZVFBsYXllci5oaWRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNQbGF5ZXIgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRpZiggalF1ZXJ5LmJyb3dzZXIubW9iaWxlICYmICFZVFBsYXllci5jYW5QbGF5T25Nb2JpbGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCRZVFBsYXllci5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR2YXIgd3JhcHBlciA9IGpRdWVyeSggXCI8ZGl2Lz5cIiApLmFkZENsYXNzKCBcIm1iWVRQX3dyYXBwZXJcIiApLmF0dHIoIFwiaWRcIiwgXCJ3cmFwcGVyX1wiICsgcGxheWVySUQgKTtcblx0XHRcdFx0XHRcdFx0XHR3cmFwcGVyLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR6SW5kZXg6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1pbldpZHRoOiBcIjEwMCVcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWluSGVpZ2h0OiBcIjEwMCVcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMFxuXHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRwbGF5ZXJCb3guY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHpJbmRleDogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2lkdGg6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0b3A6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG92ZXJmbG93OiBcImhpZGRlblwiXG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdHdyYXBwZXIuYXBwZW5kKCBwbGF5ZXJCb3ggKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQuY29udGFpbm1lbnQuY2hpbGRyZW4oKS5ub3QoIFwic2NyaXB0LCBzdHlsZVwiICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBqUXVlcnkoIHRoaXMgKS5jc3MoIFwicG9zaXRpb25cIiApID09IFwic3RhdGljXCIgKSBqUXVlcnkoIHRoaXMgKS5jc3MoIFwicG9zaXRpb25cIiwgXCJyZWxhdGl2ZVwiICk7XG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5pc0JhY2tncm91bmQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggXCJib2R5XCIgKS5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJveFNpemluZzogXCJib3JkZXItYm94XCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR3cmFwcGVyLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cG9zaXRpb246IFwiZml4ZWRcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRvcDogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR6SW5kZXg6IDBcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQkWVRQbGF5ZXIuaGlkZSgpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiggWVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50LmNzcyggXCJwb3NpdGlvblwiICkgPT0gXCJzdGF0aWNcIiApIFlUUGxheWVyLm9wdC5jb250YWlubWVudC5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cG9zaXRpb246IFwicmVsYXRpdmVcIlxuXHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQuY29udGFpbm1lbnQucHJlcGVuZCggd3JhcHBlciApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLndyYXBwZXIgPSB3cmFwcGVyO1xuXHRcdFx0XHRcdFx0XHRcdHBsYXllckJveC5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMVxuXHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRpZiggIWpRdWVyeS5icm93c2VyLm1vYmlsZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cGxheWVyQm94LmFmdGVyKCBvdmVybGF5ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm92ZXJsYXkgPSBvdmVybGF5O1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLmlzQmFja2dyb3VuZCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0b3ZlcmxheS5vbiggXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmNvbnRyb2xCYXIgKSBZVFBsYXllci5jb250cm9sQmFyLmFkZENsYXNzKCBcInZpc2libGVcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9ICkub24oIFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5jb250cm9sQmFyICkgWVRQbGF5ZXIuY29udHJvbEJhci5yZW1vdmVDbGFzcyggXCJ2aXNpYmxlXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSApXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmKCAheXRwLllUQVBJUmVhZHkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggXCIjWVRBUElcIiApLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgdGFnID0galF1ZXJ5KCBcIjxzY3JpcHQ+PC9zY3JpcHQ+XCIgKS5hdHRyKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcInNyY1wiOiBqUXVlcnkubWJZVFBsYXllci5sb2NhdGlvblByb3RvY29sICsgXCIvL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpP3Y9XCIgKyBqUXVlcnkubWJZVFBsYXllci52ZXJzaW9uLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCJpZFwiOiBcIllUQVBJXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFwiaGVhZFwiICkucHJlcGVuZCggdGFnICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIGRvY3VtZW50ICkudHJpZ2dlciggXCJZVEFQSVJlYWR5XCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgMTAwIClcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBkb2N1bWVudCApLm9uKCBcIllUQVBJUmVhZHlcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCAoIFlUUGxheWVyLmlzQmFja2dyb3VuZCAmJiB5dHAuYmFja2dyb3VuZElzSW5pdGVkICkgfHwgWVRQbGF5ZXIuaXNJbml0ICkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaXNCYWNrZ3JvdW5kICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0eXRwLmJhY2tncm91bmRJc0luaXRlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LmF1dG9QbGF5ID0gdHlwZW9mIFlUUGxheWVyLm9wdC5hdXRvUGxheSA9PSBcInVuZGVmaW5lZFwiID8gKCBZVFBsYXllci5pc0JhY2tncm91bmQgPyB0cnVlIDogZmFsc2UgKSA6IFlUUGxheWVyLm9wdC5hdXRvUGxheTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LnZvbCA9IFlUUGxheWVyLm9wdC52b2wgPyBZVFBsYXllci5vcHQudm9sIDogMTAwO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkubWJZVFBsYXllci5nZXREYXRhRnJvbUFQSSggWVRQbGF5ZXIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLm9uKCBcIllUUENoYW5nZWRcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaXNJbml0ICkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNJbml0ID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vaWYgaXMgbW9iaWxlICYmIGlzUGxheWVyIGZhbGxiYWNrIHRvIHRoZSBkZWZhdWx0IFlUIHBsYXllclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIGpRdWVyeS5icm93c2VyLm1vYmlsZSAmJiBZVFBsYXllci5jYW5QbGF5T25Nb2JpbGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVHJ5IHRvIGFkanVzdCB0aGUgcGxheWVyIGRpbWVudGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5vcHQuY29udGFpbm1lbnQub3V0ZXJXaWR0aCgpID4galF1ZXJ5KCB3aW5kb3cgKS53aWR0aCgpICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQuY29udGFpbm1lbnQuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXhXaWR0aDogXCIxMDAlXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgaCA9IFlUUGxheWVyLm9wdC5jb250YWlubWVudC5vdXRlcldpZHRoKCkgKiAuNjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50LmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWF4SGVpZ2h0OiBoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bmV3IFlULlBsYXllciggcGxheWVySUQsIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmlkZW9JZDogWVRQbGF5ZXIudmlkZW9JRC50b1N0cmluZygpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRoZWlnaHQ6ICcxMDAlJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXZlbnRzOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQnb25SZWFkeSc6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIgPSBldmVudC50YXJnZXQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGxheWVyQm94LmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAxXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLndyYXBwZXIuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bmV3IFlULlBsYXllciggcGxheWVySUQsIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2aWRlb0lkOiBZVFBsYXllci52aWRlb0lELnRvU3RyaW5nKCksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGxheWVyVmFyczogcGxheWVyVmFycyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRldmVudHM6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0J29uUmVhZHknOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIgPSBldmVudC50YXJnZXQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaXNSZWFkeSApIHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmlzUmVhZHkgPSBZVFBsYXllci5pc1BsYXllciAmJiAhWVRQbGF5ZXIub3B0LmF1dG9QbGF5ID8gZmFsc2UgOiB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyRWwgPSBZVFBsYXllci5wbGF5ZXIuZ2V0SWZyYW1lKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkWVRQbGF5ZXIub3B0aW1pemVEaXNwbGF5KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0lEID0gdmlkZW9JRDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggd2luZG93ICkub24oIFwicmVzaXplLllUUFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkWVRQbGF5ZXIub3B0aW1pemVEaXNwbGF5KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkubWJZVFBsYXllci5jaGVja0ZvclN0YXRlKCBZVFBsYXllciApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVHJpZ2dlciBzdGF0ZSBldmVudHNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBZVFBFdmVudCA9IGpRdWVyeS5FdmVudCggXCJZVFBVbnN0YXJ0ZWRcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQRXZlbnQudGltZSA9IFlUUGxheWVyLnBsYXllci50aW1lO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmNhblRyaWdnZXIgKSBqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggWVRQRXZlbnQgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqIEBwYXJhbSBldmVudFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKiAtMSAodW5zdGFydGVkKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKiAwIChlbmRlZClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICogMSAocGxheWluZylcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICogMiAocGF1c2VkKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKiAzIChidWZmZXJpbmcpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqIDUgKHZpZGVvIGN1ZWQpLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0J29uU3RhdGVDaGFuZ2UnOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggdHlwZW9mIGV2ZW50LnRhcmdldC5nZXRQbGF5ZXJTdGF0ZSAhPSBcImZ1bmN0aW9uXCIgKSByZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgc3RhdGUgPSBldmVudC50YXJnZXQuZ2V0UGxheWVyU3RhdGUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5zdGF0ZSA9PSBzdGF0ZSApIHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnN0YXRlID0gc3RhdGU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgZXZlbnRUeXBlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3dpdGNoKCBzdGF0ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIC0xOiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB1bnN0YXJ0ZWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXZlbnRUeXBlID0gXCJZVFBVbnN0YXJ0ZWRcIjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBlbmRlZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRldmVudFR5cGUgPSBcIllUUEVuZFwiO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDE6IC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHBsYXlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXZlbnRUeXBlID0gXCJZVFBTdGFydFwiO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuY29udHJvbEJhciApIFlUUGxheWVyLmNvbnRyb2xCYXIuZmluZCggXCIubWJfWVRQUGxheXBhdXNlXCIgKS5odG1sKCBqUXVlcnkubWJZVFBsYXllci5jb250cm9scy5wYXVzZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggdHlwZW9mIF9nYXEgIT0gXCJ1bmRlZmluZWRcIiAmJiBldmFsKCBZVFBsYXllci5vcHQuZ2FUcmFjayApICkgX2dhcS5wdXNoKCBbICdfdHJhY2tFdmVudCcsICdZVFBsYXllcicsICdQbGF5JywgKCBZVFBsYXllci5oYXNEYXRhID8gWVRQbGF5ZXIudmlkZW9EYXRhLnRpdGxlIDogWVRQbGF5ZXIudmlkZW9JRC50b1N0cmluZygpICkgXSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggdHlwZW9mIGdhICE9IFwidW5kZWZpbmVkXCIgJiYgZXZhbCggWVRQbGF5ZXIub3B0LmdhVHJhY2sgKSApIGdhKCAnc2VuZCcsICdldmVudCcsICdZVFBsYXllcicsICdwbGF5JywgKCBZVFBsYXllci5oYXNEYXRhID8gWVRQbGF5ZXIudmlkZW9EYXRhLnRpdGxlIDogWVRQbGF5ZXIudmlkZW9JRC50b1N0cmluZygpICkgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBwYXVzZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRldmVudFR5cGUgPSBcIllUUFBhdXNlXCI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5jb250cm9sQmFyICkgWVRQbGF5ZXIuY29udHJvbEJhci5maW5kKCBcIi5tYl9ZVFBQbGF5cGF1c2VcIiApLmh0bWwoIGpRdWVyeS5tYllUUGxheWVyLmNvbnRyb2xzLnBsYXkgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBidWZmZXJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnNldFBsYXliYWNrUXVhbGl0eSggWVRQbGF5ZXIub3B0LnF1YWxpdHkgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXZlbnRUeXBlID0gXCJZVFBCdWZmZXJpbmdcIjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmNvbnRyb2xCYXIgKSBZVFBsYXllci5jb250cm9sQmFyLmZpbmQoIFwiLm1iX1lUUFBsYXlwYXVzZVwiICkuaHRtbCggalF1ZXJ5Lm1iWVRQbGF5ZXIuY29udHJvbHMucGxheSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDU6IC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGN1ZWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXZlbnRUeXBlID0gXCJZVFBDdWVkXCI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVHJpZ2dlciBzdGF0ZSBldmVudHNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBZVFBFdmVudCA9IGpRdWVyeS5FdmVudCggZXZlbnRUeXBlICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBFdmVudC50aW1lID0gWVRQbGF5ZXIucGxheWVyLnRpbWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuY2FuVHJpZ2dlciApIGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBZVFBFdmVudCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICogQHBhcmFtIGVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICovXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCdvblBsYXliYWNrUXVhbGl0eUNoYW5nZSc6IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHF1YWxpdHkgPSBlLnRhcmdldC5nZXRQbGF5YmFja1F1YWxpdHkoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBZVFBRdWFsaXR5Q2hhbmdlID0galF1ZXJ5LkV2ZW50KCBcIllUUFF1YWxpdHlDaGFuZ2VcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQUXVhbGl0eUNoYW5nZS5xdWFsaXR5ID0gcXVhbGl0eTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBZVFBRdWFsaXR5Q2hhbmdlICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKiBAcGFyYW0gZXJyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQnb25FcnJvcic6IGZ1bmN0aW9uKCBlcnIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggZXJyLmRhdGEgPT0gMTUwICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCBcIkVtYmVkZGluZyB0aGlzIHZpZGVvIGlzIHJlc3RyaWN0ZWQgYnkgWW91dHViZS5cIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5pc1BsYXlMaXN0ICkgalF1ZXJ5KCBZVFBsYXllciApLnBsYXlOZXh0KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggZXJyLmRhdGEgPT0gMiAmJiBZVFBsYXllci5pc1BsYXlMaXN0ICkgalF1ZXJ5KCBZVFBsYXllciApLnBsYXlOZXh0KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggdHlwZW9mIFlUUGxheWVyLm9wdC5vbkVycm9yID09IFwiZnVuY3Rpb25cIiApIFlUUGxheWVyLm9wdC5vbkVycm9yKCAkWVRQbGF5ZXIsIGVyciApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0fSApXG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0gWVRQbGF5ZXJcblx0XHRcdFx0ICovXG5cdFx0XHRcdGdldERhdGFGcm9tQVBJOiBmdW5jdGlvbiggWVRQbGF5ZXIgKSB7XG5cdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0RhdGEgPSBqUXVlcnkubWJTdG9yYWdlLmdldCggXCJZWVRQbGF5ZXJfZGF0YV9cIiArIFlUUGxheWVyLnZpZGVvSUQgKTtcblx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5vZmYoIFwiWVRQRGF0YS5ZVFBsYXllclwiICkub24oIFwiWVRQRGF0YS5ZVFBsYXllclwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaGFzRGF0YSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaXNQbGF5ZXIgJiYgIVlUUGxheWVyLm9wdC5hdXRvUGxheSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBiZ25kVVJMID0gWVRQbGF5ZXIudmlkZW9EYXRhLnRodW1iX21heCB8fCBZVFBsYXllci52aWRlb0RhdGEudGh1bWJfaGlnaCB8fCBZVFBsYXllci52aWRlb0RhdGEudGh1bWJfbWVkaXVtO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50LmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IFwicmdiYSgwLDAsMCwwLjUpIHVybChcIiArIGJnbmRVUkwgKyBcIikgY2VudGVyIGNlbnRlclwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJhY2tncm91bmRTaXplOiBcImNvdmVyXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5iYWNrZ3JvdW5kVXJsID0gYmduZFVSTDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnZpZGVvRGF0YSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQucmF0aW8gPSBZVFBsYXllci5vcHQucmF0aW8gPT0gXCJhdXRvXCIgPyBcIjE2LzlcIiA6IFlUUGxheWVyLm9wdC5yYXRpbztcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuZGF0YVJlY2VpdmVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFwiWVRQQ2hhbmdlZFwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBZVFBEYXRhID0galF1ZXJ5LkV2ZW50KCBcIllUUERhdGFcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBEYXRhLnByb3AgPSB7fTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9yKCB2YXIgeCBpbiBZVFBsYXllci52aWRlb0RhdGEgKSBZVFBEYXRhLnByb3BbIHggXSA9IFlUUGxheWVyLnZpZGVvRGF0YVsgeCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggWVRQRGF0YSApO1xuXHRcdFx0XHRcdFx0XHRcdH0sIDUwMCApO1xuXG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaGFzRGF0YSA9IHRydWU7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYoIGpRdWVyeS5tYllUUGxheWVyLmFwaUtleSApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBHZXQgdmlkZW8gaW5mbyBmcm9tIEFQSTMgKG5lZWRzIGFwaSBrZXkpXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc25pcHBldCxwbGF5ZXIsY29udGVudERldGFpbHMsc3RhdGlzdGljcyxzdGF0dXNcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZ2V0SlNPTiggalF1ZXJ5Lm1iWVRQbGF5ZXIubG9jYXRpb25Qcm90b2NvbCArIFwiLy93d3cuZ29vZ2xlYXBpcy5jb20veW91dHViZS92My92aWRlb3M/aWQ9XCIgKyBZVFBsYXllci52aWRlb0lEICsgXCIma2V5PVwiICsgalF1ZXJ5Lm1iWVRQbGF5ZXIuYXBpS2V5ICsgXCImcGFydD1zbmlwcGV0XCIsIGZ1bmN0aW9uKCBkYXRhICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5kYXRhUmVjZWl2ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggXCJZVFBDaGFuZ2VkXCIgKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmdW5jdGlvbiBwYXJzZVlUUGxheWVyX2RhdGEoIGRhdGEgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0RhdGEgPSB7fTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvRGF0YS5pZCA9IFlUUGxheWVyLnZpZGVvSUQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0RhdGEuY2hhbm5lbFRpdGxlID0gZGF0YS5jaGFubmVsVGl0bGU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0RhdGEudGl0bGUgPSBkYXRhLnRpdGxlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9EYXRhLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbi5sZW5ndGggPCA0MDAgPyBkYXRhLmRlc2NyaXB0aW9uIDogZGF0YS5kZXNjcmlwdGlvbi5zdWJzdHJpbmcoIDAsIDQwMCApICsgXCIgLi4uXCI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0RhdGEuYXNwZWN0cmF0aW8gPSBZVFBsYXllci5vcHQucmF0aW8gPT0gXCJhdXRvXCIgPyBcIjE2LzlcIiA6IFlUUGxheWVyLm9wdC5yYXRpbztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5yYXRpbyA9IFlUUGxheWVyLnZpZGVvRGF0YS5hc3BlY3RyYXRpbztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvRGF0YS50aHVtYl9tYXggPSBkYXRhLnRodW1ibmFpbHMubWF4cmVzID8gZGF0YS50aHVtYm5haWxzLm1heHJlcy51cmwgOiBudWxsO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9EYXRhLnRodW1iX2hpZ2ggPSBkYXRhLnRodW1ibmFpbHMuaGlnaCA/IGRhdGEudGh1bWJuYWlscy5oaWdoLnVybCA6IG51bGw7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0RhdGEudGh1bWJfbWVkaXVtID0gZGF0YS50aHVtYm5haWxzLm1lZGl1bSA/IGRhdGEudGh1bWJuYWlscy5tZWRpdW0udXJsIDogbnVsbDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5tYlN0b3JhZ2Uuc2V0KCBcIllZVFBsYXllcl9kYXRhX1wiICsgWVRQbGF5ZXIudmlkZW9JRCwgWVRQbGF5ZXIudmlkZW9EYXRhICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0cGFyc2VZVFBsYXllcl9kYXRhKCBkYXRhLml0ZW1zWyAwIF0uc25pcHBldCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5oYXNEYXRhID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIFlUUERhdGEgPSBqUXVlcnkuRXZlbnQoIFwiWVRQRGF0YVwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUERhdGEucHJvcCA9IHt9O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmb3IoIHZhciB4IGluIFlUUGxheWVyLnZpZGVvRGF0YSApIFlUUERhdGEucHJvcFsgeCBdID0gWVRQbGF5ZXIudmlkZW9EYXRhWyB4IF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBZVFBEYXRhICk7XG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFwiWVRQQ2hhbmdlZFwiICk7XG5cdFx0XHRcdFx0XHRcdFx0fSwgNTAgKTtcblx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaXNQbGF5ZXIgJiYgIVlUUGxheWVyLm9wdC5hdXRvUGxheSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGJnbmRVUkwgPSBqUXVlcnkubWJZVFBsYXllci5sb2NhdGlvblByb3RvY29sICsgXCIvL2kueXRpbWcuY29tL3ZpL1wiICsgWVRQbGF5ZXIudmlkZW9JRCArIFwiL2hxZGVmYXVsdC5qcGdcIjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50LmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZDogXCJyZ2JhKDAsMCwwLDAuNSkgdXJsKFwiICsgYmduZFVSTCArIFwiKSBjZW50ZXIgY2VudGVyXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kU2l6ZTogXCJjb3ZlclwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LmJhY2tncm91bmRVcmwgPSBiZ25kVVJMO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0RhdGEgPSBudWxsO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5yYXRpbyA9IFlUUGxheWVyLm9wdC5yYXRpbyA9PSBcImF1dG9cIiA/IFwiMTYvOVwiIDogWVRQbGF5ZXIub3B0LnJhdGlvO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmlzUGxheWVyICYmICFZVFBsYXllci5vcHQuYXV0b1BsYXkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIubG9hZGluZyA9IGpRdWVyeSggXCI8ZGl2Lz5cIiApLmFkZENsYXNzKCBcImxvYWRpbmdcIiApLmh0bWwoIFwiTG9hZGluZ1wiICkuaGlkZSgpO1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5hcHBlbmQoIFlUUGxheWVyLmxvYWRpbmcgKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5sb2FkaW5nLmZhZGVJbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICovXG5cdFx0XHRcdHJlbW92ZVN0b3JlZERhdGE6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5Lm1iU3RvcmFnZS5yZW1vdmUoKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEByZXR1cm5zIHsqfFlUUGxheWVyLnZpZGVvRGF0YX1cblx0XHRcdFx0ICovXG5cdFx0XHRcdGdldFZpZGVvRGF0YTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIFlUUGxheWVyLnZpZGVvRGF0YTtcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEByZXR1cm5zIHsqfFlUUGxheWVyLnZpZGVvSUR8Ym9vbGVhbn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdGdldFZpZGVvSUQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdHJldHVybiBZVFBsYXllci52aWRlb0lEIHx8IGZhbHNlO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIHF1YWxpdHlcblx0XHRcdFx0ICovXG5cdFx0XHRcdHNldFZpZGVvUXVhbGl0eTogZnVuY3Rpb24oIHF1YWxpdHkgKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0aWYoICFqUXVlcnkuYnJvd3Nlci5jaHJvbWUgKSBZVFBsYXllci5wbGF5ZXIuc2V0UGxheWJhY2tRdWFsaXR5KCBxdWFsaXR5ICk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKiBAcGFyYW0gdmlkZW9zXG5cdFx0XHRcdCAqIEBwYXJhbSBzaHVmZmxlXG5cdFx0XHRcdCAqIEBwYXJhbSBjYWxsYmFja1xuXHRcdFx0XHQgKiBAcmV0dXJucyB7alF1ZXJ5Lm1iWVRQbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRwbGF5bGlzdDogZnVuY3Rpb24oIHZpZGVvcywgc2h1ZmZsZSwgY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHR2YXIgJFlUUGxheWVyID0gdGhpcztcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9ICRZVFBsYXllci5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLmlzUGxheUxpc3QgPSB0cnVlO1xuXHRcdFx0XHRcdFx0aWYoIHNodWZmbGUgKSB2aWRlb3MgPSBqUXVlcnkuc2h1ZmZsZSggdmlkZW9zICk7XG5cdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLnZpZGVvSUQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9zID0gdmlkZW9zO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvQ291bnRlciA9IDA7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9MZW5ndGggPSB2aWRlb3MubGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5kYXRhKCBcInByb3BlcnR5XCIsIHZpZGVvc1sgMCBdICk7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLm1iX1lUUGxheWVyKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiggdHlwZW9mIGNhbGxiYWNrID09IFwiZnVuY3Rpb25cIiApIGpRdWVyeSggWVRQbGF5ZXIgKS5vbiggXCJZVFBDaGFuZ2VkXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrKCBZVFBsYXllciApO1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLm9uKCBcIllUUEVuZFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkucGxheU5leHQoKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdHJldHVybiAkWVRQbGF5ZXI7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcmV0dXJucyB7alF1ZXJ5Lm1iWVRQbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRwbGF5TmV4dDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9Db3VudGVyKys7XG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIudmlkZW9Db3VudGVyID49IFlUUGxheWVyLnZpZGVvTGVuZ3RoICkgWVRQbGF5ZXIudmlkZW9Db3VudGVyID0gMDtcblx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5jaGFuZ2VNb3ZpZSggWVRQbGF5ZXIudmlkZW9zWyBZVFBsYXllci52aWRlb0NvdW50ZXIgXSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcmV0dXJucyB7alF1ZXJ5Lm1iWVRQbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRwbGF5UHJldjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9Db3VudGVyLS07XG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIudmlkZW9Db3VudGVyIDwgMCApIFlUUGxheWVyLnZpZGVvQ291bnRlciA9IFlUUGxheWVyLnZpZGVvTGVuZ3RoIC0gMTtcblx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5jaGFuZ2VNb3ZpZSggWVRQbGF5ZXIudmlkZW9zWyBZVFBsYXllci52aWRlb0NvdW50ZXIgXSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0gb3B0XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRjaGFuZ2VNb3ZpZTogZnVuY3Rpb24oIG9wdCApIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5vcHQuc3RhcnRBdCA9IDA7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5vcHQuc3RvcEF0ID0gMDtcblx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5tdXRlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLmhhc0RhdGEgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLmhhc0NoYW5nZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0aWYoIG9wdCApIGpRdWVyeS5leHRlbmQoIFlUUGxheWVyLm9wdCwgWVRQbGF5ZXIuZGVmYXVsdE9wdCwgb3B0ICk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0lEID0gZ2V0WVRQVmlkZW9JRCggWVRQbGF5ZXIub3B0LnZpZGVvVVJMICkudmlkZW9JRDtcblx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIucGxheWVyRWwgKS5DU1NBbmltYXRlKCB7XG5cdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMFxuXHRcdFx0XHRcdFx0fSwgMjAwLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQR2V0UGxheWVyKCkuY3VlVmlkZW9CeVVybCggZW5jb2RlVVJJKCBqUXVlcnkubWJZVFBsYXllci5sb2NhdGlvblByb3RvY29sICsgXCIvL3d3dy55b3V0dWJlLmNvbS92L1wiICsgWVRQbGF5ZXIudmlkZW9JRCApLCAxLCBZVFBsYXllci5vcHQucXVhbGl0eSApO1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5tYllUUGxheWVyLmNoZWNrRm9yU3RhdGUoIFlUUGxheWVyICk7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLm9wdGltaXplRGlzcGxheSgpO1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5tYllUUGxheWVyLmdldERhdGFGcm9tQVBJKCBZVFBsYXllciApO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHJldHVybnMge3BsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdGdldFBsYXllcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4galF1ZXJ5KCB0aGlzICkuZ2V0KCAwICkucGxheWVyO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRwbGF5ZXJEZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHR5dHAuWVRBUElSZWFkeSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0eXRwLmJhY2tncm91bmRJc0luaXRlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNJbml0ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0lEID0gbnVsbDtcblx0XHRcdFx0XHRcdHZhciBwbGF5ZXJCb3ggPSBZVFBsYXllci53cmFwcGVyO1xuXHRcdFx0XHRcdFx0cGxheWVyQm94LnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBcIiNjb250cm9sQmFyX1wiICsgWVRQbGF5ZXIuaWQgKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoIFlUUGxheWVyLmNoZWNrRm9yU3RhcnRBdCApO1xuXHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggWVRQbGF5ZXIuZ2V0U3RhdGUgKTtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIHJlYWxcblx0XHRcdFx0ICogQHJldHVybnMge2pRdWVyeS5tYllUUGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0ZnVsbHNjcmVlbjogZnVuY3Rpb24oIHJlYWwgKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0aWYoIHR5cGVvZiByZWFsID09IFwidW5kZWZpbmVkXCIgKSByZWFsID0gWVRQbGF5ZXIub3B0LnJlYWxmdWxsc2NyZWVuO1xuXHRcdFx0XHRcdFx0cmVhbCA9IGV2YWwoIHJlYWwgKTtcblx0XHRcdFx0XHRcdHZhciBjb250cm9scyA9IGpRdWVyeSggXCIjY29udHJvbEJhcl9cIiArIFlUUGxheWVyLmlkICk7XG5cdFx0XHRcdFx0XHR2YXIgZnVsbFNjcmVlbkJ0biA9IGNvbnRyb2xzLmZpbmQoIFwiLm1iX09ubHlZVFwiICk7XG5cdFx0XHRcdFx0XHR2YXIgdmlkZW9XcmFwcGVyID0gWVRQbGF5ZXIuaXNTZWxmID8gWVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50IDogWVRQbGF5ZXIud3JhcHBlcjtcblx0XHRcdFx0XHRcdC8vdmFyIHZpZGVvV3JhcHBlciA9IFlUUGxheWVyLndyYXBwZXI7XG5cdFx0XHRcdFx0XHRpZiggcmVhbCApIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgZnVsbHNjcmVlbmNoYW5nZSA9IGpRdWVyeS5icm93c2VyLm1vemlsbGEgPyBcIm1vemZ1bGxzY3JlZW5jaGFuZ2VcIiA6IGpRdWVyeS5icm93c2VyLndlYmtpdCA/IFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiIDogXCJmdWxsc2NyZWVuY2hhbmdlXCI7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBkb2N1bWVudCApLm9mZiggZnVsbHNjcmVlbmNoYW5nZSApLm9uKCBmdWxsc2NyZWVuY2hhbmdlLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGlzRnVsbFNjcmVlbiA9IFJ1blByZWZpeE1ldGhvZCggZG9jdW1lbnQsIFwiSXNGdWxsU2NyZWVuXCIgKSB8fCBSdW5QcmVmaXhNZXRob2QoIGRvY3VtZW50LCBcIkZ1bGxTY3JlZW5cIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggIWlzRnVsbFNjcmVlbiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmlzQWxvbmUgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZ1bGxTY3JlZW5CdG4uaHRtbCggalF1ZXJ5Lm1iWVRQbGF5ZXIuY29udHJvbHMub25seVlUICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQU2V0VmlkZW9RdWFsaXR5KCBZVFBsYXllci5vcHQucXVhbGl0eSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmlkZW9XcmFwcGVyLnJlbW92ZUNsYXNzKCBcImZ1bGxzY3JlZW5cIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmlkZW9XcmFwcGVyLkNTU0FuaW1hdGUoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBZVFBsYXllci5vcHQub3BhY2l0eVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgNTAwICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2aWRlb1dyYXBwZXIuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ekluZGV4OiAwXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaXNCYWNrZ3JvdW5kICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggXCJib2R5XCIgKS5hZnRlciggY29udHJvbHMgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIud3JhcHBlci5iZWZvcmUoIGNvbnRyb2xzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIHdpbmRvdyApLnJlc2l6ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFwiWVRQRnVsbFNjcmVlbkVuZFwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQU2V0VmlkZW9RdWFsaXR5KCBcImRlZmF1bHRcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFwiWVRQRnVsbFNjcmVlblN0YXJ0XCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIuaXNBbG9uZSApIHtcblx0XHRcdFx0XHRcdFx0XHRmdW5jdGlvbiBoaWRlTW91c2UoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm92ZXJsYXkuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjdXJzb3I6IFwibm9uZVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBkb2N1bWVudCApLm9uKCBcIm1vdXNlbW92ZS5ZVFBsYXllclwiLCBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3ZlcmxheS5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1cnNvcjogXCJhdXRvXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQoIFlUUGxheWVyLmhpZGVDdXJzb3IgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoICFqUXVlcnkoIGUudGFyZ2V0ICkucGFyZW50cygpLmlzKCBcIi5tYl9ZVFBCYXJcIiApICkgWVRQbGF5ZXIuaGlkZUN1cnNvciA9IHNldFRpbWVvdXQoIGhpZGVNb3VzZSwgMzAwMCApO1xuXHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRoaWRlTW91c2UoKTtcblx0XHRcdFx0XHRcdFx0XHRpZiggcmVhbCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmlkZW9XcmFwcGVyLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZpZGVvV3JhcHBlci5hZGRDbGFzcyggXCJmdWxsc2NyZWVuXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bGF1bmNoRnVsbHNjcmVlbiggdmlkZW9XcmFwcGVyLmdldCggMCApICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmlkZW9XcmFwcGVyLkNTU0FuaW1hdGUoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAxXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCAxMDAwICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci53cmFwcGVyLmFwcGVuZCggY29udHJvbHMgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5vcHRpbWl6ZURpc3BsYXkoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5zZWVrVG8oIFlUUGxheWVyLnBsYXllci5nZXRDdXJyZW50VGltZSgpICsgLjEsIHRydWUgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgNTAwIClcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgdmlkZW9XcmFwcGVyLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR6SW5kZXg6IDEwMDAwXG5cdFx0XHRcdFx0XHRcdFx0fSApLkNTU0FuaW1hdGUoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMVxuXHRcdFx0XHRcdFx0XHRcdH0sIDEwMDAgKTtcblx0XHRcdFx0XHRcdFx0XHRmdWxsU2NyZWVuQnRuLmh0bWwoIGpRdWVyeS5tYllUUGxheWVyLmNvbnRyb2xzLnNob3dTaXRlICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNBbG9uZSA9IHRydWU7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggZG9jdW1lbnQgKS5vZmYoIFwibW91c2Vtb3ZlLllUUGxheWVyXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vdmVybGF5LmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjdXJzb3I6IFwiYXV0b1wiXG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCByZWFsICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjYW5jZWxGdWxsc2NyZWVuKCk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmlkZW9XcmFwcGVyLkNTU0FuaW1hdGUoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IFlUUGxheWVyLm9wdC5vcGFjaXR5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sIDUwMCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2aWRlb1dyYXBwZXIuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR6SW5kZXg6IDBcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRmdWxsU2NyZWVuQnRuLmh0bWwoIGpRdWVyeS5tYllUUGxheWVyLmNvbnRyb2xzLm9ubHlZVCApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmlzQWxvbmUgPSBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24gUnVuUHJlZml4TWV0aG9kKCBvYmosIG1ldGhvZCApIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcGZ4ID0gWyBcIndlYmtpdFwiLCBcIm1velwiLCBcIm1zXCIsIFwib1wiLCBcIlwiIF07XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHAgPSAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtLCB0O1xuXHRcdFx0XHRcdFx0XHRcdHdoaWxlKCBwIDwgcGZ4Lmxlbmd0aCAmJiAhb2JqWyBtIF0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG0gPSBtZXRob2Q7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBwZnhbIHAgXSA9PSBcIlwiICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bSA9IG0uc3Vic3RyKCAwLCAxICkudG9Mb3dlckNhc2UoKSArIG0uc3Vic3RyKCAxICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0bSA9IHBmeFsgcCBdICsgbTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dCA9IHR5cGVvZiBvYmpbIG0gXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIHQgIT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBmeCA9IFsgcGZ4WyBwIF0gXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiggdCA9PSBcImZ1bmN0aW9uXCIgPyBvYmpbIG0gXSgpIDogb2JqWyBtIF0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwKys7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRmdW5jdGlvbiBsYXVuY2hGdWxsc2NyZWVuKCBlbGVtZW50ICkge1xuXHRcdFx0XHRcdFx0XHRcdFJ1blByZWZpeE1ldGhvZCggZWxlbWVudCwgXCJSZXF1ZXN0RnVsbFNjcmVlblwiICk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGZ1bmN0aW9uIGNhbmNlbEZ1bGxzY3JlZW4oKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFJ1blByZWZpeE1ldGhvZCggZG9jdW1lbnQsIFwiRnVsbFNjcmVlblwiICkgfHwgUnVuUHJlZml4TWV0aG9kKCBkb2N1bWVudCwgXCJJc0Z1bGxTY3JlZW5cIiApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRSdW5QcmVmaXhNZXRob2QoIGRvY3VtZW50LCBcIkNhbmNlbEZ1bGxTY3JlZW5cIiApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHJldHVybnMge2pRdWVyeS5tYllUUGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0dG9nZ2xlTG9vcHM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdHZhciBkYXRhID0gWVRQbGF5ZXIub3B0O1xuXHRcdFx0XHRcdFx0aWYoIGRhdGEubG9vcCA9PSAxICkge1xuXHRcdFx0XHRcdFx0XHRcdGRhdGEubG9vcCA9IDA7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBkYXRhLnN0YXJ0QXQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5zZWVrVG8oIGRhdGEuc3RhcnRBdCApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5wbGF5VmlkZW8oKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YS5sb29wID0gMTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHJldHVybnMge2pRdWVyeS5tYllUUGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0cGxheTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci5pc1JlYWR5ICkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0dmFyIGNvbnRyb2xzID0galF1ZXJ5KCBcIiNjb250cm9sQmFyX1wiICsgWVRQbGF5ZXIuaWQgKTtcblx0XHRcdFx0XHRcdHZhciBwbGF5QnRuID0gY29udHJvbHMuZmluZCggXCIubWJfWVRQUGxheXBhdXNlXCIgKTtcblx0XHRcdFx0XHRcdHBsYXlCdG4uaHRtbCggalF1ZXJ5Lm1iWVRQbGF5ZXIuY29udHJvbHMucGF1c2UgKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5wbGF5VmlkZW8oKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLndyYXBwZXIuQ1NTQW5pbWF0ZSgge1xuXHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IFlUUGxheWVyLmlzQWxvbmUgPyAxIDogWVRQbGF5ZXIub3B0Lm9wYWNpdHlcblx0XHRcdFx0XHRcdH0sIDIwMDAgKTtcblx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIucGxheWVyRWwgKS5DU1NBbmltYXRlKCB7XG5cdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMVxuXHRcdFx0XHRcdFx0fSwgMTAwMCApO1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLmNzcyggXCJiYWNrZ3JvdW5kLWltYWdlXCIsIFwibm9uZVwiICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSBjYWxsYmFja1xuXHRcdFx0XHQgKiBAcmV0dXJucyB7alF1ZXJ5Lm1iWVRQbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHR0b2dnbGVQbGF5OiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnN0YXRlID09IDEgKSB0aGlzLllUUFBhdXNlKCk7XG5cdFx0XHRcdFx0XHRlbHNlIHRoaXMuWVRQUGxheSgpO1xuXHRcdFx0XHRcdFx0aWYoIHR5cGVvZiBjYWxsYmFjayA9PSBcImZ1bmN0aW9uXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soIFlUUGxheWVyLnN0YXRlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtqUXVlcnkubWJZVFBsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdHN0b3A6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdHZhciBjb250cm9scyA9IGpRdWVyeSggXCIjY29udHJvbEJhcl9cIiArIFlUUGxheWVyLmlkICk7XG5cdFx0XHRcdFx0XHR2YXIgcGxheUJ0biA9IGNvbnRyb2xzLmZpbmQoIFwiLm1iX1lUUFBsYXlwYXVzZVwiICk7XG5cdFx0XHRcdFx0XHRwbGF5QnRuLmh0bWwoIGpRdWVyeS5tYllUUGxheWVyLmNvbnRyb2xzLnBsYXkgKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5zdG9wVmlkZW8oKTtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHJldHVybnMge2pRdWVyeS5tYllUUGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0cGF1c2U6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdHZhciBjb250cm9scyA9IGpRdWVyeSggXCIjY29udHJvbEJhcl9cIiArIFlUUGxheWVyLmlkICk7XG5cdFx0XHRcdFx0XHR2YXIgcGxheUJ0biA9IGNvbnRyb2xzLmZpbmQoIFwiLm1iX1lUUFBsYXlwYXVzZVwiICk7XG5cdFx0XHRcdFx0XHRwbGF5QnRuLmh0bWwoIGpRdWVyeS5tYllUUGxheWVyLmNvbnRyb2xzLnBsYXkgKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5wYXVzZVZpZGVvKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSB2YWxcblx0XHRcdFx0ICogQHJldHVybnMge2pRdWVyeS5tYllUUGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0c2Vla1RvOiBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5zZWVrVG8oIHZhbCwgdHJ1ZSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0gdmFsXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtqUXVlcnkubWJZVFBsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdHNldFZvbHVtZTogZnVuY3Rpb24oIHZhbCApIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHRpZiggIXZhbCAmJiAhWVRQbGF5ZXIub3B0LnZvbCAmJiBZVFBsYXllci5wbGF5ZXIuZ2V0Vm9sdW1lKCkgPT0gMCApIGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBVbm11dGUoKTtcblx0XHRcdFx0XHRcdGVsc2UgaWYoICggIXZhbCAmJiBZVFBsYXllci5wbGF5ZXIuZ2V0Vm9sdW1lKCkgPiAwICkgfHwgKCB2YWwgJiYgWVRQbGF5ZXIub3B0LnZvbCA9PSB2YWwgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLmlzTXV0ZSApIGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBNdXRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBqUXVlcnkoIFlUUGxheWVyICkuWVRQVW5tdXRlKCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC52b2wgPSB2YWw7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnNldFZvbHVtZSggWVRQbGF5ZXIub3B0LnZvbCApO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci52b2x1bWVCYXIgJiYgWVRQbGF5ZXIudm9sdW1lQmFyLmxlbmd0aCApIFlUUGxheWVyLnZvbHVtZUJhci51cGRhdGVTbGlkZXJWYWwoIHZhbCApXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtqUXVlcnkubWJZVFBsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdG11dGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5pc011dGUgKSByZXR1cm47XG5cdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIubXV0ZSgpO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNNdXRlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5zZXRWb2x1bWUoIDAgKTtcblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci52b2x1bWVCYXIgJiYgWVRQbGF5ZXIudm9sdW1lQmFyLmxlbmd0aCAmJiBZVFBsYXllci52b2x1bWVCYXIud2lkdGgoKSA+IDEwICkge1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZvbHVtZUJhci51cGRhdGVTbGlkZXJWYWwoIDAgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhciBjb250cm9scyA9IGpRdWVyeSggXCIjY29udHJvbEJhcl9cIiArIFlUUGxheWVyLmlkICk7XG5cdFx0XHRcdFx0XHR2YXIgbXV0ZUJ0biA9IGNvbnRyb2xzLmZpbmQoIFwiLm1iX1lUUE11dGVVbm11dGVcIiApO1xuXHRcdFx0XHRcdFx0bXV0ZUJ0bi5odG1sKCBqUXVlcnkubWJZVFBsYXllci5jb250cm9scy51bm11dGUgKTtcblx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5hZGRDbGFzcyggXCJpc011dGVkXCIgKTtcblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci52b2x1bWVCYXIgJiYgWVRQbGF5ZXIudm9sdW1lQmFyLmxlbmd0aCApIFlUUGxheWVyLnZvbHVtZUJhci5hZGRDbGFzcyggXCJtdXRlZFwiICk7XG5cdFx0XHRcdFx0XHR2YXIgWVRQRXZlbnQgPSBqUXVlcnkuRXZlbnQoIFwiWVRQTXV0ZWRcIiApO1xuXHRcdFx0XHRcdFx0WVRQRXZlbnQudGltZSA9IFlUUGxheWVyLnBsYXllci50aW1lO1xuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmNhblRyaWdnZXIgKSBqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggWVRQRXZlbnQgKTtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHJldHVybnMge2pRdWVyeS5tYllUUGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0dW5tdXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLmlzTXV0ZSApIHJldHVybjtcblx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci51bk11dGUoKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLmlzTXV0ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnNldFZvbHVtZSggWVRQbGF5ZXIub3B0LnZvbCApO1xuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnZvbHVtZUJhciAmJiBZVFBsYXllci52b2x1bWVCYXIubGVuZ3RoICkgWVRQbGF5ZXIudm9sdW1lQmFyLnVwZGF0ZVNsaWRlclZhbCggWVRQbGF5ZXIub3B0LnZvbCA+IDEwID8gWVRQbGF5ZXIub3B0LnZvbCA6IDEwICk7XG5cdFx0XHRcdFx0XHR2YXIgY29udHJvbHMgPSBqUXVlcnkoIFwiI2NvbnRyb2xCYXJfXCIgKyBZVFBsYXllci5pZCApO1xuXHRcdFx0XHRcdFx0dmFyIG11dGVCdG4gPSBjb250cm9scy5maW5kKCBcIi5tYl9ZVFBNdXRlVW5tdXRlXCIgKTtcblx0XHRcdFx0XHRcdG11dGVCdG4uaHRtbCggalF1ZXJ5Lm1iWVRQbGF5ZXIuY29udHJvbHMubXV0ZSApO1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnJlbW92ZUNsYXNzKCBcImlzTXV0ZWRcIiApO1xuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnZvbHVtZUJhciAmJiBZVFBsYXllci52b2x1bWVCYXIubGVuZ3RoICkgWVRQbGF5ZXIudm9sdW1lQmFyLnJlbW92ZUNsYXNzKCBcIm11dGVkXCIgKTtcblx0XHRcdFx0XHRcdHZhciBZVFBFdmVudCA9IGpRdWVyeS5FdmVudCggXCJZVFBVbm11dGVkXCIgKTtcblx0XHRcdFx0XHRcdFlUUEV2ZW50LnRpbWUgPSBZVFBsYXllci5wbGF5ZXIudGltZTtcblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5jYW5UcmlnZ2VyICkgalF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFlUUEV2ZW50ICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSBmaWx0ZXJcblx0XHRcdFx0ICogQHBhcmFtIHZhbHVlXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtqUXVlcnkubWJZVFBsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdGFwcGx5RmlsdGVyOiBmdW5jdGlvbiggZmlsdGVyLCB2YWx1ZSApIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5maWx0ZXJzWyBmaWx0ZXIgXS52YWx1ZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmZpbHRlcnNFbmFibGVkICkgdGhpcy5ZVFBFbmFibGVGaWx0ZXJzKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSBmaWx0ZXJzXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtqUXVlcnkubWJZVFBsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdGFwcGx5RmlsdGVyczogZnVuY3Rpb24oIGZpbHRlcnMgKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0dGhpcy5vbiggXCJZVFBSZWFkeVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRmb3IoIHZhciBrZXkgaW4gZmlsdGVycyApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuZmlsdGVyc1sga2V5IF0udmFsdWUgPSBmaWx0ZXJzWyBrZXkgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUEFwcGx5RmlsdGVyKCBrZXksIGZpbHRlcnNbIGtleSBdICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBcIllUUEZpbHRlcnNBcHBsaWVkXCIgKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIGZpbHRlclxuXHRcdFx0XHQgKiBAcGFyYW0gdmFsdWVcblx0XHRcdFx0ICogQHJldHVybnMgeyp9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHR0b2dnbGVGaWx0ZXI6IGZ1bmN0aW9uKCBmaWx0ZXIsIHZhbHVlICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcztcblx0XHRcdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLmZpbHRlcnNbIGZpbHRlciBdLnZhbHVlICkgWVRQbGF5ZXIuZmlsdGVyc1sgZmlsdGVyIF0udmFsdWUgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRlbHNlIFlUUGxheWVyLmZpbHRlcnNbIGZpbHRlciBdLnZhbHVlID0gMDtcblx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuZmlsdGVyc0VuYWJsZWQgKSBqUXVlcnkoIHRoaXMgKS5ZVFBFbmFibGVGaWx0ZXJzKCk7XG5cdFx0XHRcdFx0XHR9IClcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdFx0XHRcdCAqIEByZXR1cm5zIHsqfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0dG9nZ2xlRmlsdGVyczogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcztcblx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuZmlsdGVyc0VuYWJsZWQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBcIllUUERpc2FibGVGaWx0ZXJzXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUERpc2FibGVGaWx0ZXJzKCk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUEVuYWJsZUZpbHRlcnMoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFwiWVRQRW5hYmxlRmlsdGVyc1wiICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgY2FsbGJhY2sgPT0gXCJmdW5jdGlvblwiICkgY2FsbGJhY2soIFlUUGxheWVyLmZpbHRlcnNFbmFibGVkICk7XG5cdFx0XHRcdFx0XHR9IClcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEByZXR1cm5zIHsqfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0ZGlzYWJsZUZpbHRlcnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcztcblx0XHRcdFx0XHRcdFx0XHR2YXIgaWZyYW1lID0galF1ZXJ5KCBZVFBsYXllci5wbGF5ZXJFbCApO1xuXHRcdFx0XHRcdFx0XHRcdGlmcmFtZS5jc3MoIFwiLXdlYmtpdC1maWx0ZXJcIiwgXCJcIiApO1xuXHRcdFx0XHRcdFx0XHRcdGlmcmFtZS5jc3MoIFwiZmlsdGVyXCIsIFwiXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5maWx0ZXJzRW5hYmxlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0fSApXG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcmV0dXJucyB7Kn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdGVuYWJsZUZpbHRlcnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcztcblx0XHRcdFx0XHRcdFx0XHR2YXIgaWZyYW1lID0galF1ZXJ5KCBZVFBsYXllci5wbGF5ZXJFbCApO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBmaWx0ZXJTdHlsZSA9IFwiXCI7XG5cdFx0XHRcdFx0XHRcdFx0Zm9yKCB2YXIga2V5IGluIFlUUGxheWVyLmZpbHRlcnMgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5maWx0ZXJzWyBrZXkgXS52YWx1ZSApIGZpbHRlclN0eWxlICs9IGtleS5yZXBsYWNlKCBcIl9cIiwgXCItXCIgKSArIFwiKFwiICsgWVRQbGF5ZXIuZmlsdGVyc1sga2V5IF0udmFsdWUgKyBZVFBsYXllci5maWx0ZXJzWyBrZXkgXS51bml0ICsgXCIpIFwiO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRpZnJhbWUuY3NzKCBcIi13ZWJraXQtZmlsdGVyXCIsIGZpbHRlclN0eWxlICk7XG5cdFx0XHRcdFx0XHRcdFx0aWZyYW1lLmNzcyggXCJmaWx0ZXJcIiwgZmlsdGVyU3R5bGUgKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5maWx0ZXJzRW5hYmxlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHR9IClcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIGZpbHRlclxuXHRcdFx0XHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0XHRcdFx0ICogQHJldHVybnMgeyp9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRyZW1vdmVGaWx0ZXI6IGZ1bmN0aW9uKCBmaWx0ZXIsIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIHR5cGVvZiBmaWx0ZXIgPT0gXCJmdW5jdGlvblwiICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGZpbHRlcjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZmlsdGVyID0gbnVsbDtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcztcblx0XHRcdFx0XHRcdFx0XHRpZiggIWZpbHRlciApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZvciggdmFyIGtleSBpbiBZVFBsYXllci5maWx0ZXJzICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuWVRQQXBwbHlGaWx0ZXIoIGtleSwgMCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIHR5cGVvZiBjYWxsYmFjayA9PSBcImZ1bmN0aW9uXCIgKSBjYWxsYmFjaygga2V5ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5ZVFBBcHBseUZpbHRlciggZmlsdGVyLCAwICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggdHlwZW9mIGNhbGxiYWNrID09IFwiZnVuY3Rpb25cIiApIGNhbGxiYWNrKCBmaWx0ZXIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcmV0dXJucyB7e3RvdGFsVGltZTogbnVtYmVyLCBjdXJyZW50VGltZTogbnVtYmVyfX1cblx0XHRcdFx0ICovXG5cdFx0XHRcdG1hbmFnZVByb2dyZXNzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHR2YXIgY29udHJvbHMgPSBqUXVlcnkoIFwiI2NvbnRyb2xCYXJfXCIgKyBZVFBsYXllci5pZCApO1xuXHRcdFx0XHRcdFx0dmFyIHByb2dyZXNzQmFyID0gY29udHJvbHMuZmluZCggXCIubWJfWVRQUHJvZ3Jlc3NcIiApO1xuXHRcdFx0XHRcdFx0dmFyIGxvYWRlZEJhciA9IGNvbnRyb2xzLmZpbmQoIFwiLm1iX1lUUExvYWRlZFwiICk7XG5cdFx0XHRcdFx0XHR2YXIgdGltZUJhciA9IGNvbnRyb2xzLmZpbmQoIFwiLm1iX1lUUHNlZWtiYXJcIiApO1xuXHRcdFx0XHRcdFx0dmFyIHRvdFcgPSBwcm9ncmVzc0Jhci5vdXRlcldpZHRoKCk7XG5cdFx0XHRcdFx0XHR2YXIgY3VycmVudFRpbWUgPSBNYXRoLmZsb29yKCBZVFBsYXllci5wbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSApO1xuXHRcdFx0XHRcdFx0dmFyIHRvdGFsVGltZSA9IE1hdGguZmxvb3IoIFlUUGxheWVyLnBsYXllci5nZXREdXJhdGlvbigpICk7XG5cdFx0XHRcdFx0XHR2YXIgdGltZVcgPSAoIGN1cnJlbnRUaW1lICogdG90VyApIC8gdG90YWxUaW1lO1xuXHRcdFx0XHRcdFx0dmFyIHN0YXJ0TGVmdCA9IDA7XG5cdFx0XHRcdFx0XHR2YXIgbG9hZGVkVyA9IFlUUGxheWVyLnBsYXllci5nZXRWaWRlb0xvYWRlZEZyYWN0aW9uKCkgKiAxMDA7XG5cdFx0XHRcdFx0XHRsb2FkZWRCYXIuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0bGVmdDogc3RhcnRMZWZ0LFxuXHRcdFx0XHRcdFx0XHRcdHdpZHRoOiBsb2FkZWRXICsgXCIlXCJcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdHRpbWVCYXIuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0XHRcdFx0XHR3aWR0aDogdGltZVdcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0dG90YWxUaW1lOiB0b3RhbFRpbWUsXG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudFRpbWU6IGN1cnJlbnRUaW1lXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIFlUUGxheWVyXG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRidWlsZENvbnRyb2xzOiBmdW5jdGlvbiggWVRQbGF5ZXIgKSB7XG5cdFx0XHRcdFx0XHR2YXIgZGF0YSA9IFlUUGxheWVyLm9wdDtcblx0XHRcdFx0XHRcdC8vIEBkYXRhLnByaW50VXJsOiBpcyBkZXByZWNhdGVkOyB1c2UgZGF0YS5zaG93WVRMb2dvXG5cdFx0XHRcdFx0XHRkYXRhLnNob3dZVExvZ28gPSBkYXRhLnNob3dZVExvZ28gfHwgZGF0YS5wcmludFVybDtcblx0XHRcdFx0XHRcdGlmKCBqUXVlcnkoIFwiI2NvbnRyb2xCYXJfXCIgKyBZVFBsYXllci5pZCApLmxlbmd0aCApIHJldHVybjtcblx0XHRcdFx0XHRcdFlUUGxheWVyLmNvbnRyb2xCYXIgPSBqUXVlcnkoIFwiPHNwYW4vPlwiICkuYXR0ciggXCJpZFwiLCBcImNvbnRyb2xCYXJfXCIgKyBZVFBsYXllci5pZCApLmFkZENsYXNzKCBcIm1iX1lUUEJhclwiICkuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpdGVTcGFjZTogXCJub1dyYXBcIixcblx0XHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogWVRQbGF5ZXIuaXNCYWNrZ3JvdW5kID8gXCJmaXhlZFwiIDogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0XHRcdFx0XHRcdHpJbmRleDogWVRQbGF5ZXIuaXNCYWNrZ3JvdW5kID8gMTAwMDAgOiAxMDAwXG5cdFx0XHRcdFx0XHR9ICkuaGlkZSgpO1xuXHRcdFx0XHRcdFx0dmFyIGJ1dHRvbkJhciA9IGpRdWVyeSggXCI8ZGl2Lz5cIiApLmFkZENsYXNzKCBcImJ1dHRvbkJhclwiICk7XG5cdFx0XHRcdFx0XHQvKiBwbGF5L3BhdXNlIGJ1dHRvbiovXG5cdFx0XHRcdFx0XHR2YXIgcGxheXBhdXNlID0galF1ZXJ5KCBcIjxzcGFuPlwiICsgalF1ZXJ5Lm1iWVRQbGF5ZXIuY29udHJvbHMucGxheSArIFwiPC9zcGFuPlwiICkuYWRkQ2xhc3MoIFwibWJfWVRQUGxheXBhdXNlIHl0cGljb25cIiApLmNsaWNrKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIucGxheWVyLmdldFBsYXllclN0YXRlKCkgPT0gMSApIGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBQYXVzZSgpO1xuXHRcdFx0XHRcdFx0XHRcdGVsc2UgalF1ZXJ5KCBZVFBsYXllciApLllUUFBsYXkoKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdC8qIG11dGUvdW5tdXRlIGJ1dHRvbiovXG5cdFx0XHRcdFx0XHR2YXIgTXV0ZVVubXV0ZSA9IGpRdWVyeSggXCI8c3Bhbj5cIiArIGpRdWVyeS5tYllUUGxheWVyLmNvbnRyb2xzLm11dGUgKyBcIjwvc3Bhbj5cIiApLmFkZENsYXNzKCBcIm1iX1lUUE11dGVVbm11dGUgeXRwaWNvblwiICkuY2xpY2soIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5wbGF5ZXIuZ2V0Vm9sdW1lKCkgPT0gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUFVubXV0ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBNdXRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0Lyogdm9sdW1lIGJhciovXG5cdFx0XHRcdFx0XHR2YXIgdm9sdW1lQmFyID0galF1ZXJ5KCBcIjxkaXYvPlwiICkuYWRkQ2xhc3MoIFwibWJfWVRQVm9sdW1lQmFyXCIgKS5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiXG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci52b2x1bWVCYXIgPSB2b2x1bWVCYXI7XG5cdFx0XHRcdFx0XHQvKiB0aW1lIGVsYXBzZWQgKi9cblx0XHRcdFx0XHRcdHZhciBpZHggPSBqUXVlcnkoIFwiPHNwYW4vPlwiICkuYWRkQ2xhc3MoIFwibWJfWVRQVGltZVwiICk7XG5cdFx0XHRcdFx0XHR2YXIgdlVSTCA9IGRhdGEudmlkZW9VUkwgPyBkYXRhLnZpZGVvVVJMIDogXCJcIjtcblx0XHRcdFx0XHRcdGlmKCB2VVJMLmluZGV4T2YoIFwiaHR0cFwiICkgPCAwICkgdlVSTCA9IGpRdWVyeS5tYllUUGxheWVyLmxvY2F0aW9uUHJvdG9jb2wgKyBcIi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9XCIgKyBkYXRhLnZpZGVvVVJMO1xuXHRcdFx0XHRcdFx0dmFyIG1vdmllVXJsID0galF1ZXJ5KCBcIjxzcGFuLz5cIiApLmh0bWwoIGpRdWVyeS5tYllUUGxheWVyLmNvbnRyb2xzLnl0TG9nbyApLmFkZENsYXNzKCBcIm1iX1lUUFVybCB5dHBpY29uXCIgKS5hdHRyKCBcInRpdGxlXCIsIFwidmlldyBvbiBZb3VUdWJlXCIgKS5vbiggXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cub3BlbiggdlVSTCwgXCJ2aWV3T25ZVFwiIClcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdHZhciBvbmx5VmlkZW8gPSBqUXVlcnkoIFwiPHNwYW4vPlwiICkuaHRtbCggalF1ZXJ5Lm1iWVRQbGF5ZXIuY29udHJvbHMub25seVlUICkuYWRkQ2xhc3MoIFwibWJfT25seVlUIHl0cGljb25cIiApLm9uKCBcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBGdWxsc2NyZWVuKCBkYXRhLnJlYWxmdWxsc2NyZWVuICk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR2YXIgcHJvZ3Jlc3NCYXIgPSBqUXVlcnkoIFwiPGRpdi8+XCIgKS5hZGRDbGFzcyggXCJtYl9ZVFBQcm9ncmVzc1wiICkuY3NzKCBcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIiApLmNsaWNrKCBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0XHRcdFx0XHR0aW1lQmFyLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aWR0aDogKCBlLmNsaWVudFggLSB0aW1lQmFyLm9mZnNldCgpLmxlZnQgKVxuXHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci50aW1lVyA9IGUuY2xpZW50WCAtIHRpbWVCYXIub2Zmc2V0KCkubGVmdDtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5jb250cm9sQmFyLmZpbmQoIFwiLm1iX1lUUExvYWRlZFwiICkuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdpZHRoOiAwXG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdHZhciB0b3RhbFRpbWUgPSBNYXRoLmZsb29yKCBZVFBsYXllci5wbGF5ZXIuZ2V0RHVyYXRpb24oKSApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmdvdG8gPSAoIHRpbWVCYXIub3V0ZXJXaWR0aCgpICogdG90YWxUaW1lICkgLyBwcm9ncmVzc0Jhci5vdXRlcldpZHRoKCk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnNlZWtUbyggcGFyc2VGbG9hdCggWVRQbGF5ZXIuZ290byApLCB0cnVlICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuY29udHJvbEJhci5maW5kKCBcIi5tYl9ZVFBMb2FkZWRcIiApLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aWR0aDogMFxuXHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdHZhciBsb2FkZWRCYXIgPSBqUXVlcnkoIFwiPGRpdi8+XCIgKS5hZGRDbGFzcyggXCJtYl9ZVFBMb2FkZWRcIiApLmNzcyggXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIgKTtcblx0XHRcdFx0XHRcdHZhciB0aW1lQmFyID0galF1ZXJ5KCBcIjxkaXYvPlwiICkuYWRkQ2xhc3MoIFwibWJfWVRQc2Vla2JhclwiICkuY3NzKCBcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIiApO1xuXHRcdFx0XHRcdFx0cHJvZ3Jlc3NCYXIuYXBwZW5kKCBsb2FkZWRCYXIgKS5hcHBlbmQoIHRpbWVCYXIgKTtcblx0XHRcdFx0XHRcdGJ1dHRvbkJhci5hcHBlbmQoIHBsYXlwYXVzZSApLmFwcGVuZCggTXV0ZVVubXV0ZSApLmFwcGVuZCggdm9sdW1lQmFyICkuYXBwZW5kKCBpZHggKTtcblx0XHRcdFx0XHRcdGlmKCBkYXRhLnNob3dZVExvZ28gKSB7XG5cdFx0XHRcdFx0XHRcdFx0YnV0dG9uQmFyLmFwcGVuZCggbW92aWVVcmwgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5pc0JhY2tncm91bmQgfHwgKCBldmFsKCBZVFBsYXllci5vcHQucmVhbGZ1bGxzY3JlZW4gKSAmJiAhWVRQbGF5ZXIuaXNCYWNrZ3JvdW5kICkgKSBidXR0b25CYXIuYXBwZW5kKCBvbmx5VmlkZW8gKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLmNvbnRyb2xCYXIuYXBwZW5kKCBidXR0b25CYXIgKS5hcHBlbmQoIHByb2dyZXNzQmFyICk7XG5cdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLmlzQmFja2dyb3VuZCApIHtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5jb250cm9sQmFyLmFkZENsYXNzKCBcImlubGluZVBsYXllclwiICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIud3JhcHBlci5iZWZvcmUoIFlUUGxheWVyLmNvbnRyb2xCYXIgKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBcImJvZHlcIiApLmFmdGVyKCBZVFBsYXllci5jb250cm9sQmFyICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR2b2x1bWVCYXIuc2ltcGxlU2xpZGVyKCB7XG5cdFx0XHRcdFx0XHRcdFx0aW5pdGlhbHZhbDogWVRQbGF5ZXIub3B0LnZvbCxcblx0XHRcdFx0XHRcdFx0XHRzY2FsZTogMTAwLFxuXHRcdFx0XHRcdFx0XHRcdG9yaWVudGF0aW9uOiBcImhcIixcblx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjazogZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggZWwudmFsdWUgPT0gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBNdXRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQVW5tdXRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnNldFZvbHVtZSggZWwudmFsdWUgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci5pc011dGUgKSBZVFBsYXllci5vcHQudm9sID0gZWwudmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogKi9cblx0XHRcdFx0Y2hlY2tGb3JTdGF0ZTogZnVuY3Rpb24oIFlUUGxheWVyICkge1xuXHRcdFx0XHRcdFx0dmFyIGludGVydmFsID0gWVRQbGF5ZXIub3B0LnNob3dDb250cm9scyA/IDEwMCA6IDcwMDtcblx0XHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoIFlUUGxheWVyLmdldFN0YXRlICk7XG5cdFx0XHRcdFx0XHQvL0NoZWNraW5nIGlmIHBsYXllciBoYXMgYmVlbiByZW1vdmVkIGZyb20gc2NlbmVcblx0XHRcdFx0XHRcdGlmKCAhalF1ZXJ5LmNvbnRhaW5zKCBkb2N1bWVudCwgWVRQbGF5ZXIgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQUGxheWVyRGVzdHJveSgpO1xuXHRcdFx0XHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoIFlUUGxheWVyLmdldFN0YXRlICk7XG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggWVRQbGF5ZXIuY2hlY2tGb3JTdGFydEF0ICk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0alF1ZXJ5Lm1iWVRQbGF5ZXIuY2hlY2tGb3JTdGFydCggWVRQbGF5ZXIgKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLmdldFN0YXRlID0gc2V0SW50ZXJ2YWwoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBwcm9nID0galF1ZXJ5KCBZVFBsYXllciApLllUUE1hbmFnZVByb2dyZXNzKCk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyICRZVFBsYXllciA9IGpRdWVyeSggWVRQbGF5ZXIgKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgZGF0YSA9IFlUUGxheWVyLm9wdDtcblx0XHRcdFx0XHRcdFx0XHR2YXIgc3RhcnRBdCA9IFlUUGxheWVyLm9wdC5zdGFydEF0ID8gWVRQbGF5ZXIub3B0LnN0YXJ0QXQgOiAwO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBzdG9wQXQgPSBZVFBsYXllci5vcHQuc3RvcEF0ID4gWVRQbGF5ZXIub3B0LnN0YXJ0QXQgPyBZVFBsYXllci5vcHQuc3RvcEF0IDogMDtcblx0XHRcdFx0XHRcdFx0XHRzdG9wQXQgPSBzdG9wQXQgPCBZVFBsYXllci5wbGF5ZXIuZ2V0RHVyYXRpb24oKSA/IHN0b3BBdCA6IDA7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnBsYXllci50aW1lICE9IHByb2cuY3VycmVudFRpbWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBZVFBFdmVudCA9IGpRdWVyeS5FdmVudCggXCJZVFBUaW1lXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQRXZlbnQudGltZSA9IFlUUGxheWVyLnBsYXllci50aW1lO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggWVRQRXZlbnQgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnRpbWUgPSBwcm9nLmN1cnJlbnRUaW1lO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5wbGF5ZXIuZ2V0Vm9sdW1lKCkgPT0gMCApICRZVFBsYXllci5hZGRDbGFzcyggXCJpc011dGVkXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRlbHNlICRZVFBsYXllci5yZW1vdmVDbGFzcyggXCJpc011dGVkXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIub3B0LnNob3dDb250cm9scyApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBwcm9nLnRvdGFsVGltZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmNvbnRyb2xCYXIuZmluZCggXCIubWJfWVRQVGltZVwiICkuaHRtbCggalF1ZXJ5Lm1iWVRQbGF5ZXIuZm9ybWF0VGltZSggcHJvZy5jdXJyZW50VGltZSApICsgXCIgLyBcIiArIGpRdWVyeS5tYllUUGxheWVyLmZvcm1hdFRpbWUoIHByb2cudG90YWxUaW1lICkgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmNvbnRyb2xCYXIuZmluZCggXCIubWJfWVRQVGltZVwiICkuaHRtbCggXCItLSA6IC0tIC8gLS0gOiAtLVwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRpZiggZXZhbCggWVRQbGF5ZXIub3B0LnN0b3BNb3ZpZU9uQmx1ciApIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoICFkb2N1bWVudC5oYXNGb2N1cygpICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnN0YXRlID09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaGFzRm9jdXMgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkWVRQbGF5ZXIuWVRQUGF1c2UoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmKCBkb2N1bWVudC5oYXNGb2N1cygpICYmICFZVFBsYXllci5oYXNGb2N1cyAmJiAhKCBZVFBsYXllci5zdGF0ZSA9PSAtMSB8fCBZVFBsYXllci5zdGF0ZSA9PSAwICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmhhc0ZvY3VzID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0JFlUUGxheWVyLllUUFBsYXkoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmNvbnRyb2xCYXIgJiYgWVRQbGF5ZXIuY29udHJvbEJhci5vdXRlcldpZHRoKCkgPD0gNDAwICYmICFZVFBsYXllci5pc0NvbXBhY3QgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmNvbnRyb2xCYXIuYWRkQ2xhc3MoIFwiY29tcGFjdFwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmlzQ29tcGFjdCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIuaXNNdXRlICYmIFlUUGxheWVyLnZvbHVtZUJhciApIFlUUGxheWVyLnZvbHVtZUJhci51cGRhdGVTbGlkZXJWYWwoIFlUUGxheWVyLm9wdC52b2wgKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYoIFlUUGxheWVyLmNvbnRyb2xCYXIgJiYgWVRQbGF5ZXIuY29udHJvbEJhci5vdXRlcldpZHRoKCkgPiA0MDAgJiYgWVRQbGF5ZXIuaXNDb21wYWN0ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5jb250cm9sQmFyLnJlbW92ZUNsYXNzKCBcImNvbXBhY3RcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5pc0NvbXBhY3QgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci5pc011dGUgJiYgWVRQbGF5ZXIudm9sdW1lQmFyICkgWVRQbGF5ZXIudm9sdW1lQmFyLnVwZGF0ZVNsaWRlclZhbCggWVRQbGF5ZXIub3B0LnZvbCApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIucGxheWVyLmdldFBsYXllclN0YXRlKCkgPT0gMSAmJiAoIHBhcnNlRmxvYXQoIFlUUGxheWVyLnBsYXllci5nZXREdXJhdGlvbigpIC0gMS41ICkgPCBZVFBsYXllci5wbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSB8fCAoIHN0b3BBdCA+IDAgJiYgcGFyc2VGbG9hdCggWVRQbGF5ZXIucGxheWVyLmdldEN1cnJlbnRUaW1lKCkgKSA+IHN0b3BBdCApICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5pc0VuZGVkICkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5pc0VuZGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5pc0VuZGVkID0gZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgMTAwMCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaXNQbGF5TGlzdCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoIFlUUGxheWVyLmdldFN0YXRlICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgWVRQRW5kID0galF1ZXJ5LkV2ZW50KCBcIllUUEVuZFwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBFbmQudGltZSA9IFlUUGxheWVyLnBsYXllci50aW1lO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFlUUEVuZCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYoICFkYXRhLmxvb3AgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIucGF1c2VWaWRlbygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIud3JhcHBlci5DU1NBbmltYXRlKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgMTAwMCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIFlUUEVuZCA9IGpRdWVyeS5FdmVudCggXCJZVFBFbmRcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUEVuZC50aW1lID0gWVRQbGF5ZXIucGxheWVyLnRpbWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFlUUEVuZCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5zZWVrVG8oIHN0YXJ0QXQsIHRydWUgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLmlzQmFja2dyb3VuZCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50LmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZDogXCJyZ2JhKDAsMCwwLDAuNSkgdXJsKFwiICsgWVRQbGF5ZXIub3B0LmJhY2tncm91bmRVcmwgKyBcIikgY2VudGVyIGNlbnRlclwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZFNpemU6IFwiY292ZXJcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdGFydEF0ID0gc3RhcnRBdCB8fCAxO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIucGF1c2VWaWRlbygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnNlZWtUbyggc3RhcnRBdCwgdHJ1ZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JFlUUGxheWVyLllUUFBsYXkoKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgaW50ZXJ2YWwgKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqICovXG5cdFx0XHRcdGNoZWNrRm9yU3RhcnQ6IGZ1bmN0aW9uKCBZVFBsYXllciApIHtcblx0XHRcdFx0XHRcdHZhciAkWVRQbGF5ZXIgPSBqUXVlcnkoIFlUUGxheWVyICk7XG5cdFx0XHRcdFx0XHQvL0NoZWNraW5nIGlmIHBsYXllciBoYXMgYmVlbiByZW1vdmVkIGZyb20gc2NlbmVcblx0XHRcdFx0XHRcdGlmKCAhalF1ZXJ5LmNvbnRhaW5zKCBkb2N1bWVudCwgWVRQbGF5ZXIgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQUGxheWVyRGVzdHJveSgpO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYoIGpRdWVyeS5icm93c2VyLmNocm9tZSApIFlUUGxheWVyLm9wdC5xdWFsaXR5ID0gXCJkZWZhdWx0XCI7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIucGF1c2VWaWRlbygpO1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLm11dGVZVFBWb2x1bWUoKTtcblx0XHRcdFx0XHRcdGpRdWVyeSggXCIjY29udHJvbEJhcl9cIiArIFlUUGxheWVyLmlkICkucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIub3B0LnNob3dDb250cm9scyApIGpRdWVyeS5tYllUUGxheWVyLmJ1aWxkQ29udHJvbHMoIFlUUGxheWVyICk7XG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIub3B0LmFkZFJhc3RlciApIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgY2xhc3NOID0gWVRQbGF5ZXIub3B0LmFkZFJhc3RlciA9PSBcImRvdFwiID8gXCJyYXN0ZXItZG90XCIgOiBcInJhc3RlclwiO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm92ZXJsYXkuYWRkQ2xhc3MoIFlUUGxheWVyLmlzUmV0aW5hID8gY2xhc3NOICsgXCIgcmV0aW5hXCIgOiBjbGFzc04gKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3ZlcmxheS5yZW1vdmVDbGFzcyggZnVuY3Rpb24oIGluZGV4LCBjbGFzc05hbWVzICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBjaGFuZ2UgdGhlIGxpc3QgaW50byBhbiBhcnJheVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgY3VycmVudF9jbGFzc2VzID0gY2xhc3NOYW1lcy5zcGxpdCggXCIgXCIgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGFycmF5IG9mIGNsYXNzZXMgd2hpY2ggYXJlIHRvIGJlIHJlbW92ZWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzZXNfdG9fcmVtb3ZlID0gW107XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBjdXJyZW50X2NsYXNzZXMsIGZ1bmN0aW9uKCBpbmRleCwgY2xhc3NfbmFtZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGlmIHRoZSBjbGFzc25hbWUgYmVnaW5zIHdpdGggYmcgYWRkIGl0IHRvIHRoZSBjbGFzc2VzX3RvX3JlbW92ZSBhcnJheVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIC9yYXN0ZXIuKi8udGVzdCggY2xhc3NfbmFtZSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzZXNfdG9fcmVtb3ZlLnB1c2goIGNsYXNzX25hbWUgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc2VzX3RvX3JlbW92ZS5wdXNoKCBcInJldGluYVwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHR1cm4gdGhlIGFycmF5IGJhY2sgaW50byBhIHN0cmluZ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY2xhc3Nlc190b19yZW1vdmUuam9pbiggXCIgXCIgKTtcblx0XHRcdFx0XHRcdFx0XHR9IClcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFlUUGxheWVyLmNoZWNrRm9yU3RhcnRBdCA9IHNldEludGVydmFsKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQTXV0ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBzdGFydEF0ID0gWVRQbGF5ZXIub3B0LnN0YXJ0QXQgPyBZVFBsYXllci5vcHQuc3RhcnRBdCA6IDE7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGNhblBsYXlWaWRlbyA9ICggWVRQbGF5ZXIucGxheWVyLmdldFZpZGVvTG9hZGVkRnJhY3Rpb24oKSA+IHN0YXJ0QXQgLyBZVFBsYXllci5wbGF5ZXIuZ2V0RHVyYXRpb24oKSApO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5wbGF5ZXIuZ2V0RHVyYXRpb24oKSA+IDAgJiYgWVRQbGF5ZXIucGxheWVyLmdldEN1cnJlbnRUaW1lKCkgPj0gc3RhcnRBdCAmJiBjYW5QbGF5VmlkZW8gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoIFlUUGxheWVyLmNoZWNrRm9yU3RhcnRBdCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5pc1JlYWR5ID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIHR5cGVvZiBZVFBsYXllci5vcHQub25SZWFkeSA9PSBcImZ1bmN0aW9uXCIgKSBZVFBsYXllci5vcHQub25SZWFkeSggWVRQbGF5ZXIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIFlUUHJlYWR5ID0galF1ZXJ5LkV2ZW50KCBcIllUUFJlYWR5XCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFlUUHJlYWR5ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5wYXVzZVZpZGVvKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIub3B0Lm11dGUgKSBqUXVlcnkoIFlUUGxheWVyICkuWVRQVW5tdXRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmNhblRyaWdnZXIgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIub3B0LmF1dG9QbGF5ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JFlUUGxheWVyLllUUFBsYXkoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRZVFBsYXllci5jc3MoIFwiYmFja2dyb3VuZC1pbWFnZVwiLCBcIm5vbmVcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllci5wbGF5ZXJFbCApLkNTU0FuaW1hdGUoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAxXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCAxMDAwICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci53cmFwcGVyLkNTU0FuaW1hdGUoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBZVFBsYXllci5pc0Fsb25lID8gMSA6IFlUUGxheWVyLm9wdC5vcGFjaXR5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCAxMDAwICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIucGF1c2VWaWRlbygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci5pc1BsYXllciApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyLnBsYXllckVsICkuQ1NTQW5pbWF0ZSgge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAxXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgMTAwMCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLndyYXBwZXIuQ1NTQW5pbWF0ZSgge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBZVFBsYXllci5pc0Fsb25lID8gMSA6IFlUUGxheWVyLm9wdC5vcGFjaXR5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgMTAwMCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5pc1BsYXllciAmJiAhWVRQbGF5ZXIub3B0LmF1dG9QbGF5ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIubG9hZGluZy5odG1sKCBcIlJlYWR5XCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmxvYWRpbmcuZmFkZU91dCgpO1xuXG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIDEwMCApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmNvbnRyb2xCYXIgKSBZVFBsYXllci5jb250cm9sQmFyLnNsaWRlRG93biggMTAwMCApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vWVRQbGF5ZXIucGxheWVyLnBsYXlWaWRlbygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggc3RhcnRBdCA+PSAwICkgWVRQbGF5ZXIucGxheWVyLnNlZWtUbyggc3RhcnRBdCwgdHJ1ZSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIDEwMDAgKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSBzXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtzdHJpbmd9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRmb3JtYXRUaW1lOiBmdW5jdGlvbiggcyApIHtcblx0XHRcdFx0XHRcdHZhciBtaW4gPSBNYXRoLmZsb29yKCBzIC8gNjAgKTtcblx0XHRcdFx0XHRcdHZhciBzZWMgPSBNYXRoLmZsb29yKCBzIC0gKCA2MCAqIG1pbiApICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4oIG1pbiA8PSA5ID8gXCIwXCIgKyBtaW4gOiBtaW4gKSArIFwiIDogXCIgKyAoIHNlYyA8PSA5ID8gXCIwXCIgKyBzZWMgOiBzZWMgKTtcblx0XHRcdFx0fVxuXHRcdH07XG5cdFx0LyoqXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0XHQgKi9cblx0XHRqUXVlcnkuZm4udG9nZ2xlVm9sdW1lID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdGlmKCAhWVRQbGF5ZXIgKSByZXR1cm47XG5cdFx0XHRcdGlmKCBZVFBsYXllci5wbGF5ZXIuaXNNdXRlZCgpICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUFVubXV0ZSgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQTXV0ZSgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0fTtcblx0XHQvKipcblx0XHQgKlxuXHRcdCAqL1xuXHRcdGpRdWVyeS5mbi5vcHRpbWl6ZURpc3BsYXkgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0dmFyIGRhdGEgPSBZVFBsYXllci5vcHQ7XG5cdFx0XHRcdHZhciBwbGF5ZXJCb3ggPSBqUXVlcnkoIFlUUGxheWVyLnBsYXllckVsICk7XG5cdFx0XHRcdHZhciB3aW4gPSB7fTtcblx0XHRcdFx0dmFyIGVsID0gWVRQbGF5ZXIud3JhcHBlcjtcblx0XHRcdFx0d2luLndpZHRoID0gZWwub3V0ZXJXaWR0aCgpO1xuXHRcdFx0XHR3aW4uaGVpZ2h0ID0gZWwub3V0ZXJIZWlnaHQoKTtcblx0XHRcdFx0dmFyIG1hcmdpbiA9IDI0O1xuXHRcdFx0XHR2YXIgb3ZlcnByaW50ID0gMTAwO1xuXHRcdFx0XHR2YXIgdmlkID0ge307XG5cdFx0XHRcdGlmKCBkYXRhLm9wdGltaXplRGlzcGxheSApIHtcblx0XHRcdFx0XHRcdHZpZC53aWR0aCA9IHdpbi53aWR0aCArICggKCB3aW4ud2lkdGggKiBtYXJnaW4gKSAvIDEwMCApO1xuXHRcdFx0XHRcdFx0dmlkLmhlaWdodCA9IGRhdGEucmF0aW8gPT0gXCIxNi85XCIgPyBNYXRoLmNlaWwoICggOSAqIHdpbi53aWR0aCApIC8gMTYgKSA6IE1hdGguY2VpbCggKCAzICogd2luLndpZHRoICkgLyA0ICk7XG5cdFx0XHRcdFx0XHR2aWQubWFyZ2luVG9wID0gLSggKCB2aWQuaGVpZ2h0IC0gd2luLmhlaWdodCApIC8gMiApO1xuXHRcdFx0XHRcdFx0dmlkLm1hcmdpbkxlZnQgPSAtKCAoIHdpbi53aWR0aCAqICggbWFyZ2luIC8gMiApICkgLyAxMDAgKTtcblx0XHRcdFx0XHRcdGlmKCB2aWQuaGVpZ2h0IDwgd2luLmhlaWdodCApIHtcblx0XHRcdFx0XHRcdFx0XHR2aWQuaGVpZ2h0ID0gd2luLmhlaWdodCArICggKCB3aW4uaGVpZ2h0ICogbWFyZ2luICkgLyAxMDAgKTtcblx0XHRcdFx0XHRcdFx0XHR2aWQud2lkdGggPSBkYXRhLnJhdGlvID09IFwiMTYvOVwiID8gTWF0aC5mbG9vciggKCAxNiAqIHdpbi5oZWlnaHQgKSAvIDkgKSA6IE1hdGguZmxvb3IoICggNCAqIHdpbi5oZWlnaHQgKSAvIDMgKTtcblx0XHRcdFx0XHRcdFx0XHR2aWQubWFyZ2luVG9wID0gLSggKCB3aW4uaGVpZ2h0ICogKCBtYXJnaW4gLyAyICkgKSAvIDEwMCApO1xuXHRcdFx0XHRcdFx0XHRcdHZpZC5tYXJnaW5MZWZ0ID0gLSggKCB2aWQud2lkdGggLSB3aW4ud2lkdGggKSAvIDIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZpZC53aWR0aCArPSBvdmVycHJpbnQ7XG5cdFx0XHRcdFx0XHR2aWQuaGVpZ2h0ICs9IG92ZXJwcmludDtcblx0XHRcdFx0XHRcdHZpZC5tYXJnaW5Ub3AgLT0gb3ZlcnByaW50IC8gMjtcblx0XHRcdFx0XHRcdHZpZC5tYXJnaW5MZWZ0IC09IG92ZXJwcmludCAvIDI7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR2aWQud2lkdGggPSBcIjEwMCVcIjtcblx0XHRcdFx0XHRcdHZpZC5oZWlnaHQgPSBcIjEwMCVcIjtcblx0XHRcdFx0XHRcdHZpZC5tYXJnaW5Ub3AgPSAwO1xuXHRcdFx0XHRcdFx0dmlkLm1hcmdpbkxlZnQgPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHBsYXllckJveC5jc3MoIHtcblx0XHRcdFx0XHRcdHdpZHRoOiB2aWQud2lkdGgsXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IHZpZC5oZWlnaHQsXG5cdFx0XHRcdFx0XHRtYXJnaW5Ub3A6IHZpZC5tYXJnaW5Ub3AsXG5cdFx0XHRcdFx0XHRtYXJnaW5MZWZ0OiB2aWQubWFyZ2luTGVmdFxuXHRcdFx0XHR9ICk7XG5cdFx0fTtcblx0XHQvKipcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBhcnJcblx0XHQgKiBAcmV0dXJucyB7QXJyYXl8c3RyaW5nfEJsb2J8Kn1cblx0XHQgKlxuXHRcdCAqL1xuXHRcdGpRdWVyeS5zaHVmZmxlID0gZnVuY3Rpb24oIGFyciApIHtcblx0XHRcdFx0dmFyIG5ld0FycmF5ID0gYXJyLnNsaWNlKCk7XG5cdFx0XHRcdHZhciBsZW4gPSBuZXdBcnJheS5sZW5ndGg7XG5cdFx0XHRcdHZhciBpID0gbGVuO1xuXHRcdFx0XHR3aGlsZSggaS0tICkge1xuXHRcdFx0XHRcdFx0dmFyIHAgPSBwYXJzZUludCggTWF0aC5yYW5kb20oKSAqIGxlbiApO1xuXHRcdFx0XHRcdFx0dmFyIHQgPSBuZXdBcnJheVsgaSBdO1xuXHRcdFx0XHRcdFx0bmV3QXJyYXlbIGkgXSA9IG5ld0FycmF5WyBwIF07XG5cdFx0XHRcdFx0XHRuZXdBcnJheVsgcCBdID0gdDtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbmV3QXJyYXk7XG5cdFx0fTtcblxuXHRcdC8qIEV4cG9zZWQgcHVibGljIG1ldGhvZCAqL1xuXHRcdGpRdWVyeS5mbi5ZVFBsYXllciA9IGpRdWVyeS5tYllUUGxheWVyLmJ1aWxkUGxheWVyO1xuXHRcdGpRdWVyeS5mbi5ZVFBHZXRQbGF5ZXIgPSBqUXVlcnkubWJZVFBsYXllci5nZXRQbGF5ZXI7XG5cdFx0alF1ZXJ5LmZuLllUUEdldFZpZGVvSUQgPSBqUXVlcnkubWJZVFBsYXllci5nZXRWaWRlb0lEO1xuXHRcdGpRdWVyeS5mbi5ZVFBDaGFuZ2VNb3ZpZSA9IGpRdWVyeS5tYllUUGxheWVyLmNoYW5nZU1vdmllO1xuXHRcdGpRdWVyeS5mbi5ZVFBQbGF5ZXJEZXN0cm95ID0galF1ZXJ5Lm1iWVRQbGF5ZXIucGxheWVyRGVzdHJveTtcblxuXHRcdGpRdWVyeS5mbi5ZVFBQbGF5ID0galF1ZXJ5Lm1iWVRQbGF5ZXIucGxheTtcblx0XHRqUXVlcnkuZm4uWVRQVG9nZ2xlUGxheSA9IGpRdWVyeS5tYllUUGxheWVyLnRvZ2dsZVBsYXk7XG5cdFx0alF1ZXJ5LmZuLllUUFN0b3AgPSBqUXVlcnkubWJZVFBsYXllci5zdG9wO1xuXHRcdGpRdWVyeS5mbi5ZVFBQYXVzZSA9IGpRdWVyeS5tYllUUGxheWVyLnBhdXNlO1xuXHRcdGpRdWVyeS5mbi5ZVFBTZWVrVG8gPSBqUXVlcnkubWJZVFBsYXllci5zZWVrVG87XG5cblx0XHRqUXVlcnkuZm4uWVRQbGF5bGlzdCA9IGpRdWVyeS5tYllUUGxheWVyLnBsYXlsaXN0O1xuXHRcdGpRdWVyeS5mbi5ZVFBQbGF5TmV4dCA9IGpRdWVyeS5tYllUUGxheWVyLnBsYXlOZXh0O1xuXHRcdGpRdWVyeS5mbi5ZVFBQbGF5UHJldiA9IGpRdWVyeS5tYllUUGxheWVyLnBsYXlQcmV2O1xuXG5cdFx0alF1ZXJ5LmZuLllUUE11dGUgPSBqUXVlcnkubWJZVFBsYXllci5tdXRlO1xuXHRcdGpRdWVyeS5mbi5ZVFBVbm11dGUgPSBqUXVlcnkubWJZVFBsYXllci51bm11dGU7XG5cdFx0alF1ZXJ5LmZuLllUUFRvZ2dsZVZvbHVtZSA9IGpRdWVyeS5tYllUUGxheWVyLnRvZ2dsZVZvbHVtZTtcblx0XHRqUXVlcnkuZm4uWVRQU2V0Vm9sdW1lID0galF1ZXJ5Lm1iWVRQbGF5ZXIuc2V0Vm9sdW1lO1xuXG5cdFx0alF1ZXJ5LmZuLllUUEdldFZpZGVvRGF0YSA9IGpRdWVyeS5tYllUUGxheWVyLmdldFZpZGVvRGF0YTtcblx0XHRqUXVlcnkuZm4uWVRQRnVsbHNjcmVlbiA9IGpRdWVyeS5tYllUUGxheWVyLmZ1bGxzY3JlZW47XG5cdFx0alF1ZXJ5LmZuLllUUFRvZ2dsZUxvb3BzID0galF1ZXJ5Lm1iWVRQbGF5ZXIudG9nZ2xlTG9vcHM7XG5cdFx0alF1ZXJ5LmZuLllUUFNldFZpZGVvUXVhbGl0eSA9IGpRdWVyeS5tYllUUGxheWVyLnNldFZpZGVvUXVhbGl0eTtcblx0XHRqUXVlcnkuZm4uWVRQTWFuYWdlUHJvZ3Jlc3MgPSBqUXVlcnkubWJZVFBsYXllci5tYW5hZ2VQcm9ncmVzcztcblxuXHRcdGpRdWVyeS5mbi5ZVFBBcHBseUZpbHRlciA9IGpRdWVyeS5tYllUUGxheWVyLmFwcGx5RmlsdGVyO1xuXHRcdGpRdWVyeS5mbi5ZVFBBcHBseUZpbHRlcnMgPSBqUXVlcnkubWJZVFBsYXllci5hcHBseUZpbHRlcnM7XG5cdFx0alF1ZXJ5LmZuLllUUFRvZ2dsZUZpbHRlciA9IGpRdWVyeS5tYllUUGxheWVyLnRvZ2dsZUZpbHRlcjtcblx0XHRqUXVlcnkuZm4uWVRQVG9nZ2xlRmlsdGVycyA9IGpRdWVyeS5tYllUUGxheWVyLnRvZ2dsZUZpbHRlcnM7XG5cdFx0alF1ZXJ5LmZuLllUUFJlbW92ZUZpbHRlciA9IGpRdWVyeS5tYllUUGxheWVyLnJlbW92ZUZpbHRlcjtcblx0XHRqUXVlcnkuZm4uWVRQRGlzYWJsZUZpbHRlcnMgPSBqUXVlcnkubWJZVFBsYXllci5kaXNhYmxlRmlsdGVycztcblx0XHRqUXVlcnkuZm4uWVRQRW5hYmxlRmlsdGVycyA9IGpRdWVyeS5tYllUUGxheWVyLmVuYWJsZUZpbHRlcnM7XG5cblxuXHRcdC8qKlxuXHRcdCAqXG5cdFx0ICogQGRlcHJlY2F0ZWRcblx0XHQgKlxuXHRcdCAqKi9cblx0XHRqUXVlcnkuZm4ubWJfWVRQbGF5ZXIgPSBqUXVlcnkubWJZVFBsYXllci5idWlsZFBsYXllcjtcblx0XHRqUXVlcnkuZm4ucGxheU5leHQgPSBqUXVlcnkubWJZVFBsYXllci5wbGF5TmV4dDtcblx0XHRqUXVlcnkuZm4ucGxheVByZXYgPSBqUXVlcnkubWJZVFBsYXllci5wbGF5UHJldjtcblx0XHRqUXVlcnkuZm4uY2hhbmdlTW92aWUgPSBqUXVlcnkubWJZVFBsYXllci5jaGFuZ2VNb3ZpZTtcblx0XHRqUXVlcnkuZm4uZ2V0VmlkZW9JRCA9IGpRdWVyeS5tYllUUGxheWVyLmdldFZpZGVvSUQ7XG5cdFx0alF1ZXJ5LmZuLmdldFBsYXllciA9IGpRdWVyeS5tYllUUGxheWVyLmdldFBsYXllcjtcblx0XHRqUXVlcnkuZm4ucGxheWVyRGVzdHJveSA9IGpRdWVyeS5tYllUUGxheWVyLnBsYXllckRlc3Ryb3k7XG5cdFx0alF1ZXJ5LmZuLmZ1bGxzY3JlZW4gPSBqUXVlcnkubWJZVFBsYXllci5mdWxsc2NyZWVuO1xuXHRcdGpRdWVyeS5mbi5idWlsZFlUUENvbnRyb2xzID0galF1ZXJ5Lm1iWVRQbGF5ZXIuYnVpbGRDb250cm9scztcblx0XHRqUXVlcnkuZm4ucGxheVlUUCA9IGpRdWVyeS5tYllUUGxheWVyLnBsYXk7XG5cdFx0alF1ZXJ5LmZuLnRvZ2dsZUxvb3BzID0galF1ZXJ5Lm1iWVRQbGF5ZXIudG9nZ2xlTG9vcHM7XG5cdFx0alF1ZXJ5LmZuLnN0b3BZVFAgPSBqUXVlcnkubWJZVFBsYXllci5zdG9wO1xuXHRcdGpRdWVyeS5mbi5wYXVzZVlUUCA9IGpRdWVyeS5tYllUUGxheWVyLnBhdXNlO1xuXHRcdGpRdWVyeS5mbi5zZWVrVG9ZVFAgPSBqUXVlcnkubWJZVFBsYXllci5zZWVrVG87XG5cdFx0alF1ZXJ5LmZuLm11dGVZVFBWb2x1bWUgPSBqUXVlcnkubWJZVFBsYXllci5tdXRlO1xuXHRcdGpRdWVyeS5mbi51bm11dGVZVFBWb2x1bWUgPSBqUXVlcnkubWJZVFBsYXllci51bm11dGU7XG5cdFx0alF1ZXJ5LmZuLnNldFlUUFZvbHVtZSA9IGpRdWVyeS5tYllUUGxheWVyLnNldFZvbHVtZTtcblx0XHRqUXVlcnkuZm4uc2V0VmlkZW9RdWFsaXR5ID0galF1ZXJ5Lm1iWVRQbGF5ZXIuc2V0VmlkZW9RdWFsaXR5O1xuXHRcdGpRdWVyeS5mbi5tYW5hZ2VZVFBQcm9ncmVzcyA9IGpRdWVyeS5tYllUUGxheWVyLm1hbmFnZVByb2dyZXNzO1xuXHRcdGpRdWVyeS5mbi5ZVFBHZXREYXRhRnJvbUZlZWQgPSBqUXVlcnkubWJZVFBsYXllci5nZXRWaWRlb0RhdGE7XG5cblxufSApKCBqUXVlcnksIHl0cCApO1xuO1xuLypcbiAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogIGpxdWVyeS5tYi5jb21wb25lbnRzXG4gKiAgZmlsZToganF1ZXJ5Lm1iLkNTU0FuaW1hdGUubWluLmpzXG4gKlxuICogIENvcHlyaWdodCAoYykgMjAwMS0yMDE0LiBNYXR0ZW8gQmljb2NjaGkgKFB1cHVuemkpO1xuICogIE9wZW4gbGFiIHNybCwgRmlyZW56ZSAtIEl0YWx5XG4gKiAgZW1haWw6IG1hdHRlb0BvcGVuLWxhYi5jb21cbiAqICBzaXRlOiBcdGh0dHA6Ly9wdXB1bnppLmNvbVxuICogIGJsb2c6XHRodHRwOi8vcHVwdW56aS5vcGVuLWxhYi5jb21cbiAqIFx0aHR0cDovL29wZW4tbGFiLmNvbVxuICpcbiAqICBMaWNlbmNlczogTUlULCBHUExcbiAqICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICogIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwuaHRtbFxuICpcbiAqICBsYXN0IG1vZGlmaWVkOiAyNi8wMy8xNCAyMS40MFxuICogICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKi9cblxuZnVuY3Rpb24gdW5jYW1lbChhKXtyZXR1cm4gYS5yZXBsYWNlKC8oW0EtWl0pL2csZnVuY3Rpb24oYSl7cmV0dXJuXCItXCIrYS50b0xvd2VyQ2FzZSgpfSl9ZnVuY3Rpb24gc2V0VW5pdChhLGIpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhfHxhLm1hdGNoKC9eW1xcLTAtOVxcLl0ralF1ZXJ5Lyk/XCJcIithK2I6YX1mdW5jdGlvbiBzZXRGaWx0ZXIoYSxiLGMpe3ZhciBkPXVuY2FtZWwoYiksZT1qUXVlcnkuYnJvd3Nlci5tb3ppbGxhP1wiXCI6alF1ZXJ5LkNTUy5zZng7YVtlK1wiZmlsdGVyXCJdPWFbZStcImZpbHRlclwiXXx8XCJcIixjPXNldFVuaXQoYz5qUXVlcnkuQ1NTLmZpbHRlcnNbYl0ubWF4P2pRdWVyeS5DU1MuZmlsdGVyc1tiXS5tYXg6YyxqUXVlcnkuQ1NTLmZpbHRlcnNbYl0udW5pdCksYVtlK1wiZmlsdGVyXCJdKz1kK1wiKFwiK2MrXCIpIFwiLGRlbGV0ZSBhW2JdfWpRdWVyeS5zdXBwb3J0LkNTU3RyYW5zaXRpb249ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5ib2R5fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYj1hLnN0eWxlO3JldHVybiB2b2lkIDAhPT1iLnRyYW5zaXRpb258fHZvaWQgMCE9PWIuV2Via2l0VHJhbnNpdGlvbnx8dm9pZCAwIT09Yi5Nb3pUcmFuc2l0aW9ufHx2b2lkIDAhPT1iLk1zVHJhbnNpdGlvbnx8dm9pZCAwIT09Yi5PVHJhbnNpdGlvbn0oKSxqUXVlcnkuQ1NTPXtuYW1lOlwibWIuQ1NTQW5pbWF0ZVwiLGF1dGhvcjpcIk1hdHRlbyBCaWNvY2NoaVwiLHZlcnNpb246XCIyLjAuMFwiLHRyYW5zaXRpb25FbmQ6XCJ0cmFuc2l0aW9uRW5kXCIsc2Z4OlwiXCIsZmlsdGVyczp7Ymx1cjp7bWluOjAsbWF4OjEwMCx1bml0OlwicHhcIn0sYnJpZ2h0bmVzczp7bWluOjAsbWF4OjQwMCx1bml0OlwiJVwifSxjb250cmFzdDp7bWluOjAsbWF4OjQwMCx1bml0OlwiJVwifSxncmF5c2NhbGU6e21pbjowLG1heDoxMDAsdW5pdDpcIiVcIn0saHVlUm90YXRlOnttaW46MCxtYXg6MzYwLHVuaXQ6XCJkZWdcIn0saW52ZXJ0OnttaW46MCxtYXg6MTAwLHVuaXQ6XCIlXCJ9LHNhdHVyYXRlOnttaW46MCxtYXg6NDAwLHVuaXQ6XCIlXCJ9LHNlcGlhOnttaW46MCxtYXg6MTAwLHVuaXQ6XCIlXCJ9fSxub3JtYWxpemVDc3M6ZnVuY3Rpb24oYSl7dmFyIGI9alF1ZXJ5LmV4dGVuZCghMCx7fSxhKTtqUXVlcnkuYnJvd3Nlci53ZWJraXR8fGpRdWVyeS5icm93c2VyLm9wZXJhP2pRdWVyeS5DU1Muc2Z4PVwiLXdlYmtpdC1cIjpqUXVlcnkuYnJvd3Nlci5tb3ppbGxhP2pRdWVyeS5DU1Muc2Z4PVwiLW1vei1cIjpqUXVlcnkuYnJvd3Nlci5tc2llJiYoalF1ZXJ5LkNTUy5zZng9XCItbXMtXCIpO2Zvcih2YXIgYyBpbiBiKXtcInRyYW5zZm9ybVwiPT09YyYmKGJbalF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIl09YltjXSxkZWxldGUgYltjXSksXCJ0cmFuc2Zvcm0tb3JpZ2luXCI9PT1jJiYoYltqUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybS1vcmlnaW5cIl09YVtjXSxkZWxldGUgYltjXSksXCJmaWx0ZXJcIiE9PWN8fGpRdWVyeS5icm93c2VyLm1vemlsbGF8fChiW2pRdWVyeS5DU1Muc2Z4K1wiZmlsdGVyXCJdPWFbY10sZGVsZXRlIGJbY10pLFwiYmx1clwiPT09YyYmc2V0RmlsdGVyKGIsXCJibHVyXCIsYVtjXSksXCJicmlnaHRuZXNzXCI9PT1jJiZzZXRGaWx0ZXIoYixcImJyaWdodG5lc3NcIixhW2NdKSxcImNvbnRyYXN0XCI9PT1jJiZzZXRGaWx0ZXIoYixcImNvbnRyYXN0XCIsYVtjXSksXCJncmF5c2NhbGVcIj09PWMmJnNldEZpbHRlcihiLFwiZ3JheXNjYWxlXCIsYVtjXSksXCJodWVSb3RhdGVcIj09PWMmJnNldEZpbHRlcihiLFwiaHVlUm90YXRlXCIsYVtjXSksXCJpbnZlcnRcIj09PWMmJnNldEZpbHRlcihiLFwiaW52ZXJ0XCIsYVtjXSksXCJzYXR1cmF0ZVwiPT09YyYmc2V0RmlsdGVyKGIsXCJzYXR1cmF0ZVwiLGFbY10pLFwic2VwaWFcIj09PWMmJnNldEZpbHRlcihiLFwic2VwaWFcIixhW2NdKTt2YXIgZD1cIlwiO1wieFwiPT09YyYmKGQ9alF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIixiW2RdPWJbZF18fFwiXCIsYltkXSs9XCIgdHJhbnNsYXRlWChcIitzZXRVbml0KGFbY10sXCJweFwiKStcIilcIixkZWxldGUgYltjXSksXCJ5XCI9PT1jJiYoZD1qUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiLGJbZF09YltkXXx8XCJcIixiW2RdKz1cIiB0cmFuc2xhdGVZKFwiK3NldFVuaXQoYVtjXSxcInB4XCIpK1wiKVwiLGRlbGV0ZSBiW2NdKSxcInpcIj09PWMmJihkPWpRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCIsYltkXT1iW2RdfHxcIlwiLGJbZF0rPVwiIHRyYW5zbGF0ZVooXCIrc2V0VW5pdChhW2NdLFwicHhcIikrXCIpXCIsZGVsZXRlIGJbY10pLFwicm90YXRlXCI9PT1jJiYoZD1qUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiLGJbZF09YltkXXx8XCJcIixiW2RdKz1cIiByb3RhdGUoXCIrc2V0VW5pdChhW2NdLFwiZGVnXCIpK1wiKVwiLGRlbGV0ZSBiW2NdKSxcInJvdGF0ZVhcIj09PWMmJihkPWpRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCIsYltkXT1iW2RdfHxcIlwiLGJbZF0rPVwiIHJvdGF0ZVgoXCIrc2V0VW5pdChhW2NdLFwiZGVnXCIpK1wiKVwiLGRlbGV0ZSBiW2NdKSxcInJvdGF0ZVlcIj09PWMmJihkPWpRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCIsYltkXT1iW2RdfHxcIlwiLGJbZF0rPVwiIHJvdGF0ZVkoXCIrc2V0VW5pdChhW2NdLFwiZGVnXCIpK1wiKVwiLGRlbGV0ZSBiW2NdKSxcInJvdGF0ZVpcIj09PWMmJihkPWpRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCIsYltkXT1iW2RdfHxcIlwiLGJbZF0rPVwiIHJvdGF0ZVooXCIrc2V0VW5pdChhW2NdLFwiZGVnXCIpK1wiKVwiLGRlbGV0ZSBiW2NdKSxcInNjYWxlXCI9PT1jJiYoZD1qUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiLGJbZF09YltkXXx8XCJcIixiW2RdKz1cIiBzY2FsZShcIitzZXRVbml0KGFbY10sXCJcIikrXCIpXCIsZGVsZXRlIGJbY10pLFwic2NhbGVYXCI9PT1jJiYoZD1qUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiLGJbZF09YltkXXx8XCJcIixiW2RdKz1cIiBzY2FsZVgoXCIrc2V0VW5pdChhW2NdLFwiXCIpK1wiKVwiLGRlbGV0ZSBiW2NdKSxcInNjYWxlWVwiPT09YyYmKGQ9alF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIixiW2RdPWJbZF18fFwiXCIsYltkXSs9XCIgc2NhbGVZKFwiK3NldFVuaXQoYVtjXSxcIlwiKStcIilcIixkZWxldGUgYltjXSksXCJzY2FsZVpcIj09PWMmJihkPWpRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCIsYltkXT1iW2RdfHxcIlwiLGJbZF0rPVwiIHNjYWxlWihcIitzZXRVbml0KGFbY10sXCJcIikrXCIpXCIsZGVsZXRlIGJbY10pLFwic2tld1wiPT09YyYmKGQ9alF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIixiW2RdPWJbZF18fFwiXCIsYltkXSs9XCIgc2tldyhcIitzZXRVbml0KGFbY10sXCJkZWdcIikrXCIpXCIsZGVsZXRlIGJbY10pLFwic2tld1hcIj09PWMmJihkPWpRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCIsYltkXT1iW2RdfHxcIlwiLGJbZF0rPVwiIHNrZXdYKFwiK3NldFVuaXQoYVtjXSxcImRlZ1wiKStcIilcIixkZWxldGUgYltjXSksXCJza2V3WVwiPT09YyYmKGQ9alF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIixiW2RdPWJbZF18fFwiXCIsYltkXSs9XCIgc2tld1koXCIrc2V0VW5pdChhW2NdLFwiZGVnXCIpK1wiKVwiLGRlbGV0ZSBiW2NdKSxcInBlcnNwZWN0aXZlXCI9PT1jJiYoZD1qUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiLGJbZF09YltkXXx8XCJcIixiW2RdKz1cIiBwZXJzcGVjdGl2ZShcIitzZXRVbml0KGFbY10sXCJweFwiKStcIilcIixkZWxldGUgYltjXSl9cmV0dXJuIGJ9LGdldFByb3A6ZnVuY3Rpb24oYSl7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpYi5pbmRleE9mKGMpPDAmJmIucHVzaCh1bmNhbWVsKGMpKTtyZXR1cm4gYi5qb2luKFwiLFwiKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBvKCl7Zi5jYWxsZWQ9ITAsZi5DU1NBSXNSdW5uaW5nPSExLGcub2ZmKGpRdWVyeS5DU1MudHJhbnNpdGlvbkVuZCtcIi5cIitmLmlkKSxjbGVhclRpbWVvdXQoZi50aW1lb3V0KSxnLmNzcyhqUXVlcnkuQ1NTLnNmeCtcInRyYW5zaXRpb25cIixcIlwiKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlLmFwcGx5KGYpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGYuQ1NTcXVldWUmJihmLkNTU3F1ZXVlKCksZi5DU1NxdWV1ZT1udWxsKX12YXIgZj10aGlzLGc9alF1ZXJ5KHRoaXMpO2YuaWQ9Zi5pZHx8XCJDU1NBX1wiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpO3ZhciBoPWh8fHt0eXBlOlwibm9FdmVudFwifTtpZihmLkNTU0FJc1J1bm5pbmcmJmYuZXZlbnRUeXBlPT1oLnR5cGUmJiFqUXVlcnkuYnJvd3Nlci5tc2llJiZqUXVlcnkuYnJvd3Nlci52ZXJzaW9uPD05KXJldHVybiBmLkNTU3F1ZXVlPWZ1bmN0aW9uKCl7Zy5DU1NBbmltYXRlKGEsYixjLGQsZSl9LHZvaWQgMDtpZihmLkNTU3F1ZXVlPW51bGwsZi5ldmVudFR5cGU9aC50eXBlLDAhPT1nLmxlbmd0aCYmYSl7aWYoYT1qUXVlcnkubm9ybWFsaXplQ3NzKGEpLGYuQ1NTQUlzUnVubmluZz0hMCxcImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiYoZT1iLGI9alF1ZXJ5LmZ4LnNwZWVkcy5fZGVmYXVsdCksXCJmdW5jdGlvblwiPT10eXBlb2YgYyYmKGQ9YyxjPTApLFwic3RyaW5nXCI9PXR5cGVvZiBjJiYoZT1jLGM9MCksXCJmdW5jdGlvblwiPT10eXBlb2YgZCYmKGU9ZCxkPVwiY3ViaWMtYmV6aWVyKDAuNjUsMC4wMywwLjM2LDAuNzIpXCIpLFwic3RyaW5nXCI9PXR5cGVvZiBiKWZvcih2YXIgaSBpbiBqUXVlcnkuZnguc3BlZWRzKXtpZihiPT1pKXtiPWpRdWVyeS5meC5zcGVlZHNbaV07YnJlYWt9Yj1qUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0fWlmKGJ8fChiPWpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQpLFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZD1lLGU9bnVsbCksIWpRdWVyeS5zdXBwb3J0LkNTU3RyYW5zaXRpb24pe2Zvcih2YXIgaiBpbiBhKXtpZihcInRyYW5zZm9ybVwiPT09aiYmZGVsZXRlIGFbal0sXCJmaWx0ZXJcIj09PWomJmRlbGV0ZSBhW2pdLFwidHJhbnNmb3JtLW9yaWdpblwiPT09aiYmZGVsZXRlIGFbal0sXCJhdXRvXCI9PT1hW2pdJiZkZWxldGUgYVtqXSxcInhcIj09PWope3ZhciBrPWFbal0sbD1cImxlZnRcIjthW2xdPWssZGVsZXRlIGFbal19aWYoXCJ5XCI9PT1qKXt2YXIgaz1hW2pdLGw9XCJ0b3BcIjthW2xdPWssZGVsZXRlIGFbal19KFwiLW1zLXRyYW5zZm9ybVwiPT09anx8XCItbXMtZmlsdGVyXCI9PT1qKSYmZGVsZXRlIGFbal19cmV0dXJuIGcuZGVsYXkoYykuYW5pbWF0ZShhLGIsZSksdm9pZCAwfXZhciBtPXtcImRlZmF1bHRcIjpcImVhc2VcIixcImluXCI6XCJlYXNlLWluXCIsb3V0OlwiZWFzZS1vdXRcIixcImluLW91dFwiOlwiZWFzZS1pbi1vdXRcIixzbmFwOlwiY3ViaWMtYmV6aWVyKDAsMSwuNSwxKVwiLGVhc2VPdXRDdWJpYzpcImN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpXCIsZWFzZUluT3V0Q3ViaWM6XCJjdWJpYy1iZXppZXIoLjY0NSwuMDQ1LC4zNTUsMSlcIixlYXNlSW5DaXJjOlwiY3ViaWMtYmV6aWVyKC42LC4wNCwuOTgsLjMzNSlcIixlYXNlT3V0Q2lyYzpcImN1YmljLWJlemllciguMDc1LC44MiwuMTY1LDEpXCIsZWFzZUluT3V0Q2lyYzpcImN1YmljLWJlemllciguNzg1LC4xMzUsLjE1LC44NilcIixlYXNlSW5FeHBvOlwiY3ViaWMtYmV6aWVyKC45NSwuMDUsLjc5NSwuMDM1KVwiLGVhc2VPdXRFeHBvOlwiY3ViaWMtYmV6aWVyKC4xOSwxLC4yMiwxKVwiLGVhc2VJbk91dEV4cG86XCJjdWJpYy1iZXppZXIoMSwwLDAsMSlcIixlYXNlSW5RdWFkOlwiY3ViaWMtYmV6aWVyKC41NSwuMDg1LC42OCwuNTMpXCIsZWFzZU91dFF1YWQ6XCJjdWJpYy1iZXppZXIoLjI1LC40NiwuNDUsLjk0KVwiLGVhc2VJbk91dFF1YWQ6XCJjdWJpYy1iZXppZXIoLjQ1NSwuMDMsLjUxNSwuOTU1KVwiLGVhc2VJblF1YXJ0OlwiY3ViaWMtYmV6aWVyKC44OTUsLjAzLC42ODUsLjIyKVwiLGVhc2VPdXRRdWFydDpcImN1YmljLWJlemllciguMTY1LC44NCwuNDQsMSlcIixlYXNlSW5PdXRRdWFydDpcImN1YmljLWJlemllciguNzcsMCwuMTc1LDEpXCIsZWFzZUluUXVpbnQ6XCJjdWJpYy1iZXppZXIoLjc1NSwuMDUsLjg1NSwuMDYpXCIsZWFzZU91dFF1aW50OlwiY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKVwiLGVhc2VJbk91dFF1aW50OlwiY3ViaWMtYmV6aWVyKC44NiwwLC4wNywxKVwiLGVhc2VJblNpbmU6XCJjdWJpYy1iZXppZXIoLjQ3LDAsLjc0NSwuNzE1KVwiLGVhc2VPdXRTaW5lOlwiY3ViaWMtYmV6aWVyKC4zOSwuNTc1LC41NjUsMSlcIixlYXNlSW5PdXRTaW5lOlwiY3ViaWMtYmV6aWVyKC40NDUsLjA1LC41NSwuOTUpXCIsZWFzZUluQmFjazpcImN1YmljLWJlemllciguNiwtLjI4LC43MzUsLjA0NSlcIixlYXNlT3V0QmFjazpcImN1YmljLWJlemllciguMTc1LCAuODg1LC4zMiwxLjI3NSlcIixlYXNlSW5PdXRCYWNrOlwiY3ViaWMtYmV6aWVyKC42OCwtLjU1LC4yNjUsMS41NSlcIn07bVtkXSYmKGQ9bVtkXSksZy5vZmYoalF1ZXJ5LkNTUy50cmFuc2l0aW9uRW5kK1wiLlwiK2YuaWQpO3ZhciBuPWpRdWVyeS5DU1MuZ2V0UHJvcChhKSxwPXt9O2pRdWVyeS5leHRlbmQocCxhKSxwW2pRdWVyeS5DU1Muc2Z4K1widHJhbnNpdGlvbi1wcm9wZXJ0eVwiXT1uLHBbalF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCJdPWIrXCJtc1wiLHBbalF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2l0aW9uLWRlbGF5XCJdPWMrXCJtc1wiLHBbalF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblwiXT1kLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtnLm9uZShqUXVlcnkuQ1NTLnRyYW5zaXRpb25FbmQrXCIuXCIrZi5pZCxvKSxnLmNzcyhwKX0sMSksZi50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZi5jYWxsZWR8fCFlPyhmLmNhbGxlZD0hMSxmLkNTU0FJc1J1bm5pbmc9ITEsdm9pZCAwKTooZy5jc3MoalF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2l0aW9uXCIsXCJcIiksZS5hcHBseShmKSxmLkNTU0FJc1J1bm5pbmc9ITEsXCJmdW5jdGlvblwiPT10eXBlb2YgZi5DU1NxdWV1ZSYmKGYuQ1NTcXVldWUoKSxmLkNTU3F1ZXVlPW51bGwpLHZvaWQgMCl9LGIrYysxMCl9fSl9fSxqUXVlcnkuZm4uQ1NTQW5pbWF0ZT1qUXVlcnkuQ1NTLmFuaW1hdGUsalF1ZXJ5Lm5vcm1hbGl6ZUNzcz1qUXVlcnkuQ1NTLm5vcm1hbGl6ZUNzcyxqUXVlcnkuZm4uY3NzMz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9alF1ZXJ5KHRoaXMpLGM9alF1ZXJ5Lm5vcm1hbGl6ZUNzcyhhKTtiLmNzcyhjKX0pfTtcbjsvKlxuICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiAganF1ZXJ5Lm1iLmNvbXBvbmVudHNcbiAqICBmaWxlOiBqcXVlcnkubWIuYnJvd3Nlci5taW4uanNcbiAqXG4gKiAgQ29weXJpZ2h0IChjKSAyMDAxLTIwMTQuIE1hdHRlbyBCaWNvY2NoaSAoUHVwdW56aSk7XG4gKiAgT3BlbiBsYWIgc3JsLCBGaXJlbnplIC0gSXRhbHlcbiAqICBlbWFpbDogbWF0dGVvQG9wZW4tbGFiLmNvbVxuICogIHNpdGU6IFx0aHR0cDovL3B1cHVuemkuY29tXG4gKiAgYmxvZzpcdGh0dHA6Ly9wdXB1bnppLm9wZW4tbGFiLmNvbVxuICogXHRodHRwOi8vb3Blbi1sYWIuY29tXG4gKlxuICogIExpY2VuY2VzOiBNSVQsIEdQTFxuICogIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gKiAgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC5odG1sXG4gKlxuICogIGxhc3QgbW9kaWZpZWQ6IDI2LzAzLzE0IDIxLjQzXG4gKiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqL1xuXG52YXIgbkFndD1uYXZpZ2F0b3IudXNlckFnZW50O2lmKCFqUXVlcnkuYnJvd3Nlcil7alF1ZXJ5LmJyb3dzZXI9e30salF1ZXJ5LmJyb3dzZXIubW96aWxsYT0hMSxqUXVlcnkuYnJvd3Nlci53ZWJraXQ9ITEsalF1ZXJ5LmJyb3dzZXIub3BlcmE9ITEsalF1ZXJ5LmJyb3dzZXIuc2FmYXJpPSExLGpRdWVyeS5icm93c2VyLmNocm9tZT0hMSxqUXVlcnkuYnJvd3Nlci5tc2llPSExLGpRdWVyeS5icm93c2VyLnVhPW5BZ3QsalF1ZXJ5LmJyb3dzZXIubmFtZT1uYXZpZ2F0b3IuYXBwTmFtZSxqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1cIlwiK3BhcnNlRmxvYXQobmF2aWdhdG9yLmFwcFZlcnNpb24pLGpRdWVyeS5icm93c2VyLm1ham9yVmVyc2lvbj1wYXJzZUludChuYXZpZ2F0b3IuYXBwVmVyc2lvbiwxMCk7dmFyIG5hbWVPZmZzZXQsdmVyT2Zmc2V0LGl4O2lmKC0xIT0odmVyT2Zmc2V0PW5BZ3QuaW5kZXhPZihcIk9wZXJhXCIpKSlqUXVlcnkuYnJvd3Nlci5vcGVyYT0hMCxqUXVlcnkuYnJvd3Nlci5uYW1lPVwiT3BlcmFcIixqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1uQWd0LnN1YnN0cmluZyh2ZXJPZmZzZXQrNiksLTEhPSh2ZXJPZmZzZXQ9bkFndC5pbmRleE9mKFwiVmVyc2lvblwiKSkmJihqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1uQWd0LnN1YnN0cmluZyh2ZXJPZmZzZXQrOCkpO2Vsc2UgaWYoLTEhPSh2ZXJPZmZzZXQ9bkFndC5pbmRleE9mKFwiT1BSXCIpKSlqUXVlcnkuYnJvd3Nlci5vcGVyYT0hMCxqUXVlcnkuYnJvd3Nlci5uYW1lPVwiT3BlcmFcIixqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1uQWd0LnN1YnN0cmluZyh2ZXJPZmZzZXQrNCk7ZWxzZSBpZigtMSE9KHZlck9mZnNldD1uQWd0LmluZGV4T2YoXCJNU0lFXCIpKSlqUXVlcnkuYnJvd3Nlci5tc2llPSEwLGpRdWVyeS5icm93c2VyLm5hbWU9XCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIixqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1uQWd0LnN1YnN0cmluZyh2ZXJPZmZzZXQrNSk7ZWxzZSBpZigtMSE9bkFndC5pbmRleE9mKFwiVHJpZGVudFwiKSl7alF1ZXJ5LmJyb3dzZXIubXNpZT0hMCxqUXVlcnkuYnJvd3Nlci5uYW1lPVwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCI7dmFyIHN0YXJ0PW5BZ3QuaW5kZXhPZihcInJ2OlwiKSszLGVuZD1zdGFydCs0O2pRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPW5BZ3Quc3Vic3RyaW5nKHN0YXJ0LGVuZCl9ZWxzZS0xIT0odmVyT2Zmc2V0PW5BZ3QuaW5kZXhPZihcIkNocm9tZVwiKSk/KGpRdWVyeS5icm93c2VyLndlYmtpdD0hMCxqUXVlcnkuYnJvd3Nlci5jaHJvbWU9ITAsalF1ZXJ5LmJyb3dzZXIubmFtZT1cIkNocm9tZVwiLGpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPW5BZ3Quc3Vic3RyaW5nKHZlck9mZnNldCs3KSk6LTEhPSh2ZXJPZmZzZXQ9bkFndC5pbmRleE9mKFwiU2FmYXJpXCIpKT8oalF1ZXJ5LmJyb3dzZXIud2Via2l0PSEwLGpRdWVyeS5icm93c2VyLnNhZmFyaT0hMCxqUXVlcnkuYnJvd3Nlci5uYW1lPVwiU2FmYXJpXCIsalF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249bkFndC5zdWJzdHJpbmcodmVyT2Zmc2V0KzcpLC0xIT0odmVyT2Zmc2V0PW5BZ3QuaW5kZXhPZihcIlZlcnNpb25cIikpJiYoalF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249bkFndC5zdWJzdHJpbmcodmVyT2Zmc2V0KzgpKSk6LTEhPSh2ZXJPZmZzZXQ9bkFndC5pbmRleE9mKFwiQXBwbGVXZWJraXRcIikpPyhqUXVlcnkuYnJvd3Nlci53ZWJraXQ9ITAsalF1ZXJ5LmJyb3dzZXIubmFtZT1cIlNhZmFyaVwiLGpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPW5BZ3Quc3Vic3RyaW5nKHZlck9mZnNldCs3KSwtMSE9KHZlck9mZnNldD1uQWd0LmluZGV4T2YoXCJWZXJzaW9uXCIpKSYmKGpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPW5BZ3Quc3Vic3RyaW5nKHZlck9mZnNldCs4KSkpOi0xIT0odmVyT2Zmc2V0PW5BZ3QuaW5kZXhPZihcIkZpcmVmb3hcIikpPyhqUXVlcnkuYnJvd3Nlci5tb3ppbGxhPSEwLGpRdWVyeS5icm93c2VyLm5hbWU9XCJGaXJlZm94XCIsalF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249bkFndC5zdWJzdHJpbmcodmVyT2Zmc2V0KzgpKToobmFtZU9mZnNldD1uQWd0Lmxhc3RJbmRleE9mKFwiIFwiKSsxKTwodmVyT2Zmc2V0PW5BZ3QubGFzdEluZGV4T2YoXCIvXCIpKSYmKGpRdWVyeS5icm93c2VyLm5hbWU9bkFndC5zdWJzdHJpbmcobmFtZU9mZnNldCx2ZXJPZmZzZXQpLGpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPW5BZ3Quc3Vic3RyaW5nKHZlck9mZnNldCsxKSxqUXVlcnkuYnJvd3Nlci5uYW1lLnRvTG93ZXJDYXNlKCk9PWpRdWVyeS5icm93c2VyLm5hbWUudG9VcHBlckNhc2UoKSYmKGpRdWVyeS5icm93c2VyLm5hbWU9bmF2aWdhdG9yLmFwcE5hbWUpKTstMSE9KGl4PWpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uLmluZGV4T2YoXCI7XCIpKSYmKGpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPWpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uLnN1YnN0cmluZygwLGl4KSksLTEhPShpeD1qUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbi5pbmRleE9mKFwiIFwiKSkmJihqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1qUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbi5zdWJzdHJpbmcoMCxpeCkpLGpRdWVyeS5icm93c2VyLm1ham9yVmVyc2lvbj1wYXJzZUludChcIlwiK2pRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uLDEwKSxpc05hTihqUXVlcnkuYnJvd3Nlci5tYWpvclZlcnNpb24pJiYoalF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249XCJcIitwYXJzZUZsb2F0KG5hdmlnYXRvci5hcHBWZXJzaW9uKSxqUXVlcnkuYnJvd3Nlci5tYWpvclZlcnNpb249cGFyc2VJbnQobmF2aWdhdG9yLmFwcFZlcnNpb24sMTApKSxqUXVlcnkuYnJvd3Nlci52ZXJzaW9uPWpRdWVyeS5icm93c2VyLm1ham9yVmVyc2lvbn1qUXVlcnkuYnJvd3Nlci5hbmRyb2lkPS9BbmRyb2lkL2kudGVzdChuQWd0KSxqUXVlcnkuYnJvd3Nlci5ibGFja2JlcnJ5PS9CbGFja0JlcnJ5fEJCfFBsYXlCb29rL2kudGVzdChuQWd0KSxqUXVlcnkuYnJvd3Nlci5pb3M9L2lQaG9uZXxpUGFkfGlQb2R8d2ViT1MvaS50ZXN0KG5BZ3QpLGpRdWVyeS5icm93c2VyLm9wZXJhTW9iaWxlPS9PcGVyYSBNaW5pL2kudGVzdChuQWd0KSxqUXVlcnkuYnJvd3Nlci53aW5kb3dzTW9iaWxlPS9JRU1vYmlsZXxXaW5kb3dzIFBob25lL2kudGVzdChuQWd0KSxqUXVlcnkuYnJvd3Nlci5raW5kbGU9L0tpbmRsZXxTaWxrL2kudGVzdChuQWd0KSxqUXVlcnkuYnJvd3Nlci5tb2JpbGU9alF1ZXJ5LmJyb3dzZXIuYW5kcm9pZHx8alF1ZXJ5LmJyb3dzZXIuYmxhY2tiZXJyeXx8alF1ZXJ5LmJyb3dzZXIuaW9zfHxqUXVlcnkuYnJvd3Nlci53aW5kb3dzTW9iaWxlfHxqUXVlcnkuYnJvd3Nlci5vcGVyYU1vYmlsZXx8alF1ZXJ5LmJyb3dzZXIua2luZGxlLGpRdWVyeS5pc01vYmlsZT1qUXVlcnkuYnJvd3Nlci5tb2JpbGUsalF1ZXJ5LmlzVGFibGV0PWpRdWVyeS5icm93c2VyLm1vYmlsZSYmalF1ZXJ5KHdpbmRvdykud2lkdGgoKT43NjUsalF1ZXJ5LmlzQW5kcm9pZERlZmF1bHQ9alF1ZXJ5LmJyb3dzZXIuYW5kcm9pZCYmIS9jaHJvbWUvaS50ZXN0KG5BZ3QpO1xuOy8qX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXG4gXyBqcXVlcnkubWIuY29tcG9uZW50cyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIGZpbGU6IGpxdWVyeS5tYi5zaW1wbGVTbGlkZXIubWluLmpzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBsYXN0IG1vZGlmaWVkOiAxNi8wNS8xNSAyMy40NSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIE9wZW4gTGFiIHMuci5sLiwgRmxvcmVuY2UgLSBJdGFseSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gZW1haWw6IG1hdHRlb0BvcGVuLWxhYi5jb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIHNpdGU6IGh0dHA6Ly9wdXB1bnppLmNvbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICBodHRwOi8vb3Blbi1sYWIuY29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gYmxvZzogaHR0cDovL3B1cHVuemkub3Blbi1sYWIuY29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIFEmQTogIGh0dHA6Ly9qcXVlcnkucHVwdW56aS5jb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gTGljZW5jZXM6IE1JVCwgR1BMICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvZ3BsLmh0bWwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIENvcHlyaWdodCAoYykgMjAwMS0yMDE1LiBNYXR0ZW8gQmljb2NjaGkgKFB1cHVuemkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fKi9cblxuIWZ1bmN0aW9uKGEpey9pcGhvbmV8aXBvZHxpcGFkfGFuZHJvaWR8aWV8YmxhY2tiZXJyeXxmZW5uZWMvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTt2YXIgYz1cIm9udG91Y2hzdGFydFwiaW4gd2luZG93fHx3aW5kb3cubmF2aWdhdG9yJiZ3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQmJndpbmRvdy5NU0dlc3R1cmV8fHdpbmRvdy5Eb2N1bWVudFRvdWNoJiZkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2h8fCExO2Euc2ltcGxlU2xpZGVyPXtkZWZhdWx0czp7aW5pdGlhbHZhbDowLHNjYWxlOjEwMCxvcmllbnRhdGlvbjpcImhcIixyZWFkb25seTohMSxjYWxsYmFjazohMX0sZXZlbnRzOntzdGFydDpjP1widG91Y2hzdGFydFwiOlwibW91c2Vkb3duXCIsZW5kOmM/XCJ0b3VjaGVuZFwiOlwibW91c2V1cFwiLG1vdmU6Yz9cInRvdWNobW92ZVwiOlwibW91c2Vtb3ZlXCJ9LGluaXQ6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPXRoaXMsZT1hKGQpO2UuYWRkQ2xhc3MoXCJzaW1wbGVTbGlkZXJcIiksZC5vcHQ9e30sYS5leHRlbmQoZC5vcHQsYS5zaW1wbGVTbGlkZXIuZGVmYXVsdHMsYiksYS5leHRlbmQoZC5vcHQsZS5kYXRhKCkpO3ZhciBmPVwiaFwiPT1kLm9wdC5vcmllbnRhdGlvbj9cImhvcml6b250YWxcIjpcInZlcnRpY2FsXCIsZz1hKFwiPGRpdi8+XCIpLmFkZENsYXNzKFwibGV2ZWxcIikuYWRkQ2xhc3MoZik7ZS5wcmVwZW5kKGcpLGQubGV2ZWw9ZyxlLmNzcyh7Y3Vyc29yOlwiZGVmYXVsdFwifSksXCJhdXRvXCI9PWQub3B0LnNjYWxlJiYoZC5vcHQuc2NhbGU9YShkKS5vdXRlcldpZHRoKCkpLGUudXBkYXRlU2xpZGVyVmFsKCksZC5vcHQucmVhZG9ubHl8fChlLm9uKGEuc2ltcGxlU2xpZGVyLmV2ZW50cy5zdGFydCxmdW5jdGlvbihhKXtjJiYoYT1hLmNoYW5nZWRUb3VjaGVzWzBdKSxkLmNhblNsaWRlPSEwLGUudXBkYXRlU2xpZGVyVmFsKGEpLGUuY3NzKHtjdXJzb3I6XCJjb2wtcmVzaXplXCJ9KSxhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKX0pLGEoZG9jdW1lbnQpLm9uKGEuc2ltcGxlU2xpZGVyLmV2ZW50cy5tb3ZlLGZ1bmN0aW9uKGIpe2MmJihiPWIuY2hhbmdlZFRvdWNoZXNbMF0pLGQuY2FuU2xpZGUmJihhKGRvY3VtZW50KS5jc3Moe2N1cnNvcjpcImRlZmF1bHRcIn0pLGUudXBkYXRlU2xpZGVyVmFsKGIpLGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BQcm9wYWdhdGlvbigpKX0pLm9uKGEuc2ltcGxlU2xpZGVyLmV2ZW50cy5lbmQsZnVuY3Rpb24oKXthKGRvY3VtZW50KS5jc3Moe2N1cnNvcjpcImF1dG9cIn0pLGQuY2FuU2xpZGU9ITEsZS5jc3Moe2N1cnNvcjpcImF1dG9cIn0pfSkpfSl9LHVwZGF0ZVNsaWRlclZhbDpmdW5jdGlvbihiKXtmdW5jdGlvbiBnKGEsYil7cmV0dXJuIE1hdGguZmxvb3IoMTAwKmEvYil9dmFyIGM9dGhpcyxkPWMuZ2V0KDApO2Qub3B0LmluaXRpYWx2YWw9XCJudW1iZXJcIj09dHlwZW9mIGQub3B0LmluaXRpYWx2YWw/ZC5vcHQuaW5pdGlhbHZhbDpkLm9wdC5pbml0aWFsdmFsKGQpO3ZhciBlPWEoZCkub3V0ZXJXaWR0aCgpLGY9YShkKS5vdXRlckhlaWdodCgpO2QueD1cIm9iamVjdFwiPT10eXBlb2YgYj9iLmNsaWVudFgrZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LWMub2Zmc2V0KCkubGVmdDpcIm51bWJlclwiPT10eXBlb2YgYj9iKmUvZC5vcHQuc2NhbGU6ZC5vcHQuaW5pdGlhbHZhbCplL2Qub3B0LnNjYWxlLGQueT1cIm9iamVjdFwiPT10eXBlb2YgYj9iLmNsaWVudFkrZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AtYy5vZmZzZXQoKS50b3A6XCJudW1iZXJcIj09dHlwZW9mIGI/KGQub3B0LnNjYWxlLWQub3B0LmluaXRpYWx2YWwtYikqZi9kLm9wdC5zY2FsZTpkLm9wdC5pbml0aWFsdmFsKmYvZC5vcHQuc2NhbGUsZC55PWMub3V0ZXJIZWlnaHQoKS1kLnksZC5zY2FsZVg9ZC54KmQub3B0LnNjYWxlL2UsZC5zY2FsZVk9ZC55KmQub3B0LnNjYWxlL2YsZC5vdXRPZlJhbmdlWD1kLnNjYWxlWD5kLm9wdC5zY2FsZT9kLnNjYWxlWC1kLm9wdC5zY2FsZTpkLnNjYWxlWDwwP2Quc2NhbGVYOjAsZC5vdXRPZlJhbmdlWT1kLnNjYWxlWT5kLm9wdC5zY2FsZT9kLnNjYWxlWS1kLm9wdC5zY2FsZTpkLnNjYWxlWTwwP2Quc2NhbGVZOjAsZC5vdXRPZlJhbmdlPVwiaFwiPT1kLm9wdC5vcmllbnRhdGlvbj9kLm91dE9mUmFuZ2VYOmQub3V0T2ZSYW5nZVksZC52YWx1ZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgYj9cImhcIj09ZC5vcHQub3JpZW50YXRpb24/ZC54Pj1jLm91dGVyV2lkdGgoKT9kLm9wdC5zY2FsZTpkLng8PTA/MDpkLnNjYWxlWDpkLnk+PWMub3V0ZXJIZWlnaHQoKT9kLm9wdC5zY2FsZTpkLnk8PTA/MDpkLnNjYWxlWTpcImhcIj09ZC5vcHQub3JpZW50YXRpb24/ZC5zY2FsZVg6ZC5zY2FsZVksXCJoXCI9PWQub3B0Lm9yaWVudGF0aW9uP2QubGV2ZWwud2lkdGgoZyhkLngsZSkrXCIlXCIpOmQubGV2ZWwuaGVpZ2h0KGcoZC55LGYpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkLm9wdC5jYWxsYmFjayYmZC5vcHQuY2FsbGJhY2soZCl9fSxhLmZuLnNpbXBsZVNsaWRlcj1hLnNpbXBsZVNsaWRlci5pbml0LGEuZm4udXBkYXRlU2xpZGVyVmFsPWEuc2ltcGxlU2xpZGVyLnVwZGF0ZVNsaWRlclZhbH0oalF1ZXJ5KTtcbjsvKl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuIF8ganF1ZXJ5Lm1iLmNvbXBvbmVudHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBmaWxlOiBqcXVlcnkubWIuc3RvcmFnZS5taW4uanMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gbGFzdCBtb2RpZmllZDogMjQvMDUvMTUgMTYuMDggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBPcGVuIExhYiBzLnIubC4sIEZsb3JlbmNlIC0gSXRhbHkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIGVtYWlsOiBtYXR0ZW9Ab3Blbi1sYWIuY29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBzaXRlOiBodHRwOi8vcHVwdW56aS5jb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgaHR0cDovL29wZW4tbGFiLmNvbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIGJsb2c6IGh0dHA6Ly9wdXB1bnppLm9wZW4tbGFiLmNvbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBRJkE6ICBodHRwOi8vanF1ZXJ5LnB1cHVuemkuY29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIExpY2VuY2VzOiBNSVQsIEdQTCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC5odG1sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBDb3B5cmlnaHQgKGMpIDIwMDEtMjAxNS4gTWF0dGVvIEJpY29jY2hpIChQdXB1bnppKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXyovXG5cbiFmdW5jdGlvbihhKXthLm1iQ29va2llPXtzZXQ6ZnVuY3Rpb24oYSxiLGMsZCl7Yj1KU09OLnN0cmluZ2lmeShiKSxjfHwoYz03KSxkPWQ/XCI7IGRvbWFpbj1cIitkOlwiXCI7dmFyIGYsZT1uZXcgRGF0ZTtlLnNldFRpbWUoZS5nZXRUaW1lKCkrMWUzKjYwKjYwKjI0KmMpLGY9XCI7IGV4cGlyZXM9XCIrZS50b0dNVFN0cmluZygpLGRvY3VtZW50LmNvb2tpZT1hK1wiPVwiK2IrZitcIjsgcGF0aD0vXCIrZH0sZ2V0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hK1wiPVwiLGM9ZG9jdW1lbnQuY29va2llLnNwbGl0KFwiO1wiKSxkPTA7ZDxjLmxlbmd0aDtkKyspe2Zvcih2YXIgZT1jW2RdO1wiIFwiPT1lLmNoYXJBdCgwKTspZT1lLnN1YnN0cmluZygxLGUubGVuZ3RoKTtpZigwPT1lLmluZGV4T2YoYikpcmV0dXJuIEpTT04ucGFyc2UoZS5zdWJzdHJpbmcoYi5sZW5ndGgsZS5sZW5ndGgpKX1yZXR1cm4gbnVsbH0scmVtb3ZlOmZ1bmN0aW9uKGIpe2EubWJDb29raWUuc2V0KGIsXCJcIiwtMSl9fSxhLm1iU3RvcmFnZT17c2V0OmZ1bmN0aW9uKGEsYil7Yj1KU09OLnN0cmluZ2lmeShiKSxsb2NhbFN0b3JhZ2Uuc2V0SXRlbShhLGIpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGxvY2FsU3RvcmFnZVthXT9KU09OLnBhcnNlKGxvY2FsU3RvcmFnZVthXSk6bnVsbH0scmVtb3ZlOmZ1bmN0aW9uKGEpe2E/bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYSk6bG9jYWxTdG9yYWdlLmNsZWFyKCl9fX0oalF1ZXJ5KTtcbiIsInZhciBpbWFnZXNMb2FkZWQgPSByZXF1aXJlKCdpbWFnZXNsb2FkZWQnKTtcblxuKGZ1bmN0aW9uKCQpIHtcbiAgXG4gIC8qKipcbiAgICogTWFpblxuICAgKioqL1xuICAgXG4gIHZhciBVbmlmb3JtVGh1bWJzID0gZnVuY3Rpb24oJGVsZSwgc2V0dGluZ3Mpe1xuICAgIHRoaXMuJGVsZSA9ICRlbGU7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIFxuICAgIHRoaXMuZm9ybWF0ZXIgPSBuZXcgVW5pZm9ybVRodW1ic0Zvcm1hdGVyKHRoaXMuJGVsZSwgdGhpcy5zZXR0aW5ncyk7XG4gICAgdGhpcy5maXR0ZXIgPSBuZXcgVW5pZm9ybVRodW1ic0ZpdHRlcih0aGlzLiRlbGUsIHRoaXMuc2V0dGluZ3MpO1xuICAgIHRoaXMuaW1hZ2VMb2FkZWQgPSBpbWFnZXNMb2FkZWQodGhpcy4kZWxlKTtcbiAgICBcbiAgICB0aGlzLmFkZEV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLmhpZGVJbWFnZXMoKTtcbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnMucHJvdG90eXBlLmFkZEV2ZW50SGFuZGxlcnMgPSBmdW5jdGlvbigpe1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBcbiAgICB0aGlzLmltYWdlTG9hZGVkLm9uKCdkb25lJywgZnVuY3Rpb24oKXtcbiAgICAgIHNlbGYuZm9ybWF0ZXIuc2V0SW1hZ2VGb3JtYXQoKTtcbiAgICAgIHNlbGYuZml0dGVyLnNldEltYWdlRml0KCk7XG4gICAgICBzZWxmLnNob3dJbWFnZXMoKTtcbiAgICAgIHNlbGYuJGVsZS50cmlnZ2VyKCd1dF9pbWFnZUxvYWRlZCcpO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIHJlc2l6ZSBpbWFnZXMgb24gd2luZG93IHJlc2l6ZVxuICAgIHZhciB0aW1lb3V0O1xuICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB9XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5mb3JtYXRlci5zZXRJbWFnZUZvcm1hdCgpO1xuICAgICAgICBzZWxmLmZpdHRlci5zZXRJbWFnZUZpdCgpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9KTtcbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnMucHJvdG90eXBlLmhpZGVJbWFnZXMgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuJGVsZS5jc3Moe1xuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgIH0pO1xuICB9O1xuICBcbiAgVW5pZm9ybVRodW1icy5wcm90b3R5cGUuc2hvd0ltYWdlcyA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy4kZWxlLmZhZGVUbyg5MDAsIDEpO1xuICB9O1xuICBcbiAgLyoqKlxuICAgKiBJbWFnZSBmb3JtYXRlclxuICAgKioqL1xuICAgXG4gIHZhciBVbmlmb3JtVGh1bWJzRm9ybWF0ZXIgPSBmdW5jdGlvbigkd3JhcHBlciwgc2V0dGluZ3Mpe1xuICAgIHRoaXMuJHdyYXBwZXIgPSAkd3JhcHBlcjtcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgdGhpcy5yYXRpbyA9IHRoaXMuZ2V0UmF0aW8oKTtcbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnNGb3JtYXRlci5wcm90b3R5cGUuc2V0SW1hZ2VGb3JtYXQgPSBmdW5jdGlvbigpe1xuICAgIHZhciB3aWR0aFJhdGlvID0gdGhpcy4kd3JhcHBlci53aWR0aCgpIC8gdGhpcy5yYXRpby53aWR0aDtcbiAgICB2YXIgaGVpZ2h0UmF0aW8gPSB3aWR0aFJhdGlvICogdGhpcy5yYXRpby5oZWlnaHQ7XG4gICAgdGhpcy4kd3JhcHBlci5oZWlnaHQoaGVpZ2h0UmF0aW8pO1xuICB9O1xuICBcbiAgVW5pZm9ybVRodW1ic0Zvcm1hdGVyLnByb3RvdHlwZS5nZXRSYXRpbyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJhdGlvU3RyID0gdGhpcy5fZ2V0UmF0aW9TdHJpbmcoKTtcbiAgICByZXR1cm4gdGhpcy5fZ2V0UmF0aW9Gcm9tU3RyaW5nKHJhdGlvU3RyKTtcbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnNGb3JtYXRlci5wcm90b3R5cGUuX2dldFJhdGlvU3RyaW5nID0gZnVuY3Rpb24oKXtcbiAgICBzd2l0Y2ggKHRoaXMuc2V0dGluZ3MuZm9ybWF0KSB7XG4gICAgICBjYXNlICdzcXVhcmUnOlxuICAgICAgICByZXR1cm4gJzE6MSc7XG4gICAgICBjYXNlICdsYW5kc2NhcGUnOlxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5sYW5kc2NhcGVSYXRpbztcbiAgICAgIGNhc2UgJ3BvcnRyYWl0JzpcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MucG9ydHJhaXRSYXRpbztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnJhdGlvO1xuICAgIH1cbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnNGb3JtYXRlci5wcm90b3R5cGUuX2dldFJhdGlvRnJvbVN0cmluZyA9IGZ1bmN0aW9uKHJhdGlvU3RyKXtcbiAgICB2YXIgcmF0aW9BcnIgPSByYXRpb1N0ci5zcGxpdCgnOicpO1xuICAgIHJldHVybiB7XG4gICAgICAgd2lkdGg6IHJhdGlvQXJyWzBdLFxuICAgICAgaGVpZ2h0OiByYXRpb0FyclsxXVxuICAgIH07XG4gIH07XG4gIFxuICAvKioqXG4gICAqIEltYWdlIGZpdHRlclxuICAgKioqL1xuICBcbiAgdmFyIFVuaWZvcm1UaHVtYnNGaXR0ZXIgPSBmdW5jdGlvbigkd3JhcHBlciwgc2V0dGluZ3Mpe1xuICAgIHRoaXMuJHdyYXBwZXIgPSAkd3JhcHBlcjtcbiAgICB0aGlzLiRpbWFnZSA9IHRoaXMuJHdyYXBwZXIuZmluZCgnaW1nJyk7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMud3JhcHBlclJhdGlvO1xuICAgIHRoaXMuaW1hZ2VSYXRpbztcbiAgICB0aGlzLmltYWdlTmF0dXJhbFdpZHRoO1xuICAgIHRoaXMuaW1hZ2VOYXR1cmFsSGVpZ2h0O1xuICB9O1xuICBcbiAgVW5pZm9ybVRodW1ic0ZpdHRlci5wcm90b3R5cGUuc2V0SW1hZ2VGaXQgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuX3Jlc2V0SW1hZ2VDU1MoKTtcbiAgICBzd2l0Y2ggKHRoaXMuc2V0dGluZ3MuZml0KSB7XG4gICAgICBjYXNlICdjcm9wJzpcbiAgICAgICAgdGhpcy5fY3JvcEltYWdlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2NhbGUnOlxuICAgICAgICB0aGlzLl9zY2FsZUltYWdlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLl9hbGlnbkltYWdlKCk7XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzRml0dGVyLnByb3RvdHlwZS5fY3JvcEltYWdlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLl9pbWFnZVJhdGlvKCkgPiB0aGlzLl93cmFwcGVyUmF0aW8oKSl7XG4gICAgICB0aGlzLl9maXRIb3Jpem9udGFsKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZpdFZlcnRpY2FsKCk7XG4gICAgfVxuICB9O1xuICBcbiAgVW5pZm9ybVRodW1ic0ZpdHRlci5wcm90b3R5cGUuX3NjYWxlSW1hZ2UgPSBmdW5jdGlvbigpe1xuICAgIGlmKHRoaXMuX2ltYWdlUmF0aW8oKSA+IHRoaXMuX3dyYXBwZXJSYXRpbygpKXtcbiAgICAgIHRoaXMuX2ZpdFZlcnRpY2FsKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZpdEhvcml6b250YWwoKTtcbiAgICB9XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzRml0dGVyLnByb3RvdHlwZS5fZml0SG9yaXpvbnRhbCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9nZXROYXR1cmFsSGVpZ2h0KHRoaXMuJGltYWdlKSA+PSB0aGlzLiR3cmFwcGVyLmhlaWdodCgpKSB7XG4gICAgICB0aGlzLiRpbWFnZS5oZWlnaHQodGhpcy4kd3JhcHBlci5oZWlnaHQoKSk7XG4gICAgfVxuICB9O1xuICBcbiAgVW5pZm9ybVRodW1ic0ZpdHRlci5wcm90b3R5cGUuX2ZpdFZlcnRpY2FsID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2dldE5hdHVyYWxXaWR0aCh0aGlzLiRpbWFnZSkgPj0gdGhpcy4kd3JhcHBlci53aWR0aCgpKSB7XG4gICAgICB0aGlzLiRpbWFnZS53aWR0aCh0aGlzLiR3cmFwcGVyLndpZHRoKCkpO1xuICAgIH1cbiAgfTtcblxuICBVbmlmb3JtVGh1bWJzRml0dGVyLnByb3RvdHlwZS5faW1hZ2VSYXRpbyA9IGZ1bmN0aW9uKCl7XG4gICAgLy8gY2FjaGUgdGhlIGltYWdlcyByYXRpbyBiZWNhdXNlIHdlIGRvbid0IG5lZWQgdG8gY2FsY3VsYXRlIGl0IGV2ZXJ5IHRpbWVcbiAgICB0aGlzLmltYWdlUmF0aW8gPSB0aGlzLmltYWdlUmF0aW8gfHwgdGhpcy5fZ2V0TmF0dXJhbFdpZHRoKHRoaXMuJGltYWdlKSAvIHRoaXMuX2dldE5hdHVyYWxIZWlnaHQodGhpcy4kaW1hZ2UpO1xuICAgIHJldHVybiB0aGlzLmltYWdlUmF0aW87XG4gIH07XG5cbiAgVW5pZm9ybVRodW1ic0ZpdHRlci5wcm90b3R5cGUuX3dyYXBwZXJSYXRpbyA9IGZ1bmN0aW9uKCl7XG4gICAgLy8gY2FjaGUgdGhlIHdyYXBwZXJzIHJhdGlvIGJlY2F1c2Ugd2UgZG9uJ3QgbmVlZCB0byBjYWxjdWxhdGUgaXQgZXZlcnkgdGltZVxuICAgIHRoaXMud3JhcHBlclJhdGlvID0gdGhpcy53cmFwcGVyUmF0aW8gfHwgdGhpcy4kd3JhcHBlci53aWR0aCgpIC8gdGhpcy4kd3JhcHBlci5oZWlnaHQoKTtcbiAgICByZXR1cm4gdGhpcy53cmFwcGVyUmF0aW87XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzRml0dGVyLnByb3RvdHlwZS5fYWxpZ25JbWFnZSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHN0eWxlID0ge307XG4gICAgc3R5bGUubWFyZ2luTGVmdCA9ICh0aGlzLiR3cmFwcGVyLndpZHRoKCkgLSB0aGlzLiRpbWFnZS53aWR0aCgpKSAvIDI7XG4gICAgc3dpdGNoICh0aGlzLnNldHRpbmdzLmFsaWduKSB7XG4gICAgICBjYXNlICd0b3AnOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21pZGRsZSc6XG4gICAgICAgIHN0eWxlLm1hcmdpblRvcCA9ICh0aGlzLiR3cmFwcGVyLmhlaWdodCgpIC0gdGhpcy4kaW1hZ2UuaGVpZ2h0KCkpIC8gMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICBzdHlsZS5tYXJnaW5Ub3AgPSB0aGlzLiR3cmFwcGVyLmhlaWdodCgpIC0gdGhpcy4kaW1hZ2UuaGVpZ2h0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLiRpbWFnZS5jc3Moc3R5bGUpO1xuICB9O1xuICBcbiAgVW5pZm9ybVRodW1ic0ZpdHRlci5wcm90b3R5cGUuX2dldE5hdHVyYWxIZWlnaHQgPSBmdW5jdGlvbigkaW1hZ2Upe1xuICAgIGlmICghdGhpcy5pbWFnZU5hdHVyYWxIZWlnaHQpIHtcbiAgICAgIGlmICgkaW1hZ2UucHJvcCgnbmF0dXJhbEhlaWdodCcpKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VOYXR1cmFsSGVpZ2h0ID0gJGltYWdlLnByb3AoJ25hdHVyYWxIZWlnaHQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW1hZ2VOYXR1cmFsSGVpZ2h0ID0gdGhpcy5fZ2V0TmF0dXJhbFNpemUoJGltYWdlKS5oZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmltYWdlTmF0dXJhbEhlaWdodDtcbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnNGaXR0ZXIucHJvdG90eXBlLl9nZXROYXR1cmFsV2lkdGggPSBmdW5jdGlvbigkaW1hZ2Upe1xuICAgIGlmICghdGhpcy5pbWFnZU5hdHVyYWxXaWR0aCkge1xuICAgICAgaWYgKCRpbWFnZS5wcm9wKCduYXR1cmFsV2lkdGgnKSkge1xuICAgICAgICB0aGlzLmltYWdlTmF0dXJhbFdpZHRoID0gJGltYWdlLnByb3AoJ25hdHVyYWxXaWR0aCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbWFnZU5hdHVyYWxXaWR0aCA9IHRoaXMuX2dldE5hdHVyYWxTaXplKCRpbWFnZSkud2lkdGg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmltYWdlTmF0dXJhbFdpZHRoO1xuICB9O1xuICBcbiAgVW5pZm9ybVRodW1ic0ZpdHRlci5wcm90b3R5cGUuX2dldE5hdHVyYWxTaXplID0gZnVuY3Rpb24oJGltYWdlKXtcbiAgICBpZiAoJGltYWdlLnByb3AoJ3NyYycpKSB7XG4gICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWcuc3JjID0gJGltYWdlLnByb3AoJ3NyYycpO1xuICAgICAgcmV0dXJuIHsgd2lkdGg6IGltZy53aWR0aCwgaGVpZ2h0OiBpbWcuaGVpZ2h0IH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzRml0dGVyLnByb3RvdHlwZS5fcmVzZXRJbWFnZUNTUyA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy4kaW1hZ2UuY3NzKHtcbiAgICAgIG1heFdpZHRoOiAnbm9uZScsXG4gICAgICB3aWR0aDogJ2F1dG8nLFxuICAgICAgaGVpZ2h0OiAnYXV0bydcbiAgICB9KTtcbiAgfTtcblxuICAvKioqXG4gICAqIGpRdWVyeS1pZnlcbiAgICoqKi9cbiAgIFxuICB2YXIgdGh1bWJuYWlsQ29tcGxldGVDb3VudCA9IDA7XG4gIHZhciBpbnZva2VGaW5hbFRyaWdnZXIgPSBmdW5jdGlvbihzZWxmKXtcbiAgICB0aHVtYm5haWxDb21wbGV0ZUNvdW50Kys7XG4gICAgaWYgKHRodW1ibmFpbENvbXBsZXRlQ291bnQgPT09IHNlbGYubGVuZ3RoKSB7XG4gICAgICAkKHNlbGYpLmxhc3QoKS50cmlnZ2VyKCd1dF9jb21wbGV0ZScpO1xuICAgIH1cbiAgfTtcbiAgIFxuICAkLmZuLnVuaWZvcm1fdGh1bWJuYWlscyA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuICAgIC8vIGNvbGxlY3Qgc2V0dGluZ3NcbiAgICB2YXIgc2V0dGluZ3MgPSAkLmV4dGVuZCgge30sICQuZm4udW5pZm9ybV90aHVtYm5haWxzLmRlZmF1bHRzLCBvcHRpb25zICk7XG4gICAgLy8gYnVpbGQgcGx1Z2luXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBzZWxmLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIHZhciAkZWxlID0gJCh0aGlzKTtcbiAgICAgICRlbGUuZGF0YSgnX3VuaWZvcm1fdGh1bWJuYWlscycsIG5ldyBVbmlmb3JtVGh1bWJzKCRlbGUsIHNldHRpbmdzKSk7XG4gICAgICAkZWxlLm9uKCd1dF9pbWFnZUxvYWRlZCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgIGludm9rZUZpbmFsVHJpZ2dlcihzZWxmKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICBcbiAgLy8gRGVmYXVsdCBzZXR0aW5nc1xuICAkLmZuLnVuaWZvcm1fdGh1bWJuYWlscy5kZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgIGZpdDogJ2Nyb3AnLCAgIC8vIGNyb3B8c2NhbGVcbiAgICAgICAgICAgICByYXRpbzogJzE6MScsICAgIC8vIGFzcGVjdCByYXRpbyBmb3IgaW1hZ2UgY29udGFpbmVyXG4gICAgICAgICAgICBmb3JtYXQ6ICdyYXRpbycsICAvLyByYXRpb3xzcXVhcmV8bGFuZHNjYXBlfHBvcnRyYWl0XG4gICAgICAgICAgICAgYWxpZ246ICdtaWRkbGUnLCAvLyB0b3B8bWlkZGxlfGJvdHRvbVxuICAgIGxhbmRzY2FwZVJhdGlvOiAnNDozJywgICAgLy8gZGVmYXVsdCByYXRpbyBmb3IgbGFuZHNjYXBlXG4gICAgIHBvcnRyYWl0UmF0aW86ICczOjQnICAgICAvLyBkZWZhdWx0IHJhdGlvIGZvciBwb3J0cmFpdFxuICB9O1xuXG59KGpRdWVyeSkpOyIsIi8qXG4gIEEgY29sbGVjdGlvbiBvZiBwb2x5ZmlsbHMgZm9yIElFOFxuKi9cblxubW9kdWxlLmV4cG9ydHMuZ2V0Q29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlID0gZnVuY3Rpb24oZWwsIHBzZXVkbykge1xuICAgICAgdGhpcy5lbCA9IGVsO1xuICAgICAgdGhpcy5nZXRQcm9wZXJ0eVZhbHVlID0gZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICB2YXIgcmUgPSAvKFxcLShbYS16XSl7MX0pL2c7XG4gICAgICAgIGlmIChwcm9wID09ICdmbG9hdCcpIHByb3AgPSAnc3R5bGVGbG9hdCc7XG4gICAgICAgIGlmIChyZS50ZXN0KHByb3ApKSB7XG4gICAgICAgICAgcHJvcCA9IHByb3AucmVwbGFjZShyZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1syXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbC5jdXJyZW50U3R5bGVbcHJvcF0gPyBlbC5jdXJyZW50U3R5bGVbcHJvcF0gOiBudWxsO1xuICAgICAgfTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzLm9iamVjdEtleXMgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIEZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2tleXNcbiAgaWYgKCFPYmplY3Qua2V5cykge1xuICAgIE9iamVjdC5rZXlzID0gKGZ1bmN0aW9uKCkge1xuICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbiAgICAgICAgICBoYXNEb250RW51bUJ1ZyA9ICEoeyB0b1N0cmluZzogbnVsbCB9KS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgndG9TdHJpbmcnKSxcbiAgICAgICAgICBkb250RW51bXMgPSBbXG4gICAgICAgICAgICAndG9TdHJpbmcnLFxuICAgICAgICAgICAgJ3RvTG9jYWxlU3RyaW5nJyxcbiAgICAgICAgICAgICd2YWx1ZU9mJyxcbiAgICAgICAgICAgICdoYXNPd25Qcm9wZXJ0eScsXG4gICAgICAgICAgICAnaXNQcm90b3R5cGVPZicsXG4gICAgICAgICAgICAncHJvcGVydHlJc0VudW1lcmFibGUnLFxuICAgICAgICAgICAgJ2NvbnN0cnVjdG9yJ1xuICAgICAgICAgIF0sXG4gICAgICAgICAgZG9udEVudW1zTGVuZ3RoID0gZG9udEVudW1zLmxlbmd0aDtcbiAgXG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyAmJiAodHlwZW9mIG9iaiAhPT0gJ2Z1bmN0aW9uJyB8fCBvYmogPT09IG51bGwpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmtleXMgY2FsbGVkIG9uIG5vbi1vYmplY3QnKTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdLCBwcm9wLCBpO1xuICBcbiAgICAgICAgZm9yIChwcm9wIGluIG9iaikge1xuICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHByb3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICBcbiAgICAgICAgaWYgKGhhc0RvbnRFbnVtQnVnKSB7XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRvbnRFbnVtc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGRvbnRFbnVtc1tpXSkpIHtcbiAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZG9udEVudW1zW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSgpKTtcbiAgfVxufTsiLCJCYW5uZXIgPSB7fTtcblxudmFyICRiYW5uZXIgPSAkKCdbZGF0YS1iYW5uZXJdJyk7XG5cbkJhbm5lci5pbml0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoJGJhbm5lci5sZW5ndGggPiAwKSB7XG4gICAgQmFubmVyLmFkZF9ldmVudF9oYW5kbGVycygpO1xuICB9XG59O1xuXG5CYW5uZXIuYWRkX2V2ZW50X2hhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAvLyBUaGlzIGV2ZW50IGZpcmVzIGltbWVkaWF0ZWx5IHdoZW4gdGhlIHNsaWRlIGluc3RhbmNlIG1ldGhvZCBpcyBpbnZva2VkLlxuICAkYmFubmVyLm9uKCdzbGlkZS5icy5jYXJvdXNlbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICRyZWxhdGVkX3RhcmdldCA9ICQoZS5yZWxhdGVkVGFyZ2V0KTtcbiAgICAvLyBTZXQgdGhlIGRhdGEtYmFubmVyIGF0dHIgdG8gdGhlIGN1cnJlbnQgc2xpZGVzIGluZGV4IHNvIHRoYXQgd2UgY2FuIGRvIGF3ZXNvbWUgc2NzcyBzdHVmZnNcbiAgICAkYmFubmVyLmF0dHIoJ2RhdGEtYmFubmVyJywgJHJlbGF0ZWRfdGFyZ2V0LmRhdGEoJ3NsaWRlJykpO1xuICB9KTtcbiAgXG4gIC8vIFRoaXMgZXZlbnQgaXMgZmlyZWQgd2hlbiB0aGUgY2Fyb3VzZWwgaGFzIGNvbXBsZXRlZCBpdHMgc2xpZGUgdHJhbnNpdGlvbi5cbiAgJGJhbm5lci5vbignc2xpZC5icy5jYXJvdXNlbCcsIGZ1bmN0aW9uICgpIHtcbiAgfSk7XG59O1xuICAgIFxubW9kdWxlLmV4cG9ydHMgPSBCYW5uZXI7IiwiQmFubmVyVmlkZW8gPSB7fTtcblxucmVxdWlyZSgnanF1ZXJ5Lm1iLnl0cGxheWVyJyk7XG52YXIgJHBsYXllciA9ICQoJy5iYW5uZXItdmlkZW8tcGxheWVyJyk7XG5cbkJhbm5lclZpZGVvLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICgkcGxheWVyLmxlbmd0aCA+IDAgJiYgIU1vZGVybml6ci50b3VjaCkge1xuICAgICRwbGF5ZXIuWVRQbGF5ZXIoKTtcbiAgfSBlbHNlIHtcbiAgICAkcGxheWVyLnBhcmVudCgpLmFkZENsYXNzKCdmYWxsYmFjay1pbWcnKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYW5uZXJWaWRlbzsiLCJ2YXIgQ2FydEpTID0gcmVxdWlyZShcIi4vLi4vLi4vYm93ZXJfY29tcG9uZW50cy9zaG9waWZ5LWNhcnRqcy9kaXN0L2NhcnQuanNcIik7XG5cbnZhciBDYXJ0ID0ge307XG52YXIgbWVzc2FnZV9jb3VudCA9IDA7XG5cbi8vIENhcnQgdmFyc1xudmFyICRjYXJ0X2Rpc3BsYXlfZWxlID0gJCgnW2RhdGEtY2FydC1kaXNwbGF5XScpO1xudmFyICRjYXJ0X3RvdGFsX2VsZSA9ICQoJ1tkYXRhLWNhcnQtdG90YWxdJyk7XG52YXIgJGNhcnRfZm9ybV9lbGUgPSAkKEJzaWZ5LnNlbGVjdG9ycy5jYXJ0LmZvcm1fc2VsZWN0b3IpO1xudmFyICRjYXJ0X21lc3NhZ2VfZWxlID0gJChCc2lmeS5zZWxlY3RvcnMuY2FydC5tZXNzYWdlX3NlbGVjdG9yKTtcbnZhciAkYWNrbm93bGVkZ2VtZW50X2NoZWNrYm94ID0gJChCc2lmeS5zZWxlY3RvcnMuY2FydC5hY2tub3dsZWRnZW1lbnRfY2hlY2tib3gpO1xuXG4vLyBwcm9kdWN0IHZhcnNcbmlmIChCc2lmeS5wcm9kdWN0KSB7XG4gIHZhciAkcHJvZHVjdF9mb3JtX2VsZSA9ICQoQnNpZnkuc2VsZWN0b3JzLnByb2R1Y3QuZm9ybV9zZWxlY3Rvcik7XG4gIHZhciAkcHJvZHVjdF9mb3JtX2J1dHRvbiA9ICRwcm9kdWN0X2Zvcm1fZWxlLmZpbmQoJ2lucHV0W3R5cGU9c3VibWl0XScpO1xuICB2YXIgJHByb2R1Y3RfZm9ybV9tZXNzYWdlX2VsZSA9ICQoQnNpZnkuc2VsZWN0b3JzLnByb2R1Y3QuZm9ybV9tZXNzYWdlX3NlbGVjdG9yKTtcbn1cblxuLy8gU2V0IHVwIGNhcnQgZXZlbnQgaGFuZGxlcnNcbkNhcnQuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgXG4gIC8vIGZpcmVkIHdoZW4gdGhlIENhcnRKUyBvYmplY3QgaGFzIGZpbmlzaGVkIHVwZGF0aW5nIHRoZSBjYXJ0XG4gICQoZG9jdW1lbnQpLm9uKCdjYXJ0LnJlcXVlc3RDb21wbGV0ZScsIGZ1bmN0aW9uKGV2ZW50LCBjYXJ0KSB7XG4gICAgLy8gdXBkYXRlIHRoZSBjYXJ0IG5vdGUgaW4gdGhlIG5hdmJhclxuICAgIENhcnQudXBkYXRlX2NhcnRfZGlzcGxheSgpO1xuICAgIENhcnQudXBkYXRlX2NhcnRfdGFibGUoKTtcbiAgfSk7XG4gIFxuICAvLyBBamF4IGFkZCB0byBjYXJ0IGZyb20gcHJvZHVjdCB0ZW1wbGF0ZVxuICBpZiAoQnNpZnkucHJvZHVjdCkge1xuICAgIC8vIENhcHR1cmUgdGhlIGZvcm0gc3VibWl0XG4gICAgJChkb2N1bWVudCkub24oJ3N1Ym1pdCcsIEJzaWZ5LnNlbGVjdG9ycy5wcm9kdWN0LmZvcm1fc2VsZWN0b3IsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgJGN1cnJlbnRfdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgQ2FydC5hZGRfaXRlbV90b19jYXJ0KCRjdXJyZW50X3RhcmdldCk7XG4gICAgfSk7XG4gIH1cbiAgXG4gIC8vIHJlbW92ZSBpdGVtIGZyb20gY2FydFxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtcmVtb3ZlLWl0ZW1dJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyICRjdXJyZW50X3RhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBDYXJ0LnJlbW92ZV9pdGVtX2Zyb21fY2FydCgkY3VycmVudF90YXJnZXQpO1xuICB9KTtcbiAgXG4gIC8vIElmIGNoZWNrb3V0IGFja25vd2xlZGdlbWVudCBjaGVja2JveCBleGlzdHNcbiAgLy8gYW5kIGlzIG5vdCBjaGVja2VkIGRvbid0IGxldCB0aGUgdXNlciBpbnRvIHRoZSBjaGVja291dFxuICBpZiAoJGFja25vd2xlZGdlbWVudF9jaGVja2JveC5sZW5ndGggPiAwICYmICRjYXJ0X2Zvcm1fZWxlLmxlbmd0aCA+IDApIHtcbiAgICAkY2FydF9mb3JtX2VsZS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICghJGFja25vd2xlZGdlbWVudF9jaGVja2JveC5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAkYWNrbm93bGVkZ2VtZW50X2NoZWNrYm94LmNsb3Nlc3QoJy5jaGVja2JveCcpLmFkZENsYXNzKCdoYXMtZXJyb3InKTtcbiAgICAgICAgQ2FydC5zaG93X21lc3NhZ2UoJGNhcnRfbWVzc2FnZV9lbGUsICdhbGVydCBhbGVydC1kYW5nZXInLCBCc2lmeS50cmFuc2xhdGlvbnMuY2FydC5hY2tub3dsZWRnZW1lbnRfY2hlY2tib3hfZXJyb3JfbWVzc2FnZSk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG4vKlxuICBDYXJ0IG1ldGhvZHNcbiovXG5cbkNhcnQuYWRkX2l0ZW1fdG9fY2FydCA9IGZ1bmN0aW9uICgkY3VycmVudF90YXJnZXQpIHtcbiAgdmFyIHZhbHVlcyA9IENhcnQuZm9ybV92YWx1ZXMoJGN1cnJlbnRfdGFyZ2V0LnNlcmlhbGl6ZUFycmF5KCkpO1xuICB2YXIgcHJvcGVydGllcyA9IHt9OyAvLyBUT0RPOiBkZWFsIHdpdGggaXRlbSBwcm9wZXJ0aWVzIHdoZW4gYWRkaW5nIHRvIGNhcnRcbiAgXG4gIHZhciB2YXJpYW50ID0gQnNpZnkuZ2V0X3ZhcmlhbnRfYnlfaWQodmFsdWVzLmlkKTtcbiAgdmFyIGl0ZW1fdGl0bGUgPSAodmFyaWFudC50aXRsZSA9PT0gJ0RlZmF1bHQgVGl0bGUnKSA/IEJzaWZ5LnByb2R1Y3QudGl0bGUgOiBCc2lmeS5wcm9kdWN0LnRpdGxlICsgQnNpZnkudHJhbnNsYXRpb25zLnByb2R1Y3QuaXRlbV90aXRsZV9zZXBlcmF0b3IgKyB2YXJpYW50LnRpdGxlO1xuICBcbiAgdmFyIHBhdGhfYXJyYXkgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoJy8nKTtcbiAgdmFyIGNvbGxlY3Rpb25fdXJsID0gKHBhdGhfYXJyYXlbMV0gPT0gJ2NvbGxlY3Rpb25zJykgPyAnLycrcGF0aF9hcnJheVsxXSsnLycrcGF0aF9hcnJheVsyXSsnLycgOiAnL2NvbGxlY3Rpb25zL2FsbC8nO1xuICBcbiAgLy8gdXBkYXRlIHRoZSB1c2VyIHRoYXQgd2UgYXJlIHdvcmtpbmcgb24gaXRcbiAgJHByb2R1Y3RfZm9ybV9idXR0b24udmFsKEJzaWZ5LnRyYW5zbGF0aW9ucy5wcm9kdWN0LmFkZGluZ190b19jYXJ0X2J1dHRvbl90ZXh0KTtcbiAgXG4gIC8vIGFkZCB0aGUgaXRlbSB0byB0aGUgY2FydFxuICBDYXJ0SlMuYWRkSXRlbSh2YWx1ZXMuaWQsIHZhbHVlcy5xdWFudGl0eSwgcHJvcGVydGllcywge1xuICAgIFwic3VjY2Vzc1wiIDogZnVuY3Rpb24gKGRhdGEsIHRleHRfc3RhdHVzLCBqcVhIUikge1xuICAgICAgXG4gICAgICAvLyBjcmVhdGUgYW5kIGRpc3BsYXkgY29tcGxldGVkIG1lc3NhZ2VcbiAgICAgIHZhciBtZXNzYWdlID0gQnNpZnkudHJhbnNsYXRpb25zLnByb2R1Y3QuYWZ0ZXJfcHJvZHVjdF9hZGRlZF9tZXNzYWdlX2h0bWwucmVwbGFjZSgnW2l0ZW1fdGl0bGVdJywgaXRlbV90aXRsZSkucmVwbGFjZSgnW2NvbGxlY3Rpb25fdXJsXScsIGNvbGxlY3Rpb25fdXJsKTtcbiAgICAgIENhcnQuc2hvd19tZXNzYWdlKCRwcm9kdWN0X2Zvcm1fbWVzc2FnZV9lbGUsICdzdWNjZXNzJywgbWVzc2FnZSk7XG4gICAgICBcbiAgICAgIC8vIHVwZGF0ZSBhZGQgdG8gY2FydCBidXR0b24gdGV4dFxuICAgICAgJHByb2R1Y3RfZm9ybV9idXR0b24udmFsKEJzaWZ5LnRyYW5zbGF0aW9ucy5wcm9kdWN0LmFkZGVkX3RvX2NhcnRfYnV0dG9uX3RleHQpO1xuICAgICAgXG4gICAgfSxcbiAgICBcImVycm9yXCI6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0X3N0YXR1cywgZXJyb3JfdGhyb3duKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0VSUk9SXSAtIEFkZCB0byBjYXJ0OicsIGpxWEhSLCB0ZXh0X3N0YXR1cywgZXJyb3JfdGhyb3duKTtcbiAgICAgIFxuICAgICAgLy8gY3JlYXRlIGFuZCBkaXNwbGF5IGVycm9yIG1lc3NhZ2VcbiAgICAgIHZhciBtZXNzYWdlID0gQnNpZnkudHJhbnNsYXRpb25zLnByb2R1Y3QuYWZ0ZXJfcHJvZHVjdF9hZGRlZF9lcnJvcl9tZXNzYWdlX2h0bWwucmVwbGFjZSgnW2l0ZW1fdGl0bGVdJywgaXRlbV90aXRsZSkucmVwbGFjZSgnW2Vycm9yX21lc3NhZ2VdJywgZXJyb3JfdGhyb3duKTtcbiAgICAgIENhcnQuc2hvd19tZXNzYWdlKCRwcm9kdWN0X2Zvcm1fbWVzc2FnZV9lbGUsICdlcnJvcicsIG1lc3NhZ2UpO1xuICAgICAgXG4gICAgICAvLyB1cGRhdGUgYWRkIHRvIGNhcnQgYnV0dG9uIHRleHRcbiAgICAgICRwcm9kdWN0X2Zvcm1fYnV0dG9uLnZhbChCc2lmeS50cmFuc2xhdGlvbnMucHJvZHVjdC51bmF2YWlsYWJsZV9idXR0b25fdGV4dCk7XG4gICAgfVxuICB9KTtcbn07XG5cbkNhcnQucmVtb3ZlX2l0ZW1fZnJvbV9jYXJ0ID0gZnVuY3Rpb24gKCRjdXJyZW50X3RhcmdldCkge1xuICB2YXIgJGNhcnRfaXRlbV9lbGUgPSAkY3VycmVudF90YXJnZXQuY2xvc2VzdChCc2lmeS5zZWxlY3RvcnMuY2FydC5pdGVtX3NlbGVjdG9yKTtcbiAgXG4gIHZhciBpdGVtID0gQ2FydC5nZXRfaXRlbV9ieV9pZCgkY2FydF9pdGVtX2VsZS5kYXRhKCdjYXJ0LWl0ZW0nKSk7XG4gIHZhciBpdGVtX3RpdGxlID0gaXRlbS5wcm9kdWN0X3RpdGxlO1xuICBpZiAoaXRlbS52YXJpYW50X3RpdGxlKSB7XG4gICAgaXRlbV90aXRsZSArPSBCc2lmeS50cmFuc2xhdGlvbnMucHJvZHVjdC5pdGVtX3RpdGxlX3NlcGVyYXRvciArIGl0ZW0udmFyaWFudF90aXRsZTtcbiAgfVxuICBcbiAgQ2FydEpTLnJlbW92ZUl0ZW0oJGN1cnJlbnRfdGFyZ2V0LmRhdGEoJ3JlbW92ZS1pdGVtJyksIHtcbiAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24gKGRhdGEsIHRleHRfc3RhdHVzLCBqcVhIUikge1xuICAgICAgLy8gaGlkZSBpdGVtIHJvd1xuICAgICAgJGNhcnRfaXRlbV9lbGUuaGlkZSgpO1xuICAgICAgXG4gICAgICAvLyBTaG93IHVzZXIgYSBuaWNlIG1lc3NhZ2VcbiAgICAgIHZhciBtZXNzYWdlID0gQnNpZnkudHJhbnNsYXRpb25zLmNhcnQucmVtb3ZlX2l0ZW1fbWVzc2FnZS5yZXBsYWNlKCdbaXRlbV90aXRsZV0nLCBpdGVtX3RpdGxlKTtcbiAgICAgIENhcnQuc2hvd19tZXNzYWdlKCRjYXJ0X21lc3NhZ2VfZWxlLCAnc3VjY2VzcycsIG1lc3NhZ2UpO1xuICAgICAgXG4gICAgfSxcbiAgICBcImVycm9yXCI6IGZ1bmN0aW9uIChqcVhIUiwgdGV4dF9zdGF0dXMsIGVycm9yX3Rocm93bikge1xuICAgICAgY29uc29sZS5sb2coJ1tFUlJPUl0gLSBSZW1vdmUgaXRlbSBmcm9tIGNhcnQ6JywganFYSFIsIHRleHRfc3RhdHVzLCBlcnJvcl90aHJvd24pO1xuICAgICAgXG4gICAgICAvLyBTaG93IHVzZXIgYSBuaWNlIG1lc3NhZ2VcbiAgICAgIHZhciBtZXNzYWdlID0gQnNpZnkudHJhbnNsYXRpb25zLmNhcnQucmVtb3ZlX2l0ZW1fZXJyb3JfbWVzc2FnZS5yZXBsYWNlKCdbaXRlbV90aXRsZV0nLCBpdGVtX3RpdGxlKS5yZXBsYWNlKCdbZXJyb3JfbWVzc2FnZV0nLCBlcnJvcl90aHJvd24pO1xuICAgICAgQ2FydC5zaG93X21lc3NhZ2UoJGNhcnRfbWVzc2FnZV9lbGUsICdzdWNjZXNzJywgbWVzc2FnZSk7XG4gICAgfSBcbiAgfSk7XG59O1xuXG4vKlxuICBEaXNwbGF5IG1ldGhvZHNcbiovXG5cbi8vIFVwZGF0ZSBjYXJ0IGRpc3BsYXkgd2l0aCB0aGUgY3VycmVudCBjYXJ0IGRldGFpbHNcbkNhcnQudXBkYXRlX2NhcnRfZGlzcGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNhcnRfdG90YWxfcHJpY2UgPSBTaG9waWZ5LmZvcm1hdE1vbmV5KENhcnRKUy5jYXJ0LnRvdGFsX3ByaWNlLCBCc2lmeS5tb25leV9mb3JtYXRzLm1vbmV5Rm9ybWF0KTtcbiAgdmFyIGNhcnRfdG90YWxfcHJpY2Vfd2l0aF9jdXJyZW5jeSA9IFNob3BpZnkuZm9ybWF0TW9uZXkoQ2FydEpTLmNhcnQudG90YWxfcHJpY2UsIEJzaWZ5Lm1vbmV5X2Zvcm1hdHMubW9uZXlXaXRoQ3VycmVuY3lGb3JtYXQpO1xuICBcbiAgdmFyIGNhcnRfZGlzcGxheV90ZXh0ID0gQnNpZnkudHJhbnNsYXRpb25zLmNhcnQuY2FydF9kaXNwbGF5X3RleHQucmVwbGFjZSgnW2l0ZW1fY291bnRdJywgQ2FydEpTLmNhcnQuaXRlbV9jb3VudCk7XG4gIGNhcnRfZGlzcGxheV90ZXh0ID0gQ2FydC5yZXBsYWNlX3ByaWNlKGNhcnRfZGlzcGxheV90ZXh0LCAnW2NhcnRfdG90YWxfcHJpY2VdJywgQ2FydEpTLmNhcnQudG90YWxfcHJpY2UsIGNhcnRfdG90YWxfcHJpY2UpO1xuICBjYXJ0X2Rpc3BsYXlfdGV4dCA9IENhcnQucmVwbGFjZV9wcmljZShjYXJ0X2Rpc3BsYXlfdGV4dCwgJ1tjYXJ0X3RvdGFsX3ByaWNlX3dpdGhfY3VycmVuY3ldJywgQ2FydEpTLmNhcnQudG90YWxfcHJpY2UsIGNhcnRfdG90YWxfcHJpY2Vfd2l0aF9jdXJyZW5jeSk7XG4gICRjYXJ0X2Rpc3BsYXlfZWxlLmh0bWwoY2FydF9kaXNwbGF5X3RleHQpO1xuICBcbiAgdmFyIGNhcnRfdG90YWxfdGV4dCA9IEJzaWZ5LnRyYW5zbGF0aW9ucy5jYXJ0LmNhcnRfdG90YWw7XG4gIGNhcnRfdG90YWxfdGV4dCA9IENhcnQucmVwbGFjZV9wcmljZShjYXJ0X3RvdGFsX3RleHQsICdbY2FydF90b3RhbF9wcmljZV0nLCBDYXJ0SlMuY2FydC50b3RhbF9wcmljZSwgY2FydF90b3RhbF9wcmljZSk7XG4gIGNhcnRfdG90YWxfdGV4dCA9IENhcnQucmVwbGFjZV9wcmljZShjYXJ0X3RvdGFsX3RleHQsICdbY2FydF90b3RhbF9wcmljZV93aXRoX2N1cnJlbmN5XScsIENhcnRKUy5jYXJ0LnRvdGFsX3ByaWNlLCBjYXJ0X3RvdGFsX3ByaWNlX3dpdGhfY3VycmVuY3kpO1xuICAkY2FydF90b3RhbF9lbGUuaHRtbChjYXJ0X3RvdGFsX3RleHQpO1xufTtcblxuQ2FydC5yZXBsYWNlX3ByaWNlID0gZnVuY3Rpb24gKHRhcmdldF9zdHIsIHBsYWNlaG9sZGVyLCBwcmljZV9yYXcsIHByaWNlX2Zvcm1hdGVkKSB7XG4gIHBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXIucmVwbGFjZSgvKFtcXFtcXF1dKS9nLCBcIlxcXFwkMVwiKTtcbiAgdmFyIHJlZ19yYXcgPSBuZXcgUmVnRXhwKFwiZGF0YS1wcmljZT1bJ1xcXCJdKFwiK3BsYWNlaG9sZGVyK1wiKVsnXFxcIl1cIik7XG4gIHZhciByZWdfZm9ybWF0dGVkID0gbmV3IFJlZ0V4cChcIj4oXCIrcGxhY2Vob2xkZXIrXCIpPFwiKTtcbiAgXG4gIHJldHVybiB0YXJnZXRfc3RyXG4gICAgLnJlcGxhY2UocmVnX3JhdywgZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYS5yZXBsYWNlKGIsIHByaWNlX3Jhdyk7IH0pXG4gICAgLnJlcGxhY2UocmVnX2Zvcm1hdHRlZCwgZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYS5yZXBsYWNlKGIsIHByaWNlX2Zvcm1hdGVkKTsgfSk7XG59O1xuXG4vLyBoaWRlIHRoZSBjYXJ0IHRhYmxlIGlmIHRoZSBjYXJ0IGlzIGVtcHR5XG5DYXJ0LnVwZGF0ZV9jYXJ0X3RhYmxlID0gZnVuY3Rpb24gKCkge1xuICBpZiAoQ2FydEpTLmNhcnQuaXRlbV9jb3VudCA9PT0gMCkge1xuICAgICRjYXJ0X2Zvcm1fZWxlLmhpZGUoKTtcbiAgICAkY2FydF9tZXNzYWdlX2VsZS5yZW1vdmVDbGFzcygnaGlkZGVuJykuaHRtbChCc2lmeS50cmFuc2xhdGlvbnMuY2FydC5lbXB0eV9jYXJ0X3RleHQpO1xuICB9XG59O1xuXG4vLyBzaG93IGFuZCBoaWRlIGZlZWRiYWNrIG1lc2FnZXMgZm9yIGNhcnQgYWN0aW9uc1xuQ2FydC5zaG93X21lc3NhZ2UgPSBmdW5jdGlvbiAoJG1lc3NhZ2VfZWxlLCBtZXNzYWdlX2NsYXNzLCBtZXNzYWdlKSB7XG4gIG1lc3NhZ2VfY291bnQrKztcbiAgJG1lc3NhZ2VfZWxlLnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5odG1sKCc8ZGl2IGNsYXNzPVwibm90ZSAnK21lc3NhZ2VfY2xhc3MrJyBtZXNzYWdlJyttZXNzYWdlX2NvdW50KydcIj4nK21lc3NhZ2UrJzwvZGl2PicpO1xuICBDYXJ0LnJlbW92ZV9tZXNzYWdlKG1lc3NhZ2VfY291bnQpO1xufTtcblxuQ2FydC5yZW1vdmVfbWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlX2lkKSB7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICQoJy5tZXNzYWdlJyttZXNzYWdlX2lkKS5mYWRlT3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgfSk7XG4gIH0sIEJzaWZ5Lm1lc3NhZ2VfdGltZW91dCk7XG59O1xuXG4vLyBjb252ZXJ0IGpRdWVyeSBzZXJpYWxpemVBcnJheSByZXN1bHRzIGludG8gc29tZXRoaW5nIHVzZWZ1bCBcbkNhcnQuZm9ybV92YWx1ZXMgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIHZhciB2YWxzID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBhcnJbaV07XG4gICAgdmFsc1tpdGVtLm5hbWVdID0gaXRlbS52YWx1ZTtcbiAgfVxuICByZXR1cm4gdmFscztcbn07XG5cbi8qXG4gIENhcnQgdXRpbGl0eSBmdW5jdGlvbnNcbiovXG5cbi8vIEdldCBpdGVtIGZyb20gQ2FydEpTIGJ5IHZhcmlhbnQgaWRcbkNhcnQuZ2V0X2l0ZW1fYnlfaWQgPSBmdW5jdGlvbiAodmFyaWFudF9pZCkge1xuICBpZiAodHlwZW9mIHZhcmlhbnRfaWQgPT09ICdzdHJpbmcnKSB2YXJpYW50X2lkID0gcGFyc2VJbnQodmFyaWFudF9pZCk7XG4gIHZhciBsaW5lX2l0ZW07XG4gIGlmIChDYXJ0SlMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IENhcnRKUy5jYXJ0Lml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IENhcnRKUy5jYXJ0Lml0ZW1zW2ldO1xuICAgICAgaWYgKGl0ZW0udmFyaWFudF9pZCA9PT0gdmFyaWFudF9pZCkge1xuICAgICAgICBsaW5lX2l0ZW0gPSBpdGVtO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbGluZV9pdGVtO1xufTtcblxuLy8gQ2hlY2sgY2FydCBmb3IgdmFyaWFudFxuQ2FydC5oYXNfdmFyaWFudCA9IGZ1bmN0aW9uICh2YXJpYW50X2lkKSB7XG4gIGlmICh0eXBlb2YgdmFyaWFudF9pZCA9PT0gJ3N0cmluZycpIHZhcmlhbnRfaWQgPSBwYXJzZUludCh2YXJpYW50X2lkKTtcbiAgdmFyIGhhc192YXJpYW50ID0gZmFsc2U7XG4gIGlmIChDYXJ0SlMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IENhcnRKUy5jYXJ0Lml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IENhcnRKUy5jYXJ0Lml0ZW1zW2ldO1xuICAgICAgaWYgKGl0ZW0udmFyaWFudF9pZCA9PT0gdmFyaWFudF9pZCkge1xuICAgICAgICBoYXNfdmFyaWFudCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBoYXNfdmFyaWFudDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FydDsiLCJ2YXIgSW1hZ2VTd2l0Y2hlciA9IHt9O1xuXG4vLyBOT1RFOiBob3cgd2lsbCB0aGlzIGFsbCB3b3JrIHdpdGggc3Jjc2V0ID8/ISFcbi8vIFRPRE86IHN3aXBlIGJldHdlZW4gaW1hZ2VzIG9uIG1vYmlsZVxuXG4vLyBQcmVsb2FkIGltYWdlcyBmb3IgZ2FsbGVyeVxuLy8gVXNlZCB0aGUgc2l6ZWQgc3JjXG5JbWFnZVN3aXRjaGVyLnByZWxvYWRfcHJvZHVjdF90aHVtYnMgPSBmdW5jdGlvbigpe1xuICB2YXIgJHRodW1icyA9ICQoJ1tkYXRhLWdhbGxlcnktbWFpbl0nKTtcbiAgaWYgKCR0aHVtYnMubGVuZ3RoID4gMCkge1xuICAgIHZhciBtYWluX2ltYWdlX2VsZW1lbnQgPSAkKCR0aHVtYnMuZGF0YSgnZ2FsbGVyeS1tYWluJykpWzBdO1xuICAgIHZhciBtYWluX2ltYWdlX3NpemUgPSBTaG9waWZ5LkltYWdlLmltYWdlU2l6ZShtYWluX2ltYWdlX2VsZW1lbnQuc3JjKTtcbiAgICBcbiAgICBpZigkdGh1bWJzLmxlbmd0aCA+IDApe1xuICAgICAgJHRodW1icy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB2YXIgc3JjID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgICAgIHZhciBzaXplZF9zcmMgPSBTaG9waWZ5LkltYWdlLmdldFNpemVkSW1hZ2VVcmwoc3JjLCBtYWluX2ltYWdlX3NpemUpO1xuICAgICAgICBpbWFnZS5zcmMgPSBzaXplZF9zcmM7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIEluaXRpYWxpc2UgdGhlIGltYWdlIHN3aXRjaGVyIGZvciBnYWxsZXJ5IHRodW1ic1xuSW1hZ2VTd2l0Y2hlci5pbWFnZV9zd3RpY2hlciA9IGZ1bmN0aW9uICgpIHtcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLWdhbGxlcnktbWFpbl0nLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgJGN1cnJlbnRfdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhciBtYWluX2ltYWdlX2VsZW1lbnQgPSAkKCRjdXJyZW50X3RhcmdldC5kYXRhKCdnYWxsZXJ5LW1haW4nKSlbMF07XG4gICAgdmFyIGltYWdlX3NyYyA9ICRjdXJyZW50X3RhcmdldC5hdHRyKCdocmVmJyk7XG4gICAgSW1hZ2VTd2l0Y2hlci5zd2l0Y2hfaW1hZ2UobWFpbl9pbWFnZV9lbGVtZW50LCBpbWFnZV9zcmMpO1xuICB9KTtcbn07XG5cbi8vIFN3aXRjaCBpbWFnZVxuLy8gLSB0YWtlcyB0aGUgbWFpbiBpbWFnZSBlbGVtZW50IHRoYXQgd2lsbCBoYXZlIGl0J3Mgc3JjIGNoYW5nZWRcbi8vIC0gYW5kIHRoZSBuZXcgc3JjIHRvIGNoYW5nZSBpdCB0b1xuSW1hZ2VTd2l0Y2hlci5zd2l0Y2hfaW1hZ2UgPSBmdW5jdGlvbiAobWFpbl9pbWFnZV9lbGVtZW50LCBpbWFnZV9zcmMpIHtcbiAgaWYgKCFtYWluX2ltYWdlX2VsZW1lbnQgfHwgIWltYWdlX3NyYykge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBnZXQgdGhlIG5ldyBpbWFnZSBzcmMgYXQgdGhlIGNvcnJlY3Qgc2l6ZVxuICB2YXIgbWFpbl9pbWFnZV9zaXplID0gU2hvcGlmeS5JbWFnZS5pbWFnZVNpemUobWFpbl9pbWFnZV9lbGVtZW50LnNyYyk7XG4gIHZhciBuZXdfaW1hZ2Vfc3JjID0gU2hvcGlmeS5JbWFnZS5nZXRTaXplZEltYWdlVXJsKGltYWdlX3NyYywgbWFpbl9pbWFnZV9zaXplKTtcbiAgLy8gc3dpdGNoIHRoZSBtYWluIGltYWdlIHRvIHRoZSBuZXcgc3JjXG4gIGlmIChtYWluX2ltYWdlX2VsZW1lbnQuc3JjICE9PSBuZXdfaW1hZ2Vfc3JjKSB7XG4gICAgbWFpbl9pbWFnZV9lbGVtZW50LnNyYyA9IG5ld19pbWFnZV9zcmM7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW1hZ2VTd2l0Y2hlcjsiLCIvLyBDb2xsZWN0IHRoZSBCc2lmeSBvYmplY3QgZnJvbSB0aGUgd2luZG93IHdpdGggb3VyIHRyYW5zbGF0aW9ucyBhbmQgbGlxdWlkIHZhcmlhYmxlcyBhbGwgc2V0IHVwXG52YXIgQnNpZnkgPSB3aW5kb3cuQnNpZnkgfHwge307XG5cbi8qXG4gIEJvb3RzdHJhcGlmeSB1dGlsaXR5IG1ldGhvZHNcbiovXG5cbkJzaWZ5LmdldF92YXJpYW50X2J5X2lkID0gZnVuY3Rpb24gKHZhcmlhbnRfaWQpIHtcbiAgdmFyIHNlbGVjdGVkX3ZhcmlhbnQ7XG4gIGlmICh0eXBlb2YgdmFyaWFudF9pZCA9PT0gJ3N0cmluZycpIHZhcmlhbnRfaWQgPSBwYXJzZUludCh2YXJpYW50X2lkKTtcbiAgXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgQnNpZnkucHJvZHVjdC52YXJpYW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB2YXJpYW50ID0gQnNpZnkucHJvZHVjdC52YXJpYW50c1tpXTtcbiAgICBpZiAodmFyaWFudC5pZCA9PT0gdmFyaWFudF9pZCkge1xuICAgICAgc2VsZWN0ZWRfdmFyaWFudCA9IHZhcmlhbnQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBzZWxlY3RlZF92YXJpYW50O1xufTtcblxuLy8gYWRkIGJzaWZ5IGNsYXNzZXMgdG8gdGhlIEJzaWZ5IG9iamVjdFxuQnNpZnkuQ2FydCA9IHJlcXVpcmUoJy4vYnNpZnkuY2FydC5qcycpO1xuQnNpZnkuSW1hZ2VTd2l0Y2hlciA9IHJlcXVpcmUoJy4vYnNpZnkuaW1hZ2Vfc3dpdGNoZXIuanMnKTtcbkJzaWZ5LlZhcmlhbnRPcHRpb25Td2l0Y2hlciA9IHJlcXVpcmUoJy4vYnNpZnkudmFyaWFudF9vcHRpb25fc3dpdGNoZXIuanMnKTtcbkJzaWZ5LkxpbmtlZFByb2R1Y3RPcHRpb25zID0gcmVxdWlyZSgnLi9ic2lmeS5saW5rZWRfcHJvZHVjdF9vcHRpb25zLmpzJyk7XG5Cc2lmeS5CYW5uZXIgPSByZXF1aXJlKCcuL2JzaWZ5LmJhbm5lci5qcycpO1xuQnNpZnkuQmFubmVyVmlkZW8gPSByZXF1aXJlKCcuL2JzaWZ5LmJhbm5lcl92aWRlby5qcycpO1xuQnNpZnkuVGh1bWJuYWlscyA9IHJlcXVpcmUoJy4vYnNpZnkudGh1bWJuYWlscy5qcycpO1xuQnNpZnkuU29jaWFsRmVlZHMgPSByZXF1aXJlKCcuL2JzaWZ5LnNvY2lhbF9mZWVkcy5qcycpO1xuQnNpZnkuUGFzc3dvcmRSZWNvdmVyID0gcmVxdWlyZSgnLi9ic2lmeS5wYXNzd29yZF9yZWNvdmVyLmpzJyk7XG5Cc2lmeS5NZWdhTWVudSA9IHJlcXVpcmUoJy4vYnNpZnkubWVnYV9tZW51LmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQnNpZnk7IiwiLy8gKGMpIENvcHlyaWdodCAyMDE0IENhcm9saW5lIFNjaG5hcHAuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuIENvbnRhY3Q6IG1sbGVnZW9yZ2VzYW5kQGdtYWlsLmNvbVxuLy8gU2VlIGh0dHA6Ly9kb2NzLnNob3BpZnkuY29tL21hbnVhbC9jb25maWd1cmF0aW9uL3N0b3JlLWN1c3RvbWl6YXRpb24vYWR2YW5jZWQtbmF2aWdhdGlvbi9saW5rZWQtcHJvZHVjdC1vcHRpb25zXG4vLyBNb2RpZmllZCBmb3IgdXNlIHdpdGggQm9vdHN0cmFwaWZ5NCBieSBMdWNpZCAtIDAzLzIwMTVcblxudmFyIExpbmtlZFByb2R1Y3RPcHRpb25zID0ge307XG5MaW5rZWRQcm9kdWN0T3B0aW9ucy5vcHRpb25zTWFwID0ge307XG5cbkxpbmtlZFByb2R1Y3RPcHRpb25zLnVwZGF0ZU9wdGlvbnNJblNlbGVjdG9yID0gZnVuY3Rpb24oc2VsZWN0b3JJbmRleCkge1xuICB2YXIga2V5LCBzZWxlY3RvcjtcbiAgICBcbiAgc3dpdGNoIChzZWxlY3RvckluZGV4KSB7XG4gICAgY2FzZSAwOlxuICAgICAga2V5ID0gJ3Jvb3QnO1xuICAgICAgc2VsZWN0b3IgPSAkKCcuc2luZ2xlLW9wdGlvbi1zZWxlY3RvcjplcSgwKScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAxOlxuICAgICAga2V5ID0gJCgnLnNpbmdsZS1vcHRpb24tc2VsZWN0b3I6ZXEoMCknKS52YWwoKTtcbiAgICAgIHNlbGVjdG9yID0gJCgnLnNpbmdsZS1vcHRpb24tc2VsZWN0b3I6ZXEoMSknKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjpcbiAgICAgIGtleSA9ICQoJy5zaW5nbGUtb3B0aW9uLXNlbGVjdG9yOmVxKDApJykudmFsKCk7ICBcbiAgICAgIGtleSArPSAnIC8gJyArICQoJy5zaW5nbGUtb3B0aW9uLXNlbGVjdG9yOmVxKDEpJykudmFsKCk7XG4gICAgICBzZWxlY3RvciA9ICQoJy5zaW5nbGUtb3B0aW9uLXNlbGVjdG9yOmVxKDIpJyk7XG4gIH1cbiAgXG4gIHZhciBpbml0aWFsVmFsdWUgPSBzZWxlY3Rvci52YWwoKTtcbiAgc2VsZWN0b3IuZW1wdHkoKTsgICAgXG4gIHZhciBhdmFpbGFibGVPcHRpb25zID0gTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcFtrZXldO1xuICBpZiAoYXZhaWxhYmxlT3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yICh2YXIgaT0wOyBpPGF2YWlsYWJsZU9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBvcHRpb24gPSBhdmFpbGFibGVPcHRpb25zW2ldO1xuICAgICAgdmFyIG5ld09wdGlvbiA9ICQoJzxvcHRpb24+PC9vcHRpb24+JykudmFsKG9wdGlvbikuaHRtbChvcHRpb24pO1xuICAgICAgc2VsZWN0b3IuYXBwZW5kKG5ld09wdGlvbik7XG4gICAgfVxuICAgICQoJy5zd2F0Y2hbZGF0YS1vcHRpb24taW5kZXg9XCInICsgc2VsZWN0b3JJbmRleCArICdcIl0gLnN3YXRjaC1lbGVtZW50JykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGlmICgkLmluQXJyYXkoJCh0aGlzKS5hdHRyKCdkYXRhLXZhbHVlJyksIGF2YWlsYWJsZU9wdGlvbnMpICE9PSAtMSkge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdzb2xkb3V0Jykuc2hvdygpLmZpbmQoJzpyYWRpbycpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJywnZGlzYWJsZWQnKS5yZW1vdmVBdHRyKCdjaGVja2VkJyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnc29sZG91dCcpLmhpZGUoKS5maW5kKCc6cmFkaW8nKS5yZW1vdmVBdHRyKCdjaGVja2VkJykuYXR0cignZGlzYWJsZWQnLCdkaXNhYmxlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgkLmluQXJyYXkoaW5pdGlhbFZhbHVlLCBhdmFpbGFibGVPcHRpb25zKSAhPT0gLTEpIHtcbiAgICAgIHNlbGVjdG9yLnZhbChpbml0aWFsVmFsdWUpO1xuICAgIH1cbiAgICBzZWxlY3Rvci50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgfVxufTtcblxuTGlua2VkUHJvZHVjdE9wdGlvbnMubGlua09wdGlvblNlbGVjdG9ycyA9IGZ1bmN0aW9uKHByb2R1Y3QpIHtcbiAgLy8gQnVpbGRpbmcgb3VyIG1hcHBpbmcgb2JqZWN0LlxuICBmb3IgKHZhciBpPTA7IGk8cHJvZHVjdC52YXJpYW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB2YXJpYW50ID0gcHJvZHVjdC52YXJpYW50c1tpXTtcbiAgICBpZiAodmFyaWFudC5hdmFpbGFibGUpIHtcbiAgICAgIHZhciBrZXk7XG4gICAgICAvLyBHYXRoZXJpbmcgdmFsdWVzIGZvciB0aGUgMXN0IGRyb3AtZG93bi5cbiAgICAgIExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXAucm9vdCA9IExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXAucm9vdCB8fCBbXTtcbiAgICAgIExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXAucm9vdC5wdXNoKHZhcmlhbnQub3B0aW9uMSk7XG4gICAgICBMaW5rZWRQcm9kdWN0T3B0aW9ucy5vcHRpb25zTWFwLnJvb3QgPSBTaG9waWZ5LnVuaXEoTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcC5yb290KTtcbiAgICAgIC8vIEdhdGhlcmluZyB2YWx1ZXMgZm9yIHRoZSAybmQgZHJvcC1kb3duLlxuICAgICAgaWYgKHByb2R1Y3Qub3B0aW9ucy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGtleSA9IHZhcmlhbnQub3B0aW9uMTtcbiAgICAgICAgTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcFtrZXldID0gTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcFtrZXldIHx8IFtdO1xuICAgICAgICBMaW5rZWRQcm9kdWN0T3B0aW9ucy5vcHRpb25zTWFwW2tleV0ucHVzaCh2YXJpYW50Lm9wdGlvbjIpO1xuICAgICAgICBMaW5rZWRQcm9kdWN0T3B0aW9ucy5vcHRpb25zTWFwW2tleV0gPSBTaG9waWZ5LnVuaXEoTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcFtrZXldKTtcbiAgICAgIH1cbiAgICAgIC8vIEdhdGhlcmluZyB2YWx1ZXMgZm9yIHRoZSAzcmQgZHJvcC1kb3duLlxuICAgICAgaWYgKHByb2R1Y3Qub3B0aW9ucy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAga2V5ID0gdmFyaWFudC5vcHRpb24xICsgJyAvICcgKyB2YXJpYW50Lm9wdGlvbjI7XG4gICAgICAgIExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXBba2V5XSA9IExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXBba2V5XSB8fCBbXTtcbiAgICAgICAgTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcFtrZXldLnB1c2godmFyaWFudC5vcHRpb24zKTtcbiAgICAgICAgTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcFtrZXldID0gU2hvcGlmeS51bmlxKExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXBba2V5XSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIFVwZGF0ZSBvcHRpb25zIHJpZ2h0IGF3YXkuXG4gIExpbmtlZFByb2R1Y3RPcHRpb25zLnVwZGF0ZU9wdGlvbnNJblNlbGVjdG9yKDApO1xuICBpZiAocHJvZHVjdC5vcHRpb25zLmxlbmd0aCA+IDEpIExpbmtlZFByb2R1Y3RPcHRpb25zLnVwZGF0ZU9wdGlvbnNJblNlbGVjdG9yKDEpO1xuICBpZiAocHJvZHVjdC5vcHRpb25zLmxlbmd0aCA9PT0gMykgTGlua2VkUHJvZHVjdE9wdGlvbnMudXBkYXRlT3B0aW9uc0luU2VsZWN0b3IoMik7XG4gIC8vIFdoZW4gdGhlcmUgaXMgYW4gdXBkYXRlIGluIHRoZSBmaXJzdCBkcm9wZG93bi5cbiAgJChkb2N1bWVudCkub24oJ2NoYW5nZScsICcuc2luZ2xlLW9wdGlvbi1zZWxlY3RvcjplcSgwKScsIGZ1bmN0aW9uKCkge1xuICAgIExpbmtlZFByb2R1Y3RPcHRpb25zLnVwZGF0ZU9wdGlvbnNJblNlbGVjdG9yKDEpO1xuICAgIGlmIChwcm9kdWN0Lm9wdGlvbnMubGVuZ3RoID09PSAzKSBMaW5rZWRQcm9kdWN0T3B0aW9ucy51cGRhdGVPcHRpb25zSW5TZWxlY3RvcigyKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG4gIC8vIFdoZW4gdGhlcmUgaXMgYW4gdXBkYXRlIGluIHRoZSBzZWNvbmQgZHJvcGRvd24uXG4gICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnLnNpbmdsZS1vcHRpb24tc2VsZWN0b3I6ZXEoMSknLCBmdW5jdGlvbigpIHtcbiAgICBpZiAocHJvZHVjdC5vcHRpb25zLmxlbmd0aCA9PT0gMykgTGlua2VkUHJvZHVjdE9wdGlvbnMudXBkYXRlT3B0aW9uc0luU2VsZWN0b3IoMik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBMaW5rZWRQcm9kdWN0T3B0aW9uczsiLCJ2YXIgaW1nbCAgICA9IHJlcXVpcmUoJ2ltYWdlc2xvYWRlZCcpO1xudmFyIG1xICAgICAgPSByZXF1aXJlKCcuL2JzaWZ5Lm1lZGlhX3F1ZXJpZXMuanMnKTtcbnJlcXVpcmUoJy4vYnNpZnkudG91Y2guanMnKTtcblxuLyogTG9hZGVyICovXG52YXIgR2FsbGVyeUxvYWRlciA9IGZ1bmN0aW9uIChlbGUsIHBhcmVudF9lbGUpIHtcbiAgdGhpcy5lbGUgPSBlbGU7XG4gIHRoaXMucGFyZW50X2VsZSA9IHBhcmVudF9lbGU7XG4gIHRoaXMub25Mb2FkZWQgPSBmdW5jdGlvbigpe307XG59O1xuXG5HYWxsZXJ5TG9hZGVyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKXtcbiAgdGhpcy4kZWxlID0gJCh0aGlzLmVsZSk7XG4gIHRoaXMuJGZhbGxiYWNrSW1nID0gdGhpcy4kZWxlLmZpbmQoJy5mYWxsYmFjay1pbWFnZScpO1xuICB0aGlzLmNhcm91c2VsX3dpZHRoID0gMDtcbiAgdGhpcy5pbWdMb2FkID0gbmV3IGltZ2wodGhpcy5lbGUpO1xuICB0aGlzLmxhc3RNUSA9IG1xLnNpemUoKTtcbiAgXG4gIHZhciBfdGhpcyA9IHRoaXM7XG4gIHRoaXMuaW1nTG9hZC5vbigncHJvZ3Jlc3MnLCBmdW5jdGlvbihpbnN0YW5jZSwgaW1hZ2Upe1xuICAgIF90aGlzLl9jb2xsZWN0X2ltYWdlX3dpZHRoKGltYWdlKTtcbiAgfSkub24oJ2RvbmUnLCBmdW5jdGlvbigpe1xuICAgIF90aGlzLl9zZXRfY2Fyb3VzZWxfd2lkdGgoKTtcbiAgICBfdGhpcy5vbkxvYWRlZC5hcHBseShfdGhpcyk7XG4gIH0pO1xuICBcbiAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKF90aGlzLmxhc3RNUSAhPT0gbXEuc2l6ZSgpKSB7XG4gICAgICBfdGhpcy5jYXJvdXNlbF93aWR0aCA9IDA7XG4gICAgICBfdGhpcy5fcmVjYWxjdWxhdGVfY2Fyb3VzZWxfd2lkdGgoKTtcbiAgICAgIF90aGlzLmxhc3RNUSA9IG1xLnNpemUoKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gUHJpdmF0ZVxuR2FsbGVyeUxvYWRlci5wcm90b3R5cGUuX2NvbGxlY3RfaW1hZ2Vfd2lkdGggPSBmdW5jdGlvbihpbWFnZSl7XG4gIGlmKGltYWdlLmlzTG9hZGVkKXtcbiAgICB2YXIgJGltZyA9ICQoaW1hZ2UuaW1nKTtcbiAgICB2YXIgJHBhcmVudCA9ICRpbWcuY2xvc2VzdCh0aGlzLnBhcmVudF9lbGUpO1xuICAgIHRoaXMuY2Fyb3VzZWxfd2lkdGggKz0gdGhpcy5faW1hZ2VfcGFyZW50c193aWR0aCgkcGFyZW50KTtcbiAgfSBlbHNlIHtcbiAgICAkKGltYWdlLmltZykuaGlkZSgpO1xuICB9XG59O1xuXG5HYWxsZXJ5TG9hZGVyLnByb3RvdHlwZS5fY29sbGVjdF9mYWxsYmFja19pbWFnZV93aWR0aCA9IGZ1bmN0aW9uKCl7XG4gIGlmICh0aGlzLiRmYWxsYmFja0ltZy5sZW5ndGggPiAwKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBfdGhpcy4kZmFsbGJhY2tJbWcuZWFjaChmdW5jdGlvbiAoaSxlbGUpIHtcbiAgICAgIHZhciAkZWxlID0gJChlbGUpO1xuICAgICAgdmFyICRwYXJlbnQgPSAkZWxlLmNsb3Nlc3QoX3RoaXMucGFyZW50X2VsZSk7XG4gICAgICBfdGhpcy5jYXJvdXNlbF93aWR0aCArPSBfdGhpcy5faW1hZ2VfcGFyZW50c193aWR0aCgkcGFyZW50KTtcbiAgICB9KTtcbiAgfVxufTtcblxuR2FsbGVyeUxvYWRlci5wcm90b3R5cGUuX3JlY2FsY3VsYXRlX2Nhcm91c2VsX3dpZHRoID0gZnVuY3Rpb24oKXtcbiAgdmFyIF90aGlzID0gdGhpcztcbiAgX3RoaXMuJGVsZS5maW5kKCdpbWcnKS5lYWNoKGZ1bmN0aW9uIChpLCBpbWcpIHtcbiAgICB2YXIgaW1hZ2UgPSB7XG4gICAgICBpbWc6IGltZyxcbiAgICAgIGlzTG9hZGVkOiB0cnVlXG4gICAgfTtcbiAgICBfdGhpcy5fY29sbGVjdF9pbWFnZV93aWR0aChpbWFnZSk7XG4gIH0pO1xuICBfdGhpcy5fc2V0X2Nhcm91c2VsX3dpZHRoKCk7XG59O1xuXG5HYWxsZXJ5TG9hZGVyLnByb3RvdHlwZS5faW1hZ2VfcGFyZW50c193aWR0aCA9IGZ1bmN0aW9uKCRpbWFnZV9wYXJlbnQpe1xuICAvLyBwbHVzIG9uZSBiZWN1YXNlIGpzIGlzIHJvdW5kaW5nIGFjdHVhbCB3aWR0aCB3aGVyZSBhcyBicm93c2VyIGlzIG5vdFxuICByZXR1cm4gJGltYWdlX3BhcmVudC53aWR0aCgpICsgdGhpcy5fcGFkZGluZ190b19udW0oJGltYWdlX3BhcmVudCwgJ3BhZGRpbmdMZWZ0JykgKyB0aGlzLl9wYWRkaW5nX3RvX251bSgkaW1hZ2VfcGFyZW50LCAncGFkZGluZ1JpZ2h0JykgKyAxO1xufTtcblxuR2FsbGVyeUxvYWRlci5wcm90b3R5cGUuX3BhZGRpbmdfdG9fbnVtID0gZnVuY3Rpb24oJGltYWdlX3BhcmVudCwgcGFkZGluZyl7XG4gIHJldHVybiBwYXJzZUludCgkaW1hZ2VfcGFyZW50LmNzcyhwYWRkaW5nKS5yZXBsYWNlKCdweCcsICcnKSk7XG59O1xuXG5HYWxsZXJ5TG9hZGVyLnByb3RvdHlwZS5fc2V0X2Nhcm91c2VsX3dpZHRoID0gZnVuY3Rpb24oKXtcbiAgdGhpcy5fY29sbGVjdF9mYWxsYmFja19pbWFnZV93aWR0aCgpO1xuICB0aGlzLiRlbGUud2lkdGgodGhpcy5jYXJvdXNlbF93aWR0aCk7XG59O1xuXG4vKiBNYWluICovXG52YXIgR2FsbGVyeSA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICBcbiAgdGhpcy5lbGUgPSB0aGlzLm9wdGlvbnMuZ2FsbGVyeV93cmFwcGVyO1xuICB0aGlzLml0ZW1fd3JhcHBlciA9IHRoaXMub3B0aW9ucy5pdGVtX3dyYXBwZXI7XG4gIHRoaXMuY29udHJvbHNfd3JhcHBlciA9IHRoaXMub3B0aW9ucy5jb250cm9sc193cmFwcGVyO1xuICB0aGlzLmxvYWRlciA9IG5ldyBHYWxsZXJ5TG9hZGVyKHRoaXMuZWxlLCB0aGlzLm9wdGlvbnMuaXRlbV93cmFwcGVyKTtcbiAgdGhpcy5vbl9sb2FkZWQgPSBmYWxzZTtcbiAgXG4gIHRoaXMuX2luaXQoKTtcbn07XG5cbkdhbGxlcnkucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy4kZWxlLnBhcmVudCgpLmFuaW1hdGUoe29wYWNpdHk6IDB9LCAnc2xvdycpO1xuICB0aGlzLl9yZW1vdmVfZXZlbnRfaGFuZGxlcnMoKTtcbiAgdGhpcy5faW5pdCgpO1xufTtcblxuR2FsbGVyeS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpe1xuICB0aGlzLiRlbGUgPSAkKHRoaXMuZWxlKTtcblxuICBpZih0aGlzLiRlbGUubGVuZ3RoID4gMCl7XG4gICAgdGhpcy5fYWRkX2V2ZW50X2hhbmRsZXJzKCk7XG4gICAgdGhpcy5sb2FkZXIuaW5pdCgpO1xuICAgIHRoaXMuX3NldF9jdXJyZW50X2ltYWdlKCk7XG4gIH1cbn07XG5cbkdhbGxlcnkucHJvdG90eXBlLl9hZGRfZXZlbnRfaGFuZGxlcnMgPSBmdW5jdGlvbigpe1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICB0aGlzLmxvYWRlci5vbkxvYWRlZCA9IGZ1bmN0aW9uKCl7XG4gICAgX3RoaXMuJGVsZS5wYXJlbnQoKS5hbmltYXRlKHtvcGFjaXR5OiAxfSwgJ3Nsb3cnKTtcbiAgICBpZiAoX3RoaXMub25fbG9hZGVkKSBfdGhpcy5vbl9sb2FkZWQuYXBwbHkoX3RoaXMpO1xuICB9O1xuICBcbiAgJChkb2N1bWVudCkub24oJ3N3aXBlTGVmdCcsIHRoaXMuY29udHJvbHNfd3JhcHBlciwgZnVuY3Rpb24gKGUpIHtcbiAgICBfdGhpcy5fbmV4dF9pbWcoKTtcbiAgfSk7XG4gIFxuICAkKGRvY3VtZW50KS5vbignc3dpcGVSaWdodCcsIHRoaXMuY29udHJvbHNfd3JhcHBlciwgZnVuY3Rpb24gKGUpIHtcbiAgICBfdGhpcy5fcHJldl9pbWcoKTtcbiAgfSk7XG4gIFxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtZ2FsbGVyeS1kaXJlY3Rpb25dJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgJGN1cnJlbnRfdGFyZ2V0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoJGN1cnJlbnRfdGFyZ2V0LmRhdGEoJ2dhbGxlcnktZGlyZWN0aW9uJykgPT09ICdsZWZ0Jykge1xuICAgICAgX3RoaXMuX3ByZXZfaW1nKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLl9uZXh0X2ltZygpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5HYWxsZXJ5LnByb3RvdHlwZS5fcmVtb3ZlX2V2ZW50X2hhbmRsZXJzID0gZnVuY3Rpb24oKXtcbiAgdGhpcy5sb2FkZXIub25Mb2FkZWQgPSBmYWxzZTtcbiAgXG4gICQoZG9jdW1lbnQpLm9mZignc3dpcGVMZWZ0JywgdGhpcy5jb250cm9sc193cmFwcGVyKTtcbiAgJChkb2N1bWVudCkub2ZmKCdzd2lwZVJpZ2h0JywgdGhpcy5jb250cm9sc193cmFwcGVyKTtcbiAgJChkb2N1bWVudCkub2ZmKCdjbGljaycsICdbZGF0YS1nYWxsZXJ5LWRpcmVjdGlvbl0nKTtcbn07XG5cbkdhbGxlcnkucHJvdG90eXBlLl9zZXRfY3VycmVudF9pbWFnZSA9IGZ1bmN0aW9uKCl7XG4gIHZhciAkY3VycmVudCA9IHRoaXMuJGVsZS5maW5kKHRoaXMuaXRlbV93cmFwcGVyKycuaXNfY3VycmVudCcpO1xuICBpZiAoJGN1cnJlbnQubGVuZ3RoID4gMCkge1xuICAgdGhpcy4kY3VycmVudF9pbWFnZSA9ICRjdXJyZW50LmZpcnN0KCk7XG4gIH0gZWxzZSB7XG4gICB0aGlzLiRjdXJyZW50X2ltYWdlID0gdGhpcy4kZWxlLmZpbmQodGhpcy5pdGVtX3dyYXBwZXIpLmZpcnN0KCk7XG4gIH1cbiAgdGhpcy4kY3VycmVudF9pbWFnZS5hZGRDbGFzcygnaXNfY3VycmVudCcpO1xuICB0aGlzLl9jaGVja19mb3JfZW5kKCk7XG59O1xuXG5HYWxsZXJ5LnByb3RvdHlwZS5fcHJldl9pbWcgPSBmdW5jdGlvbigpe1xuICB2YXIgcHJldiA9IHRoaXMuJGN1cnJlbnRfaW1hZ2UucHJldigpO1xuICBpZiAocHJldi5sZW5ndGggPiAwKSB7XG4gICAgcHJldi5jc3MoeyBtYXJnaW5MZWZ0OiAnMCcgfSkuYWRkQ2xhc3MoJ2lzX2N1cnJlbnQnKTtcbiAgICB0aGlzLiRjdXJyZW50X2ltYWdlLnJlbW92ZUNsYXNzKCdpc19jdXJyZW50Jyk7XG4gICAgdGhpcy4kY3VycmVudF9pbWFnZSA9IHByZXY7XG4gICAgdGhpcy5fY2hlY2tfZm9yX2VuZCgpO1xuICB9XG59O1xuXG5HYWxsZXJ5LnByb3RvdHlwZS5fbmV4dF9pbWcgPSBmdW5jdGlvbigpe1xuICB2YXIgbmV4dCA9IHRoaXMuJGN1cnJlbnRfaW1hZ2UubmV4dCgpO1xuICBpZiAobmV4dC5sZW5ndGggPiAwKSB7XG4gICAgdmFyIHdpZHRoID0gdGhpcy5sb2FkZXIuX2ltYWdlX3BhcmVudHNfd2lkdGgodGhpcy4kY3VycmVudF9pbWFnZSk7XG4gICAgdGhpcy4kY3VycmVudF9pbWFnZS5jc3MoeyBtYXJnaW5MZWZ0OiAod2lkdGggKiAtMSkgfSkucmVtb3ZlQ2xhc3MoJ2lzX2N1cnJlbnQnKTtcbiAgICBuZXh0LmFkZENsYXNzKCdpc19jdXJyZW50Jyk7XG4gICAgdGhpcy4kY3VycmVudF9pbWFnZSA9IG5leHQ7XG4gICAgdGhpcy5fY2hlY2tfZm9yX2VuZCgpO1xuICB9XG59O1xuXG5HYWxsZXJ5LnByb3RvdHlwZS5fY2hlY2tfZm9yX2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgJCgnW2RhdGEtZ2FsbGVyeS1kaXJlY3Rpb25dJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gIGlmICh0aGlzLiRjdXJyZW50X2ltYWdlLnByZXYoKS5sZW5ndGggPT09IDApIHtcbiAgICAkKCdbZGF0YS1nYWxsZXJ5LWRpcmVjdGlvbj1cImxlZnRcIl0nKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgfSBlbHNlIGlmICh0aGlzLiRjdXJyZW50X2ltYWdlLm5leHQoKS5sZW5ndGggPT09IDApIHtcbiAgICAkKCdbZGF0YS1nYWxsZXJ5LWRpcmVjdGlvbj1cInJpZ2h0XCJdJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gR2FsbGVyeTsiLCJyZXF1aXJlKCcuL19wb2x5ZmlsbHMuanMnKS5nZXRDb21wdXRlZFN0eWxlKCk7XG5cbm1vZHVsZS5leHBvcnRzLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5LCc6YWZ0ZXInKS5nZXRQcm9wZXJ0eVZhbHVlKCdjb250ZW50JykucmVwbGFjZSgvWydcIl0vZywgXCJcIik7XG59OyIsInZhciBNZWdhTWVudSA9IHt9O1xudmFyIG1lbnVfc2VsZWN0b3IgPSAnW2RhdGEtbWVudT1cIm1lZ2FcIl0nO1xuXG5NZWdhTWVudS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoJChtZW51X3NlbGVjdG9yKS5sZW5ndGggPiAwKSB7XG4gICAgTWVnYU1lbnUuYWRkX2V2ZW50X2hhbmRsZXJzKCk7XG4gIH1cbn07XG5cbk1lZ2FNZW51LmFkZF9ldmVudF9oYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gSGlkZSBhbGwgb3BlbiBtZW51c1xuICAkKGRvY3VtZW50KS5vbignc2hvdy5icy5jb2xsYXBzZScsIG1lbnVfc2VsZWN0b3IrJyAuY29sbGFwc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgJChtZW51X3NlbGVjdG9yKycgLmNvbGxhcHNlLmluJykuZWFjaChmdW5jdGlvbiAoaSwgaXRlbSkge1xuICAgICAgJChpdGVtKS5jb2xsYXBzZSgnaGlkZScpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTWVnYU1lbnU7IiwidmFyIFBhc3N3b3JkUmVjb3ZlciA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5yZWNvdmVyX3N0cmluZyA9ICcjcmVjb3Zlcic7XG4gIHRoaXMuJGxpbmtzID0gJCgnbWFpbiBbaHJlZio9XCIvYWNjb3VudC9sb2dpblwiXScpO1xuICB0aGlzLiRzZWN0aW9ucyA9ICQoJ1tkYXRhLWJzaWZ5LXRvZ2dsZS1yZWNvdmVyXScpO1xuICB0aGlzLmZvcmNlID0gKCQoJ1tkYXRhLWJzaWZ5LXRvZ2dsZS1yZWNvdmVyLWZvcmNlXScpLmxlbmd0aCA+IDApO1xuICBcbiAgaWYgKHRoaXMuJHNlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICB0aGlzLl9hZGRfZXZlbnRfbGlzdGVuZXJzKCk7XG4gICAgdGhpcy50b2dnbGVfZm9ybXMoKTtcbiAgfVxufTtcblxuUGFzc3dvcmRSZWNvdmVyLnByb3RvdHlwZS50b2dnbGVfZm9ybXMgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCA9PT0gdGhpcy5yZWNvdmVyX3N0cmluZyB8fCB0aGlzLmZvcmNlKSB7XG4gICAgdGhpcy5zaG93X3JlY292ZXJfZm9ybSgpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc2hvd19sb2dpbl9mb3JtKCk7XG4gIH1cbn07XG5cblBhc3N3b3JkUmVjb3Zlci5wcm90b3R5cGUuc2hvd19yZWNvdmVyX2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG4gIHRoaXMuX2VhY2hfc2VjdGlvbihmdW5jdGlvbiAoJHNlY3Rpb24pIHtcbiAgICBfdGhpcy5fdG9nZ2xlX3NlY3Rpb24oKCRzZWN0aW9uLmRhdGEoJ2JzaWZ5LXRvZ2dsZS1yZWNvdmVyJykgPT09ICdyZWNvdmVyJyksICRzZWN0aW9uKTtcbiAgfSk7XG59O1xuXG5QYXNzd29yZFJlY292ZXIucHJvdG90eXBlLnNob3dfbG9naW5fZm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcbiAgdGhpcy5fZWFjaF9zZWN0aW9uKGZ1bmN0aW9uICgkc2VjdGlvbikge1xuICAgIF90aGlzLl90b2dnbGVfc2VjdGlvbigoJHNlY3Rpb24uZGF0YSgnYnNpZnktdG9nZ2xlLXJlY292ZXInKSAhPT0gJ3JlY292ZXInKSwgJHNlY3Rpb24pO1xuICB9KTtcbn07XG5cbi8vIFByaXZhdGVcblxuUGFzc3dvcmRSZWNvdmVyLnByb3RvdHlwZS5fYWRkX2V2ZW50X2xpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcbiAgX3RoaXMuJGxpbmtzLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIF90aGlzLl9vbl9jbGljaygkKGUuY3VycmVudFRhcmdldCkpO1xuICB9KTtcbn07XG5cblBhc3N3b3JkUmVjb3Zlci5wcm90b3R5cGUuX29uX2NsaWNrID0gZnVuY3Rpb24gKCRjdXJyZW50X3RhcmdldCkge1xuICBpZiAoJGN1cnJlbnRfdGFyZ2V0LmF0dHIoJ2hyZWYnKS5pbmRleE9mKHRoaXMucmVjb3Zlcl9zdHJpbmcpID4gLTEpIHtcbiAgICB0aGlzLnNob3dfcmVjb3Zlcl9mb3JtKCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zaG93X2xvZ2luX2Zvcm0oKTtcbiAgfVxufTtcblxuUGFzc3dvcmRSZWNvdmVyLnByb3RvdHlwZS5fZWFjaF9zZWN0aW9uID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHRoaXMuJHNlY3Rpb25zLmVhY2goZnVuY3Rpb24gKGksIHNlY3Rpb24pIHtcbiAgICB2YXIgJHNlY3Rpb24gPSAkKHNlY3Rpb24pO1xuICAgIGNhbGxiYWNrKCRzZWN0aW9uKTtcbiAgfSk7XG59O1xuXG5QYXNzd29yZFJlY292ZXIucHJvdG90eXBlLl90b2dnbGVfc2VjdGlvbiA9IGZ1bmN0aW9uIChjb25kaXRpb24sICRzZWN0aW9uKSB7XG4gIGlmIChjb25kaXRpb24pIHtcbiAgICAkc2VjdGlvbi5zaG93KCk7XG4gIH0gZWxzZSB7XG4gICAgJHNlY3Rpb24uaGlkZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhc3N3b3JkUmVjb3ZlcjsiLCIvKmpzaGludCBtdWx0aXN0cjogdHJ1ZSAqL1xuXG52YXIgSW5zdGFncmFtRmVlZCA9IGZ1bmN0aW9uIChlbGUpIHtcbiAgdGhpcy5lbGUgPSBlbGU7XG4gIHRoaXMuJGVsZSA9ICQodGhpcy5lbGUpO1xuICB0aGlzLmFwaV91cmwgPSAnaHR0cHM6Ly9hcGkuaW5zdGFncmFtLmNvbS92MSc7XG4gIFxuICB0aGlzLnJlcXVlc3RfcXVldWUgPSBbXTtcbiAgdGhpcy5yZXF1ZXN0aW5nID0gZmFsc2U7XG4gIFxuICB0aGlzLmltYWdlX2NvdW50X2RlZmF1bHQgPSAxMjtcbiAgdGhpcy5pbWFnZV9jb3VudF9idWZmZXIgPSAxMDsgLy8gYWRkIGEgZmV3IGV4dHJhIGluY2FzZSB3ZSBzb21lIGhhdmUgYmVlbiBmaWx0ZXJlZCBvdXQgYnkgaW5zdGFncmFtIG9yIHRoZSBibGFja2xpc3RcbiAgXG4gIHRoaXMuX2dldF9kYXRhKCk7XG4gIHRoaXMuX2xvYWRfZmVlZCgpO1xufTtcblxuSW5zdGFncmFtRmVlZC5wcm90b3R5cGUuX2dldF9kYXRhID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmNsaWVudF9pZCA9IHRoaXMuJGVsZS5kYXRhKCdjbGllbnQtaWQnKTtcbiAgdGhpcy5pbWFnZV9jb3VudCA9ICggdGhpcy4kZWxlLmRhdGEoJ2ltYWdlLWNvdW50JykgfHwgdGhpcy5pbWFnZV9jb3VudF9kZWZhdWx0ICk7XG4gIHRoaXMuaW1hZ2VfdG90YWwgPSB0aGlzLmltYWdlX2NvdW50ICsgdGhpcy5pbWFnZV9jb3VudF9idWZmZXI7XG4gIFxuICB0aGlzLmhhc2h0YWcgPSB0aGlzLiRlbGUuZGF0YSgnaGFzaHRhZycpO1xuICB0aGlzLnVzZXIgPSB0aGlzLiRlbGUuZGF0YSgndXNlcicpO1xuICB0aGlzLl9nZXRfdXNlcl9pZCgpO1xufTtcblxuSW5zdGFncmFtRmVlZC5wcm90b3R5cGUuX2dldF91c2VyX2lkID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy51c2VyKSB7XG4gICAgdGhpcy5yZXF1ZXN0X3F1ZXVlLnB1c2goJ3VzZXJfaWQnKTtcbiAgICB0aGlzLl9zdGFydF9yZXF1ZXN0cygpO1xuICB9XG59O1xuXG5JbnN0YWdyYW1GZWVkLnByb3RvdHlwZS5fbG9hZF9mZWVkID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcmVxdWVzdF90eXBlO1xuICBpZiAodGhpcy5oYXNodGFnICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXF1ZXN0X3R5cGUgPSAnaGFzaHRhZyc7XG4gIH0gZWxzZSBpZiAodGhpcy51c2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXF1ZXN0X3R5cGUgPSAndXNlcic7XG4gIH1cbiAgdGhpcy5yZXF1ZXN0X3F1ZXVlLnB1c2gocmVxdWVzdF90eXBlKTtcbiAgdGhpcy5fc3RhcnRfcmVxdWVzdHMoKTtcbn07XG5cbkluc3RhZ3JhbUZlZWQucHJvdG90eXBlLl9idWlsZF9yZXF1ZXN0ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgaWYgKHRoaXMuY2xpZW50X2lkID09PSBudWxsKSB0aHJvdyAnW0VSUk9SXSBJbnN0YWdyYW06IFlvdSBtdXN0IHByb3ZpZGUgYSBjbGllbnQgaWQnO1xuICB2YXIgcmVxdWVzdCA9IHt9O1xuICByZXF1ZXN0LmRhdGEgPSB7XG4gICAgY2xpZW50X2lkOiB0aGlzLmNsaWVudF9pZFxuICB9O1xuICBcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAndXNlcl9pZCc6XG4gICAgICByZXF1ZXN0LnVybCA9IHRoaXMuYXBpX3VybCArICcvdXNlcnMvc2VhcmNoP3E9JyArIHRoaXMudXNlcjtcbiAgICAgIHJlcXVlc3QuY2FsbGJhY2sgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy51c2VyX2lkID0gcmVzcG9uc2UuZGF0YVswXS5pZDtcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBcbiAgICBjYXNlICd1c2VyJzpcbiAgICAgIHJlcXVlc3QudXJsID0gdGhpcy5hcGlfdXJsICsgJy91c2Vycy8nICsgdGhpcy51c2VyX2lkICsgJy9tZWRpYS9yZWNlbnQnO1xuICAgICAgcmVxdWVzdC5kYXRhID0gJC5leHRlbmQocmVxdWVzdC5kYXRhLCB7XG4gICAgICAgIGNvdW50OiB0aGlzLmltYWdlX3RvdGFsXG4gICAgICB9KTtcbiAgICAgIHJlcXVlc3QuY2FsbGJhY2sgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5fYnVpbGRfZmVlZChyZXNwb25zZS5kYXRhKTtcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBcbiAgICBjYXNlICdoYXNodGFnJzpcbiAgICAgIHJlcXVlc3QudXJsID0gdGhpcy5hcGlfdXJsICsgJy90YWdzLycgKyB0aGlzLmhhc2h0YWcgKyAnL21lZGlhL3JlY2VudCc7XG4gICAgICByZXF1ZXN0LmRhdGEgPSAkLmV4dGVuZChyZXF1ZXN0LmRhdGEsIHtcbiAgICAgICAgY291bnQ6IHRoaXMuaW1hZ2VfdG90YWxcbiAgICAgIH0pO1xuICAgICAgcmVxdWVzdC5jYWxsYmFjayA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB0aGlzLl9idWlsZF9mZWVkKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIFxuICByZXR1cm4gcmVxdWVzdDtcbn07XG5cbkluc3RhZ3JhbUZlZWQucHJvdG90eXBlLl9zdGFydF9yZXF1ZXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLnJlcXVlc3RpbmcpIHtcbiAgICB0aGlzLnJlcXVlc3RpbmcgPSB0cnVlO1xuICAgIHRoaXMuX3JlcXVlc3QoKTtcbiAgfVxufTtcblxuSW5zdGFncmFtRmVlZC5wcm90b3R5cGUuX3JlcXVlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnJlcXVlc3RfcXVldWUubGVuZ3RoID4gMCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHJlcXVlc3RfdHlwZSA9IHRoaXMucmVxdWVzdF9xdWV1ZS5zaGlmdCgpO1xuICAgIHZhciByZXF1ZXN0ID0gdGhpcy5fYnVpbGRfcmVxdWVzdChyZXF1ZXN0X3R5cGUpO1xuICAgIFxuICAgICQuYWpheCh7XG4gICAgICBkYXRhVHlwZTogXCJqc29ucFwiLFxuICAgICAgdXJsOiByZXF1ZXN0LnVybCxcbiAgICAgIGRhdGE6IHJlcXVlc3QuZGF0YVxuICAgIH0pXG4gICAgLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXF1ZXN0LmNhbGxiYWNrLmFwcGx5KF90aGlzLCBbcmVzcG9uc2VdKTtcbiAgICAgIF90aGlzLl9yZXF1ZXN0KCk7XG4gICAgfSlcbiAgICAuZmFpbChmdW5jdGlvbiAoYSxiLGMpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdmYWlsJywgYSwgYiwgYyk7XG4gICAgfSk7XG4gICAgXG4gIH0gZWxzZSB7XG4gICAgdGhpcy5yZXF1ZXN0aW5nID0gZmFsc2U7XG4gIH1cbn07XG5cbkluc3RhZ3JhbUZlZWQucHJvdG90eXBlLl9idWlsZF9mZWVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIG1hcmt1cCxcbiAgICBmaWx0ZXJlZF9kYXRhID0gdGhpcy5fZmlsdGVyX2RhdGEoZGF0YSk7XG4gICAgXG4gIGlmIChmaWx0ZXJlZF9kYXRhLmxlbmd0aCA+IDApIHtcbiAgICBtYXJrdXAgPSB0aGlzLl9idWlsZF9mZWVkX21hcmt1cChmaWx0ZXJlZF9kYXRhKTtcbiAgICB0aGlzLiRlbGUuYWRkQ2xhc3MoJ2dyb3VwJykuYXR0cignZGF0YS1ncm91cC1zaXplJywgZmlsdGVyZWRfZGF0YS5sZW5ndGgpO1xuICB9IGVsc2Uge1xuICAgIG1hcmt1cCA9IHRoaXMuX2J1aWxkX2Vycm9yX21hcmt1cCgpO1xuICB9XG4gIFxuICB0aGlzLiRlbGUuYXBwZW5kKG1hcmt1cCk7XG59O1xuXG5JbnN0YWdyYW1GZWVkLnByb3RvdHlwZS5fZmlsdGVyX2RhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAvKiBUT0RPOiByZW1vdmUgYmxhY2tsaXN0ZWQgaW1hZ2VzICovXG4gIHJldHVybiBkYXRhO1xufTtcblxuSW5zdGFncmFtRmVlZC5wcm90b3R5cGUuX2J1aWxkX2ZlZWRfbWFya3VwID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIG1hcmt1cCA9ICcnO1xuICB2YXIgY291bnQgPSAoZGF0YS5sZW5ndGggPCB0aGlzLmltYWdlX2NvdW50KT8gZGF0YS5sZW5ndGggOiB0aGlzLmltYWdlX2NvdW50O1xuICBcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBkYXRhW2ldO1xuICAgIGlmIChpdGVtKSB7XG4gICAgICBtYXJrdXAgKz0gdGhpcy5fYnVpbGRfaXRlbV9tYXJrdXAoaXRlbSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXJrdXA7XG59O1xuICBcbkluc3RhZ3JhbUZlZWQucHJvdG90eXBlLl9idWlsZF9pdGVtX21hcmt1cCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHJldHVybiAnPGRpdiBjbGFzcz1cImdyb3VwLWl0ZW0td3JhcFwiPlxcXG4gICAgPGZpZ3VyZSBjbGFzcz1cImdyb3VwLWl0ZW0gdGh1bWJuYWlsXCI+XFxcbiAgICAgIDxhIGhyZWY9XCInKyBkYXRhLmxpbmsgKydcIj5cXFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtaXRlbS1pbWFnZVwiPlxcXG4gICAgICAgICAgPGltZyBzcmM9XCInICsgZGF0YS5pbWFnZXMuc3RhbmRhcmRfcmVzb2x1dGlvbi51cmwgKyAnXCIgYWx0PVwiJyArIGRhdGEuY2FwdGlvbi50ZXh0ICsgJ1wiPlxcXG4gICAgICAgIDwvZGl2PlxcXG4gICAgICAgIDxmaWdjYXB0aW9uIGNsYXNzPVwiZ3JvdXAtaXRlbS1kZXRhaWxzIGNhcHRpb25cIj5cXFxuICAgICAgICAgIDxwPjxzcGFuIGNsYXNzPVwidXNlclwiPicgKyBkYXRhLmNhcHRpb24uZnJvbS51c2VybmFtZSArICc8L3NwYW4+ICcgKyBkYXRhLmNhcHRpb24udGV4dCArICc8L3A+XFxcbiAgICAgICAgPC9maWdjYXB0aW9uPlxcXG4gICAgICA8L2E+XFxcbiAgICA8L2ZpZ3VyZT5cXFxuICA8L2Rpdj4nO1xufTtcblxuSW5zdGFncmFtRmVlZC5wcm90b3R5cGUuX2J1aWxkX2Vycm9yX21hcmt1cCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHJldHVybiAnPHA+JyArIHRoaXMuJGVsZS5kYXRhKCdlbXB0eS1tZXNzYWdlJykgKyAnPC9wPic7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEluc3RhZ3JhbUZlZWQ7IiwidmFyIEluc3RhZ3JhbSA9IHJlcXVpcmUoJy4vYnNpZnkuc29jaWFsX2ZlZWRfaW5zdGFncmFtLmpzJyk7XG5cbnZhciBTb2NpYWxGZWVkcyA9IHt9O1xuXG5Tb2NpYWxGZWVkcy5pbml0ID0gZnVuY3Rpb24gKCkge1xuICBTb2NpYWxGZWVkcy5pbnN0YWdyYW0oKTtcbn07XG5cblNvY2lhbEZlZWRzLmluc3RhZ3JhbSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGVsZXMgPSBTb2NpYWxGZWVkcy5fZ2V0X2VsZW1lbnRzKCdpbnN0YWdyYW0nKTtcbiAgaWYgKGVsZXMubGVuZ3RoID4gMCkge1xuICAgIGVsZXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBuZXcgSW5zdGFncmFtKHRoaXMpO1xuICAgIH0pO1xuICB9XG59O1xuXG5Tb2NpYWxGZWVkcy5fZ2V0X2VsZW1lbnRzID0gZnVuY3Rpb24gKHNlcnZpY2UpIHtcbiAgdmFyIGVsZV9zZWxlY3RvciA9ICdbZGF0YS1zb2NpYWwtZmVlZD1cIicrc2VydmljZSsnXCJdJztcbiAgcmV0dXJuICQoZWxlX3NlbGVjdG9yKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU29jaWFsRmVlZHM7IiwicmVxdWlyZSgndW5pZm9ybVRodW1ibmFpbHMnKTtcbnJlcXVpcmUoJ2pxdWVyeS1vcmRlcmx5Jyk7XG5cbnZhciBUaHVtYm5haWxzID0ge307XG5cblRodW1ibmFpbHMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKEJzaWZ5LnRodW1ibmFpbF9zZXR0aW5ncy5jb25zdHJhaW5faW1hZ2VzKSB7XG4gICAgXG4gICAgdmFyIG9wdHMgPSB7fTtcbiAgICBvcHRzLmZpdCA9IChCc2lmeS50aHVtYm5haWxfc2V0dGluZ3MuY3JvcF9pbWFnZXMpPyAnY3JvcCcgOiAnc2NhbGUnO1xuICAgIG9wdHMuYWxpZ24gPSBCc2lmeS50aHVtYm5haWxfc2V0dGluZ3MuaW1hZ2VfYWxpZ25tZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHJhdGlvID0gQnNpZnkudGh1bWJuYWlsX3NldHRpbmdzLmltYWdlX3JhdGlvLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHJhdGlvID09PSAnc3F1YXJlJyB8fCByYXRpbyA9PT0gJ2xhbmRzY2FwZScgfHwgcmF0aW8gPT09ICdwb3J0cmFpdCcpIHtcbiAgICAgIG9wdHMuZm9ybWF0ID0gcmF0aW87XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMucmF0aW8gPSByYXRpbztcbiAgICB9XG4gICAgXG4gICAgdmFyICRpbWdfd3JhcHBlcnMgPSAkKEJzaWZ5LnRodW1ibmFpbF9zZWxlY3RvcnMuaW1hZ2Vfd3JhcHBlcik7XG4gICAgXG4gICAgaWYgKCRpbWdfd3JhcHBlcnMubGVuZ3RoID4gMCkge1xuICAgICAgJGltZ193cmFwcGVycy51bmlmb3JtX3RodW1ibmFpbHMob3B0cykub24oJ3V0X2NvbXBsZXRlJywgZnVuY3Rpb24oKXtcbiAgICAgICAgVGh1bWJuYWlscy5vcmRlcmx5KCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8ganVzdCB1c2Ugb3JkZXJseVxuICAgICAgVGh1bWJuYWlscy5vcmRlcmx5KCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGp1c3QgdXNlIG9yZGVybHlcbiAgICBUaHVtYm5haWxzLm9yZGVybHkoKTtcbiAgfVxufTtcblxuVGh1bWJuYWlscy5vcmRlcmx5ID0gZnVuY3Rpb24gKCkge1xuICAkKEJzaWZ5LnRodW1ibmFpbF9zZWxlY3RvcnMuZGV0YWlsc193cmFwcGVyKS5vcmRlcmx5KHsgbWV0aG9kOiAnY2hpbGRyZW4nIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBUaHVtYm5haWxzOyIsInZhciBTd2lwZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy50aHJlc2hvbGQgPSA1O1xuICB0aGlzLnhEb3duID0gbnVsbDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICB0aGlzLnlEb3duID0gbnVsbDtcbiAgdGhpcy5hZGRfZXZlbnRfbGlzdGVuZXJzKCk7XG59O1xuXG5Td2lwZS5wcm90b3R5cGUuYWRkX2V2ZW50X2xpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcbiAgaWYgKEVsZW1lbnQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgX3RoaXMuaGFuZGxlVG91Y2hTdGFydChldnQpO1xuICAgIH0sIGZhbHNlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICBfdGhpcy5oYW5kbGVUb3VjaE1vdmUoZXZ0KTtcbiAgICB9LCBmYWxzZSk7XG4gIH1cbn07XG5cblN3aXBlLnByb3RvdHlwZS5oYW5kbGVUb3VjaFN0YXJ0ID0gZnVuY3Rpb24gKGV2dCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gIHRoaXMueERvd24gPSBldnQudG91Y2hlc1swXS5jbGllbnRYOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gIHRoaXMueURvd24gPSBldnQudG91Y2hlc1swXS5jbGllbnRZOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG59OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuXG5Td2lwZS5wcm90b3R5cGUuaGFuZGxlVG91Y2hNb3ZlID0gZnVuY3Rpb24gKGV2dCkge1xuICBpZiAoICEgdGhpcy54RG93biB8fCAhIHRoaXMueURvd24gKSByZXR1cm47XG4gIFxuICB2YXIgY3VycmVudF90YXJnZXQgPSBldnQudGFyZ2V0VG91Y2hlc1swXS50YXJnZXQ7XG4gIFxuICB2YXIgeFVwID0gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgdmFyIHlVcCA9IGV2dC50b3VjaGVzWzBdLmNsaWVudFk7XG4gIFxuICB2YXIgeERpZmYgPSB0aGlzLnhEb3duIC0geFVwO1xuICB2YXIgeURpZmYgPSB0aGlzLnlEb3duIC0geVVwO1xuICBcbiAgaWYgKCBNYXRoLmFicyggeERpZmYgKSA+IE1hdGguYWJzKCB5RGlmZiApICkge1xuICAgIGlmICggeERpZmYgPiAwICkge1xuICAgICAgaWYgKHhEaWZmID4gdGhpcy50aHJlc2hvbGQpIHtcbiAgICAgICAgJChjdXJyZW50X3RhcmdldCkudHJpZ2dlcignc3dpcGVMZWZ0Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh4RGlmZiAqIC0xID4gdGhpcy50aHJlc2hvbGQpIHtcbiAgICAgICAgJChjdXJyZW50X3RhcmdldCkudHJpZ2dlcignc3dpcGVSaWdodCcpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoIHlEaWZmID4gMCApIHtcbiAgICAgIGlmICh5RGlmZiA+IHRoaXMudGhyZXNob2xkKSB7XG4gICAgICAgICQoY3VycmVudF90YXJnZXQpLnRyaWdnZXIoJ3N3aXBlVXAnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHlEaWZmICogLTEgPiB0aGlzLnRocmVzaG9sZCkge1xuICAgICAgICAkKGN1cnJlbnRfdGFyZ2V0KS50cmlnZ2VyKCdzd2lwZURvd24nKTtcbiAgICAgIH1cbiAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgfVxuICAvKiByZXNldCB2YWx1ZXMgKi9cbiAgdGhpcy54RG93biA9IG51bGw7XG4gIHRoaXMueURvd24gPSBudWxsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxufTtcblxubmV3IFN3aXBlKCk7IiwidmFyIFZhcmlhbnRPcHRpb25Td2l0Y2hlciA9IHt9O1xuXG4vLyBTd2l0Y2ggdGhlIHZhcmlhbnQgaWYgdGhlIGdhbGxlcnkgdGh1bWIgaXMgbGlua2VkIHRvIG9uZVxuVmFyaWFudE9wdGlvblN3aXRjaGVyLmltYWdlX3ZhcmlhbnRfc3dpdGNoZXIgPSBmdW5jdGlvbiAoKSB7XG4gIFxuICB2YXIgJHByb2R1Y3Rfc2VsZWN0b3IgPSAkKEJzaWZ5LnNlbGVjdG9ycy5wcm9kdWN0LnNlbGVjdF9zZWxlY3Rvcik7XG4gIFxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtdmFyaWFudC1pZF0nLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgJGN1cnJlbnRfdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIC8vIHVwZGF0ZSB0aGUgcHJvZHVjdCBzZWxlY3RvciB3aXRoIHRoZSBuZXcgdmFyaWFudCBpZFxuICAgICRwcm9kdWN0X3NlbGVjdG9yLnZhbCgkY3VycmVudF90YXJnZXQuZGF0YSgndmFyaWFudC1pZCcpKTtcbiAgICAvLyB1cGRhdGUgdGhlIG9wdGlvbiBzZWxlY3RvcnNcbiAgICBWYXJpYW50T3B0aW9uU3dpdGNoZXIudXBkYXRlX3Byb2R1Y3Rfc2VsZWN0b3Jfb3B0aW9ucygkcHJvZHVjdF9zZWxlY3Rvcik7XG4gIH0pO1xufTtcblxuLy8gTWFrZSB0aGUgb3JpZ2luYWwgdmFyaWFudCBzZWxlY3RvciB1cGRhdGUgdGhlIGdlbmVyYXRlZCBvcHRpb24gc2VsZWN0b3JzXG4vLyB3ZSBhcmUgbm90IGRvaW5nIHRoaXMgb24gYSB0cmlnZ2VyIGV2ZW50IGJlY2F1c2UgaWYgd2UgZGlkIHdlJ2QgZW5kIHVwIGluIHJlY3Vyc2l2ZSBoZWxsXG5WYXJpYW50T3B0aW9uU3dpdGNoZXIudXBkYXRlX3Byb2R1Y3Rfc2VsZWN0b3Jfb3B0aW9ucyA9IGZ1bmN0aW9uICgkcHJvZHVjdF9zZWxlY3Rvcikge1xuICBcbiAgLy8gZ2V0IHRoZSBzZWxlY3RlZCB2YXJpYW50IG9iamVjdFxuICB2YXIgdmFyaWFudF9pZCA9ICRwcm9kdWN0X3NlbGVjdG9yLnZhbCgpO1xuICB2YXIgdmFyaWFudCA9IEJzaWZ5LmdldF92YXJpYW50X2J5X2lkKHZhcmlhbnRfaWQpO1xuICBcbiAgaWYgKHZhcmlhbnQpIHtcbiAgICAvLyB1cGRhdGUgZWFjaCBvcHRpb24gc2VsZWN0b3JcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJzaWZ5LnByb2R1Y3Qub3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG9wdGlvbiA9ICdvcHRpb24nKyhpKzEpO1xuICAgICAgdmFyIHZhbHVlID0gdmFyaWFudFtvcHRpb25dO1xuICAgICAgJCgnLnNpbmdsZS1vcHRpb24tc2VsZWN0b3I6ZXEoJytpKycpJykudmFsKHZhbHVlKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVmFyaWFudE9wdGlvblN3aXRjaGVyOyJdfQ==
