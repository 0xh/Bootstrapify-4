/* Functions */

@function button-text-color( $colour, $strength: 100% ) {
  @return if( lightness( $colour ) > 80%, darken( $colour, $strength ), lighten( $colour, $strength ) );
}

@function border-color( $colour ) {
  @return if( $colour != transparent, darken( $colour, 5% ), transparent );
}

@mixin adaptive-columns {
  /*
    Display cols based on the amount of content in them:
      1 item shows 1x12 col
      2 items shows 2x6 cols
      3 items shows 3x4 cols
      4 or more items shows 4x3 cols
  */
  @include make-xs-column(12);
  @include make-sm-column(6);
  @include make-md-column(3);
  
  [data-group-size="0"] &,
  [data-products-size="0"] &,
  [data-collections-size="0"] & {
    display: none;
  }

  @for $i from 1 through 3 {
    [data-group-size="#{$i}"] &,
    [data-products-size="#{$i}"] &,
    [data-collections-size="#{$i}"] & {
      @include make-sm-column(12 / $i);
      @include make-md-column(12 / $i);
    }
  }
}

@mixin hover-captions {
  .group-item {
    position: relative;
  }
  .group-item-details {
    overflow: hidden;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    background-color: rgba(255,255,255,0.8);
    transition: opacity .3s;
  }
  .group-item a:hover .group-item-details {
    opacity: 1;
  }
}