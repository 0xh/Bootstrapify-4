var CartJS=CartJS||!1;if(Bsify.init_cart=function(){CartJS?CartJS.init(Bsify.cart,Bsify.formats):setTimeout(function(){Bsify.init_cart()},10)},Bsify.init_cart(),void 0!==Bsify.product_form_id&&Bsify.ajax_add_to_cart){var item_count=0,product_form_id="#"+Bsify.product_form_id,$product_form_ele=$(document.getElementById(Bsify.product_form_id)),$product_form_button=$product_form_ele.find("input[type=submit]"),$product_form_message_ele=$(document.getElementById(Bsify.product_form_message_id)),$cart_display_ele=$(Bsify.cart_display_item),form_values=function(t){for(var o={},e=0;e<t.length;e++){var i=t[e];o[i.name]=i.value}return o};$(document).on("submit",product_form_id,function(t){t.preventDefault();var o=$(t.currentTarget),e=form_values(o.serializeArray());CartJS.addItem(e.id,e.quantity)}),$(document).on("cart.requestStarted",function(){$product_form_button.val(Bsify.adding_to_cart_button_text)}),$(document).on("cart.requestComplete",function(t,o){item_count++,$product_form_button.val(Bsify.added_to_cart_button_text);var e=Bsify.after_product_added_message_html.replace("[item_title]","item").replace("[collection_url]",Bsify.after_product_added_message_collection_url);$product_form_message_ele.removeClass("hidden").html('<div class="note success item'+item_count+'">'+e+"</div>"),setTimeout(function(){$product_form_message_ele.find(".item"+item_count).fadeOut(function(){$(this).remove()})},Bsify.add_to_cart_message_timeout);var i=Shopify.formatMoney(o.total_price,Bsify.formats.moneyFormat),r=Shopify.formatMoney(o.total_price,Bsify.formats.moneyWithCurrencyFormat),a=Bsify.cart_display_text.replace("[item_count]",o.item_count).replace("[cart_total_price]",i).replace("[cart_total_price_with_currency]",r);console.log($cart_display_ele,a),$cart_display_ele.html(a)})}Bsify.cart_has_variant=function(t){var o=!1;if(CartJS)for(var e=0;e<CartJS.cart.items.length;e++){var i=CartJS.cart.items[e];i.variant_id===t&&(o=!0)}return o},Bsify.preload_product_thumbs=function(){var t=$("[data-gallery-main]"),o=$(t.data("gallery-main"))[0],e=Shopify.Image.imageSize(o.src);t.length>0&&t.each(function(){var t=new Image,o=$(this).attr("href"),i=Shopify.Image.getSizedImageUrl(o,e);t.src=i})},Bsify.image_swticher=function(){$(document).on("click","[data-gallery-main]",function(t){t.preventDefault();var o=$(t.currentTarget),e=$(o.data("gallery-main"))[0],i=o.attr("href");Bsify.switch_image(e,i)})},Bsify.switch_image=function(t,o){if(t&&o){var e=Shopify.Image.imageSize(t.src),i=Shopify.Image.getSizedImageUrl(o,e);t.src!==i&&(t.src=i)}},void 0!==Bsify.product&&(Bsify.preload_product_thumbs(),Bsify.image_swticher());var Shopify=Shopify||{};Shopify.optionsMap={},Shopify.updateOptionsInSelector=function(t){var o,e;switch(t){case 0:o="root",e=jQuery(".single-option-selector:eq(0)");break;case 1:o=jQuery(".single-option-selector:eq(0)").val(),e=jQuery(".single-option-selector:eq(1)");break;case 2:o=jQuery(".single-option-selector:eq(0)").val(),o+=" / "+jQuery(".single-option-selector:eq(1)").val(),e=jQuery(".single-option-selector:eq(2)")}var i=e.val();e.empty();var r=Shopify.optionsMap[o];if(void 0!==r){for(var a=0;a<r.length;a++){var n=r[a],s=jQuery("<option></option>").val(n).html(n);e.append(s)}jQuery('.swatch[data-option-index="'+t+'"] .swatch-element').each(function(){-1!==jQuery.inArray($(this).attr("data-value"),r)?$(this).removeClass("soldout").show().find(":radio").removeAttr("disabled","disabled").removeAttr("checked"):$(this).addClass("soldout").hide().find(":radio").removeAttr("checked").attr("disabled","disabled")}),-1!==jQuery.inArray(i,r)&&e.val(i),e.trigger("change")}},Shopify.linkOptionSelectors=function(t){for(var o=0;o<t.variants.length;o++){var e=t.variants[o];if(e.available){var i;Shopify.optionsMap.root=Shopify.optionsMap.root||[],Shopify.optionsMap.root.push(e.option1),Shopify.optionsMap.root=Shopify.uniq(Shopify.optionsMap.root),t.options.length>1&&(i=e.option1,Shopify.optionsMap[i]=Shopify.optionsMap[i]||[],Shopify.optionsMap[i].push(e.option2),Shopify.optionsMap[i]=Shopify.uniq(Shopify.optionsMap[i])),3===t.options.length&&(i=e.option1+" / "+e.option2,Shopify.optionsMap[i]=Shopify.optionsMap[i]||[],Shopify.optionsMap[i].push(e.option3),Shopify.optionsMap[i]=Shopify.uniq(Shopify.optionsMap[i]))}}Shopify.updateOptionsInSelector(0),t.options.length>1&&Shopify.updateOptionsInSelector(1),3===t.options.length&&Shopify.updateOptionsInSelector(2),jQuery(".single-option-selector:eq(0)").change(function(){return Shopify.updateOptionsInSelector(1),3===t.options.length&&Shopify.updateOptionsInSelector(2),!0}),jQuery(".single-option-selector:eq(1)").change(function(){return 3===t.options.length&&Shopify.updateOptionsInSelector(2),!0})},Bsify.linked_product_options=Bsify.linked_product_options||!1,void 0!==Bsify.product&&Bsify.linked_product_options&&Bsify.product.available&&Bsify.product.options.length>1&&Shopify.linkOptionSelectors(Bsify.product),Bsify.update_product_selector_options=function(t){void 0===t&&(t=$(document.getElementById(Bsify.product_selector_id)));for(var o=parseInt(t.val()),e=Bsify.get_variant_by_id(o),i=0;i<Bsify.product.options.length;i++){var r="option"+(i+1),a=e[r];$(".single-option-selector:eq("+i+")").val(a).trigger("change")}},Bsify.get_variant_by_id=function(t){for(var o=!1,e=0;e<Bsify.product.variants.length;e++){var i=Bsify.product.variants[e];i.id===t&&(o=i)}return o},Bsify.image_variant_switcher=function(){var t=$(document.getElementById(Bsify.product_selector_id));$(document).on("click","[data-variant-id]",function(o){o.preventDefault();var e=$(o.currentTarget);t.val(e.data("variant-id")),Bsify.update_product_selector_options(t)})},void 0!==Bsify.product&&void 0!==Bsify.product_selector_id&&Bsify.image_variant_switcher();