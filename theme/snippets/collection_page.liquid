{% comment %}
  TODO: pagination
{% endcomment%}

<main role="main">
  <div class="sheet">
    <header class="sheet-header">
      <h1>{{ collection.title }}</h1>
      {% include 'collection_controls'%}
      {{ collection.description }}
    </header>
  </div>
  
  <div class="sheet {% if collection.products.size > 0 %}products-wrap{% endif %}">
  {% if collection.products.size > 0 %}
    {% include 'pagination_limit' with 'products' %}
    {% paginate collection.products by pagination_limit %}
      <section class="group products" data-products-size="{% if collection.products.size < pagination_limit %}{{ collection.products.size }}{% else %}{{ pagination_limit }}{% endif %}">
        {% for p in collection.products %}
          {% include 'product_item' %}
        {% endfor %}
        {% include 'pagination' %}
      </section>
    {% endpaginate %}
    
    {% if template contains 'lookbook' %}
      <div class="lookbook-controls">
        <a href="#" data-gallery-direction="left" data-scroll-to=""><span class="fa fa-chevron-left"></span></a>
        <a href="#" data-gallery-direction="right" data-scroll-to=""><span class="fa fa-chevron-right"></span></a>
      </div>
    {% endif %}
  {% else %}
    <section class="sheet-content">
      <div class="collection-message">
        {{ 'collections.general.empty_message_html' | t }}
      </div>
    </section>  
  {% endif %}
  </div>
</main>

{% include 'site_aside' %}