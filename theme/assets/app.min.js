(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var Bsify=require("./bsify.js"),CartJS=require("./../../bower_components/shopify-cartjs/dist/cart.js"),Lookbook=require("./bsify.lookbook_gallery.js"),App=function(){if(CartJS.init(Bsify.cart,Bsify.money_formats),Bsify.product&&(Bsify.ImageSwitcher.preload_product_thumbs(),Bsify.ImageSwitcher.image_swticher(),Bsify.VariantOptionSwitcher.image_variant_switcher(),Bsify.linked_product_options&&Bsify.product.available&&Bsify.product.options.length>1&&Bsify.LinkedProductOptions.linkOptionSelectors(Bsify.product)),Bsify.ajax_add_to_cart&&Bsify.Cart.init(),Bsify.Thumbnails.init(),Bsify.Banner.init(),Bsify.BannerVideo.init(),$(".collection-lookbook").length>0){var o=new Lookbook({gallery_wrapper:".collection-lookbook .products.group",item_wrapper:".group-item-wrap",controls_wrapper:".lookbook-controls"});o.on_loaded=function(){Bsify.Thumbnails.orderly()}}Modernizr.input.placeholder?$("html").addClass("placeholder"):$("html").addClass("no-placeholder"),Bsify.SocialFeeds.init(),new Bsify.PasswordRecover},app=new App;module.exports=app,window.CartJS=CartJS;


},{"./../../bower_components/shopify-cartjs/dist/cart.js":2,"./bsify.js":14,"./bsify.lookbook_gallery.js":16}],2:[function(require,module,exports){
(function(){var t,e,r,n,a,u,i=function(t,e){return function(){return t.apply(e,arguments)}};e=function(){function t(){this.update=i(this.update,this)}return t.prototype.update=function(t){var e,r,a;for(r in t)a=t[r],"items"!==r&&(this[r]=a);return this.items=function(){var r,a,u,i;for(u=t.items,i=[],r=0,a=u.length;a>r;r++)e=u[r],i.push(new n(e));return i}()},t}(),n=function(){function t(t){this.propertyArray=i(this.propertyArray,this),this.update=i(this.update,this),this.update(t)}return t.prototype.update=function(t){var e,n;for(e in t)n=t[e],"properties"!==e&&(this[e]=n);return this.properties=r.Utils.extend({},t.properties)},t.prototype.propertyArray=function(){var t,e,r,n;r=this.properties,n=[];for(t in r)e=r[t],n.push({name:t,value:e});return n},t}(),r={settings:{debug:!1,dataAPI:!0,requestBodyClass:null,rivetsModels:{},moneyFormat:null,moneyWithCurrencyFormat:null},cart:new e},r.init=function(t,e){return null==e&&(e={}),r.configure(e),r.Utils.log("Initialising CartJS."),r.cart.update(t),r.settings.dataAPI&&(r.Utils.log('"dataAPI" setting is true, initialising Data API.'),r.Data.init()),r.settings.requestBodyClass&&(r.Utils.log('"requestBodyClass" set, adding event listeners.'),$(document).on("cart.requestStarted",function(){return $("body").addClass(r.settings.requestBodyClass)}),$(document).on("cart.requestComplete",function(){return $("body").removeClass(r.settings.requestBodyClass)})),r.Rivets.init()},r.configure=function(t){return null==t&&(t={}),r.Utils.extend(r.settings,t)},r.Utils={log:function(){return r.Utils.console(console.log,arguments)},error:function(){return r.Utils.console(console.error,arguments)},console:function(t,e){return r.settings.debug&&"undefined"!=typeof console&&null!==console?(e=Array.prototype.slice.call(e),e.unshift("[CartJS]:"),t.apply(console,e)):void 0},wrapKeys:function(t,e,r){var n,a,u;null==e&&(e="properties"),u={};for(n in t)a=t[n],u[""+e+"["+n+"]"]=null!=r?r:a;return u},unwrapKeys:function(t,e,r){var n,a,u,i;null==e&&(e="properties"),a={};for(n in t)i=t[n],u=n.replace(""+e+"[","").replace("]",""),a[u]=null!=r?r:i;return a},extend:function(t,e){var r,n;for(r in e)n=e[r],t[r]=n;return t},clone:function(t){var e,r;if(null==t||"object"!=typeof t)return t;r=new t.constructor;for(e in t)r[e]=clone(t[e]);return r},isArray:Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},ensureArray:function(t){return r.Utils.isArray(t)?t:null!=t?[t]:[]},formatMoney:function(t,e){var r;return null!=(null!=(r=window.Shopify)?r.formatMoney:void 0)?Shopify.formatMoney(t,e):t},getSizedImageUrl:function(t,e){var r,n;return null!=(null!=(r=window.Shopify)&&null!=(n=r.Image)?n.getSizedImageUrl:void 0)?Shopify.Image.getSizedImageUrl(t,e):t}},u=[],a=!1,r.Queue={add:function(t,e,n){var i;return null==n&&(n={}),i={url:t,data:e,type:n.type||"POST",dataType:n.dataType||"json",success:r.Utils.ensureArray(n.success),error:r.Utils.ensureArray(n.error),complete:r.Utils.ensureArray(n.complete)},n.updateCart&&i.success.push(r.cart.update),u.push(i),a?void 0:(jQuery(document).trigger("cart.requestStarted",[r.cart]),r.Queue.process())},process:function(){var t;return u.length?(a=!0,t=u.shift(),t.complete=r.Queue.process,jQuery.ajax(t)):(a=!1,void jQuery(document).trigger("cart.requestComplete",[r.cart]))}},r.Core={getCart:function(t){return null==t&&(t={}),t.type="GET",t.updateCart=!0,r.Queue.add("/cart.js",{},t)},addItem:function(t,e,n,a){var u;return null==e&&(e=1),null==n&&(n={}),null==a&&(a={}),u=r.Utils.wrapKeys(n),u.id=t,u.quantity=e,r.Queue.add("/cart/add.js",u,a),r.Core.getCart()},updateItem:function(t,e,n,a){var u;return null==n&&(n={}),null==a&&(a={}),u=r.Utils.wrapKeys(n),u.line=t,null!=e&&(u.quantity=e),a.updateCart=!0,r.Queue.add("/cart/change.js",u,a)},removeItem:function(t,e){return null==e&&(e={}),r.Core.updateItem(t,0,{},e)},updateItemById:function(t,e,n,a){var u;return null==n&&(n={}),null==a&&(a={}),u=r.Utils.wrapKeys(n),u.id=t,null!=e&&(u.quantity=e),a.updateCart=!0,r.Queue.add("/cart/change.js",u,a)},updateItemQuantitiesById:function(t,e){return null==t&&(t={}),null==e&&(e={}),e.updateCart=!0,r.Queue.add("/cart/update.js",{updates:t},e)},removeItemById:function(t,e){var n;return null==e&&(e={}),n={id:t,quantity:0},e.updateCart=!0,r.Queue.add("/cart/change.js",n,e)},clear:function(t){return null==t&&(t={}),t.updateCart=!0,r.Queue.add("/cart/clear.js",{},t)},getAttribute:function(t,e){return t in r.cart.attributes?r.cart.attributes[t]:e},setAttribute:function(t,e,n){var a;return null==n&&(n={}),a={},a[t]=e,r.Core.setAttributes(a,n)},getAttributes:function(){return r.cart.attributes},setAttributes:function(t,e){return null==t&&(t={}),null==e&&(e={}),e.updateCart=!0,r.Queue.add("/cart/update.js",r.Utils.wrapKeys(t,"attributes"),e)},clearAttributes:function(t){return null==t&&(t={}),t.updateCart=!0,r.Queue.add("/cart/update.js",r.Utils.wrapKeys(r.Core.getAttributes(),"attributes",""),t)},getNote:function(){return r.cart.note},setNote:function(t,e){return null==e&&(e={}),e.updateCart=!0,r.Queue.add("/cart/update.js",{note:t},e)}},t=jQuery(document),r.Data={init:function(){return r.Data.setEventListeners("on"),r.Data.render(null,r.cart)},destroy:function(){return r.Data.setEventListeners("off")},setEventListeners:function(e){return t[e]("click","[data-cart-add]",r.Data.add),t[e]("click","[data-cart-remove]",r.Data.remove),t[e]("click","[data-cart-remove-id]",r.Data.removeById),t[e]("click","[data-cart-update]",r.Data.update),t[e]("click","[data-cart-update-id]",r.Data.updateById),t[e]("click","[data-cart-clear]",r.Data.clear),t[e]("change","[data-cart-toggle]",r.Data.toggle),t[e]("change","[data-cart-toggle-attribute]",r.Data.toggleAttribute),t[e]("submit","[data-cart-submit]",r.Data.submit),t[e]("cart.requestComplete",r.Data.render)},add:function(t){var e;return t.preventDefault(),e=jQuery(this),r.Core.addItem(e.attr("data-cart-add"),e.attr("data-cart-quantity"))},remove:function(t){var e;return t.preventDefault(),e=jQuery(this),r.Core.removeItem(e.attr("data-cart-remove"))},removeById:function(t){var e;return t.preventDefault(),e=jQuery(this),r.Core.removeItemById(e.attr("data-cart-remove-id"))},update:function(t){var e;return t.preventDefault(),e=jQuery(this),r.Core.updateItem(e.attr("data-cart-update"),e.attr("data-cart-quantity"))},updateById:function(t){var e;return t.preventDefault(),e=jQuery(this),r.Core.updateItemById(e.attr("data-cart-update-id"),e.attr("data-cart-quantity"))},clear:function(t){return t.preventDefault(),r.Core.clear()},toggle:function(t){var e,n;return e=jQuery(this),n=e.attr("data-cart-toggle"),e.is(":checked")?r.Core.addItem(n):r.Core.removeItemById(n)},toggleAttribute:function(t){var e,n;return e=jQuery(this),n=e.attr("data-cart-toggle-attribute"),r.Core.setAttribute(n,e.is(":checked")?"Yes":"")},submit:function(t){var e,n,a,u;return t.preventDefault(),e=jQuery(this).serializeArray(),n=void 0,u=void 0,a={},jQuery.each(e,function(t,e){return"id"===e.name?n=e.value:"quantity"===e.name?u=e.value:a[e.name]=e.value}),r.Core.addItem(n,u,r.Utils.unwrapKeys(a))},render:function(t,e){var n;return n={item_count:e.item_count,total_price:e.total_price,total_price_money:r.Utils.formatMoney(e.total_price,r.settings.moneyFormat),total_price_money_with_currency:r.Utils.formatMoney(e.total_price,r.settings.moneyWithCurrencyFormat)},jQuery("[data-cart-render]").each(function(){var t;return t=jQuery(this),t.text(n[t.attr("data-cart-render")])})}},"rivets"in window?(r.Rivets={views:[],init:function(){return r.Rivets.bindViews()},destroy:function(){return r.Rivets.unbindViews()},bindViews:function(){var t;return r.Utils.log("Rivets.js is present, binding views."),r.Rivets.unbindViews(),t=r.Utils.extend({cart:r.cart},r.settings.rivetsModels),jQuery("[data-cart-view]").each(function(){return r.Rivets.views.push(rivets.bind(this,t))})},unbindViews:function(){var t,e,n,a;for(a=r.Rivets.views,e=0,n=a.length;n>e;e++)t=a[e],t.unbind();return r.Rivets.views=[]}},rivets.formatters.eq=function(t,e){return t===e},rivets.formatters.lt=function(t,e){return e>t},rivets.formatters.gt=function(t,e){return t>e},rivets.formatters.not=function(t){return!t},rivets.formatters.empty=function(t){return!t.length},rivets.formatters.plus=function(t,e){return parseInt(t)+parseInt(e)},rivets.formatters.minus=function(t,e){return parseInt(t)-parseInt(e)},rivets.formatters.prepend=function(t,e){return e+t},rivets.formatters.append=function(t,e){return t+e},rivets.formatters.money=function(t){return r.Utils.formatMoney(t,r.settings.moneyFormat)},rivets.formatters.money_with_currency=function(t){return r.Utils.formatMoney(t,r.settings.moneyWithCurrencyFormat)},rivets.formatters.productImageSize=function(t,e){return r.Utils.getSizedImageUrl(t,e)}):r.Rivets={init:function(){},destroy:function(){}},r.factory=function(t){return t.init=r.init,t.configure=r.configure,t.cart=r.cart,t.settings=r.settings,t.addItem=r.Core.addItem,t.updateItem=r.Core.updateItem,t.updateItemById=r.Core.updateItemById,t.updateItemQuantitiesById=r.Core.updateItemQuantitiesById,t.removeItem=r.Core.removeItem,t.clear=r.Core.clear,t.getAttribute=r.Core.getAttribute,t.setAttribute=r.Core.setAttribute,t.getAttributes=r.Core.getAttributes,t.setAttributes=r.Core.setAttributes,t.clearAttributes=r.Core.clearAttributes,t.getNote=r.Core.getNote,t.setNote=r.Core.setNote},"object"==typeof exports?r.factory(exports):"function"==typeof define&&define.amd?define(["exports"],function(t){return r.factory(this.CartJS=t),t}):r.factory(this.CartJS={})}).call(this);


},{}],3:[function(require,module,exports){
!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return t(e,i,n)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,i){"use strict";function n(e,t){for(var i in t)e[i]=t[i];return e}function o(e){return"[object Array]"===d.call(e)}function r(e){var t=[];if(o(e))t=e;else if("number"==typeof e.length)for(var i=0,n=e.length;n>i;i++)t.push(e[i]);else t.push(e);return t}function s(e,t,i){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=n({},this.options),"function"==typeof t?i=t:n(this.options,t),i&&this.on("always",i),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var o=this;setTimeout(function(){o.check()})}function h(e){this.img=e}function f(e){this.src=e,p[e]=this}var c=e.jQuery,a=e.console,u="undefined"!=typeof a,d=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var i=this.elements[e];"IMG"===i.nodeName&&this.addImage(i);var n=i.nodeType;if(n&&(1===n||9===n||11===n))for(var o=i.querySelectorAll("img"),r=0,s=o.length;s>r;r++){var h=o[r];this.addImage(h)}}},s.prototype.addImage=function(e){var t=new h(e);this.images.push(t)},s.prototype.check=function(){function e(e,o){return t.options.debug&&u&&a.log("confirm",e,o),t.progress(e),i++,i===n&&t.complete(),!0}var t=this,i=0,n=this.images.length;if(this.hasAnyBroken=!1,!n)return void this.complete();for(var o=0;n>o;o++){var r=this.images[o];r.on("confirm",e),r.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var i=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[i](t)}})},c&&(c.fn.imagesLoaded=function(e,t){var i=new s(this,e,t);return i.jqDeferred.promise(c(this))}),h.prototype=new t,h.prototype.check=function(){var e=p[this.img.src]||new f(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,i){return t.confirm(e.isLoaded,i),!0}),e.check()},h.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var p={};return f.prototype=new t,f.prototype.check=function(){if(!this.isChecked){var e=new Image;i.bind(e,"load",this),i.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},f.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},f.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},f.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},f.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},f.prototype.unbindProxyEvents=function(e){i.unbind(e.target,"load",this),i.unbind(e.target,"error",this)},s});


},{"eventie":4,"wolfy87-eventemitter":5}],4:[function(require,module,exports){
!function(e){"use strict";function n(n){var t=e.event;return t.target=t.target||t.srcElement||n,t}var t=document.documentElement,o=function(){};t.addEventListener?o=function(e,n,t){e.addEventListener(n,t,!1)}:t.attachEvent&&(o=function(e,t,o){e[t+o]=o.handleEvent?function(){var t=n(e);o.handleEvent.call(o,t)}:function(){var t=n(e);o.call(e,t)},e.attachEvent("on"+t,e[t+o])});var c=function(){};t.removeEventListener?c=function(e,n,t){e.removeEventListener(n,t,!1)}:t.detachEvent&&(c=function(e,n,t){e.detachEvent("on"+n,e[n+t]);try{delete e[n+t]}catch(o){e[n+t]=void 0}});var i={bind:o,unbind:c};"function"==typeof define&&define.amd?define(i):"object"==typeof exports?module.exports=i:e.eventie=i}(window);


},{}],5:[function(require,module,exports){
(function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i=this,s=i.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),s="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(s?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,s=this.getListenersAsObject(e);for(i in s)s.hasOwnProperty(i)&&(r=t(s[i],n),-1!==r&&s[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)s.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?s.call(this,r,i):o.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,s,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)n=o[i][r],n.once===!0&&this.removeListener(e,n.listener),s=n.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=s,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:i.EventEmitter=e}).call(this);


},{}],6:[function(require,module,exports){
!function(n){if(!window.__orderly){window.__orderly=!0;var t=n(window);t.on("resize",function(n){t.trigger("orderly")});var r={};r.init=function(n){return this.$els=n,this.len=n.length,this},r.attach=function(){void 0===this.attached&&(this.attached=!0,t.on("orderly",m(this.handler(),100)))},r.handler=function(){var n=this;return function(){l(n),e(n)}};var e=function(n){for(var t=0;t<n.len;)t=i(n,null,0,[],t)},i=function(t,r,e,i,l){for(;l<t.len&&(r=o(t,r,l),null!==r);)e=u(t,e,l),i.push(t.$els[l]),l++;return e=c(e),a(t,n(i),e),l},o=function(n,t,r){var e=n.$els.eq(r),i=e.offset().left;return null!==t&&t>=i?null:i},u=function(n,t,r){var e=n.$els[r].getBoundingClientRect(),i=e.bottom-e.top;return Math.max(t,i)},c=function(n){return Math.round(n).toString()+"px"},a=function(t,r,e){r.each(function(t,i){n(i).css({height:e}),h(i,"resize",e,t,r.length)})},l=function(t){var r=t.$els;r.each(function(t,e){h(e,"reset","",t,r.length),n(e).css({height:""})})},h=function(t,r,e,i,o){n(t).trigger("orderly."+r,[t,e,i,o])};n.fn.orderly=function(n){return this.length>0&&f(this,n),this};var f=function(n,t){var r=t&&t.method||"register",e=d[r];e(n)},s=function(n){var t=Object.create(r).init(n);t.attach(),t.handler()()},d={};d.register=s,d.children=function(n){var t=w++;v(n,t),s(n),g(n,t),s(n)};var g=function(n,t){for(var r=n[0].children.length,e=0;r>e;e++)s(y(t,e))},v=function(t,r){t.each(function(t,e){n(e.children).each(function(t,e){n(e).attr("data-orderly",r+":"+t)})})},y=function(t,r){return n('[data-orderly="'+t+":"+r+'"]')},m=function(n,t){var r;return function(){clearTimeout(r),r=setTimeout(function(){r=null,n.apply(this,arguments)},t)}},w=0}}(jQuery);


},{}],7:[function(require,module,exports){
function uncamel(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function setUnit(e,r){return"string"!=typeof e||e.match(/^[\-0-9\.]+jQuery/)?""+e+r:e}function setFilter(e,r,t){var a=uncamel(r),o=jQuery.browser.mozilla?"":jQuery.CSS.sfx;e[o+"filter"]=e[o+"filter"]||"",t=setUnit(t>jQuery.CSS.filters[r].max?jQuery.CSS.filters[r].max:t,jQuery.CSS.filters[r].unit),e[o+"filter"]+=a+"("+t+") ",delete e[r]}var ytp=ytp||{};window.onYouTubeIframeAPIReady=function(){ytp.YTAPIReady||(ytp.YTAPIReady=!0,jQuery(document).trigger("YTAPIReady"))};var getYTPVideoID=function(e){var r,t;return e.indexOf("youtu.be")>0?(r=e.substr(e.lastIndexOf("/")+1,e.length),t=r.indexOf("?list=")>0?r.substr(r.lastIndexOf("="),r.length):null,r=t?r.substr(0,r.lastIndexOf("?")):r):e.indexOf("http")>-1?(r=e.match(/[\\?&]v=([^&#]*)/)[1],t=e.indexOf("list=")>0?e.match(/[\\?&]list=([^&#]*)/)[1]:null):(r=e.length>15?null:e,t=r?null:e),{videoID:r,playlistID:t}};!function(jQuery,ytp){jQuery.mbYTPlayer={name:"jquery.mb.YTPlayer",version:"2.9.4",build:"{{ build }}",author:"Matteo Bicocchi",apiKey:"",defaults:{containment:"body",ratio:"auto",videoURL:null,playlistURL:null,startAt:0,stopAt:0,autoPlay:!0,vol:50,addRaster:!1,opacity:1,quality:"default",mute:!1,loop:!0,showControls:!0,showAnnotations:!1,showYTLogo:!0,stopMovieOnBlur:!0,realfullscreen:!0,gaTrack:!0,optimizeDisplay:!0,onReady:function(e){}},controls:{play:"P",pause:"p",mute:"M",unmute:"A",onlyYT:"O",showSite:"R",ytLogo:"Y"},locationProtocol:"https:",buildPlayer:function(options){return this.each(function(){var YTPlayer=this,$YTPlayer=jQuery(YTPlayer);YTPlayer.loop=0,YTPlayer.opt={},YTPlayer.state={},YTPlayer.filtersEnabled=!0,YTPlayer.filters={grayscale:{value:0,unit:"%"},hue_rotate:{value:0,unit:"deg"},invert:{value:0,unit:"%"},opacity:{value:0,unit:"%"},saturate:{value:0,unit:"%"},sepia:{value:0,unit:"%"},brightness:{value:0,unit:"%"},contrast:{value:0,unit:"%"},blur:{value:0,unit:"px"}},$YTPlayer.addClass("mb_YTPlayer");var property=$YTPlayer.data("property")&&"string"==typeof $YTPlayer.data("property")?eval("("+$YTPlayer.data("property")+")"):$YTPlayer.data("property");"undefined"!=typeof property&&"undefined"!=typeof property.vol&&(property.vol=0===property.vol?property.vol=1:property.vol),jQuery.extend(YTPlayer.opt,jQuery.mbYTPlayer.defaults,options,property),YTPlayer.hasChanged||(YTPlayer.defaultOpt={},jQuery.extend(YTPlayer.defaultOpt,jQuery.mbYTPlayer.defaults,options,property)),YTPlayer.isRetina=window.retina||window.devicePixelRatio>1;var isIframe=function(){var e=!1;try{self.location.href!=top.location.href&&(e=!0)}catch(r){e=!0}return e};YTPlayer.canGoFullScreen=!(jQuery.browser.msie||jQuery.browser.opera||isIframe()),YTPlayer.canGoFullScreen||(YTPlayer.opt.realfullscreen=!1),$YTPlayer.attr("id")||$YTPlayer.attr("id","video_"+(new Date).getTime());var playerID="mbYTP_"+YTPlayer.id;YTPlayer.isAlone=!1,YTPlayer.hasFocus=!0;var videoID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).videoID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).videoID:!1,playlistID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).playlistID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).playlistID:!1;YTPlayer.videoID=videoID,YTPlayer.playlistID=playlistID,YTPlayer.opt.showAnnotations=YTPlayer.opt.showAnnotations?"0":"3";var playerVars={autoplay:0,modestbranding:1,controls:0,showinfo:0,rel:0,enablejsapi:1,version:3,playerapiid:playerID,origin:"*",allowfullscreen:!0,wmode:"transparent",iv_load_policy:YTPlayer.opt.showAnnotations};document.createElement("video").canPlayType&&jQuery.extend(playerVars,{html5:1}),jQuery.browser.msie&&jQuery.browser.version<9&&(this.opt.opacity=1);var playerBox=jQuery("<div/>").attr("id",playerID).addClass("playerBox"),overlay=jQuery("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).addClass("YTPOverlay");if(YTPlayer.isSelf="self"==YTPlayer.opt.containment,YTPlayer.defaultOpt.containment=YTPlayer.opt.containment=jQuery("self"==YTPlayer.opt.containment?this:YTPlayer.opt.containment),YTPlayer.isBackground="body"==YTPlayer.opt.containment.get(0).tagName.toLowerCase(),!YTPlayer.isBackground||!ytp.backgroundIsInited){var isPlayer=YTPlayer.opt.containment.is(jQuery(this));if(YTPlayer.canPlayOnMobile=isPlayer&&0===jQuery(this).children().length,isPlayer?YTPlayer.isPlayer=!0:$YTPlayer.hide(),jQuery.browser.mobile&&!YTPlayer.canPlayOnMobile)return void $YTPlayer.remove();var wrapper=jQuery("<div/>").addClass("mbYTP_wrapper").attr("id","wrapper_"+playerID);if(wrapper.css({position:"absolute",zIndex:0,minWidth:"100%",minHeight:"100%",left:0,top:0,overflow:"hidden",opacity:0}),playerBox.css({position:"absolute",zIndex:0,width:"100%",height:"100%",top:0,left:0,overflow:"hidden"}),wrapper.append(playerBox),YTPlayer.opt.containment.children().not("script, style").each(function(){"static"==jQuery(this).css("position")&&jQuery(this).css("position","relative")}),YTPlayer.isBackground?(jQuery("body").css({boxSizing:"border-box"}),wrapper.css({position:"fixed",top:0,left:0,zIndex:0}),$YTPlayer.hide()):"static"==YTPlayer.opt.containment.css("position")&&YTPlayer.opt.containment.css({position:"relative"}),YTPlayer.opt.containment.prepend(wrapper),YTPlayer.wrapper=wrapper,playerBox.css({opacity:1}),jQuery.browser.mobile||(playerBox.after(overlay),YTPlayer.overlay=overlay),YTPlayer.isBackground||overlay.on("mouseenter",function(){YTPlayer.controlBar&&YTPlayer.controlBar.addClass("visible")}).on("mouseleave",function(){YTPlayer.controlBar&&YTPlayer.controlBar.removeClass("visible")}),ytp.YTAPIReady)setTimeout(function(){jQuery(document).trigger("YTAPIReady")},100);else{jQuery("#YTAPI").remove();var tag=jQuery("<script></script>").attr({src:jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/iframe_api?v="+jQuery.mbYTPlayer.version,id:"YTAPI"});jQuery("head").prepend(tag)}jQuery(document).on("YTAPIReady",function(){YTPlayer.isBackground&&ytp.backgroundIsInited||YTPlayer.isInit||(YTPlayer.isBackground&&(ytp.backgroundIsInited=!0),YTPlayer.opt.autoPlay="undefined"==typeof YTPlayer.opt.autoPlay?YTPlayer.isBackground?!0:!1:YTPlayer.opt.autoPlay,YTPlayer.opt.vol=YTPlayer.opt.vol?YTPlayer.opt.vol:100,jQuery.mbYTPlayer.getDataFromAPI(YTPlayer),jQuery(YTPlayer).on("YTPChanged",function(){if(!YTPlayer.isInit){if(YTPlayer.isInit=!0,jQuery.browser.mobile&&YTPlayer.canPlayOnMobile){if(YTPlayer.opt.containment.outerWidth()>jQuery(window).width()){YTPlayer.opt.containment.css({maxWidth:"100%"});var h=.6*YTPlayer.opt.containment.outerWidth();YTPlayer.opt.containment.css({maxHeight:h})}return void new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),height:"100%",width:"100%",events:{onReady:function(e){YTPlayer.player=e.target,playerBox.css({opacity:1}),YTPlayer.wrapper.css({opacity:1})}}})}new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),playerVars:playerVars,events:{onReady:function(e){if(YTPlayer.player=e.target,!YTPlayer.isReady){YTPlayer.isReady=YTPlayer.isPlayer&&!YTPlayer.opt.autoPlay?!1:!0,YTPlayer.playerEl=YTPlayer.player.getIframe(),$YTPlayer.optimizeDisplay(),YTPlayer.videoID=videoID,jQuery(window).on("resize.YTP",function(){$YTPlayer.optimizeDisplay()}),jQuery.mbYTPlayer.checkForState(YTPlayer);var r=jQuery.Event("YTPUnstarted");r.time=YTPlayer.player.time,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(r)}},onStateChange:function(event){if("function"==typeof event.target.getPlayerState){var state=event.target.getPlayerState();if(YTPlayer.state!=state){YTPlayer.state=state;var eventType;switch(state){case-1:eventType="YTPUnstarted";break;case 0:eventType="YTPEnd";break;case 1:eventType="YTPStart",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause),"undefined"!=typeof _gaq&&eval(YTPlayer.opt.gaTrack)&&_gaq.push(["_trackEvent","YTPlayer","Play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString()]),"undefined"!=typeof ga&&eval(YTPlayer.opt.gaTrack)&&ga("send","event","YTPlayer","play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString());break;case 2:eventType="YTPPause",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 3:YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality),eventType="YTPBuffering",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 5:eventType="YTPCued"}var YTPEvent=jQuery.Event(eventType);YTPEvent.time=YTPlayer.player.time,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(YTPEvent)}}},onPlaybackQualityChange:function(e){var r=e.target.getPlaybackQuality(),t=jQuery.Event("YTPQualityChange");t.quality=r,jQuery(YTPlayer).trigger(t)},onError:function(e){150==e.data&&(console.log("Embedding this video is restricted by Youtube."),YTPlayer.isPlayList&&jQuery(YTPlayer).playNext()),2==e.data&&YTPlayer.isPlayList&&jQuery(YTPlayer).playNext(),"function"==typeof YTPlayer.opt.onError&&YTPlayer.opt.onError($YTPlayer,e)}}})}}))})}})},getDataFromAPI:function(e){if(e.videoData=jQuery.mbStorage.get("YYTPlayer_data_"+e.videoID),jQuery(e).off("YTPData.YTPlayer").on("YTPData.YTPlayer",function(){if(e.hasData&&e.isPlayer&&!e.opt.autoPlay){var r=e.videoData.thumb_max||e.videoData.thumb_high||e.videoData.thumb_medium;e.opt.containment.css({background:"rgba(0,0,0,0.5) url("+r+") center center",backgroundSize:"cover"}),e.opt.backgroundUrl=r}}),e.videoData)setTimeout(function(){e.opt.ratio="auto"==e.opt.ratio?"16/9":e.opt.ratio,e.dataReceived=!0,jQuery(e).trigger("YTPChanged");var r=jQuery.Event("YTPData");r.prop={};for(var t in e.videoData)r.prop[t]=e.videoData[t];jQuery(e).trigger(r)},500),e.hasData=!0;else if(jQuery.mbYTPlayer.apiKey)jQuery.getJSON(jQuery.mbYTPlayer.locationProtocol+"//www.googleapis.com/youtube/v3/videos?id="+e.videoID+"&key="+jQuery.mbYTPlayer.apiKey+"&part=snippet",function(r){function t(r){e.videoData={},e.videoData.id=e.videoID,e.videoData.channelTitle=r.channelTitle,e.videoData.title=r.title,e.videoData.description=r.description.length<400?r.description:r.description.substring(0,400)+" ...",e.videoData.aspectratio="auto"==e.opt.ratio?"16/9":e.opt.ratio,e.opt.ratio=e.videoData.aspectratio,e.videoData.thumb_max=r.thumbnails.maxres?r.thumbnails.maxres.url:null,e.videoData.thumb_high=r.thumbnails.high?r.thumbnails.high.url:null,e.videoData.thumb_medium=r.thumbnails.medium?r.thumbnails.medium.url:null,jQuery.mbStorage.set("YYTPlayer_data_"+e.videoID,e.videoData)}e.dataReceived=!0,jQuery(e).trigger("YTPChanged"),t(r.items[0].snippet),e.hasData=!0;var a=jQuery.Event("YTPData");a.prop={};for(var o in e.videoData)a.prop[o]=e.videoData[o];jQuery(e).trigger(a)});else{if(setTimeout(function(){jQuery(e).trigger("YTPChanged")},50),e.isPlayer&&!e.opt.autoPlay){var r=jQuery.mbYTPlayer.locationProtocol+"//i.ytimg.com/vi/"+e.videoID+"/hqdefault.jpg";e.opt.containment.css({background:"rgba(0,0,0,0.5) url("+r+") center center",backgroundSize:"cover"}),e.opt.backgroundUrl=r}e.videoData=null,e.opt.ratio="auto"==e.opt.ratio?"16/9":e.opt.ratio}e.isPlayer&&!e.opt.autoPlay&&(e.loading=jQuery("<div/>").addClass("loading").html("Loading").hide(),jQuery(e).append(e.loading),e.loading.fadeIn())},removeStoredData:function(){jQuery.mbStorage.remove()},getVideoData:function(){var e=this.get(0);return e.videoData},getVideoID:function(){var e=this.get(0);return e.videoID||!1},setVideoQuality:function(e){var r=this.get(0);jQuery.browser.chrome||r.player.setPlaybackQuality(e)},playlist:function(e,r,t){var a=this,o=a.get(0);return o.isPlayList=!0,r&&(e=jQuery.shuffle(e)),o.videoID||(o.videos=e,o.videoCounter=0,o.videoLength=e.length,jQuery(o).data("property",e[0]),jQuery(o).mb_YTPlayer()),"function"==typeof t&&jQuery(o).on("YTPChanged",function(){t(o)}),jQuery(o).on("YTPEnd",function(){jQuery(o).playNext()}),a},playNext:function(){var e=this.get(0);return e.videoCounter++,e.videoCounter>=e.videoLength&&(e.videoCounter=0),jQuery(e).changeMovie(e.videos[e.videoCounter]),this},playPrev:function(){var e=this.get(0);return e.videoCounter--,e.videoCounter<0&&(e.videoCounter=e.videoLength-1),jQuery(e).changeMovie(e.videos[e.videoCounter]),this},changeMovie:function(e){var r=this.get(0);r.opt.startAt=0,r.opt.stopAt=0,r.opt.mute=!0,r.hasData=!1,r.hasChanged=!0,e&&jQuery.extend(r.opt,r.defaultOpt,e),r.videoID=getYTPVideoID(r.opt.videoURL).videoID,jQuery(r.playerEl).CSSAnimate({opacity:0},200,function(){return jQuery(r).YTPGetPlayer().cueVideoByUrl(encodeURI(jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/v/"+r.videoID),1,r.opt.quality),jQuery.mbYTPlayer.checkForState(r),jQuery(r).optimizeDisplay(),jQuery.mbYTPlayer.getDataFromAPI(r),this})},getPlayer:function(){return jQuery(this).get(0).player},playerDestroy:function(){var e=this.get(0);ytp.YTAPIReady=!1,ytp.backgroundIsInited=!1,e.isInit=!1,e.videoID=null;var r=e.wrapper;return r.remove(),jQuery("#controlBar_"+e.id).remove(),clearInterval(e.checkForStartAt),clearInterval(e.getState),this},fullscreen:function(real){function hideMouse(){YTPlayer.overlay.css({cursor:"none"})}function RunPrefixMethod(e,r){for(var t,a,o=["webkit","moz","ms","o",""],i=0;i<o.length&&!e[t];){if(t=r,""==o[i]&&(t=t.substr(0,1).toLowerCase()+t.substr(1)),t=o[i]+t,a=typeof e[t],"undefined"!=a)return o=[o[i]],"function"==a?e[t]():e[t];i++}}function launchFullscreen(e){RunPrefixMethod(e,"RequestFullScreen")}function cancelFullscreen(){(RunPrefixMethod(document,"FullScreen")||RunPrefixMethod(document,"IsFullScreen"))&&RunPrefixMethod(document,"CancelFullScreen")}var YTPlayer=this.get(0);"undefined"==typeof real&&(real=YTPlayer.opt.realfullscreen),real=eval(real);var controls=jQuery("#controlBar_"+YTPlayer.id),fullScreenBtn=controls.find(".mb_OnlyYT"),videoWrapper=YTPlayer.isSelf?YTPlayer.opt.containment:YTPlayer.wrapper;if(real){var fullscreenchange=jQuery.browser.mozilla?"mozfullscreenchange":jQuery.browser.webkit?"webkitfullscreenchange":"fullscreenchange";jQuery(document).off(fullscreenchange).on(fullscreenchange,function(){var e=RunPrefixMethod(document,"IsFullScreen")||RunPrefixMethod(document,"FullScreen");e?(jQuery(YTPlayer).YTPSetVideoQuality("default"),jQuery(YTPlayer).trigger("YTPFullScreenStart")):(YTPlayer.isAlone=!1,fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),jQuery(YTPlayer).YTPSetVideoQuality(YTPlayer.opt.quality),videoWrapper.removeClass("fullscreen"),videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0}),YTPlayer.isBackground?jQuery("body").after(controls):YTPlayer.wrapper.before(controls),jQuery(window).resize(),jQuery(YTPlayer).trigger("YTPFullScreenEnd"))})}return YTPlayer.isAlone?(jQuery(document).off("mousemove.YTPlayer"),YTPlayer.overlay.css({cursor:"auto"}),real?cancelFullscreen():(videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0})),fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),YTPlayer.isAlone=!1):(jQuery(document).on("mousemove.YTPlayer",function(e){YTPlayer.overlay.css({cursor:"auto"}),clearTimeout(YTPlayer.hideCursor),jQuery(e.target).parents().is(".mb_YTPBar")||(YTPlayer.hideCursor=setTimeout(hideMouse,3e3))}),hideMouse(),real?(videoWrapper.css({opacity:0}),videoWrapper.addClass("fullscreen"),launchFullscreen(videoWrapper.get(0)),setTimeout(function(){videoWrapper.CSSAnimate({opacity:1},1e3),YTPlayer.wrapper.append(controls),jQuery(YTPlayer).optimizeDisplay(),YTPlayer.player.seekTo(YTPlayer.player.getCurrentTime()+.1,!0)},500)):videoWrapper.css({zIndex:1e4}).CSSAnimate({opacity:1},1e3),fullScreenBtn.html(jQuery.mbYTPlayer.controls.showSite),YTPlayer.isAlone=!0),this},toggleLoops:function(){var e=this.get(0),r=e.opt;return 1==r.loop?r.loop=0:(r.startAt?e.player.seekTo(r.startAt):e.player.playVideo(),r.loop=1),this},play:function(){var e=this.get(0);if(e.isReady){var r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPPlaypause");return t.html(jQuery.mbYTPlayer.controls.pause),e.player.playVideo(),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},2e3),jQuery(e.playerEl).CSSAnimate({opacity:1},1e3),jQuery(e).css("background-image","none"),this}},togglePlay:function(e){var r=this.get(0);return 1==r.state?this.YTPPause():this.YTPPlay(),"function"==typeof e&&e(r.state),this},stop:function(){var e=this.get(0),r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPPlaypause");return t.html(jQuery.mbYTPlayer.controls.play),e.player.stopVideo(),this},pause:function(){var e=this.get(0),r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPPlaypause");return t.html(jQuery.mbYTPlayer.controls.play),e.player.pauseVideo(),this},seekTo:function(e){var r=this.get(0);return r.player.seekTo(e,!0),this},setVolume:function(e){var r=this.get(0);return e||r.opt.vol||0!=r.player.getVolume()?!e&&r.player.getVolume()>0||e&&r.opt.vol==e?r.isMute?jQuery(r).YTPUnmute():jQuery(r).YTPMute():(r.opt.vol=e,r.player.setVolume(r.opt.vol),r.volumeBar&&r.volumeBar.length&&r.volumeBar.updateSliderVal(e)):jQuery(r).YTPUnmute(),this},mute:function(){var e=this.get(0);if(!e.isMute){e.player.mute(),e.isMute=!0,e.player.setVolume(0),e.volumeBar&&e.volumeBar.length&&e.volumeBar.width()>10&&e.volumeBar.updateSliderVal(0);var r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPMuteUnmute");t.html(jQuery.mbYTPlayer.controls.unmute),jQuery(e).addClass("isMuted"),e.volumeBar&&e.volumeBar.length&&e.volumeBar.addClass("muted");var a=jQuery.Event("YTPMuted");return a.time=e.player.time,e.canTrigger&&jQuery(e).trigger(a),this}},unmute:function(){var e=this.get(0);if(e.isMute){e.player.unMute(),e.isMute=!1,e.player.setVolume(e.opt.vol),e.volumeBar&&e.volumeBar.length&&e.volumeBar.updateSliderVal(e.opt.vol>10?e.opt.vol:10);var r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPMuteUnmute");t.html(jQuery.mbYTPlayer.controls.mute),jQuery(e).removeClass("isMuted"),e.volumeBar&&e.volumeBar.length&&e.volumeBar.removeClass("muted");var a=jQuery.Event("YTPUnmuted");return a.time=e.player.time,e.canTrigger&&jQuery(e).trigger(a),this}},applyFilter:function(e,r){var t=this.get(0);return t.filters[e].value=r,t.filtersEnabled&&this.YTPEnableFilters(),this},applyFilters:function(e){var r=this.get(0);return this.on("YTPReady",function(){for(var t in e)r.filters[t].value=e[t],jQuery(r).YTPApplyFilter(t,e[t]);jQuery(r).trigger("YTPFiltersApplied")}),this},toggleFilter:function(e,r){return this.each(function(){var t=this;t.filters[e].value?t.filters[e].value=0:t.filters[e].value=r,t.filtersEnabled&&jQuery(this).YTPEnableFilters()})},toggleFilters:function(e){return this.each(function(){var r=this;r.filtersEnabled?(jQuery(r).trigger("YTPDisableFilters"),jQuery(r).YTPDisableFilters()):(jQuery(r).YTPEnableFilters(),jQuery(r).trigger("YTPEnableFilters")),"function"==typeof e&&e(r.filtersEnabled)})},disableFilters:function(){return this.each(function(){var e=this,r=jQuery(e.playerEl);r.css("-webkit-filter",""),r.css("filter",""),e.filtersEnabled=!1})},enableFilters:function(){return this.each(function(){var e=this,r=jQuery(e.playerEl),t="";for(var a in e.filters)e.filters[a].value&&(t+=a.replace("_","-")+"("+e.filters[a].value+e.filters[a].unit+") ");r.css("-webkit-filter",t),r.css("filter",t),e.filtersEnabled=!0})},removeFilter:function(e,r){return this.each(function(){"function"==typeof e&&(r=e,e=null);var t=this;if(e)jQuery(this).YTPApplyFilter(e,0),"function"==typeof r&&r(e);else for(var a in t.filters)jQuery(this).YTPApplyFilter(a,0),"function"==typeof r&&r(a)})},manageProgress:function(){var e=this.get(0),r=jQuery("#controlBar_"+e.id),t=r.find(".mb_YTPProgress"),a=r.find(".mb_YTPLoaded"),o=r.find(".mb_YTPseekbar"),i=t.outerWidth(),l=Math.floor(e.player.getCurrentTime()),n=Math.floor(e.player.getDuration()),u=l*i/n,s=0,y=100*e.player.getVideoLoadedFraction();return a.css({left:s,width:y+"%"}),o.css({left:0,width:u}),{totalTime:n,currentTime:l}},buildControls:function(YTPlayer){var data=YTPlayer.opt;if(data.showYTLogo=data.showYTLogo||data.printUrl,!jQuery("#controlBar_"+YTPlayer.id).length){YTPlayer.controlBar=jQuery("<span/>").attr("id","controlBar_"+YTPlayer.id).addClass("mb_YTPBar").css({whiteSpace:"noWrap",position:YTPlayer.isBackground?"fixed":"absolute",zIndex:YTPlayer.isBackground?1e4:1e3}).hide();var buttonBar=jQuery("<div/>").addClass("buttonBar"),playpause=jQuery("<span>"+jQuery.mbYTPlayer.controls.play+"</span>").addClass("mb_YTPPlaypause ytpicon").click(function(){1==YTPlayer.player.getPlayerState()?jQuery(YTPlayer).YTPPause():jQuery(YTPlayer).YTPPlay()}),MuteUnmute=jQuery("<span>"+jQuery.mbYTPlayer.controls.mute+"</span>").addClass("mb_YTPMuteUnmute ytpicon").click(function(){0==YTPlayer.player.getVolume()?jQuery(YTPlayer).YTPUnmute():jQuery(YTPlayer).YTPMute()}),volumeBar=jQuery("<div/>").addClass("mb_YTPVolumeBar").css({display:"inline-block"});YTPlayer.volumeBar=volumeBar;var idx=jQuery("<span/>").addClass("mb_YTPTime"),vURL=data.videoURL?data.videoURL:"";vURL.indexOf("http")<0&&(vURL=jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/watch?v="+data.videoURL);var movieUrl=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.ytLogo).addClass("mb_YTPUrl ytpicon").attr("title","view on YouTube").on("click",function(){window.open(vURL,"viewOnYT")}),onlyVideo=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.onlyYT).addClass("mb_OnlyYT ytpicon").on("click",function(){jQuery(YTPlayer).YTPFullscreen(data.realfullscreen)}),progressBar=jQuery("<div/>").addClass("mb_YTPProgress").css("position","absolute").click(function(e){timeBar.css({width:e.clientX-timeBar.offset().left}),YTPlayer.timeW=e.clientX-timeBar.offset().left,YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0});var r=Math.floor(YTPlayer.player.getDuration());YTPlayer["goto"]=timeBar.outerWidth()*r/progressBar.outerWidth(),YTPlayer.player.seekTo(parseFloat(YTPlayer["goto"]),!0),YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0})}),loadedBar=jQuery("<div/>").addClass("mb_YTPLoaded").css("position","absolute"),timeBar=jQuery("<div/>").addClass("mb_YTPseekbar").css("position","absolute");progressBar.append(loadedBar).append(timeBar),buttonBar.append(playpause).append(MuteUnmute).append(volumeBar).append(idx),data.showYTLogo&&buttonBar.append(movieUrl),(YTPlayer.isBackground||eval(YTPlayer.opt.realfullscreen)&&!YTPlayer.isBackground)&&buttonBar.append(onlyVideo),YTPlayer.controlBar.append(buttonBar).append(progressBar),YTPlayer.isBackground?jQuery("body").after(YTPlayer.controlBar):(YTPlayer.controlBar.addClass("inlinePlayer"),YTPlayer.wrapper.before(YTPlayer.controlBar)),volumeBar.simpleSlider({initialval:YTPlayer.opt.vol,scale:100,orientation:"h",callback:function(e){0==e.value?jQuery(YTPlayer).YTPMute():jQuery(YTPlayer).YTPUnmute(),YTPlayer.player.setVolume(e.value),YTPlayer.isMute||(YTPlayer.opt.vol=e.value)}})}},checkForState:function(YTPlayer){var interval=YTPlayer.opt.showControls?100:700;return clearInterval(YTPlayer.getState),jQuery.contains(document,YTPlayer)?(jQuery.mbYTPlayer.checkForStart(YTPlayer),void(YTPlayer.getState=setInterval(function(){var prog=jQuery(YTPlayer).YTPManageProgress(),$YTPlayer=jQuery(YTPlayer),data=YTPlayer.opt,startAt=YTPlayer.opt.startAt?YTPlayer.opt.startAt:0,stopAt=YTPlayer.opt.stopAt>YTPlayer.opt.startAt?YTPlayer.opt.stopAt:0;if(stopAt=stopAt<YTPlayer.player.getDuration()?stopAt:0,YTPlayer.player.time!=prog.currentTime){var YTPEvent=jQuery.Event("YTPTime");YTPEvent.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(YTPEvent)}if(YTPlayer.player.time=prog.currentTime,0==YTPlayer.player.getVolume()?$YTPlayer.addClass("isMuted"):$YTPlayer.removeClass("isMuted"),YTPlayer.opt.showControls&&(prog.totalTime?YTPlayer.controlBar.find(".mb_YTPTime").html(jQuery.mbYTPlayer.formatTime(prog.currentTime)+" / "+jQuery.mbYTPlayer.formatTime(prog.totalTime)):YTPlayer.controlBar.find(".mb_YTPTime").html("-- : -- / -- : --")),eval(YTPlayer.opt.stopMovieOnBlur)&&(document.hasFocus()?document.hasFocus()&&!YTPlayer.hasFocus&&-1!=YTPlayer.state&&0!=YTPlayer.state&&(YTPlayer.hasFocus=!0,$YTPlayer.YTPPlay()):1==YTPlayer.state&&(YTPlayer.hasFocus=!1,$YTPlayer.YTPPause())),YTPlayer.controlBar&&YTPlayer.controlBar.outerWidth()<=400&&!YTPlayer.isCompact?(YTPlayer.controlBar.addClass("compact"),YTPlayer.isCompact=!0,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)):YTPlayer.controlBar&&YTPlayer.controlBar.outerWidth()>400&&YTPlayer.isCompact&&(YTPlayer.controlBar.removeClass("compact"),YTPlayer.isCompact=!1,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)),1==YTPlayer.player.getPlayerState()&&(parseFloat(YTPlayer.player.getDuration()-1.5)<YTPlayer.player.getCurrentTime()||stopAt>0&&parseFloat(YTPlayer.player.getCurrentTime())>stopAt)){if(YTPlayer.isEnded)return;if(YTPlayer.isEnded=!0,setTimeout(function(){YTPlayer.isEnded=!1},1e3),YTPlayer.isPlayList){clearInterval(YTPlayer.getState);var YTPEnd=jQuery.Event("YTPEnd");return YTPEnd.time=YTPlayer.player.time,void jQuery(YTPlayer).trigger(YTPEnd)}data.loop?(startAt=startAt||1,YTPlayer.player.pauseVideo(),YTPlayer.player.seekTo(startAt,!0),$YTPlayer.YTPPlay()):(YTPlayer.player.pauseVideo(),YTPlayer.wrapper.CSSAnimate({opacity:0},1e3,function(){var e=jQuery.Event("YTPEnd");e.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(e),YTPlayer.player.seekTo(startAt,!0),YTPlayer.isBackground||YTPlayer.opt.containment.css({background:"rgba(0,0,0,0.5) url("+YTPlayer.opt.backgroundUrl+") center center",backgroundSize:"cover"})}))}},interval))):(jQuery(YTPlayer).YTPPlayerDestroy(),clearInterval(YTPlayer.getState),void clearInterval(YTPlayer.checkForStartAt))},checkForStart:function(e){var r=jQuery(e);if(!jQuery.contains(document,e))return void jQuery(e).YTPPlayerDestroy();if(jQuery.browser.chrome&&(e.opt.quality="default"),e.player.pauseVideo(),jQuery(e).muteYTPVolume(),jQuery("#controlBar_"+e.id).remove(),e.opt.showControls&&jQuery.mbYTPlayer.buildControls(e),e.opt.addRaster){var t="dot"==e.opt.addRaster?"raster-dot":"raster";e.overlay.addClass(e.isRetina?t+" retina":t)}else e.overlay.removeClass(function(e,r){var t=r.split(" "),a=[];return jQuery.each(t,function(e,r){/raster.*/.test(r)&&a.push(r)}),a.push("retina"),a.join(" ")});e.checkForStartAt=setInterval(function(){jQuery(e).YTPMute();var t=e.opt.startAt?e.opt.startAt:1,a=e.player.getVideoLoadedFraction()>t/e.player.getDuration();if(e.player.getDuration()>0&&e.player.getCurrentTime()>=t&&a){clearInterval(e.checkForStartAt),e.isReady=!0,"function"==typeof e.opt.onReady&&e.opt.onReady(e);var o=jQuery.Event("YTPReady");jQuery(e).trigger(o),e.player.pauseVideo(),e.opt.mute||jQuery(e).YTPUnmute(),e.canTrigger=!0,e.opt.autoPlay?(r.YTPPlay(),r.css("background-image","none"),jQuery(e.playerEl).CSSAnimate({opacity:1},1e3),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},1e3)):(e.player.pauseVideo(),e.isPlayer||(jQuery(e.playerEl).CSSAnimate({opacity:1},1e3),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},1e3))),e.isPlayer&&!e.opt.autoPlay&&(e.loading.html("Ready"),setTimeout(function(){e.loading.fadeOut()},100)),e.controlBar&&e.controlBar.slideDown(1e3)}else t>=0&&e.player.seekTo(t,!0)},1e3)},formatTime:function(e){var r=Math.floor(e/60),t=Math.floor(e-60*r);return(9>=r?"0"+r:r)+" : "+(9>=t?"0"+t:t)}},jQuery.fn.toggleVolume=function(){var e=this.get(0);if(e)return e.player.isMuted()?(jQuery(e).YTPUnmute(),!0):(jQuery(e).YTPMute(),!1)},jQuery.fn.optimizeDisplay=function(){var e=this.get(0),r=e.opt,t=jQuery(e.playerEl),a={},o=e.wrapper;a.width=o.outerWidth(),a.height=o.outerHeight();var i=24,l=100,n={};r.optimizeDisplay?(n.width=a.width+a.width*i/100,n.height="16/9"==r.ratio?Math.ceil(9*a.width/16):Math.ceil(3*a.width/4),n.marginTop=-((n.height-a.height)/2),n.marginLeft=-(a.width*(i/2)/100),n.height<a.height&&(n.height=a.height+a.height*i/100,n.width="16/9"==r.ratio?Math.floor(16*a.height/9):Math.floor(4*a.height/3),n.marginTop=-(a.height*(i/2)/100),n.marginLeft=-((n.width-a.width)/2)),n.width+=l,n.height+=l,n.marginTop-=l/2,n.marginLeft-=l/2):(n.width="100%",n.height="100%",n.marginTop=0,n.marginLeft=0),t.css({width:n.width,height:n.height,marginTop:n.marginTop,marginLeft:n.marginLeft})},jQuery.shuffle=function(e){for(var r=e.slice(),t=r.length,a=t;a--;){var o=parseInt(Math.random()*t),i=r[a];r[a]=r[o],r[o]=i}return r},jQuery.fn.YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.YTPGetPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.YTPGetVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.YTPChangeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.YTPPlayerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.YTPPlay=jQuery.mbYTPlayer.play,jQuery.fn.YTPTogglePlay=jQuery.mbYTPlayer.togglePlay,jQuery.fn.YTPStop=jQuery.mbYTPlayer.stop,jQuery.fn.YTPPause=jQuery.mbYTPlayer.pause,jQuery.fn.YTPSeekTo=jQuery.mbYTPlayer.seekTo,jQuery.fn.YTPlaylist=jQuery.mbYTPlayer.playlist,jQuery.fn.YTPPlayNext=jQuery.mbYTPlayer.playNext,jQuery.fn.YTPPlayPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.YTPMute=jQuery.mbYTPlayer.mute,jQuery.fn.YTPUnmute=jQuery.mbYTPlayer.unmute,jQuery.fn.YTPToggleVolume=jQuery.mbYTPlayer.toggleVolume,jQuery.fn.YTPSetVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.YTPGetVideoData=jQuery.mbYTPlayer.getVideoData,jQuery.fn.YTPFullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.YTPToggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.YTPSetVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.YTPManageProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPApplyFilter=jQuery.mbYTPlayer.applyFilter,jQuery.fn.YTPApplyFilters=jQuery.mbYTPlayer.applyFilters,jQuery.fn.YTPToggleFilter=jQuery.mbYTPlayer.toggleFilter,jQuery.fn.YTPToggleFilters=jQuery.mbYTPlayer.toggleFilters,jQuery.fn.YTPRemoveFilter=jQuery.mbYTPlayer.removeFilter,jQuery.fn.YTPDisableFilters=jQuery.mbYTPlayer.disableFilters,jQuery.fn.YTPEnableFilters=jQuery.mbYTPlayer.enableFilters,jQuery.fn.mb_YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.playNext=jQuery.mbYTPlayer.playNext,jQuery.fn.playPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.changeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.getVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.getPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.playerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.fullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.buildYTPControls=jQuery.mbYTPlayer.buildControls,jQuery.fn.playYTP=jQuery.mbYTPlayer.play,jQuery.fn.toggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.stopYTP=jQuery.mbYTPlayer.stop,jQuery.fn.pauseYTP=jQuery.mbYTPlayer.pause,jQuery.fn.seekToYTP=jQuery.mbYTPlayer.seekTo,jQuery.fn.muteYTPVolume=jQuery.mbYTPlayer.mute,jQuery.fn.unmuteYTPVolume=jQuery.mbYTPlayer.unmute,jQuery.fn.setYTPVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.setVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.manageYTPProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPGetDataFromFeed=jQuery.mbYTPlayer.getVideoData}(jQuery,ytp),jQuery.support.CSStransition=function(){var e=document.body||document.documentElement,r=e.style;return void 0!==r.transition||void 0!==r.WebkitTransition||void 0!==r.MozTransition||void 0!==r.MsTransition||void 0!==r.OTransition}(),jQuery.CSS={name:"mb.CSSAnimate",author:"Matteo Bicocchi",version:"2.0.0",transitionEnd:"transitionEnd",sfx:"",filters:{blur:{min:0,max:100,unit:"px"},brightness:{min:0,max:400,unit:"%"},contrast:{min:0,max:400,unit:"%"},grayscale:{min:0,max:100,unit:"%"},hueRotate:{min:0,max:360,unit:"deg"},invert:{min:0,max:100,unit:"%"},saturate:{min:0,max:400,unit:"%"},sepia:{min:0,max:100,unit:"%"}},normalizeCss:function(e){var r=jQuery.extend(!0,{},e);jQuery.browser.webkit||jQuery.browser.opera?jQuery.CSS.sfx="-webkit-":jQuery.browser.mozilla?jQuery.CSS.sfx="-moz-":jQuery.browser.msie&&(jQuery.CSS.sfx="-ms-");for(var t in r){"transform"===t&&(r[jQuery.CSS.sfx+"transform"]=r[t],delete r[t]),"transform-origin"===t&&(r[jQuery.CSS.sfx+"transform-origin"]=e[t],delete r[t]),"filter"!==t||jQuery.browser.mozilla||(r[jQuery.CSS.sfx+"filter"]=e[t],delete r[t]),"blur"===t&&setFilter(r,"blur",e[t]),"brightness"===t&&setFilter(r,"brightness",e[t]),"contrast"===t&&setFilter(r,"contrast",e[t]),"grayscale"===t&&setFilter(r,"grayscale",e[t]),"hueRotate"===t&&setFilter(r,"hueRotate",e[t]),
"invert"===t&&setFilter(r,"invert",e[t]),"saturate"===t&&setFilter(r,"saturate",e[t]),"sepia"===t&&setFilter(r,"sepia",e[t]);var a="";"x"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" translateX("+setUnit(e[t],"px")+")",delete r[t]),"y"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" translateY("+setUnit(e[t],"px")+")",delete r[t]),"z"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" translateZ("+setUnit(e[t],"px")+")",delete r[t]),"rotate"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" rotate("+setUnit(e[t],"deg")+")",delete r[t]),"rotateX"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" rotateX("+setUnit(e[t],"deg")+")",delete r[t]),"rotateY"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" rotateY("+setUnit(e[t],"deg")+")",delete r[t]),"rotateZ"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" rotateZ("+setUnit(e[t],"deg")+")",delete r[t]),"scale"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" scale("+setUnit(e[t],"")+")",delete r[t]),"scaleX"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" scaleX("+setUnit(e[t],"")+")",delete r[t]),"scaleY"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" scaleY("+setUnit(e[t],"")+")",delete r[t]),"scaleZ"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" scaleZ("+setUnit(e[t],"")+")",delete r[t]),"skew"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" skew("+setUnit(e[t],"deg")+")",delete r[t]),"skewX"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" skewX("+setUnit(e[t],"deg")+")",delete r[t]),"skewY"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" skewY("+setUnit(e[t],"deg")+")",delete r[t]),"perspective"===t&&(a=jQuery.CSS.sfx+"transform",r[a]=r[a]||"",r[a]+=" perspective("+setUnit(e[t],"px")+")",delete r[t])}return r},getProp:function(e){var r=[];for(var t in e)r.indexOf(t)<0&&r.push(uncamel(t));return r.join(",")},animate:function(e,r,t,a,o){return this.each(function(){function i(){l.called=!0,l.CSSAIsRunning=!1,n.off(jQuery.CSS.transitionEnd+"."+l.id),clearTimeout(l.timeout),n.css(jQuery.CSS.sfx+"transition",""),"function"==typeof o&&o.apply(l),"function"==typeof l.CSSqueue&&(l.CSSqueue(),l.CSSqueue=null)}var l=this,n=jQuery(this);l.id=l.id||"CSSA_"+(new Date).getTime();var u=u||{type:"noEvent"};if(l.CSSAIsRunning&&l.eventType==u.type&&!jQuery.browser.msie&&jQuery.browser.version<=9)return void(l.CSSqueue=function(){n.CSSAnimate(e,r,t,a,o)});if(l.CSSqueue=null,l.eventType=u.type,0!==n.length&&e){if(e=jQuery.normalizeCss(e),l.CSSAIsRunning=!0,"function"==typeof r&&(o=r,r=jQuery.fx.speeds._default),"function"==typeof t&&(a=t,t=0),"string"==typeof t&&(o=t,t=0),"function"==typeof a&&(o=a,a="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof r)for(var s in jQuery.fx.speeds){if(r==s){r=jQuery.fx.speeds[s];break}r=jQuery.fx.speeds._default}if(r||(r=jQuery.fx.speeds._default),"string"==typeof o&&(a=o,o=null),!jQuery.support.CSStransition){for(var y in e){if("transform"===y&&delete e[y],"filter"===y&&delete e[y],"transform-origin"===y&&delete e[y],"auto"===e[y]&&delete e[y],"x"===y){var p=e[y],d="left";e[d]=p,delete e[y]}if("y"===y){var p=e[y],d="top";e[d]=p,delete e[y]}("-ms-transform"===y||"-ms-filter"===y)&&delete e[y]}return void n.delay(t).animate(e,r,o)}var c={"default":"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};c[a]&&(a=c[a]),n.off(jQuery.CSS.transitionEnd+"."+l.id);var f=jQuery.CSS.getProp(e),P={};jQuery.extend(P,e),P[jQuery.CSS.sfx+"transition-property"]=f,P[jQuery.CSS.sfx+"transition-duration"]=r+"ms",P[jQuery.CSS.sfx+"transition-delay"]=t+"ms",P[jQuery.CSS.sfx+"transition-timing-function"]=a,setTimeout(function(){n.one(jQuery.CSS.transitionEnd+"."+l.id,i),n.css(P)},1),l.timeout=setTimeout(function(){return l.called||!o?(l.called=!1,void(l.CSSAIsRunning=!1)):(n.css(jQuery.CSS.sfx+"transition",""),o.apply(l),l.CSSAIsRunning=!1,void("function"==typeof l.CSSqueue&&(l.CSSqueue(),l.CSSqueue=null)))},r+t+10)}})}},jQuery.fn.CSSAnimate=jQuery.CSS.animate,jQuery.normalizeCss=jQuery.CSS.normalizeCss,jQuery.fn.css3=function(e){return this.each(function(){var r=jQuery(this),t=jQuery.normalizeCss(e);r.css(t)})};var nAgt=navigator.userAgent;if(!jQuery.browser){jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.msie=!1,jQuery.browser.ua=nAgt,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var nameOffset,verOffset,ix;if(-1!=(verOffset=nAgt.indexOf("Opera")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8));else if(-1!=(verOffset=nAgt.indexOf("OPR")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+4);else if(-1!=(verOffset=nAgt.indexOf("MSIE")))jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5);else if(-1!=nAgt.indexOf("Trident")){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3,end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}else-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion}jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.isMobile=jQuery.browser.mobile,jQuery.isTablet=jQuery.browser.mobile&&jQuery(window).width()>765,jQuery.isAndroidDefault=jQuery.browser.android&&!/chrome/i.test(nAgt),!function(e){/iphone|ipod|ipad|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase());var r="ontouchstart"in window||window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture||window.DocumentTouch&&document instanceof DocumentTouch||!1;e.simpleSlider={defaults:{initialval:0,scale:100,orientation:"h",readonly:!1,callback:!1},events:{start:r?"touchstart":"mousedown",end:r?"touchend":"mouseup",move:r?"touchmove":"mousemove"},init:function(t){return this.each(function(){var a=this,o=e(a);o.addClass("simpleSlider"),a.opt={},e.extend(a.opt,e.simpleSlider.defaults,t),e.extend(a.opt,o.data());var i="h"==a.opt.orientation?"horizontal":"vertical",l=e("<div/>").addClass("level").addClass(i);o.prepend(l),a.level=l,o.css({cursor:"default"}),"auto"==a.opt.scale&&(a.opt.scale=e(a).outerWidth()),o.updateSliderVal(),a.opt.readonly||(o.on(e.simpleSlider.events.start,function(e){r&&(e=e.changedTouches[0]),a.canSlide=!0,o.updateSliderVal(e),o.css({cursor:"col-resize"}),e.preventDefault(),e.stopPropagation()}),e(document).on(e.simpleSlider.events.move,function(t){r&&(t=t.changedTouches[0]),a.canSlide&&(e(document).css({cursor:"default"}),o.updateSliderVal(t),t.preventDefault(),t.stopPropagation())}).on(e.simpleSlider.events.end,function(){e(document).css({cursor:"auto"}),a.canSlide=!1,o.css({cursor:"auto"})}))})},updateSliderVal:function(r){function t(e,r){return Math.floor(100*e/r)}var a=this,o=a.get(0);o.opt.initialval="number"==typeof o.opt.initialval?o.opt.initialval:o.opt.initialval(o);var i=e(o).outerWidth(),l=e(o).outerHeight();o.x="object"==typeof r?r.clientX+document.body.scrollLeft-a.offset().left:"number"==typeof r?r*i/o.opt.scale:o.opt.initialval*i/o.opt.scale,o.y="object"==typeof r?r.clientY+document.body.scrollTop-a.offset().top:"number"==typeof r?(o.opt.scale-o.opt.initialval-r)*l/o.opt.scale:o.opt.initialval*l/o.opt.scale,o.y=a.outerHeight()-o.y,o.scaleX=o.x*o.opt.scale/i,o.scaleY=o.y*o.opt.scale/l,o.outOfRangeX=o.scaleX>o.opt.scale?o.scaleX-o.opt.scale:o.scaleX<0?o.scaleX:0,o.outOfRangeY=o.scaleY>o.opt.scale?o.scaleY-o.opt.scale:o.scaleY<0?o.scaleY:0,o.outOfRange="h"==o.opt.orientation?o.outOfRangeX:o.outOfRangeY,o.value="undefined"!=typeof r?"h"==o.opt.orientation?o.x>=a.outerWidth()?o.opt.scale:o.x<=0?0:o.scaleX:o.y>=a.outerHeight()?o.opt.scale:o.y<=0?0:o.scaleY:"h"==o.opt.orientation?o.scaleX:o.scaleY,"h"==o.opt.orientation?o.level.width(t(o.x,i)+"%"):o.level.height(t(o.y,l)),"function"==typeof o.opt.callback&&o.opt.callback(o)}},e.fn.simpleSlider=e.simpleSlider.init,e.fn.updateSliderVal=e.simpleSlider.updateSliderVal}(jQuery),!function(e){e.mbCookie={set:function(e,r,t,a){r=JSON.stringify(r),t||(t=7),a=a?"; domain="+a:"";var o,i=new Date;i.setTime(i.getTime()+864e5*t),o="; expires="+i.toGMTString(),document.cookie=e+"="+r+o+"; path=/"+a},get:function(e){for(var r=e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var o=t[a];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(r))return JSON.parse(o.substring(r.length,o.length))}return null},remove:function(r){e.mbCookie.set(r,"",-1)}},e.mbStorage={set:function(e,r){r=JSON.stringify(r),localStorage.setItem(e,r)},get:function(e){return localStorage[e]?JSON.parse(localStorage[e]):null},remove:function(e){e?localStorage.removeItem(e):localStorage.clear()}}}(jQuery);


},{}],8:[function(require,module,exports){
var imagesLoaded=require("imagesloaded");!function(t){var i=function(t,i){this.$ele=t,this.settings=i,this.formater=new e(this.$ele,this.settings),this.fitter=new a(this.$ele,this.settings),this.imageLoaded=imagesLoaded(this.$ele),this.addEventHandlers(),this.hideImages()};i.prototype.addEventHandlers=function(){var i=this;this.imageLoaded.on("done",function(){i.formater.setImageFormat(),i.fitter.setImageFit(),i.showImages(),i.$ele.trigger("ut_imageLoaded")});var e;t(window).resize(function(){e&&clearTimeout(e),e=setTimeout(function(){i.formater.setImageFormat(),i.fitter.setImageFit()},100)})},i.prototype.hideImages=function(){this.$ele.css({opacity:0,overflow:"hidden"})},i.prototype.showImages=function(){this.$ele.fadeTo(900,1)};var e=function(t,i){this.$wrapper=t,this.settings=i,this.ratio=this.getRatio()};e.prototype.setImageFormat=function(){var t=this.$wrapper.width()/this.ratio.width,i=t*this.ratio.height;this.$wrapper.height(i)},e.prototype.getRatio=function(){var t=this._getRatioString();return this._getRatioFromString(t)},e.prototype._getRatioString=function(){switch(this.settings.format){case"square":return"1:1";case"landscape":return this.settings.landscapeRatio;case"portrait":return this.settings.portraitRatio;default:return this.settings.ratio}},e.prototype._getRatioFromString=function(t){var i=t.split(":");return{width:i[0],height:i[1]}};var a=function(t,i){this.$wrapper=t,this.$image=this.$wrapper.find("img"),this.settings=i,this.wrapperRatio,this.imageRatio,this.imageNaturalWidth,this.imageNaturalHeight};a.prototype.setImageFit=function(){switch(this._resetImageCSS(),this.settings.fit){case"crop":this._cropImage();break;case"scale":this._scaleImage()}this._alignImage()},a.prototype._cropImage=function(){this._imageRatio()>this._wrapperRatio()?this._fitHorizontal():this._fitVertical()},a.prototype._scaleImage=function(){this._imageRatio()>this._wrapperRatio()?this._fitVertical():this._fitHorizontal()},a.prototype._fitHorizontal=function(){this._getNaturalHeight(this.$image)>=this.$wrapper.height()&&this.$image.height(this.$wrapper.height())},a.prototype._fitVertical=function(){this._getNaturalWidth(this.$image)>=this.$wrapper.width()&&this.$image.width(this.$wrapper.width())},a.prototype._imageRatio=function(){return this.imageRatio=this.imageRatio||this._getNaturalWidth(this.$image)/this._getNaturalHeight(this.$image),this.imageRatio},a.prototype._wrapperRatio=function(){return this.wrapperRatio=this.wrapperRatio||this.$wrapper.width()/this.$wrapper.height(),this.wrapperRatio},a.prototype._alignImage=function(){var t={};switch(t.marginLeft=(this.$wrapper.width()-this.$image.width())/2,this.settings.align){case"top":break;case"middle":t.marginTop=(this.$wrapper.height()-this.$image.height())/2;break;case"bottom":t.marginTop=this.$wrapper.height()-this.$image.height()}this.$image.css(t)},a.prototype._getNaturalHeight=function(t){return this.imageNaturalHeight||(t.prop("naturalHeight")?this.imageNaturalHeight=t.prop("naturalHeight"):this.imageNaturalHeight=this._getNaturalSize(t).height),this.imageNaturalHeight},a.prototype._getNaturalWidth=function(t){return this.imageNaturalWidth||(t.prop("naturalWidth")?this.imageNaturalWidth=t.prop("naturalWidth"):this.imageNaturalWidth=this._getNaturalSize(t).width),this.imageNaturalWidth},a.prototype._getNaturalSize=function(t){if(t.prop("src")){var i=new Image;return i.src=t.prop("src"),{width:i.width,height:i.height}}return!1},a.prototype._resetImageCSS=function(){this.$image.css({maxWidth:"none",width:"auto",height:"auto"})};var r=0,h=function(i){r++,r===i.length&&t(i).last().trigger("ut_complete")};t.fn.uniform_thumbnails=function(e){var a=t.extend({},t.fn.uniform_thumbnails.defaults,e),r=this;return r.each(function(){var e=t(this);e.data("_uniform_thumbnails",new i(e,a)),e.on("ut_imageLoaded",function(){h(r)})})},t.fn.uniform_thumbnails.defaults={fit:"crop",ratio:"1:1",format:"ratio",align:"middle",landscapeRatio:"4:3",portraitRatio:"3:4"}}(jQuery);


},{"imagesloaded":3}],9:[function(require,module,exports){
module.exports.getComputedStyle=function(){window.getComputedStyle||(window.getComputedStyle=function(t,e){return this.el=t,this.getPropertyValue=function(e){var r=/(\-([a-z]){1})/g;return"float"==e&&(e="styleFloat"),r.test(e)&&(e=e.replace(r,function(){return arguments[2].toUpperCase()})),t.currentStyle[e]?t.currentStyle[e]:null},this})},module.exports.objectKeys=function(){Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=r.length;return function(n){if("object"!=typeof n&&("function"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var u,l,c=[];for(u in n)t.call(n,u)&&c.push(u);if(e)for(l=0;o>l;l++)t.call(n,r[l])&&c.push(r[l]);return c}}())};


},{}],10:[function(require,module,exports){
Banner={};var $banner=$("[data-banner]");Banner.init=function(){$banner.length>0&&Banner.add_event_handlers()},Banner.add_event_handlers=function(){$banner.on("slide.bs.carousel",function(n){var a=$(n.relatedTarget);$banner.attr("data-banner",a.data("slide"))}),$banner.on("slid.bs.carousel",function(){})},module.exports=Banner;


},{}],11:[function(require,module,exports){
BannerVideo={},require("jquery.mb.ytplayer");var $player=$(".banner-video-player");BannerVideo.init=function(){$player.length>0&&!Modernizr.touch?$player.YTPlayer():$player.parent().addClass("fallback-img")},module.exports=BannerVideo;


},{"jquery.mb.ytplayer":7}],12:[function(require,module,exports){
var CartJS=require("./../../bower_components/shopify-cartjs/dist/cart.js"),Cart={},message_count=0,$cart_display_ele=$("[data-cart-display]"),$cart_total_ele=$("[data-cart-total]"),$cart_form_ele=$(Bsify.selectors.cart.form_selector),$cart_message_ele=$(Bsify.selectors.cart.message_selector);if(Bsify.product)var $product_form_ele=$(Bsify.selectors.product.form_selector),$product_form_button=$product_form_ele.find("input[type=submit]"),$product_form_message_ele=$(Bsify.selectors.product.form_message_selector);Cart.init=function(){$(document).on("cart.requestComplete",function(t,e){Cart.update_cart_display(),Cart.update_cart_table()}),Bsify.product&&$(document).on("submit",Bsify.selectors.product.form_selector,function(t){t.preventDefault();var e=$(t.currentTarget);Cart.add_item_to_cart(e)}),$(document).on("click","[data-remove-item]",function(t){t.preventDefault();var e=$(t.currentTarget);Cart.remove_item_from_cart(e)})},Cart.add_item_to_cart=function(t){var e=Cart.form_values(t.serializeArray()),r={},a=Bsify.get_variant_by_id(e.id),o="Default Title"===a.title?Bsify.product.title:Bsify.product.title+Bsify.translations.product.item_title_seperator+a.title;$product_form_button.val(Bsify.translations.product.adding_to_cart_button_text),CartJS.addItem(e.id,e.quantity,r,{success:function(t,e,r){var a=Bsify.translations.product.after_product_added_message_html.replace("[item_title]",o);Cart.show_message($product_form_message_ele,"success",a),$product_form_button.val(Bsify.translations.product.added_to_cart_button_text)},error:function(t,e,r){console.log("[ERROR] - Add to cart:",t,e,r);var a=Bsify.translations.product.after_product_added_error_message_html.replace("[item_title]",o).replace("[error_message]",r);Cart.show_message($product_form_message_ele,"error",a),$product_form_button.val(Bsify.translations.product.unavailable_button_text)}})},Cart.remove_item_from_cart=function(t){var e=t.closest(Bsify.selectors.cart.item_selector),r=Cart.get_item_by_id(e.data("cart-item")),a=r.product_title;r.variant_title&&(a+=Bsify.translations.product.item_title_seperator+r.variant_title),CartJS.removeItem(t.data("remove-item"),{success:function(t,r,o){e.hide();var s=Bsify.translations.cart.remove_item_message.replace("[item_title]",a);Cart.show_message($cart_message_ele,"success",s)},error:function(t,e,r){console.log("[ERROR] - Remove item from cart:",t,e,r);var o=Bsify.translations.cart.remove_item_error_message.replace("[item_title]",a).replace("[error_message]",r);Cart.show_message($cart_message_ele,"success",o)}})},Cart.update_cart_display=function(){var t=Shopify.formatMoney(CartJS.cart.total_price,Bsify.money_formats.moneyFormat),e=Shopify.formatMoney(CartJS.cart.total_price,Bsify.money_formats.moneyWithCurrencyFormat),r=Bsify.translations.cart.cart_display_text.replace("[item_count]",CartJS.cart.item_count);r=Cart.replace_price(r,"[cart_total_price]",CartJS.cart.total_price,t),r=Cart.replace_price(r,"[cart_total_price_with_currency]",CartJS.cart.total_price,e),$cart_display_ele.html(r);var a=Bsify.translations.cart.cart_total;a=Cart.replace_price(a,"[cart_total_price]",CartJS.cart.total_price,t),a=Cart.replace_price(a,"[cart_total_price_with_currency]",CartJS.cart.total_price,e),$cart_total_ele.html(a)},Cart.replace_price=function(t,e,r,a){e=e.replace(/([\[\]])/g,"\\$1");var o=new RegExp("data-price=['\"]("+e+")['\"]"),s=new RegExp(">("+e+")<");return t.replace(o,function(t,e){return t.replace(e,r)}).replace(s,function(t,e){return t.replace(e,a)})},Cart.update_cart_table=function(){0===CartJS.cart.item_count&&($cart_form_ele.hide(),$cart_message_ele.removeClass("hidden").html(Bsify.translations.cart.empty_cart_text))},Cart.show_message=function(t,e,r){message_count++,t.removeClass("hidden").html('<div class="note '+e+" message"+message_count+'">'+r+"</div>"),Cart.remove_message(message_count)},Cart.remove_message=function(t){setTimeout(function(){$(".message"+t).fadeOut(function(){$(this).remove()})},Bsify.message_timeout)},Cart.form_values=function(t){for(var e={},r=0;r<t.length;r++){var a=t[r];e[a.name]=a.value}return e},Cart.get_item_by_id=function(t){"string"==typeof t&&(t=parseInt(t));var e;if(CartJS)for(var r=0;r<CartJS.cart.items.length;r++){var a=CartJS.cart.items[r];a.variant_id===t&&(e=a)}return e},Cart.has_variant=function(t){"string"==typeof t&&(t=parseInt(t));var e=!1;if(CartJS)for(var r=0;r<CartJS.cart.items.length;r++){var a=CartJS.cart.items[r];a.variant_id===t&&(e=!0)}return e},module.exports=Cart;


},{"./../../bower_components/shopify-cartjs/dist/cart.js":2}],13:[function(require,module,exports){
var ImageSwitcher={};ImageSwitcher.preload_product_thumbs=function(){var e=$("[data-gallery-main]");if(e.length>0){var a=$(e.data("gallery-main"))[0],i=Shopify.Image.imageSize(a.src);e.length>0&&e.each(function(){var e=new Image,a=$(this).attr("href"),r=Shopify.Image.getSizedImageUrl(a,i);e.src=r})}},ImageSwitcher.image_swticher=function(){$(document).on("click","[data-gallery-main]",function(e){e.preventDefault();var a=$(e.currentTarget),i=$(a.data("gallery-main"))[0],r=a.attr("href");ImageSwitcher.switch_image(i,r)})},ImageSwitcher.switch_image=function(e,a){if(e&&a){var i=Shopify.Image.imageSize(e.src),r=Shopify.Image.getSizedImageUrl(a,i);e.src!==r&&(e.src=r)}},module.exports=ImageSwitcher;


},{}],14:[function(require,module,exports){
var Bsify=window.Bsify||{};Bsify.get_variant_by_id=function(i){var r;"string"==typeof i&&(i=parseInt(i));for(var s=0;s<Bsify.product.variants.length;s++){var e=Bsify.product.variants[s];e.id===i&&(r=e)}return r},Bsify.Cart=require("./bsify.cart.js"),Bsify.ImageSwitcher=require("./bsify.image_switcher.js"),Bsify.VariantOptionSwitcher=require("./bsify.variant_option_switcher.js"),Bsify.LinkedProductOptions=require("./bsify.linked_product_options.js"),Bsify.Banner=require("./bsify.banner.js"),Bsify.BannerVideo=require("./bsify.banner_video.js"),Bsify.Thumbnails=require("./bsify.thumbnails.js"),Bsify.SocialFeeds=require("./bsify.social_feeds.js"),Bsify.PasswordRecover=require("./bsify.password_recover.js"),module.exports=Bsify;


},{"./bsify.banner.js":10,"./bsify.banner_video.js":11,"./bsify.cart.js":12,"./bsify.image_switcher.js":13,"./bsify.linked_product_options.js":15,"./bsify.password_recover.js":18,"./bsify.social_feeds.js":20,"./bsify.thumbnails.js":21,"./bsify.variant_option_switcher.js":23}],15:[function(require,module,exports){
var LinkedProductOptions={};LinkedProductOptions.optionsMap={},LinkedProductOptions.updateOptionsInSelector=function(o){var t,n;switch(o){case 0:t="root",n=$(".single-option-selector:eq(0)");break;case 1:t=$(".single-option-selector:eq(0)").val(),n=$(".single-option-selector:eq(1)");break;case 2:t=$(".single-option-selector:eq(0)").val(),t+=" / "+$(".single-option-selector:eq(1)").val(),n=$(".single-option-selector:eq(2)")}var i=n.val();n.empty();var e=LinkedProductOptions.optionsMap[t];if(void 0!==e){for(var p=0;p<e.length;p++){var s=e[p],d=$("<option></option>").val(s).html(s);n.append(d)}$('.swatch[data-option-index="'+o+'"] .swatch-element').each(function(){-1!==$.inArray($(this).attr("data-value"),e)?$(this).removeClass("soldout").show().find(":radio").removeAttr("disabled","disabled").removeAttr("checked"):$(this).addClass("soldout").hide().find(":radio").removeAttr("checked").attr("disabled","disabled")}),-1!==$.inArray(i,e)&&n.val(i),n.trigger("change")}},LinkedProductOptions.linkOptionSelectors=function(o){for(var t=0;t<o.variants.length;t++){var n=o.variants[t];if(n.available){var i;LinkedProductOptions.optionsMap.root=LinkedProductOptions.optionsMap.root||[],LinkedProductOptions.optionsMap.root.push(n.option1),LinkedProductOptions.optionsMap.root=Shopify.uniq(LinkedProductOptions.optionsMap.root),o.options.length>1&&(i=n.option1,LinkedProductOptions.optionsMap[i]=LinkedProductOptions.optionsMap[i]||[],LinkedProductOptions.optionsMap[i].push(n.option2),LinkedProductOptions.optionsMap[i]=Shopify.uniq(LinkedProductOptions.optionsMap[i])),3===o.options.length&&(i=n.option1+" / "+n.option2,LinkedProductOptions.optionsMap[i]=LinkedProductOptions.optionsMap[i]||[],LinkedProductOptions.optionsMap[i].push(n.option3),LinkedProductOptions.optionsMap[i]=Shopify.uniq(LinkedProductOptions.optionsMap[i]))}}LinkedProductOptions.updateOptionsInSelector(0),o.options.length>1&&LinkedProductOptions.updateOptionsInSelector(1),3===o.options.length&&LinkedProductOptions.updateOptionsInSelector(2),$(document).on("change",".single-option-selector:eq(0)",function(){return LinkedProductOptions.updateOptionsInSelector(1),3===o.options.length&&LinkedProductOptions.updateOptionsInSelector(2),!0}),$(document).on("change",".single-option-selector:eq(1)",function(){return 3===o.options.length&&LinkedProductOptions.updateOptionsInSelector(2),!0})},module.exports=LinkedProductOptions;


},{}],16:[function(require,module,exports){
var imgl=require("imagesloaded"),mq=require("./bsify.media_queries.js");require("./bsify.touch.js");var GalleryLoader=function(e,t){this.ele=e,this.parent_ele=t,this.onLoaded=function(){}};GalleryLoader.prototype.init=function(){this.$ele=$(this.ele),this.$fallbackImg=this.$ele.find(".fallback-image"),this.carousel_width=0,this.imgLoad=new imgl(this.ele),this.lastMQ=mq.size();var e=this;this.imgLoad.on("progress",function(t,i){e._collect_image_width(i)}).on("done",function(){e._set_carousel_width(),e.onLoaded.apply(e)}),$(window).on("resize",function(){e.lastMQ!==mq.size()&&(e.carousel_width=0,e._recalculate_carousel_width(),e.lastMQ=mq.size())})},GalleryLoader.prototype._collect_image_width=function(e){if(e.isLoaded){var t=$(e.img),i=t.closest(this.parent_ele);this.carousel_width+=this._image_parents_width(i)}else $(e.img).hide()},GalleryLoader.prototype._collect_fallback_image_width=function(){if(this.$fallbackImg.length>0){var e=this;e.$fallbackImg.each(function(t,i){var r=$(i),a=r.closest(e.parent_ele);e.carousel_width+=e._image_parents_width(a)})}},GalleryLoader.prototype._recalculate_carousel_width=function(){var e=this;e.$ele.find("img").each(function(t,i){var r={img:i,isLoaded:!0};e._collect_image_width(r)}),e._set_carousel_width()},GalleryLoader.prototype._image_parents_width=function(e){return e.width()+this._padding_to_num(e,"paddingLeft")+this._padding_to_num(e,"paddingRight")+1},GalleryLoader.prototype._padding_to_num=function(e,t){return parseInt(e.css(t).replace("px",""))},GalleryLoader.prototype._set_carousel_width=function(){this._collect_fallback_image_width(),this.$ele.width(this.carousel_width)};var Gallery=function(e){this.options=e,this.ele=this.options.gallery_wrapper,this.item_wrapper=this.options.item_wrapper,this.controls_wrapper=this.options.controls_wrapper,this.loader=new GalleryLoader(this.ele,this.options.item_wrapper),this.on_loaded=!1,this._init()};Gallery.prototype.update=function(){this.$ele.parent().animate({opacity:0},"slow"),this._remove_event_handlers(),this._init()},Gallery.prototype._init=function(){this.$ele=$(this.ele),this.$ele.length>0&&(this._add_event_handlers(),this.loader.init(),this._set_current_image())},Gallery.prototype._add_event_handlers=function(){var e=this;this.loader.onLoaded=function(){e.$ele.parent().animate({opacity:1},"slow"),e.on_loaded&&e.on_loaded.apply(e)},$(document).on("swipeLeft",this.controls_wrapper,function(t){e._next_img()}),$(document).on("swipeRight",this.controls_wrapper,function(t){e._prev_img()}),$(document).on("click","[data-gallery-direction]",function(t){t.preventDefault();var i=$(t.currentTarget);"left"===i.data("gallery-direction")?e._prev_img():e._next_img()})},Gallery.prototype._remove_event_handlers=function(){this.loader.onLoaded=!1,$(document).off("swipeLeft",this.controls_wrapper),$(document).off("swipeRight",this.controls_wrapper),$(document).off("click","[data-gallery-direction]")},Gallery.prototype._set_current_image=function(){var e=this.$ele.find(this.item_wrapper+".is_current");e.length>0?this.$current_image=e.first():this.$current_image=this.$ele.find(this.item_wrapper).first(),this.$current_image.addClass("is_current"),this._check_for_end()},Gallery.prototype._prev_img=function(){var e=this.$current_image.prev();e.length>0&&(e.css({marginLeft:"0"}).addClass("is_current"),this.$current_image.removeClass("is_current"),this.$current_image=e,this._check_for_end())},Gallery.prototype._next_img=function(){var e=this.$current_image.next();if(e.length>0){var t=this.loader._image_parents_width(this.$current_image);this.$current_image.css({marginLeft:-1*t}).removeClass("is_current"),e.addClass("is_current"),this.$current_image=e,this._check_for_end()}},Gallery.prototype._check_for_end=function(){$("[data-gallery-direction]").removeClass("disabled"),0===this.$current_image.prev().length?$('[data-gallery-direction="left"]').addClass("disabled"):0===this.$current_image.next().length&&$('[data-gallery-direction="right"]').addClass("disabled")},module.exports=Gallery;


},{"./bsify.media_queries.js":17,"./bsify.touch.js":22,"imagesloaded":3}],17:[function(require,module,exports){
require("./_polyfills.js").getComputedStyle(),module.exports.size=function(){return window.getComputedStyle(document.body,":after").getPropertyValue("content").replace(/['"]/g,"")};


},{"./_polyfills.js":9}],18:[function(require,module,exports){
var PasswordRecover=function(){this.recover_string="#recover",this.$links=$('main [href*="/account/login"]'),this.$sections=$("[data-bsify-toggle-recover]"),this.force=$("[data-bsify-toggle-recover-force]").length>0,this.$sections.length>0&&(this._add_event_listeners(),this.toggle_forms())};PasswordRecover.prototype.toggle_forms=function(){window.location.hash===this.recover_string||this.force?this.show_recover_form():this.show_login_form()},PasswordRecover.prototype.show_recover_form=function(){var o=this;this._each_section(function(e){o._toggle_section("recover"===e.data("bsify-toggle-recover"),e)})},PasswordRecover.prototype.show_login_form=function(){var o=this;this._each_section(function(e){o._toggle_section("recover"!==e.data("bsify-toggle-recover"),e)})},PasswordRecover.prototype._add_event_listeners=function(){var o=this;o.$links.on("click",function(e){e.preventDefault(),o._on_click($(e.currentTarget))})},PasswordRecover.prototype._on_click=function(o){o.attr("href").indexOf(this.recover_string)>-1?this.show_recover_form():this.show_login_form()},PasswordRecover.prototype._each_section=function(o){this.$sections.each(function(e,t){var r=$(t);o(r)})},PasswordRecover.prototype._toggle_section=function(o,e){o?e.show():e.hide()},module.exports=PasswordRecover;


},{}],19:[function(require,module,exports){
var InstagramFeed=function(t){this.ele=t,this.$ele=$(this.ele),this.api_url="https://api.instagram.com/v1",this.request_queue=[],this.requesting=!1,this.image_count_default=12,this.image_count_buffer=10,this._get_data(),this._load_feed()};InstagramFeed.prototype._get_data=function(){this.client_id=this.$ele.data("client-id"),this.image_count=this.$ele.data("image-count")||this.image_count_default,this.image_total=this.image_count+this.image_count_buffer,this.hashtag=this.$ele.data("hashtag"),this.user=this.$ele.data("user"),this._get_user_id()},InstagramFeed.prototype._get_user_id=function(){this.user&&(this.request_queue.push("user_id"),this._start_requests())},InstagramFeed.prototype._load_feed=function(){var t;void 0!==this.hashtag?t="hashtag":void 0!==this.user&&(t="user"),this.request_queue.push(t),this._start_requests()},InstagramFeed.prototype._build_request=function(t){if(null===this.client_id)throw"[ERROR] Instagram: You must provide a client id";var e={};switch(e.data={client_id:this.client_id},t){case"user_id":e.url=this.api_url+"/users/search?q="+this.user,e.callback=function(t){this.user_id=t.data[0].id};break;case"user":e.url=this.api_url+"/users/"+this.user_id+"/media/recent",e.data=$.extend(e.data,{count:this.image_total}),e.callback=function(t){this._build_feed(t.data)};break;case"hashtag":e.url=this.api_url+"/tags/"+this.hashtag+"/media/recent",e.data=$.extend(e.data,{count:this.image_total}),e.callback=function(t){this._build_feed(t.data)}}return e},InstagramFeed.prototype._start_requests=function(){this.requesting||(this.requesting=!0,this._request())},InstagramFeed.prototype._request=function(){if(this.request_queue.length>0){var t=this,e=this.request_queue.shift(),a=this._build_request(e);$.ajax({dataType:"jsonp",url:a.url,data:a.data}).done(function(e){a.callback.apply(t,[e]),t._request()}).fail(function(t,e,a){console.log("fail",t,e,a)})}else this.requesting=!1},InstagramFeed.prototype._build_feed=function(t){var e,a=this._filter_data(t);a.length>0?(e=this._build_feed_markup(a),this.$ele.addClass("group").attr("data-group-size",a.length)):e=this._build_error_markup(),this.$ele.append(e)},InstagramFeed.prototype._filter_data=function(t){return t},InstagramFeed.prototype._build_feed_markup=function(t){for(var e="",a=t.length<this.image_count?t.length:this.image_count,i=0;a>i;i++){var s=t[i];s&&(e+=this._build_item_markup(s))}return e},InstagramFeed.prototype._build_item_markup=function(t){return'<div class="group-item-wrap">    <figure class="group-item thumbnail">      <a href="'+t.link+'">        <div class="group-item-image">          <img src="'+t.images.standard_resolution.url+'" alt="'+t.caption.text+'">        </div>        <figcaption class="group-item-details caption">          <p><span class="user">'+t.caption.from.username+"</span> "+t.caption.text+"</p>        </figcaption>      </a>    </figure>  </div>"},InstagramFeed.prototype._build_error_markup=function(t){return"<p>"+this.$ele.data("empty-message")+"</p>"},module.exports=InstagramFeed;


},{}],20:[function(require,module,exports){
var Instagram=require("./bsify.social_feed_instagram.js"),SocialFeeds={};SocialFeeds.init=function(){SocialFeeds.instagram()},SocialFeeds.instagram=function(){var e=SocialFeeds._get_elements("instagram");e.length>0&&e.each(function(){new Instagram(this)})},SocialFeeds._get_elements=function(e){var a='[data-social-feed="'+e+'"]';return $(a)},module.exports=SocialFeeds;


},{"./bsify.social_feed_instagram.js":19}],21:[function(require,module,exports){
require("uniformThumbnails"),require("jquery-orderly");var Thumbnails={};Thumbnails.init=function(){if(Bsify.thumbnail_settings.constrain_images){var i={};i.fit=Bsify.thumbnail_settings.crop_images?"crop":"scale",i.align=Bsify.thumbnail_settings.image_alignment.toLowerCase();var e=Bsify.thumbnail_settings.image_ratio.toLowerCase();"square"===e||"landscape"===e||"portrait"===e?i.format=e:i.ratio=e;var r=$(Bsify.thumbnail_selectors.image_wrapper);r.length>0?r.uniform_thumbnails(i).on("ut_complete",function(){Thumbnails.orderly()}):Thumbnails.orderly()}else Thumbnails.orderly()},Thumbnails.orderly=function(){$(Bsify.thumbnail_selectors.details_wrapper).orderly({method:"children"})},module.exports=Thumbnails;


},{"jquery-orderly":6,"uniformThumbnails":8}],22:[function(require,module,exports){
var Swipe=function(){this.threshold=5,this.xDown=null,this.yDown=null,this.add_event_listeners()};Swipe.prototype.add_event_listeners=function(){var t=this;Element.prototype.addEventListener&&(document.addEventListener("touchstart",function(e){t.handleTouchStart(e)},!1),document.addEventListener("touchmove",function(e){t.handleTouchMove(e)},!1))},Swipe.prototype.handleTouchStart=function(t){this.xDown=t.touches[0].clientX,this.yDown=t.touches[0].clientY},Swipe.prototype.handleTouchMove=function(t){if(this.xDown&&this.yDown){var e=t.targetTouches[0].target,n=t.touches[0].clientX,i=t.touches[0].clientY,o=this.xDown-n,h=this.yDown-i;Math.abs(o)>Math.abs(h)?o>0?o>this.threshold&&$(e).trigger("swipeLeft"):-1*o>this.threshold&&$(e).trigger("swipeRight"):h>0?h>this.threshold&&$(e).trigger("swipeUp"):-1*h>this.threshold&&$(e).trigger("swipeDown"),this.xDown=null,this.yDown=null}},new Swipe;


},{}],23:[function(require,module,exports){
var VariantOptionSwitcher={};VariantOptionSwitcher.image_variant_switcher=function(){var t=$(Bsify.selectors.product.select_selector);$(document).on("click","[data-variant-id]",function(i){i.preventDefault();var r=$(i.currentTarget);t.val(r.data("variant-id")),VariantOptionSwitcher.update_product_selector_options(t)})},VariantOptionSwitcher.update_product_selector_options=function(t){var i=t.val(),r=Bsify.get_variant_by_id(i);if(r)for(var a=0;a<Bsify.product.options.length;a++){var e="option"+(a+1),n=r[e];$(".single-option-selector:eq("+a+")").val(n).trigger("change")}},module.exports=VariantOptionSwitcher;


},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9zcmMvanMvYXBwLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvYm93ZXJfY29tcG9uZW50cy9zaG9waWZ5LWNhcnRqcy9kaXN0L2NhcnQuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9ub2RlX21vZHVsZXMvaW1hZ2VzbG9hZGVkL2ltYWdlc2xvYWRlZC5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L25vZGVfbW9kdWxlcy9pbWFnZXNsb2FkZWQvbm9kZV9tb2R1bGVzL2V2ZW50aWUvZXZlbnRpZS5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L25vZGVfbW9kdWxlcy9pbWFnZXNsb2FkZWQvbm9kZV9tb2R1bGVzL3dvbGZ5ODctZXZlbnRlbWl0dGVyL0V2ZW50RW1pdHRlci5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L25vZGVfbW9kdWxlcy9qcXVlcnktb3JkZXJseS9zcmMvanF1ZXJ5Lm9yZGVybHkuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9ub2RlX21vZHVsZXMvanF1ZXJ5Lm1iLnl0cGxheWVyL2Rpc3QvanF1ZXJ5Lm1iLllUUGxheWVyLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvbm9kZV9tb2R1bGVzL3VuaWZvcm1UaHVtYm5haWxzL3NyYy9qcXVlcnkudW5pZm9ybV90aHVtYm5haWxzLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL19wb2x5ZmlsbHMuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9zcmMvanMvYnNpZnkuYmFubmVyLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LmJhbm5lcl92aWRlby5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L3NyYy9qcy9ic2lmeS5jYXJ0LmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LmltYWdlX3N3aXRjaGVyLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LmxpbmtlZF9wcm9kdWN0X29wdGlvbnMuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9zcmMvanMvYnNpZnkubG9va2Jvb2tfZ2FsbGVyeS5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L3NyYy9qcy9ic2lmeS5tZWRpYV9xdWVyaWVzLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LnBhc3N3b3JkX3JlY292ZXIuanMiLCIvVXNlcnMvc3Rld2FydGtuYXBtYW4vRGV2ZWxvcG1lbnQvU2hvcGlmeS9UaGVtZXMvQm9vdHN0cmFwaWZ5NC9zcmMvanMvYnNpZnkuc29jaWFsX2ZlZWRfaW5zdGFncmFtLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LnNvY2lhbF9mZWVkcy5qcyIsIi9Vc2Vycy9zdGV3YXJ0a25hcG1hbi9EZXZlbG9wbWVudC9TaG9waWZ5L1RoZW1lcy9Cb290c3RyYXBpZnk0L3NyYy9qcy9ic2lmeS50aHVtYm5haWxzLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LnRvdWNoLmpzIiwiL1VzZXJzL3N0ZXdhcnRrbmFwbWFuL0RldmVsb3BtZW50L1Nob3BpZnkvVGhlbWVzL0Jvb3RzdHJhcGlmeTQvc3JjL2pzL2JzaWZ5LnZhcmlhbnRfb3B0aW9uX3N3aXRjaGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDSUEsR0FBSSxPQUFRLFFBQVEsY0FDaEIsT0FBUyxRQUFRLHdEQUNqQixTQUFXLFFBQVEsK0JBRW5CLElBQU0sV0FtQ1IsR0FqQ0EsT0FBTyxLQUFLLE1BQU0sS0FBTSxNQUFNLGVBRzFCLE1BQU0sVUFFUixNQUFNLGNBQWMseUJBQ3BCLE1BQU0sY0FBYyxpQkFFcEIsTUFBTSxzQkFBc0IseUJBSXhCLE1BQU0sd0JBRUosTUFBTSxRQUFRLFdBQWEsTUFBTSxRQUFRLFFBQVEsT0FBUyxHQUM1RCxNQUFNLHFCQUFxQixvQkFBb0IsTUFBTSxV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QUksS0FBSyxLQUFLLFVBQVUsSUFBSSxFQUFFLElBQUksSUFBSSxLQUFLLEtBQUssV0FBVyxJQUFJLEVBQUUsSUFBSSxJQUFJLEtBQUssS0FBSyxXQUFXLElBQUksRUFBRSxJQUFJLElBQUksS0FBSyxPQUFPLFFBQVEsSUFBSSxFQUFFLElBQUksSUFBSSxLQUFLLEtBQUssVUFBVSxJQUFJLEVBQUUsSUFBSSxJQUFJLEtBQUssS0FBSyxPQUFPLElBQUksRUFBRSxJQUFJLElBQUksS0FBSyxNQUFNLGFBQWEsU0FBUyxHQUFHLEdBQUksR0FBRSxPQUFPLFFBQU8sS0FBTSxFQUFHLFFBQU8sUUFBUSxRQUFRLE9BQU8sUUFBUSxNQUFNLE9BQU8sSUFBSSxJQUFJLFdBQVcsT0FBTyxRQUFRLFFBQVEsT0FBTyxJQUFJLElBQUksUUFBUSxPQUFPLFFBQVEsT0FBTyxPQUFPLElBQUksSUFBSSxPQUFRLEtBQUksR0FBSSxLQUFLLEdBQUUsQ0FBQyxjQUFjLElBQUksRUFBRSxPQUFPLElBQUksSUFBSSxhQUFhLEVBQUUsU0FBVSxHQUFFLElBQUkscUJBQXFCLElBQUksRUFBRSxPQUFPLElBQUksSUFBSSxvQkFBb0IsRUFBRSxTQUFVLEdBQUUsSUFBSSxXQUFXLEdBQUcsT0FBTyxRQUFRLFVBQVUsRUFBRSxPQUFPLElBQUksSUFBSSxVQUFVLEVBQUUsU0FBVSxHQUFFLElBQUksU0FBUyxHQUFHLFVBQVUsRUFBRSxPQUFPLEVBQUUsSUFBSSxlQUFlLEdBQUcsVUFBVSxFQUFFLGFBQWEsRUFBRSxJQUFJLGFBQWEsR0FBRyxVQUFVLEVBQUUsV0FBVyxFQUFFLElBQUksY0FBYyxHQUFHLFVBQVUsRUFBRSxZQUFZLEVBQUUsSUFBSSxjQUFjLEdBQUcsVUFBVSxFQUFFLFlBQVksRUFBRTtBQUFJLFdBQVcsR0FBRyxVQUFVLEVBQUUsU0FBUyxFQUFFLElBQUksYUFBYSxHQUFHLFVBQVUsRUFBRSxXQUFXLEVBQUUsSUFBSSxVQUFVLEdBQUcsVUFBVSxFQUFFLFFBQVEsRUFBRSxHQUFJLElBQUksR0FBRSxFQUFHLE9BQU0sSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxlQUFlLFFBQVEsRUFBRSxHQUFHLE1BQU0sVUFBVyxHQUFFLElBQUksTUFBTSxJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLGVBQWUsUUFBUSxFQUFFLEdBQUcsTUFBTSxVQUFXLEdBQUUsSUFBSSxNQUFNLElBQUksRUFBRSxPQUFPLElBQUksSUFBSSxZQUFZLEVBQUUsR0FBRyxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksZUFBZSxRQUFRLEVBQUUsR0FBRyxNQUFNLFVBQVcsR0FBRSxJQUFJLFdBQVcsSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxXQUFXLFFBQVEsRUFBRSxHQUFHLE9BQU8sVUFBVyxHQUFFLElBQUksWUFBWSxJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLFlBQVksUUFBUSxFQUFFLEdBQUcsT0FBTyxVQUFXLEdBQUUsSUFBSSxZQUFZLElBQUksRUFBRSxPQUFPLElBQUksSUFBSSxZQUFZLEVBQUUsR0FBRyxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksWUFBWSxRQUFRLEVBQUUsR0FBRyxPQUFPLFVBQVcsR0FBRSxJQUFJLFlBQVksSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxZQUFZLFFBQVEsRUFBRSxHQUFHLE9BQU8sVUFBVyxHQUFFLElBQUksVUFBVSxJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLFVBQVUsUUFBUSxFQUFFLEdBQUcsSUFBSSxVQUFXLEdBQUUsSUFBSSxXQUFXLElBQUksRUFBRSxPQUFPLElBQUksSUFBSSxZQUFZLEVBQUUsR0FBRyxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksV0FBVyxRQUFRLEVBQUUsR0FBRyxJQUFJLFVBQVcsR0FBRSxJQUFJLFdBQVcsSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxXQUFXLFFBQVEsRUFBRSxHQUFHLElBQUksVUFBVyxHQUFFLElBQUksV0FBVyxJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLFdBQVcsUUFBUSxFQUFFLEdBQUcsSUFBSSxVQUFXLEdBQUUsSUFBSSxTQUFTLElBQUksRUFBRSxPQUFPLElBQUksSUFBSSxZQUFZLEVBQUUsR0FBRyxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksU0FBUyxRQUFRLEVBQUUsR0FBRyxPQUFPLFVBQVcsR0FBRSxJQUFJLFVBQVUsSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxVQUFVLFFBQVEsRUFBRSxHQUFHLE9BQU8sVUFBVyxHQUFFLElBQUksVUFBVSxJQUFJLEVBQUUsT0FBTyxJQUFJLElBQUksWUFBWSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLFVBQVUsUUFBUSxFQUFFLEdBQUcsT0FBTyxVQUFXLEdBQUUsSUFBSSxnQkFBZ0IsSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxnQkFBZ0IsUUFBUSxFQUFFLEdBQUcsTUFBTSxVQUFXLEdBQUUsSUFBSSxNQUFPLElBQUcsUUFBUSxTQUFTLEdBQUcsR0FBSSxLQUFLLEtBQUksR0FBSSxLQUFLLEdBQUUsRUFBRSxRQUFRLEdBQUcsR0FBRyxFQUFFLEtBQUssUUFBUSxHQUFJLE9BQU8sR0FBRSxLQUFLLE1BQU0sUUFBUSxTQUFTLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxNQUFP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QUFLLFVBQVUsVUFBVSxRQUFTLElBQUcsS0FBSyxVQUFVLEtBQUssUUFBUSxRQUFRLE9BQU8sUUFBUSxPQUFNLEVBQUcsT0FBTyxRQUFRLEtBQUssUUFBUSxPQUFPLFFBQVEsWUFBWSxLQUFLLFVBQVUsVUFBVSxPQUFRLElBQUcsS0FBSyxVQUFVLEtBQUssUUFBUSxTQUFTLE9BQU8sUUFBUSxNQUFLLEVBQUcsT0FBTyxRQUFRLEtBQUssOEJBQThCLE9BQU8sUUFBUSxZQUFZLEtBQUssVUFBVSxVQUFVLE9BQVEsSUFBRyxJQUFJLEtBQUssUUFBUSxXQUFXLENBQUMsT0FBTyxRQUFRLE1BQUssRUFBRyxPQUFPLFFBQVEsS0FBSyw2QkFBOEIsSUFBSSxPQUFNLEtBQUssUUFBUSxPQUFPLEVBQUUsSUFBSSxNQUFNLENBQUUsUUFBTyxRQUFRLFlBQVksS0FBSyxVQUFVLE1BQU0sU0FBUyxLQUFLLFVBQVUsS0FBSyxRQUFRLFlBQVksT0FBTyxRQUFRLFFBQU8sRUFBRyxPQUFPLFFBQVEsUUFBTyxFQUFHLE9BQU8sUUFBUSxLQUFLLFNBQVMsT0FBTyxRQUFRLFlBQVksS0FBSyxVQUFVLFVBQVUsSUFBSSxLQUFLLFVBQVUsS0FBSyxRQUFRLFlBQVksT0FBTyxRQUFRLFFBQU8sRUFBRyxPQUFPLFFBQVEsUUFBTyxFQUFHLE9BQU8sUUFBUSxLQUFLLFNBQVMsT0FBTyxRQUFRLFlBQVksS0FBSyxVQUFVLFVBQVUsR0FBRyxLQUFLLFVBQVUsS0FBSyxRQUFRLGNBQWMsT0FBTyxRQUFRLFlBQVksS0FBSyxVQUFVLFVBQVUsS0FBSyxLQUFLLFVBQVUsS0FBSyxRQUFRLGlCQUFpQixPQUFPLFFBQVEsUUFBTyxFQUFHLE9BQU8sUUFBUSxLQUFLLFNBQVMsT0FBTyxRQUFRLFlBQVksS0FBSyxVQUFVLFVBQVUsR0FBRyxLQUFLLFVBQVUsS0FBSyxRQUFRLGNBQWMsT0FBTyxRQUFRLFlBQVksS0FBSyxVQUFVLFVBQVUsS0FBSyxLQUFLLFVBQVUsS0FBSyxRQUFRLGFBQWEsT0FBTyxRQUFRLFNBQVEsRUFBRyxPQUFPLFFBQVEsS0FBSyxVQUFVLE9BQU8sUUFBUSxZQUFZLEtBQUssVUFBVSxVQUFVLEtBQUssV0FBVyxLQUFLLFlBQVksS0FBSyxJQUFJLFVBQVUsS0FBSyxZQUFZLFFBQVEsT0FBTyxRQUFRLEtBQUssS0FBSyxVQUFVLFdBQVcsV0FBVyxPQUFPLFFBQVEsWUFBWSxLQUFLLFVBQVUsVUFBVSxHQUFHLE9BQU8sUUFBUSxLQUFLLGVBQWUsT0FBTyxRQUFRLEtBQUssZ0JBQWdCLE9BQU8sUUFBUSxLQUFLLFVBQVUsU0FBVSxNQUFLLEdBQUcsT0FBTyxRQUFRLFlBQVksUUFBUSxRQUFRLE9BQU8sUUFBUSxZQUFZLE9BQU8sUUFBUSxZQUFZLFVBQVUsRUFBRSxLQUFLLEtBQUssR0FBRyxPQUFPLFFBQVEsWUFBWSxRQUFRLFFBQVEsT0FBTyxRQUFRLFlBQVksT0FBTyxRQUFRLFlBQVksVUFBVSxFQUFFLEtBQUssT0FBTyxRQUFRLGFBQWEsU0FBUyxHQUFHLE9BQU8sUUFBUSxZQUFZLElBQUksTUFBTSxPQUFPLFFBQVEsZ0JBQWdCLE9BQU8sUUFBUSxZQUFZLEdBQUcsV0FBVyxVQUFVLFlBQVksT0FBTyxRQUFRLGFBQWEsU0FBUyxVQUFVLFdBQVcsS0FBSyxPQUFPLFFBQVEsUUFBUSxPQUFPLFFBQVEsYUFBYSxPQUFPLFFBQVEsUUFBUSxXQUFXLEtBQUssTUFBTSxPQUFPLFFBQVEsV0FBVywwQkFBMEIsS0FBSyxNQUFNLE9BQU8sUUFBUSxJQUFJLDBCQUEwQixLQUFLLE1BQU0sT0FBTyxRQUFRLFlBQVksY0FBYyxLQUFLLE1BQU0sT0FBTyxRQUFRLGNBQWMsMEJBQTBCLEtBQUssTUFBTSxPQUFPLFFBQVEsT0FBTyxlQUFlLEtBQUssTUFBTSxPQUFPLFFBQVEsT0FBTyxPQUFPLFFBQVEsU0FBUyxPQUFPLFFBQVEsWUFBWSxPQUFPLFFBQVEsS0FBSyxPQUFPLFFBQVEsZUFBZSxPQUFPLFFBQVEsYUFBYSxPQUFPLFFBQVEsT0FBTyxPQUFPLFNBQVMsT0FBTyxRQUFRLE9BQU8sT0FBTyxTQUFTLE9BQU8sUUFBUSxRQUFRLE9BQU8sUUFBUSxRQUFRLElBQUksT0FBTyxpQkFBaUIsT0FBTyxRQUFRLFVBQVUsVUFBVSxLQUFLLE9Bc0J2K0csU0FBUyxHQUFHLGdEQUFnRCxLQUFLLFVBQVUsVUFBVSxjQUFlLElBQUksR0FBRSxnQkFBaUIsU0FBUSxPQUFPLFdBQVcsT0FBTyxVQUFVLGtCQUFrQixPQUFPLFdBQVcsT0FBTyxlQUFlLG1CQUFvQixpQkFBZSxDQUFHLEdBQUUsY0FBYyxVQUFVLFdBQVcsRUFBRSxNQUFNLElBQUksWUFBWSxJQUFJLFVBQVMsRUFBRyxVQUFTLEdBQUksUUFBUSxNQUFNLEVBQUUsYUFBYSxZQUFZLElBQUksRUFBRSxXQUFXLFVBQVUsS0FBSyxFQUFFLFlBQVksYUFBYSxLQUFLLFNBQVMsR0FBRyxNQUFPLE1BQUssS0FBSyxXQUFXLEdBQUksR0FBRSxLQUFLLEVBQUUsRUFBRSxFQUFHLEdBQUUsU0FBUyxnQkFBZ0IsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxhQUFhLFNBQVMsR0FBRyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsT0FBUSxJQUFJLEdBQUUsS0FBSyxFQUFFLElBQUksWUFBWSxhQUFhLFdBQVcsRUFBRSxFQUFFLFVBQVUsU0FBUyxTQUFTLFNBQVMsRUFBRyxHQUFFLFFBQVEsR0FBRyxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssT0FBTyxZQUFZLFFBQVEsRUFBRSxJQUFJLFFBQVEsRUFBRSxJQUFJLE1BQU0sRUFBRSxHQUFHLGNBQWMsRUFBRSxrQkFBa0IsRUFBRSxJQUFJLFdBQVcsRUFBRSxHQUFHLEVBQUUsYUFBYSxPQUFPLE1BQU0sU0FBUyxHQUFHLElBQUksRUFBRSxFQUFFLGVBQWUsSUFBSSxFQUFFLFVBQVMsRUFBRyxFQUFFLGdCQUFnQixHQUFHLEVBQUUsS0FBSyxPQUFPLGVBQWUsRUFBRSxpQkFBaUIsRUFBRSxvQkFBb0IsRUFBRSxVQUFVLEdBQUcsRUFBRSxhQUFhLE9BQU8sS0FBSyxTQUFTLEdBQUcsSUFBSSxFQUFFLEVBQUUsZUFBZSxJQUFJLEVBQUUsV0FBVyxFQUFFLFVBQVUsS0FBSyxPQUFPLFlBQVksRUFBRSxnQkFBZ0IsR0FBRyxFQUFFLGlCQUFpQixFQUFFLHFCQUFxQixHQUFHLEVBQUUsYUFBYSxPQUFPLElBQUksV0FBVyxFQUFFLFVBQVUsS0FBSyxPQUFPLFNBQVMsRUFBRSxVQUFTLEVBQUcsRUFBRSxLQUFLLE9BQU8sZUFBZSxnQkFBZ0IsU0FBUyxHQUFHLFFBQVMsR0FBRSxFQUFFLEdBQUcsTUFBTyxNQUFLLE1BQU0sSUFBSSxFQUFFLEdBQUcsR0FBSSxHQUFFLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRyxHQUFFLElBQUksV0FBVyxnQkFBaUIsR0FBRSxJQUFJLFdBQVcsRUFBRSxJQUFJLFdBQVcsRUFBRSxJQUFJLFdBQVcsRUFBRyxJQUFJLEdBQUUsRUFBRSxHQUFHLGFBQWEsRUFBRSxFQUFFLEdBQUcsYUFBYyxHQUFFLEVBQUUsZ0JBQWlCLEdBQUUsRUFBRSxRQUFRLFNBQVMsS0FBSyxXQUFXLEVBQUUsU0FBUyxLQUFLLGdCQUFpQixHQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksTUFBTSxFQUFFLElBQUksV0FBVyxFQUFFLEVBQUUsSUFBSSxNQUFNLEVBQUUsRUFBRSxnQkFBaUIsR0FBRSxFQUFFLFFBQVEsU0FBUyxLQUFLLFVBQVUsRUFBRSxTQUFTLElBQUksZ0JBQWlCLElBQUcsRUFBRSxJQUFJLE1BQU0sRUFBRSxJQUFJLFdBQVcsR0FBRyxFQUFFLEVBQUUsSUFBSSxNQUFNLEVBQUUsSUFBSSxXQUFXLEVBQUUsRUFBRSxJQUFJLE1BQU0sRUFBRSxFQUFFLEVBQUUsY0FBYyxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLElBQUksTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxJQUFJLE1BQU0sRUFBRSxFQUFFLFlBQVksRUFBRSxPQUFPLEVBQUUsSUFBSSxNQUFNLEVBQUUsT0FBTyxFQUFFLElBQUksTUFBTSxFQUFFLE9BQU8sRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLFlBQVksRUFBRSxPQUFPLEVBQUUsSUFB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QixXQUU3QyxHQUFJLEdBQW9CLEVBQUUsTUFBTSxVQUFVLFFBQVEsZ0JBRWxELEdBQUUsVUFBVSxHQUFHLFFBQVMsb0JBQXFCLFNBQVUsR0FDckQsRUFBRSxnQkFDRixJQUFJLEdBQWtCLEVBQUUsRUFBRSxjQUUxQixHQUFrQixJQUFJLEVBQWdCLEtBQUssZUFFM0Msc0JBQXNCLGdDQUFnQyxNQU0xRCxzQkFBc0IsZ0NBQWtDLFNBQVUsR0FHaEUsR0FBSSxHQUFhLEVBQWtCLE1BQy9CLEVBQVUsTUFBTSxrQkFBa0IsRUFFdEMsSUFBSSxFQUVGLElBQUssR0FBSSxHQUFJLEVBQUcsRUFBSSxNQUFNLFFBQVEsUUFBUSxPQUFRLElBQUssQ0FDckQsR0FBSSxHQUFTLFVBQVUsRUFBRSxHQUNyQixFQUFRLEVBQVEsRUFDcEIsR0FBRSw4QkFBOEIsRUFBRSxLQUFLLElBQUksR0FBTyxRQUFRLFlBS2hFLE9BQU8sUUFBVSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKlxuICBNYWluIGFwcCBmb3IgQm9vdHN0cmFwaWZ5XG4qL1xuXG52YXIgQnNpZnkgPSByZXF1aXJlKCcuL2JzaWZ5LmpzJyk7XG52YXIgQ2FydEpTID0gcmVxdWlyZShcIi4vLi4vLi4vYm93ZXJfY29tcG9uZW50cy9zaG9waWZ5LWNhcnRqcy9kaXN0L2NhcnQuanNcIik7XG52YXIgTG9va2Jvb2sgPSByZXF1aXJlKCcuL2JzaWZ5Lmxvb2tib29rX2dhbGxlcnkuanMnKTtcblxudmFyIEFwcCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gaW5pdCBDYXJ0SlNcbiAgQ2FydEpTLmluaXQoQnNpZnkuY2FydCwgQnNpZnkubW9uZXlfZm9ybWF0cyk7XG5cbiAgLy8gaW5pdCBwcm9kdWN0IHRlbXBsYXRlIGpzXG4gIGlmIChCc2lmeS5wcm9kdWN0KSB7XG4gICAgLy8gUHJlbG9hZCBpbWFnZXMgYW5kIGNhbGwgaW1hZ2Ugc3dpdGNoZXIgaW5pdFxuICAgIEJzaWZ5LkltYWdlU3dpdGNoZXIucHJlbG9hZF9wcm9kdWN0X3RodW1icygpO1xuICAgIEJzaWZ5LkltYWdlU3dpdGNoZXIuaW1hZ2Vfc3d0aWNoZXIoKTtcbiAgICAvLyBJbml0aWFsaXNlIHRoZSBpbWFnZV92YXJpYW50X3N3aXRjaGVyXG4gICAgQnNpZnkuVmFyaWFudE9wdGlvblN3aXRjaGVyLmltYWdlX3ZhcmlhbnRfc3dpdGNoZXIoKTtcblxuICAgIC8vIENhbGwgbGlua09wdGlvblNlbGVjdG9yc1xuICAgIC8vIENoZWNrIHRoYXQgd2Ugd2FudCB0byB1c2UgdGhlIGxpbmtlZCBwcm9kdWN0IG9wdGlvbnNcbiAgICBpZiAoQnNpZnkubGlua2VkX3Byb2R1Y3Rfb3B0aW9ucykge1xuICAgICAgLy8gTWFrZSBzdXJlIHRoZSBwcm9kdWN0IG1lZXRzIHRoZSBjb3JyZWN0IGNpdGVyaWEgZm9yIGxpbmtlZCBwcm9kdWN0IG9wdGlvbnMgYW5kIHRoZW4gaW5pdGlhbGlzZVxuICAgICAgaWYgKEJzaWZ5LnByb2R1Y3QuYXZhaWxhYmxlICYmIEJzaWZ5LnByb2R1Y3Qub3B0aW9ucy5sZW5ndGggPiAxKSB7XG4gICAgICAgIEJzaWZ5LkxpbmtlZFByb2R1Y3RPcHRpb25zLmxpbmtPcHRpb25TZWxlY3RvcnMoQnNpZnkucHJvZHVjdCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gaW5pdCBhamF4IGFkZCB0byBjYXJ0XG4gIGlmIChCc2lmeS5hamF4X2FkZF90b19jYXJ0KSB7XG4gICAgQnNpZnkuQ2FydC5pbml0KCk7XG4gIH1cblxuICAvLyBsb2FkIHVuaWZvcm0gdGh1bWJzIGFuZCBvcmRlcmx5XG4gIEJzaWZ5LlRodW1ibmFpbHMuaW5pdCgpO1xuXG4gIC8vIGluaXQgZXZlbnQgbGlzdGVuZXJzIGZvciBiYW5uZXJcbiAgQnNpZnkuQmFubmVyLmluaXQoKTtcbiAgQnNpZnkuQmFubmVyVmlkZW8uaW5pdCgpO1xuXG4gIC8vIGluaXQgbG9va2Jvb2sgZ2FsbGVyeVxuICBpZiAoJCgnLmNvbGxlY3Rpb24tbG9va2Jvb2snKS5sZW5ndGggPiAwKSB7XG4gICAgdmFyIGxvb2tib29rID0gbmV3IExvb2tib29rKHtcbiAgICAgIGdhbGxlcnlfd3JhcHBlcjogJy5jb2xsZWN0aW9uLWxvb2tib29rIC5wcm9kdWN0cy5ncm91cCcsXG4gICAgICBpdGVtX3dyYXBwZXI6ICcuZ3JvdXAtaXRlbS13cmFwJyxcbiAgICAgIGNvbnRyb2xzX3dyYXBwZXI6ICcubG9va2Jvb2stY29udHJvbHMnXG4gICAgfSk7XG5cbiAgICBsb29rYm9vay5vbl9sb2FkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBCc2lmeS5UaHVtYm5haWxzLm9yZGVybHkoKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gdGVzdCBmb3IgcGxhY2Vob2xkZXJcbiAgaWYgKE1vZGVybml6ci5pbnB1dC5wbGFjZWhvbGRlcikge1xuICAgICQoJ2h0bWwnKS5hZGRDbGFzcygncGxhY2Vob2xkZXInKTtcbiAgfSBlbHNlIHtcbiAgICAkKCdodG1sJykuYWRkQ2xhc3MoJ25vLXBsYWNlaG9sZGVyJyk7XG4gIH1cblxuICAvLyBpbml0IHNvY2lhbCBmZWVkc1xuICBCc2lmeS5Tb2NpYWxGZWVkcy5pbml0KCk7XG4gIFxuICBuZXcgQnNpZnkuUGFzc3dvcmRSZWNvdmVyKCk7XG59O1xuXG4vLyBpbml0aWF0ZSB0aGUgYXBwIGFuZCBleHBvc2UgaXQgdG8gdGhlIGJyb3dzZXJcbnZhciBhcHAgPSBuZXcgQXBwKCk7XG5tb2R1bGUuZXhwb3J0cyA9IGFwcDtcbndpbmRvdy5DYXJ0SlMgPSBDYXJ0SlM7IiwiKGZ1bmN0aW9uKCkge1xuICB2YXIgJGRvY3VtZW50LCBDYXJ0LCBDYXJ0SlMsIEl0ZW0sIHByb2Nlc3NpbmcsIHF1ZXVlLFxuICAgIF9fYmluZCA9IGZ1bmN0aW9uKGZuLCBtZSl7IHJldHVybiBmdW5jdGlvbigpeyByZXR1cm4gZm4uYXBwbHkobWUsIGFyZ3VtZW50cyk7IH07IH07XG5cbiAgQ2FydCA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBDYXJ0KCkge1xuICAgICAgdGhpcy51cGRhdGUgPSBfX2JpbmQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgIH1cblxuICAgIENhcnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKGNhcnQpIHtcbiAgICAgIHZhciBpdGVtLCBrZXksIHZhbHVlO1xuICAgICAgZm9yIChrZXkgaW4gY2FydCkge1xuICAgICAgICB2YWx1ZSA9IGNhcnRba2V5XTtcbiAgICAgICAgaWYgKGtleSAhPT0gJ2l0ZW1zJykge1xuICAgICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5pdGVtcyA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF9pLCBfbGVuLCBfcmVmLCBfcmVzdWx0cztcbiAgICAgICAgX3JlZiA9IGNhcnQuaXRlbXM7XG4gICAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICAgIGl0ZW0gPSBfcmVmW19pXTtcbiAgICAgICAgICBfcmVzdWx0cy5wdXNoKG5ldyBJdGVtKGl0ZW0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgICB9KSgpO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FydDtcblxuICB9KSgpO1xuXG4gIEl0ZW0gPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gSXRlbShpdGVtKSB7XG4gICAgICB0aGlzLnByb3BlcnR5QXJyYXkgPSBfX2JpbmQodGhpcy5wcm9wZXJ0eUFycmF5LCB0aGlzKTtcbiAgICAgIHRoaXMudXBkYXRlID0gX19iaW5kKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgIHRoaXMudXBkYXRlKGl0ZW0pO1xuICAgIH1cblxuICAgIEl0ZW0ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIHZhciBrZXksIHZhbHVlO1xuICAgICAgZm9yIChrZXkgaW4gaXRlbSkge1xuICAgICAgICB2YWx1ZSA9IGl0ZW1ba2V5XTtcbiAgICAgICAgaWYgKGtleSAhPT0gJ3Byb3BlcnRpZXMnKSB7XG4gICAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXMgPSBDYXJ0SlMuVXRpbHMuZXh0ZW5kKHt9LCBpdGVtLnByb3BlcnRpZXMpO1xuICAgIH07XG5cbiAgICBJdGVtLnByb3RvdHlwZS5wcm9wZXJ0eUFycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbmFtZSwgdmFsdWUsIF9yZWYsIF9yZXN1bHRzO1xuICAgICAgX3JlZiA9IHRoaXMucHJvcGVydGllcztcbiAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICBmb3IgKG5hbWUgaW4gX3JlZikge1xuICAgICAgICB2YWx1ZSA9IF9yZWZbbmFtZV07XG4gICAgICAgIF9yZXN1bHRzLnB1c2goe1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgIH07XG5cbiAgICByZXR1cm4gSXRlbTtcblxuICB9KSgpO1xuXG4gIENhcnRKUyA9IHtcbiAgICBzZXR0aW5nczoge1xuICAgICAgZGVidWc6IGZhbHNlLFxuICAgICAgZGF0YUFQSTogdHJ1ZSxcbiAgICAgIHJlcXVlc3RCb2R5Q2xhc3M6IG51bGwsXG4gICAgICByaXZldHNNb2RlbHM6IHt9LFxuICAgICAgbW9uZXlGb3JtYXQ6IG51bGwsXG4gICAgICBtb25leVdpdGhDdXJyZW5jeUZvcm1hdDogbnVsbFxuICAgIH0sXG4gICAgY2FydDogbmV3IENhcnQoKVxuICB9O1xuXG4gIENhcnRKUy5pbml0ID0gZnVuY3Rpb24oY2FydCwgc2V0dGluZ3MpIHtcbiAgICBpZiAoc2V0dGluZ3MgPT0gbnVsbCkge1xuICAgICAgc2V0dGluZ3MgPSB7fTtcbiAgICB9XG4gICAgQ2FydEpTLmNvbmZpZ3VyZShzZXR0aW5ncyk7XG4gICAgQ2FydEpTLlV0aWxzLmxvZygnSW5pdGlhbGlzaW5nIENhcnRKUy4nKTtcbiAgICBDYXJ0SlMuY2FydC51cGRhdGUoY2FydCk7XG4gICAgaWYgKENhcnRKUy5zZXR0aW5ncy5kYXRhQVBJKSB7XG4gICAgICBDYXJ0SlMuVXRpbHMubG9nKCdcImRhdGFBUElcIiBzZXR0aW5nIGlzIHRydWUsIGluaXRpYWxpc2luZyBEYXRhIEFQSS4nKTtcbiAgICAgIENhcnRKUy5EYXRhLmluaXQoKTtcbiAgICB9XG4gICAgaWYgKENhcnRKUy5zZXR0aW5ncy5yZXF1ZXN0Qm9keUNsYXNzKSB7XG4gICAgICBDYXJ0SlMuVXRpbHMubG9nKCdcInJlcXVlc3RCb2R5Q2xhc3NcIiBzZXQsIGFkZGluZyBldmVudCBsaXN0ZW5lcnMuJyk7XG4gICAgICAkKGRvY3VtZW50KS5vbignY2FydC5yZXF1ZXN0U3RhcnRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJCgnYm9keScpLmFkZENsYXNzKENhcnRKUy5zZXR0aW5ncy5yZXF1ZXN0Qm9keUNsYXNzKTtcbiAgICAgIH0pO1xuICAgICAgJChkb2N1bWVudCkub24oJ2NhcnQucmVxdWVzdENvbXBsZXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkKCdib2R5JykucmVtb3ZlQ2xhc3MoQ2FydEpTLnNldHRpbmdzLnJlcXVlc3RCb2R5Q2xhc3MpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBDYXJ0SlMuUml2ZXRzLmluaXQoKTtcbiAgfTtcblxuICBDYXJ0SlMuY29uZmlndXJlID0gZnVuY3Rpb24oc2V0dGluZ3MpIHtcbiAgICBpZiAoc2V0dGluZ3MgPT0gbnVsbCkge1xuICAgICAgc2V0dGluZ3MgPSB7fTtcbiAgICB9XG4gICAgcmV0dXJuIENhcnRKUy5VdGlscy5leHRlbmQoQ2FydEpTLnNldHRpbmdzLCBzZXR0aW5ncyk7XG4gIH07XG5cbiAgQ2FydEpTLlV0aWxzID0ge1xuICAgIGxvZzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQ2FydEpTLlV0aWxzLmNvbnNvbGUoY29uc29sZS5sb2csIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQ2FydEpTLlV0aWxzLmNvbnNvbGUoY29uc29sZS5lcnJvciwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIGNvbnNvbGU6IGZ1bmN0aW9uKG1ldGhvZCwgYXJncykge1xuICAgICAgaWYgKENhcnRKUy5zZXR0aW5ncy5kZWJ1ZyAmJiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgY29uc29sZSAhPT0gbnVsbCkpIHtcbiAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpO1xuICAgICAgICBhcmdzLnVuc2hpZnQoJ1tDYXJ0SlNdOicpO1xuICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICAgICAgfVxuICAgIH0sXG4gICAgd3JhcEtleXM6IGZ1bmN0aW9uKG9iaiwgdHlwZSwgb3ZlcnJpZGUpIHtcbiAgICAgIHZhciBrZXksIHZhbHVlLCB3cmFwcGVkO1xuICAgICAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgICAgICB0eXBlID0gJ3Byb3BlcnRpZXMnO1xuICAgICAgfVxuICAgICAgd3JhcHBlZCA9IHt9O1xuICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgIHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgIHdyYXBwZWRbXCJcIiArIHR5cGUgKyBcIltcIiArIGtleSArIFwiXVwiXSA9IG92ZXJyaWRlICE9IG51bGwgPyBvdmVycmlkZSA6IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZWQ7XG4gICAgfSxcbiAgICB1bndyYXBLZXlzOiBmdW5jdGlvbihvYmosIHR5cGUsIG92ZXJyaWRlKSB7XG4gICAgICB2YXIga2V5LCB1bndyYXBwZWQsIHVud3JhcHBlZEtleSwgdmFsdWU7XG4gICAgICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgICAgIHR5cGUgPSAncHJvcGVydGllcyc7XG4gICAgICB9XG4gICAgICB1bndyYXBwZWQgPSB7fTtcbiAgICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICB1bndyYXBwZWRLZXkgPSBrZXkucmVwbGFjZShcIlwiICsgdHlwZSArIFwiW1wiLCBcIlwiKS5yZXBsYWNlKFwiXVwiLCBcIlwiKTtcbiAgICAgICAgdW53cmFwcGVkW3Vud3JhcHBlZEtleV0gPSBvdmVycmlkZSAhPSBudWxsID8gb3ZlcnJpZGUgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bndyYXBwZWQ7XG4gICAgfSxcbiAgICBleHRlbmQ6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydGllcykge1xuICAgICAgdmFyIGtleSwgdmFsO1xuICAgICAgZm9yIChrZXkgaW4gcHJvcGVydGllcykge1xuICAgICAgICB2YWwgPSBwcm9wZXJ0aWVzW2tleV07XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuICAgIGNsb25lOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciBrZXksIG5ld0luc3RhbmNlO1xuICAgICAgaWYgKChvYmplY3QgPT0gbnVsbCkgfHwgdHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cbiAgICAgIG5ld0luc3RhbmNlID0gbmV3IG9iamVjdC5jb25zdHJ1Y3RvcigpO1xuICAgICAgZm9yIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIG5ld0luc3RhbmNlW2tleV0gPSBjbG9uZShvYmplY3Rba2V5XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3SW5zdGFuY2U7XG4gICAgfSxcbiAgICBpc0FycmF5OiBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4ge30udG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgfSxcbiAgICBlbnN1cmVBcnJheTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChDYXJ0SlMuVXRpbHMuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFt2YWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfSxcbiAgICBmb3JtYXRNb25leTogZnVuY3Rpb24odmFsdWUsIGZvcm1hdCkge1xuICAgICAgdmFyIF9yZWY7XG4gICAgICBpZiAoKChfcmVmID0gd2luZG93LlNob3BpZnkpICE9IG51bGwgPyBfcmVmLmZvcm1hdE1vbmV5IDogdm9pZCAwKSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBTaG9waWZ5LmZvcm1hdE1vbmV5KHZhbHVlLCBmb3JtYXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0U2l6ZWRJbWFnZVVybDogZnVuY3Rpb24oc3JjLCBzaXplKSB7XG4gICAgICB2YXIgX3JlZiwgX3JlZjE7XG4gICAgICBpZiAoKChfcmVmID0gd2luZG93LlNob3BpZnkpICE9IG51bGwgPyAoX3JlZjEgPSBfcmVmLkltYWdlKSAhPSBudWxsID8gX3JlZjEuZ2V0U2l6ZWRJbWFnZVVybCA6IHZvaWQgMCA6IHZvaWQgMCkgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gU2hvcGlmeS5JbWFnZS5nZXRTaXplZEltYWdlVXJsKHNyYywgc2l6ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3JjO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBxdWV1ZSA9IFtdO1xuXG4gIHByb2Nlc3NpbmcgPSBmYWxzZTtcblxuICBDYXJ0SlMuUXVldWUgPSB7XG4gICAgYWRkOiBmdW5jdGlvbih1cmwsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgIHZhciByZXF1ZXN0O1xuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICByZXF1ZXN0ID0ge1xuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgdHlwZTogb3B0aW9ucy50eXBlIHx8ICdQT1NUJyxcbiAgICAgICAgZGF0YVR5cGU6IG9wdGlvbnMuZGF0YVR5cGUgfHwgJ2pzb24nLFxuICAgICAgICBzdWNjZXNzOiBDYXJ0SlMuVXRpbHMuZW5zdXJlQXJyYXkob3B0aW9ucy5zdWNjZXNzKSxcbiAgICAgICAgZXJyb3I6IENhcnRKUy5VdGlscy5lbnN1cmVBcnJheShvcHRpb25zLmVycm9yKSxcbiAgICAgICAgY29tcGxldGU6IENhcnRKUy5VdGlscy5lbnN1cmVBcnJheShvcHRpb25zLmNvbXBsZXRlKVxuICAgICAgfTtcbiAgICAgIGlmIChvcHRpb25zLnVwZGF0ZUNhcnQpIHtcbiAgICAgICAgcmVxdWVzdC5zdWNjZXNzLnB1c2goQ2FydEpTLmNhcnQudXBkYXRlKTtcbiAgICAgIH1cbiAgICAgIHF1ZXVlLnB1c2gocmVxdWVzdCk7XG4gICAgICBpZiAocHJvY2Vzc2luZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBqUXVlcnkoZG9jdW1lbnQpLnRyaWdnZXIoJ2NhcnQucmVxdWVzdFN0YXJ0ZWQnLCBbQ2FydEpTLmNhcnRdKTtcbiAgICAgIHJldHVybiBDYXJ0SlMuUXVldWUucHJvY2VzcygpO1xuICAgIH0sXG4gICAgcHJvY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGFyYW1zO1xuICAgICAgaWYgKCFxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgICAgICBqUXVlcnkoZG9jdW1lbnQpLnRyaWdnZXIoJ2NhcnQucmVxdWVzdENvbXBsZXRlJywgW0NhcnRKUy5jYXJ0XSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByb2Nlc3NpbmcgPSB0cnVlO1xuICAgICAgcGFyYW1zID0gcXVldWUuc2hpZnQoKTtcbiAgICAgIHBhcmFtcy5jb21wbGV0ZSA9IENhcnRKUy5RdWV1ZS5wcm9jZXNzO1xuICAgICAgcmV0dXJuIGpRdWVyeS5hamF4KHBhcmFtcyk7XG4gICAgfVxuICB9O1xuXG4gIENhcnRKUy5Db3JlID0ge1xuICAgIGdldENhcnQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgb3B0aW9ucy50eXBlID0gJ0dFVCc7XG4gICAgICBvcHRpb25zLnVwZGF0ZUNhcnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIENhcnRKUy5RdWV1ZS5hZGQoJy9jYXJ0LmpzJywge30sIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgYWRkSXRlbTogZnVuY3Rpb24oaWQsIHF1YW50aXR5LCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgICB2YXIgZGF0YTtcbiAgICAgIGlmIChxdWFudGl0eSA9PSBudWxsKSB7XG4gICAgICAgIHF1YW50aXR5ID0gMTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wZXJ0aWVzID09IG51bGwpIHtcbiAgICAgICAgcHJvcGVydGllcyA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBkYXRhID0gQ2FydEpTLlV0aWxzLndyYXBLZXlzKHByb3BlcnRpZXMpO1xuICAgICAgZGF0YS5pZCA9IGlkO1xuICAgICAgZGF0YS5xdWFudGl0eSA9IHF1YW50aXR5O1xuICAgICAgQ2FydEpTLlF1ZXVlLmFkZCgnL2NhcnQvYWRkLmpzJywgZGF0YSwgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gQ2FydEpTLkNvcmUuZ2V0Q2FydCgpO1xuICAgIH0sXG4gICAgdXBkYXRlSXRlbTogZnVuY3Rpb24obGluZSwgcXVhbnRpdHksIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBkYXRhO1xuICAgICAgaWYgKHByb3BlcnRpZXMgPT0gbnVsbCkge1xuICAgICAgICBwcm9wZXJ0aWVzID0ge307XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGRhdGEgPSBDYXJ0SlMuVXRpbHMud3JhcEtleXMocHJvcGVydGllcyk7XG4gICAgICBkYXRhLmxpbmUgPSBsaW5lO1xuICAgICAgaWYgKHF1YW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgZGF0YS5xdWFudGl0eSA9IHF1YW50aXR5O1xuICAgICAgfVxuICAgICAgb3B0aW9ucy51cGRhdGVDYXJ0ID0gdHJ1ZTtcbiAgICAgIHJldHVybiBDYXJ0SlMuUXVldWUuYWRkKCcvY2FydC9jaGFuZ2UuanMnLCBkYXRhLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIHJlbW92ZUl0ZW06IGZ1bmN0aW9uKGxpbmUsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIENhcnRKUy5Db3JlLnVwZGF0ZUl0ZW0obGluZSwgMCwge30sIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgdXBkYXRlSXRlbUJ5SWQ6IGZ1bmN0aW9uKGlkLCBxdWFudGl0eSwgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgICAgdmFyIGRhdGE7XG4gICAgICBpZiAocHJvcGVydGllcyA9PSBudWxsKSB7XG4gICAgICAgIHByb3BlcnRpZXMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgZGF0YSA9IENhcnRKUy5VdGlscy53cmFwS2V5cyhwcm9wZXJ0aWVzKTtcbiAgICAgIGRhdGEuaWQgPSBpZDtcbiAgICAgIGlmIChxdWFudGl0eSAhPSBudWxsKSB7XG4gICAgICAgIGRhdGEucXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMudXBkYXRlQ2FydCA9IHRydWU7XG4gICAgICByZXR1cm4gQ2FydEpTLlF1ZXVlLmFkZCgnL2NhcnQvY2hhbmdlLmpzJywgZGF0YSwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICB1cGRhdGVJdGVtUXVhbnRpdGllc0J5SWQ6IGZ1bmN0aW9uKHVwZGF0ZXMsIG9wdGlvbnMpIHtcbiAgICAgIGlmICh1cGRhdGVzID09IG51bGwpIHtcbiAgICAgICAgdXBkYXRlcyA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBvcHRpb25zLnVwZGF0ZUNhcnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIENhcnRKUy5RdWV1ZS5hZGQoJy9jYXJ0L3VwZGF0ZS5qcycsIHtcbiAgICAgICAgdXBkYXRlczogdXBkYXRlc1xuICAgICAgfSwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICByZW1vdmVJdGVtQnlJZDogZnVuY3Rpb24oaWQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBkYXRhO1xuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBkYXRhID0ge1xuICAgICAgICBpZDogaWQsXG4gICAgICAgIHF1YW50aXR5OiAwXG4gICAgICB9O1xuICAgICAgb3B0aW9ucy51cGRhdGVDYXJ0ID0gdHJ1ZTtcbiAgICAgIHJldHVybiBDYXJ0SlMuUXVldWUuYWRkKCcvY2FydC9jaGFuZ2UuanMnLCBkYXRhLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGNsZWFyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMudXBkYXRlQ2FydCA9IHRydWU7XG4gICAgICByZXR1cm4gQ2FydEpTLlF1ZXVlLmFkZCgnL2NhcnQvY2xlYXIuanMnLCB7fSwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXRBdHRyaWJ1dGU6IGZ1bmN0aW9uKGF0dHJpYnV0ZU5hbWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUgaW4gQ2FydEpTLmNhcnQuYXR0cmlidXRlcykge1xuICAgICAgICByZXR1cm4gQ2FydEpTLmNhcnQuYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXRBdHRyaWJ1dGU6IGZ1bmN0aW9uKGF0dHJpYnV0ZU5hbWUsIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICB2YXIgYXR0cmlidXRlcztcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIENhcnRKUy5Db3JlLnNldEF0dHJpYnV0ZXMoYXR0cmlidXRlcywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXRBdHRyaWJ1dGVzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBDYXJ0SlMuY2FydC5hdHRyaWJ1dGVzO1xuICAgIH0sXG4gICAgc2V0QXR0cmlidXRlczogZnVuY3Rpb24oYXR0cmlidXRlcywgb3B0aW9ucykge1xuICAgICAgaWYgKGF0dHJpYnV0ZXMgPT0gbnVsbCkge1xuICAgICAgICBhdHRyaWJ1dGVzID0ge307XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMudXBkYXRlQ2FydCA9IHRydWU7XG4gICAgICByZXR1cm4gQ2FydEpTLlF1ZXVlLmFkZCgnL2NhcnQvdXBkYXRlLmpzJywgQ2FydEpTLlV0aWxzLndyYXBLZXlzKGF0dHJpYnV0ZXMsICdhdHRyaWJ1dGVzJyksIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgY2xlYXJBdHRyaWJ1dGVzOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMudXBkYXRlQ2FydCA9IHRydWU7XG4gICAgICByZXR1cm4gQ2FydEpTLlF1ZXVlLmFkZCgnL2NhcnQvdXBkYXRlLmpzJywgQ2FydEpTLlV0aWxzLndyYXBLZXlzKENhcnRKUy5Db3JlLmdldEF0dHJpYnV0ZXMoKSwgJ2F0dHJpYnV0ZXMnLCAnJyksIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZ2V0Tm90ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQ2FydEpTLmNhcnQubm90ZTtcbiAgICB9LFxuICAgIHNldE5vdGU6IGZ1bmN0aW9uKG5vdGUsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgb3B0aW9ucy51cGRhdGVDYXJ0ID0gdHJ1ZTtcbiAgICAgIHJldHVybiBDYXJ0SlMuUXVldWUuYWRkKCcvY2FydC91cGRhdGUuanMnLCB7XG4gICAgICAgIG5vdGU6IG5vdGVcbiAgICAgIH0sIG9wdGlvbnMpO1xuICAgIH1cbiAgfTtcblxuICAkZG9jdW1lbnQgPSBqUXVlcnkoZG9jdW1lbnQpO1xuXG4gIENhcnRKUy5EYXRhID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgQ2FydEpTLkRhdGEuc2V0RXZlbnRMaXN0ZW5lcnMoJ29uJyk7XG4gICAgICByZXR1cm4gQ2FydEpTLkRhdGEucmVuZGVyKG51bGwsIENhcnRKUy5jYXJ0KTtcbiAgICB9LFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIENhcnRKUy5EYXRhLnNldEV2ZW50TGlzdGVuZXJzKCdvZmYnKTtcbiAgICB9LFxuICAgIHNldEV2ZW50TGlzdGVuZXJzOiBmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgICRkb2N1bWVudFttZXRob2RdKCdjbGljaycsICdbZGF0YS1jYXJ0LWFkZF0nLCBDYXJ0SlMuRGF0YS5hZGQpO1xuICAgICAgJGRvY3VtZW50W21ldGhvZF0oJ2NsaWNrJywgJ1tkYXRhLWNhcnQtcmVtb3ZlXScsIENhcnRKUy5EYXRhLnJlbW92ZSk7XG4gICAgICAkZG9jdW1lbnRbbWV0aG9kXSgnY2xpY2snLCAnW2RhdGEtY2FydC1yZW1vdmUtaWRdJywgQ2FydEpTLkRhdGEucmVtb3ZlQnlJZCk7XG4gICAgICAkZG9jdW1lbnRbbWV0aG9kXSgnY2xpY2snLCAnW2RhdGEtY2FydC11cGRhdGVdJywgQ2FydEpTLkRhdGEudXBkYXRlKTtcbiAgICAgICRkb2N1bWVudFttZXRob2RdKCdjbGljaycsICdbZGF0YS1jYXJ0LXVwZGF0ZS1pZF0nLCBDYXJ0SlMuRGF0YS51cGRhdGVCeUlkKTtcbiAgICAgICRkb2N1bWVudFttZXRob2RdKCdjbGljaycsICdbZGF0YS1jYXJ0LWNsZWFyXScsIENhcnRKUy5EYXRhLmNsZWFyKTtcbiAgICAgICRkb2N1bWVudFttZXRob2RdKCdjaGFuZ2UnLCAnW2RhdGEtY2FydC10b2dnbGVdJywgQ2FydEpTLkRhdGEudG9nZ2xlKTtcbiAgICAgICRkb2N1bWVudFttZXRob2RdKCdjaGFuZ2UnLCAnW2RhdGEtY2FydC10b2dnbGUtYXR0cmlidXRlXScsIENhcnRKUy5EYXRhLnRvZ2dsZUF0dHJpYnV0ZSk7XG4gICAgICAkZG9jdW1lbnRbbWV0aG9kXSgnc3VibWl0JywgJ1tkYXRhLWNhcnQtc3VibWl0XScsIENhcnRKUy5EYXRhLnN1Ym1pdCk7XG4gICAgICByZXR1cm4gJGRvY3VtZW50W21ldGhvZF0oJ2NhcnQucmVxdWVzdENvbXBsZXRlJywgQ2FydEpTLkRhdGEucmVuZGVyKTtcbiAgICB9LFxuICAgIGFkZDogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyICR0aGlzO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJHRoaXMgPSBqUXVlcnkodGhpcyk7XG4gICAgICByZXR1cm4gQ2FydEpTLkNvcmUuYWRkSXRlbSgkdGhpcy5hdHRyKCdkYXRhLWNhcnQtYWRkJyksICR0aGlzLmF0dHIoJ2RhdGEtY2FydC1xdWFudGl0eScpKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyICR0aGlzO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJHRoaXMgPSBqUXVlcnkodGhpcyk7XG4gICAgICByZXR1cm4gQ2FydEpTLkNvcmUucmVtb3ZlSXRlbSgkdGhpcy5hdHRyKCdkYXRhLWNhcnQtcmVtb3ZlJykpO1xuICAgIH0sXG4gICAgcmVtb3ZlQnlJZDogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyICR0aGlzO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJHRoaXMgPSBqUXVlcnkodGhpcyk7XG4gICAgICByZXR1cm4gQ2FydEpTLkNvcmUucmVtb3ZlSXRlbUJ5SWQoJHRoaXMuYXR0cignZGF0YS1jYXJ0LXJlbW92ZS1pZCcpKTtcbiAgICB9LFxuICAgIHVwZGF0ZTogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyICR0aGlzO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJHRoaXMgPSBqUXVlcnkodGhpcyk7XG4gICAgICByZXR1cm4gQ2FydEpTLkNvcmUudXBkYXRlSXRlbSgkdGhpcy5hdHRyKCdkYXRhLWNhcnQtdXBkYXRlJyksICR0aGlzLmF0dHIoJ2RhdGEtY2FydC1xdWFudGl0eScpKTtcbiAgICB9LFxuICAgIHVwZGF0ZUJ5SWQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciAkdGhpcztcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICR0aGlzID0galF1ZXJ5KHRoaXMpO1xuICAgICAgcmV0dXJuIENhcnRKUy5Db3JlLnVwZGF0ZUl0ZW1CeUlkKCR0aGlzLmF0dHIoJ2RhdGEtY2FydC11cGRhdGUtaWQnKSwgJHRoaXMuYXR0cignZGF0YS1jYXJ0LXF1YW50aXR5JykpO1xuICAgIH0sXG4gICAgY2xlYXI6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiBDYXJ0SlMuQ29yZS5jbGVhcigpO1xuICAgIH0sXG4gICAgdG9nZ2xlOiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgJGlucHV0LCBpZDtcbiAgICAgICRpbnB1dCA9IGpRdWVyeSh0aGlzKTtcbiAgICAgIGlkID0gJGlucHV0LmF0dHIoJ2RhdGEtY2FydC10b2dnbGUnKTtcbiAgICAgIGlmICgkaW5wdXQuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgcmV0dXJuIENhcnRKUy5Db3JlLmFkZEl0ZW0oaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIENhcnRKUy5Db3JlLnJlbW92ZUl0ZW1CeUlkKGlkKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHRvZ2dsZUF0dHJpYnV0ZTogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyICRpbnB1dCwgYXR0cmlidXRlO1xuICAgICAgJGlucHV0ID0galF1ZXJ5KHRoaXMpO1xuICAgICAgYXR0cmlidXRlID0gJGlucHV0LmF0dHIoJ2RhdGEtY2FydC10b2dnbGUtYXR0cmlidXRlJyk7XG4gICAgICByZXR1cm4gQ2FydEpTLkNvcmUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgJGlucHV0LmlzKCc6Y2hlY2tlZCcpID8gJ1llcycgOiAnJyk7XG4gICAgfSxcbiAgICBzdWJtaXQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBkYXRhQXJyYXksIGlkLCBwcm9wZXJ0aWVzLCBxdWFudGl0eTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGRhdGFBcnJheSA9IGpRdWVyeSh0aGlzKS5zZXJpYWxpemVBcnJheSgpO1xuICAgICAgaWQgPSB2b2lkIDA7XG4gICAgICBxdWFudGl0eSA9IHZvaWQgMDtcbiAgICAgIHByb3BlcnRpZXMgPSB7fTtcbiAgICAgIGpRdWVyeS5lYWNoKGRhdGFBcnJheSwgZnVuY3Rpb24oaSwgaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS5uYW1lID09PSAnaWQnKSB7XG4gICAgICAgICAgcmV0dXJuIGlkID0gaXRlbS52YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLm5hbWUgPT09ICdxdWFudGl0eScpIHtcbiAgICAgICAgICByZXR1cm4gcXVhbnRpdHkgPSBpdGVtLnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzW2l0ZW0ubmFtZV0gPSBpdGVtLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBDYXJ0SlMuQ29yZS5hZGRJdGVtKGlkLCBxdWFudGl0eSwgQ2FydEpTLlV0aWxzLnVud3JhcEtleXMocHJvcGVydGllcykpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbihlLCBjYXJ0KSB7XG4gICAgICB2YXIgY29udGV4dDtcbiAgICAgIGNvbnRleHQgPSB7XG4gICAgICAgICdpdGVtX2NvdW50JzogY2FydC5pdGVtX2NvdW50LFxuICAgICAgICAndG90YWxfcHJpY2UnOiBjYXJ0LnRvdGFsX3ByaWNlLFxuICAgICAgICAndG90YWxfcHJpY2VfbW9uZXknOiBDYXJ0SlMuVXRpbHMuZm9ybWF0TW9uZXkoY2FydC50b3RhbF9wcmljZSwgQ2FydEpTLnNldHRpbmdzLm1vbmV5Rm9ybWF0KSxcbiAgICAgICAgJ3RvdGFsX3ByaWNlX21vbmV5X3dpdGhfY3VycmVuY3knOiBDYXJ0SlMuVXRpbHMuZm9ybWF0TW9uZXkoY2FydC50b3RhbF9wcmljZSwgQ2FydEpTLnNldHRpbmdzLm1vbmV5V2l0aEN1cnJlbmN5Rm9ybWF0KVxuICAgICAgfTtcbiAgICAgIHJldHVybiBqUXVlcnkoJ1tkYXRhLWNhcnQtcmVuZGVyXScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkdGhpcztcbiAgICAgICAgJHRoaXMgPSBqUXVlcnkodGhpcyk7XG4gICAgICAgIHJldHVybiAkdGhpcy50ZXh0KGNvbnRleHRbJHRoaXMuYXR0cignZGF0YS1jYXJ0LXJlbmRlcicpXSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKCdyaXZldHMnIGluIHdpbmRvdykge1xuICAgIENhcnRKUy5SaXZldHMgPSB7XG4gICAgICB2aWV3czogW10sXG4gICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIENhcnRKUy5SaXZldHMuYmluZFZpZXdzKCk7XG4gICAgICB9LFxuICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBDYXJ0SlMuUml2ZXRzLnVuYmluZFZpZXdzKCk7XG4gICAgICB9LFxuICAgICAgYmluZFZpZXdzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1vZGVscztcbiAgICAgICAgQ2FydEpTLlV0aWxzLmxvZygnUml2ZXRzLmpzIGlzIHByZXNlbnQsIGJpbmRpbmcgdmlld3MuJyk7XG4gICAgICAgIENhcnRKUy5SaXZldHMudW5iaW5kVmlld3MoKTtcbiAgICAgICAgbW9kZWxzID0gQ2FydEpTLlV0aWxzLmV4dGVuZCh7XG4gICAgICAgICAgY2FydDogQ2FydEpTLmNhcnRcbiAgICAgICAgfSwgQ2FydEpTLnNldHRpbmdzLnJpdmV0c01vZGVscyk7XG4gICAgICAgIHJldHVybiBqUXVlcnkoJ1tkYXRhLWNhcnQtdmlld10nKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBDYXJ0SlMuUml2ZXRzLnZpZXdzLnB1c2gocml2ZXRzLmJpbmQodGhpcywgbW9kZWxzKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHVuYmluZFZpZXdzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZpZXcsIF9pLCBfbGVuLCBfcmVmO1xuICAgICAgICBfcmVmID0gQ2FydEpTLlJpdmV0cy52aWV3cztcbiAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgdmlldyA9IF9yZWZbX2ldO1xuICAgICAgICAgIHZpZXcudW5iaW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENhcnRKUy5SaXZldHMudmlld3MgPSBbXTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJpdmV0cy5mb3JtYXR0ZXJzLmVxID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgfTtcbiAgICByaXZldHMuZm9ybWF0dGVycy5sdCA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHJldHVybiBhIDwgYjtcbiAgICB9O1xuICAgIHJpdmV0cy5mb3JtYXR0ZXJzLmd0ID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIGEgPiBiO1xuICAgIH07XG4gICAgcml2ZXRzLmZvcm1hdHRlcnMubm90ID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuICFhO1xuICAgIH07XG4gICAgcml2ZXRzLmZvcm1hdHRlcnMuZW1wdHkgPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gIWEubGVuZ3RoO1xuICAgIH07XG4gICAgcml2ZXRzLmZvcm1hdHRlcnMucGx1cyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHJldHVybiBwYXJzZUludChhKSArIHBhcnNlSW50KGIpO1xuICAgIH07XG4gICAgcml2ZXRzLmZvcm1hdHRlcnMubWludXMgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQoYSkgLSBwYXJzZUludChiKTtcbiAgICB9O1xuICAgIHJpdmV0cy5mb3JtYXR0ZXJzLnByZXBlbmQgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICByZXR1cm4gYiArIGE7XG4gICAgfTtcbiAgICByaXZldHMuZm9ybWF0dGVycy5hcHBlbmQgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICByZXR1cm4gYSArIGI7XG4gICAgfTtcbiAgICByaXZldHMuZm9ybWF0dGVycy5tb25leSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gQ2FydEpTLlV0aWxzLmZvcm1hdE1vbmV5KHZhbHVlLCBDYXJ0SlMuc2V0dGluZ3MubW9uZXlGb3JtYXQpO1xuICAgIH07XG4gICAgcml2ZXRzLmZvcm1hdHRlcnMubW9uZXlfd2l0aF9jdXJyZW5jeSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gQ2FydEpTLlV0aWxzLmZvcm1hdE1vbmV5KHZhbHVlLCBDYXJ0SlMuc2V0dGluZ3MubW9uZXlXaXRoQ3VycmVuY3lGb3JtYXQpO1xuICAgIH07XG4gICAgcml2ZXRzLmZvcm1hdHRlcnMucHJvZHVjdEltYWdlU2l6ZSA9IGZ1bmN0aW9uKHNyYywgc2l6ZSkge1xuICAgICAgcmV0dXJuIENhcnRKUy5VdGlscy5nZXRTaXplZEltYWdlVXJsKHNyYywgc2l6ZSk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBDYXJ0SlMuUml2ZXRzID0ge1xuICAgICAgaW5pdDogZnVuY3Rpb24oKSB7fSxcbiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge31cbiAgICB9O1xuICB9XG5cbiAgQ2FydEpTLmZhY3RvcnkgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gICAgZXhwb3J0cy5pbml0ID0gQ2FydEpTLmluaXQ7XG4gICAgZXhwb3J0cy5jb25maWd1cmUgPSBDYXJ0SlMuY29uZmlndXJlO1xuICAgIGV4cG9ydHMuY2FydCA9IENhcnRKUy5jYXJ0O1xuICAgIGV4cG9ydHMuc2V0dGluZ3MgPSBDYXJ0SlMuc2V0dGluZ3M7XG4gICAgZXhwb3J0cy5hZGRJdGVtID0gQ2FydEpTLkNvcmUuYWRkSXRlbTtcbiAgICBleHBvcnRzLnVwZGF0ZUl0ZW0gPSBDYXJ0SlMuQ29yZS51cGRhdGVJdGVtO1xuICAgIGV4cG9ydHMudXBkYXRlSXRlbUJ5SWQgPSBDYXJ0SlMuQ29yZS51cGRhdGVJdGVtQnlJZDtcbiAgICBleHBvcnRzLnVwZGF0ZUl0ZW1RdWFudGl0aWVzQnlJZCA9IENhcnRKUy5Db3JlLnVwZGF0ZUl0ZW1RdWFudGl0aWVzQnlJZDtcbiAgICBleHBvcnRzLnJlbW92ZUl0ZW0gPSBDYXJ0SlMuQ29yZS5yZW1vdmVJdGVtO1xuICAgIGV4cG9ydHMuY2xlYXIgPSBDYXJ0SlMuQ29yZS5jbGVhcjtcbiAgICBleHBvcnRzLmdldEF0dHJpYnV0ZSA9IENhcnRKUy5Db3JlLmdldEF0dHJpYnV0ZTtcbiAgICBleHBvcnRzLnNldEF0dHJpYnV0ZSA9IENhcnRKUy5Db3JlLnNldEF0dHJpYnV0ZTtcbiAgICBleHBvcnRzLmdldEF0dHJpYnV0ZXMgPSBDYXJ0SlMuQ29yZS5nZXRBdHRyaWJ1dGVzO1xuICAgIGV4cG9ydHMuc2V0QXR0cmlidXRlcyA9IENhcnRKUy5Db3JlLnNldEF0dHJpYnV0ZXM7XG4gICAgZXhwb3J0cy5jbGVhckF0dHJpYnV0ZXMgPSBDYXJ0SlMuQ29yZS5jbGVhckF0dHJpYnV0ZXM7XG4gICAgZXhwb3J0cy5nZXROb3RlID0gQ2FydEpTLkNvcmUuZ2V0Tm90ZTtcbiAgICByZXR1cm4gZXhwb3J0cy5zZXROb3RlID0gQ2FydEpTLkNvcmUuc2V0Tm90ZTtcbiAgfTtcblxuICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgQ2FydEpTLmZhY3RvcnkoZXhwb3J0cyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKFsnZXhwb3J0cyddLCBmdW5jdGlvbihleHBvcnRzKSB7XG4gICAgICBDYXJ0SlMuZmFjdG9yeSh0aGlzLkNhcnRKUyA9IGV4cG9ydHMpO1xuICAgICAgcmV0dXJuIGV4cG9ydHM7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgQ2FydEpTLmZhY3RvcnkodGhpcy5DYXJ0SlMgPSB7fSk7XG4gIH1cblxufSkuY2FsbCh0aGlzKTtcbiIsIi8qIVxuICogaW1hZ2VzTG9hZGVkIHYzLjEuOFxuICogSmF2YVNjcmlwdCBpcyBhbGwgbGlrZSBcIllvdSBpbWFnZXMgYXJlIGRvbmUgeWV0IG9yIHdoYXQ/XCJcbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkgeyAndXNlIHN0cmljdCc7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuXG4gIC8qZ2xvYmFsIGRlZmluZTogZmFsc2UsIG1vZHVsZTogZmFsc2UsIHJlcXVpcmU6IGZhbHNlICovXG5cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAnZXZlbnRFbWl0dGVyL0V2ZW50RW1pdHRlcicsXG4gICAgICAnZXZlbnRpZS9ldmVudGllJ1xuICAgIF0sIGZ1bmN0aW9uKCBFdmVudEVtaXR0ZXIsIGV2ZW50aWUgKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBFdmVudEVtaXR0ZXIsIGV2ZW50aWUgKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgcmVxdWlyZSgnd29sZnk4Ny1ldmVudGVtaXR0ZXInKSxcbiAgICAgIHJlcXVpcmUoJ2V2ZW50aWUnKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuaW1hZ2VzTG9hZGVkID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHdpbmRvdy5FdmVudEVtaXR0ZXIsXG4gICAgICB3aW5kb3cuZXZlbnRpZVxuICAgICk7XG4gIH1cblxufSkoIHdpbmRvdyxcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIGZhY3RvcnkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBFdmVudEVtaXR0ZXIsIGV2ZW50aWUgKSB7XG5cbid1c2Ugc3RyaWN0JztcblxudmFyICQgPSB3aW5kb3cualF1ZXJ5O1xudmFyIGNvbnNvbGUgPSB3aW5kb3cuY29uc29sZTtcbnZhciBoYXNDb25zb2xlID0gdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBoZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIGV4dGVuZCBvYmplY3RzXG5mdW5jdGlvbiBleHRlbmQoIGEsIGIgKSB7XG4gIGZvciAoIHZhciBwcm9wIGluIGIgKSB7XG4gICAgYVsgcHJvcCBdID0gYlsgcHJvcCBdO1xuICB9XG4gIHJldHVybiBhO1xufVxuXG52YXIgb2JqVG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuZnVuY3Rpb24gaXNBcnJheSggb2JqICkge1xuICByZXR1cm4gb2JqVG9TdHJpbmcuY2FsbCggb2JqICkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8vIHR1cm4gZWxlbWVudCBvciBub2RlTGlzdCBpbnRvIGFuIGFycmF5XG5mdW5jdGlvbiBtYWtlQXJyYXkoIG9iaiApIHtcbiAgdmFyIGFyeSA9IFtdO1xuICBpZiAoIGlzQXJyYXkoIG9iaiApICkge1xuICAgIC8vIHVzZSBvYmplY3QgaWYgYWxyZWFkeSBhbiBhcnJheVxuICAgIGFyeSA9IG9iajtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG9iai5sZW5ndGggPT09ICdudW1iZXInICkge1xuICAgIC8vIGNvbnZlcnQgbm9kZUxpc3QgdG8gYXJyYXlcbiAgICBmb3IgKCB2YXIgaT0wLCBsZW4gPSBvYmoubGVuZ3RoOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgICBhcnkucHVzaCggb2JqW2ldICk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGFycmF5IG9mIHNpbmdsZSBpbmRleFxuICAgIGFyeS5wdXNoKCBvYmogKTtcbiAgfVxuICByZXR1cm4gYXJ5O1xufVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGltYWdlc0xvYWRlZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5LCBFbGVtZW50LCBOb2RlTGlzdCwgU3RyaW5nfSBlbGVtXG4gICAqIEBwYXJhbSB7T2JqZWN0IG9yIEZ1bmN0aW9ufSBvcHRpb25zIC0gaWYgZnVuY3Rpb24sIHVzZSBhcyBjYWxsYmFja1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkFsd2F5cyAtIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBJbWFnZXNMb2FkZWQoIGVsZW0sIG9wdGlvbnMsIG9uQWx3YXlzICkge1xuICAgIC8vIGNvZXJjZSBJbWFnZXNMb2FkZWQoKSB3aXRob3V0IG5ldywgdG8gYmUgbmV3IEltYWdlc0xvYWRlZCgpXG4gICAgaWYgKCAhKCB0aGlzIGluc3RhbmNlb2YgSW1hZ2VzTG9hZGVkICkgKSB7XG4gICAgICByZXR1cm4gbmV3IEltYWdlc0xvYWRlZCggZWxlbSwgb3B0aW9ucyApO1xuICAgIH1cbiAgICAvLyB1c2UgZWxlbSBhcyBzZWxlY3RvciBzdHJpbmdcbiAgICBpZiAoIHR5cGVvZiBlbGVtID09PSAnc3RyaW5nJyApIHtcbiAgICAgIGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCBlbGVtICk7XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtZW50cyA9IG1ha2VBcnJheSggZWxlbSApO1xuICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZCgge30sIHRoaXMub3B0aW9ucyApO1xuXG4gICAgaWYgKCB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJyApIHtcbiAgICAgIG9uQWx3YXlzID0gb3B0aW9ucztcbiAgICB9IGVsc2Uge1xuICAgICAgZXh0ZW5kKCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMgKTtcbiAgICB9XG5cbiAgICBpZiAoIG9uQWx3YXlzICkge1xuICAgICAgdGhpcy5vbiggJ2Fsd2F5cycsIG9uQWx3YXlzICk7XG4gICAgfVxuXG4gICAgdGhpcy5nZXRJbWFnZXMoKTtcblxuICAgIGlmICggJCApIHtcbiAgICAgIC8vIGFkZCBqUXVlcnkgRGVmZXJyZWQgb2JqZWN0XG4gICAgICB0aGlzLmpxRGVmZXJyZWQgPSBuZXcgJC5EZWZlcnJlZCgpO1xuICAgIH1cblxuICAgIC8vIEhBQ0sgY2hlY2sgYXN5bmMgdG8gYWxsb3cgdGltZSB0byBiaW5kIGxpc3RlbmVyc1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICBfdGhpcy5jaGVjaygpO1xuICAgIH0pO1xuICB9XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLm9wdGlvbnMgPSB7fTtcblxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLmdldEltYWdlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW1hZ2VzID0gW107XG5cbiAgICAvLyBmaWx0ZXIgJiBmaW5kIGl0ZW1zIGlmIHdlIGhhdmUgYW4gaXRlbSBzZWxlY3RvclxuICAgIGZvciAoIHZhciBpPTAsIGxlbiA9IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgICB2YXIgZWxlbSA9IHRoaXMuZWxlbWVudHNbaV07XG4gICAgICAvLyBmaWx0ZXIgc2libGluZ3NcbiAgICAgIGlmICggZWxlbS5ub2RlTmFtZSA9PT0gJ0lNRycgKSB7XG4gICAgICAgIHRoaXMuYWRkSW1hZ2UoIGVsZW0gKTtcbiAgICAgIH1cbiAgICAgIC8vIGZpbmQgY2hpbGRyZW5cbiAgICAgIC8vIG5vIG5vbi1lbGVtZW50IG5vZGVzLCAjMTQzXG4gICAgICB2YXIgbm9kZVR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuICAgICAgaWYgKCAhbm9kZVR5cGUgfHwgISggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDkgfHwgbm9kZVR5cGUgPT09IDExICkgKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIGNoaWxkRWxlbXMgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpO1xuICAgICAgLy8gY29uY2F0IGNoaWxkRWxlbXMgdG8gZmlsdGVyRm91bmQgYXJyYXlcbiAgICAgIGZvciAoIHZhciBqPTAsIGpMZW4gPSBjaGlsZEVsZW1zLmxlbmd0aDsgaiA8IGpMZW47IGorKyApIHtcbiAgICAgICAgdmFyIGltZyA9IGNoaWxkRWxlbXNbal07XG4gICAgICAgIHRoaXMuYWRkSW1hZ2UoIGltZyApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtJbWFnZX0gaW1nXG4gICAqL1xuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLmFkZEltYWdlID0gZnVuY3Rpb24oIGltZyApIHtcbiAgICB2YXIgbG9hZGluZ0ltYWdlID0gbmV3IExvYWRpbmdJbWFnZSggaW1nICk7XG4gICAgdGhpcy5pbWFnZXMucHVzaCggbG9hZGluZ0ltYWdlICk7XG4gIH07XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGNoZWNrZWRDb3VudCA9IDA7XG4gICAgdmFyIGxlbmd0aCA9IHRoaXMuaW1hZ2VzLmxlbmd0aDtcbiAgICB0aGlzLmhhc0FueUJyb2tlbiA9IGZhbHNlO1xuICAgIC8vIGNvbXBsZXRlIGlmIG5vIGltYWdlc1xuICAgIGlmICggIWxlbmd0aCApIHtcbiAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkNvbmZpcm0oIGltYWdlLCBtZXNzYWdlICkge1xuICAgICAgaWYgKCBfdGhpcy5vcHRpb25zLmRlYnVnICYmIGhhc0NvbnNvbGUgKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCAnY29uZmlybScsIGltYWdlLCBtZXNzYWdlICk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnByb2dyZXNzKCBpbWFnZSApO1xuICAgICAgY2hlY2tlZENvdW50Kys7XG4gICAgICBpZiAoIGNoZWNrZWRDb3VudCA9PT0gbGVuZ3RoICkge1xuICAgICAgICBfdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7IC8vIGJpbmQgb25jZVxuICAgIH1cblxuICAgIGZvciAoIHZhciBpPTA7IGkgPCBsZW5ndGg7IGkrKyApIHtcbiAgICAgIHZhciBsb2FkaW5nSW1hZ2UgPSB0aGlzLmltYWdlc1tpXTtcbiAgICAgIGxvYWRpbmdJbWFnZS5vbiggJ2NvbmZpcm0nLCBvbkNvbmZpcm0gKTtcbiAgICAgIGxvYWRpbmdJbWFnZS5jaGVjaygpO1xuICAgIH1cbiAgfTtcblxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24oIGltYWdlICkge1xuICAgIHRoaXMuaGFzQW55QnJva2VuID0gdGhpcy5oYXNBbnlCcm9rZW4gfHwgIWltYWdlLmlzTG9hZGVkO1xuICAgIC8vIEhBQ0sgLSBDaHJvbWUgdHJpZ2dlcnMgZXZlbnQgYmVmb3JlIG9iamVjdCBwcm9wZXJ0aWVzIGhhdmUgY2hhbmdlZC4gIzgzXG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgIF90aGlzLmVtaXQoICdwcm9ncmVzcycsIF90aGlzLCBpbWFnZSApO1xuICAgICAgaWYgKCBfdGhpcy5qcURlZmVycmVkICYmIF90aGlzLmpxRGVmZXJyZWQubm90aWZ5ICkge1xuICAgICAgICBfdGhpcy5qcURlZmVycmVkLm5vdGlmeSggX3RoaXMsIGltYWdlICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBldmVudE5hbWUgPSB0aGlzLmhhc0FueUJyb2tlbiA/ICdmYWlsJyA6ICdkb25lJztcbiAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgLy8gSEFDSyAtIGFub3RoZXIgc2V0VGltZW91dCBzbyB0aGF0IGNvbmZpcm0gaGFwcGVucyBhZnRlciBwcm9ncmVzc1xuICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgX3RoaXMuZW1pdCggZXZlbnROYW1lLCBfdGhpcyApO1xuICAgICAgX3RoaXMuZW1pdCggJ2Fsd2F5cycsIF90aGlzICk7XG4gICAgICBpZiAoIF90aGlzLmpxRGVmZXJyZWQgKSB7XG4gICAgICAgIHZhciBqcU1ldGhvZCA9IF90aGlzLmhhc0FueUJyb2tlbiA/ICdyZWplY3QnIDogJ3Jlc29sdmUnO1xuICAgICAgICBfdGhpcy5qcURlZmVycmVkWyBqcU1ldGhvZCBdKCBfdGhpcyApO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGpxdWVyeSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIGlmICggJCApIHtcbiAgICAkLmZuLmltYWdlc0xvYWRlZCA9IGZ1bmN0aW9uKCBvcHRpb25zLCBjYWxsYmFjayApIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBJbWFnZXNMb2FkZWQoIHRoaXMsIG9wdGlvbnMsIGNhbGxiYWNrICk7XG4gICAgICByZXR1cm4gaW5zdGFuY2UuanFEZWZlcnJlZC5wcm9taXNlKCAkKHRoaXMpICk7XG4gICAgfTtcbiAgfVxuXG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgZnVuY3Rpb24gTG9hZGluZ0ltYWdlKCBpbWcgKSB7XG4gICAgdGhpcy5pbWcgPSBpbWc7XG4gIH1cblxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBmaXJzdCBjaGVjayBjYWNoZWQgYW55IHByZXZpb3VzIGltYWdlcyB0aGF0IGhhdmUgc2FtZSBzcmNcbiAgICB2YXIgcmVzb3VyY2UgPSBjYWNoZVsgdGhpcy5pbWcuc3JjIF0gfHwgbmV3IFJlc291cmNlKCB0aGlzLmltZy5zcmMgKTtcbiAgICBpZiAoIHJlc291cmNlLmlzQ29uZmlybWVkICkge1xuICAgICAgdGhpcy5jb25maXJtKCByZXNvdXJjZS5pc0xvYWRlZCwgJ2NhY2hlZCB3YXMgY29uZmlybWVkJyApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIGNvbXBsZXRlIGlzIHRydWUgYW5kIGJyb3dzZXIgc3VwcG9ydHMgbmF0dXJhbCBzaXplcyxcbiAgICAvLyB0cnkgdG8gY2hlY2sgZm9yIGltYWdlIHN0YXR1cyBtYW51YWxseS5cbiAgICBpZiAoIHRoaXMuaW1nLmNvbXBsZXRlICYmIHRoaXMuaW1nLm5hdHVyYWxXaWR0aCAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgLy8gcmVwb3J0IGJhc2VkIG9uIG5hdHVyYWxXaWR0aFxuICAgICAgdGhpcy5jb25maXJtKCB0aGlzLmltZy5uYXR1cmFsV2lkdGggIT09IDAsICduYXR1cmFsV2lkdGgnICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgbm9uZSBvZiB0aGUgY2hlY2tzIGFib3ZlIG1hdGNoZWQsIHNpbXVsYXRlIGxvYWRpbmcgb24gZGV0YWNoZWQgZWxlbWVudC5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHJlc291cmNlLm9uKCAnY29uZmlybScsIGZ1bmN0aW9uKCByZXNyYywgbWVzc2FnZSApIHtcbiAgICAgIF90aGlzLmNvbmZpcm0oIHJlc3JjLmlzTG9hZGVkLCBtZXNzYWdlICk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHJlc291cmNlLmNoZWNrKCk7XG4gIH07XG5cbiAgTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24oIGlzTG9hZGVkLCBtZXNzYWdlICkge1xuICAgIHRoaXMuaXNMb2FkZWQgPSBpc0xvYWRlZDtcbiAgICB0aGlzLmVtaXQoICdjb25maXJtJywgdGhpcywgbWVzc2FnZSApO1xuICB9O1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFJlc291cmNlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgLy8gUmVzb3VyY2UgY2hlY2tzIGVhY2ggc3JjLCBvbmx5IG9uY2VcbiAgLy8gc2VwYXJhdGUgY2xhc3MgZnJvbSBMb2FkaW5nSW1hZ2UgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuIFNlZSAjMTE1XG5cbiAgdmFyIGNhY2hlID0ge307XG5cbiAgZnVuY3Rpb24gUmVzb3VyY2UoIHNyYyApIHtcbiAgICB0aGlzLnNyYyA9IHNyYztcbiAgICAvLyBhZGQgdG8gY2FjaGVcbiAgICBjYWNoZVsgc3JjIF0gPSB0aGlzO1xuICB9XG5cbiAgUmVzb3VyY2UucHJvdG90eXBlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIFJlc291cmNlLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIG9ubHkgdHJpZ2dlciBjaGVja2luZyBvbmNlXG4gICAgaWYgKCB0aGlzLmlzQ2hlY2tlZCApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gc2ltdWxhdGUgbG9hZGluZyBvbiBkZXRhY2hlZCBlbGVtZW50XG4gICAgdmFyIHByb3h5SW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICBldmVudGllLmJpbmQoIHByb3h5SW1hZ2UsICdsb2FkJywgdGhpcyApO1xuICAgIGV2ZW50aWUuYmluZCggcHJveHlJbWFnZSwgJ2Vycm9yJywgdGhpcyApO1xuICAgIHByb3h5SW1hZ2Uuc3JjID0gdGhpcy5zcmM7XG4gICAgLy8gc2V0IGZsYWdcbiAgICB0aGlzLmlzQ2hlY2tlZCA9IHRydWU7XG4gIH07XG5cbiAgLy8gLS0tLS0gZXZlbnRzIC0tLS0tIC8vXG5cbiAgLy8gdHJpZ2dlciBzcGVjaWZpZWQgaGFuZGxlciBmb3IgZXZlbnQgdHlwZVxuICBSZXNvdXJjZS5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgdmFyIG1ldGhvZCA9ICdvbicgKyBldmVudC50eXBlO1xuICAgIGlmICggdGhpc1sgbWV0aG9kIF0gKSB7XG4gICAgICB0aGlzWyBtZXRob2QgXSggZXZlbnQgKTtcbiAgICB9XG4gIH07XG5cbiAgUmVzb3VyY2UucHJvdG90eXBlLm9ubG9hZCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgICB0aGlzLmNvbmZpcm0oIHRydWUsICdvbmxvYWQnICk7XG4gICAgdGhpcy51bmJpbmRQcm94eUV2ZW50cyggZXZlbnQgKTtcbiAgfTtcblxuICBSZXNvdXJjZS5wcm90b3R5cGUub25lcnJvciA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgICB0aGlzLmNvbmZpcm0oIGZhbHNlLCAnb25lcnJvcicgKTtcbiAgICB0aGlzLnVuYmluZFByb3h5RXZlbnRzKCBldmVudCApO1xuICB9O1xuXG4gIC8vIC0tLS0tIGNvbmZpcm0gLS0tLS0gLy9cblxuICBSZXNvdXJjZS5wcm90b3R5cGUuY29uZmlybSA9IGZ1bmN0aW9uKCBpc0xvYWRlZCwgbWVzc2FnZSApIHtcbiAgICB0aGlzLmlzQ29uZmlybWVkID0gdHJ1ZTtcbiAgICB0aGlzLmlzTG9hZGVkID0gaXNMb2FkZWQ7XG4gICAgdGhpcy5lbWl0KCAnY29uZmlybScsIHRoaXMsIG1lc3NhZ2UgKTtcbiAgfTtcblxuICBSZXNvdXJjZS5wcm90b3R5cGUudW5iaW5kUHJveHlFdmVudHMgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgZXZlbnRpZS51bmJpbmQoIGV2ZW50LnRhcmdldCwgJ2xvYWQnLCB0aGlzICk7XG4gICAgZXZlbnRpZS51bmJpbmQoIGV2ZW50LnRhcmdldCwgJ2Vycm9yJywgdGhpcyApO1xuICB9O1xuXG4gIC8vIC0tLS0tICAtLS0tLSAvL1xuXG4gIHJldHVybiBJbWFnZXNMb2FkZWQ7XG5cbn0pO1xuIiwiLyohXG4gKiBldmVudGllIHYxLjAuNlxuICogZXZlbnQgYmluZGluZyBoZWxwZXJcbiAqICAgZXZlbnRpZS5iaW5kKCBlbGVtLCAnY2xpY2snLCBteUZuIClcbiAqICAgZXZlbnRpZS51bmJpbmQoIGVsZW0sICdjbGljaycsIG15Rm4gKVxuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCB1bmRlZjogdHJ1ZSwgdW51c2VkOiB0cnVlICovXG4vKmdsb2JhbCBkZWZpbmU6IGZhbHNlLCBtb2R1bGU6IGZhbHNlICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdyApIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxudmFyIGJpbmQgPSBmdW5jdGlvbigpIHt9O1xuXG5mdW5jdGlvbiBnZXRJRUV2ZW50KCBvYmogKSB7XG4gIHZhciBldmVudCA9IHdpbmRvdy5ldmVudDtcbiAgLy8gYWRkIGV2ZW50LnRhcmdldFxuICBldmVudC50YXJnZXQgPSBldmVudC50YXJnZXQgfHwgZXZlbnQuc3JjRWxlbWVudCB8fCBvYmo7XG4gIHJldHVybiBldmVudDtcbn1cblxuaWYgKCBkb2NFbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7XG4gIGJpbmQgPSBmdW5jdGlvbiggb2JqLCB0eXBlLCBmbiApIHtcbiAgICBvYmouYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgZm4sIGZhbHNlICk7XG4gIH07XG59IGVsc2UgaWYgKCBkb2NFbGVtLmF0dGFjaEV2ZW50ICkge1xuICBiaW5kID0gZnVuY3Rpb24oIG9iaiwgdHlwZSwgZm4gKSB7XG4gICAgb2JqWyB0eXBlICsgZm4gXSA9IGZuLmhhbmRsZUV2ZW50ID9cbiAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZXZlbnQgPSBnZXRJRUV2ZW50KCBvYmogKTtcbiAgICAgICAgZm4uaGFuZGxlRXZlbnQuY2FsbCggZm4sIGV2ZW50ICk7XG4gICAgICB9IDpcbiAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZXZlbnQgPSBnZXRJRUV2ZW50KCBvYmogKTtcbiAgICAgICAgZm4uY2FsbCggb2JqLCBldmVudCApO1xuICAgICAgfTtcbiAgICBvYmouYXR0YWNoRXZlbnQoIFwib25cIiArIHR5cGUsIG9ialsgdHlwZSArIGZuIF0gKTtcbiAgfTtcbn1cblxudmFyIHVuYmluZCA9IGZ1bmN0aW9uKCkge307XG5cbmlmICggZG9jRWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkge1xuICB1bmJpbmQgPSBmdW5jdGlvbiggb2JqLCB0eXBlLCBmbiApIHtcbiAgICBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgZm4sIGZhbHNlICk7XG4gIH07XG59IGVsc2UgaWYgKCBkb2NFbGVtLmRldGFjaEV2ZW50ICkge1xuICB1bmJpbmQgPSBmdW5jdGlvbiggb2JqLCB0eXBlLCBmbiApIHtcbiAgICBvYmouZGV0YWNoRXZlbnQoIFwib25cIiArIHR5cGUsIG9ialsgdHlwZSArIGZuIF0gKTtcbiAgICB0cnkge1xuICAgICAgZGVsZXRlIG9ialsgdHlwZSArIGZuIF07XG4gICAgfSBjYXRjaCAoIGVyciApIHtcbiAgICAgIC8vIGNhbid0IGRlbGV0ZSB3aW5kb3cgb2JqZWN0IHByb3BlcnRpZXNcbiAgICAgIG9ialsgdHlwZSArIGZuIF0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xufVxuXG52YXIgZXZlbnRpZSA9IHtcbiAgYmluZDogYmluZCxcbiAgdW5iaW5kOiB1bmJpbmRcbn07XG5cbi8vIC0tLS0tIG1vZHVsZSBkZWZpbml0aW9uIC0tLS0tIC8vXG5cbmlmICggdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAvLyBBTURcbiAgZGVmaW5lKCBldmVudGllICk7XG59IGVsc2UgaWYgKCB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgKSB7XG4gIC8vIENvbW1vbkpTXG4gIG1vZHVsZS5leHBvcnRzID0gZXZlbnRpZTtcbn0gZWxzZSB7XG4gIC8vIGJyb3dzZXIgZ2xvYmFsXG4gIHdpbmRvdy5ldmVudGllID0gZXZlbnRpZTtcbn1cblxufSkoIHdpbmRvdyApO1xuIiwiLyohXG4gKiBFdmVudEVtaXR0ZXIgdjQuMi4xMSAtIGdpdC5pby9lZVxuICogVW5saWNlbnNlIC0gaHR0cDovL3VubGljZW5zZS5vcmcvXG4gKiBPbGl2ZXIgQ2FsZHdlbGwgLSBodHRwOi8vb2xpLm1lLnVrL1xuICogQHByZXNlcnZlXG4gKi9cblxuOyhmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogQ2xhc3MgZm9yIG1hbmFnaW5nIGV2ZW50cy5cbiAgICAgKiBDYW4gYmUgZXh0ZW5kZWQgdG8gcHJvdmlkZSBldmVudCBmdW5jdGlvbmFsaXR5IGluIG90aGVyIGNsYXNzZXMuXG4gICAgICpcbiAgICAgKiBAY2xhc3MgRXZlbnRFbWl0dGVyIE1hbmFnZXMgZXZlbnQgcmVnaXN0ZXJpbmcgYW5kIGVtaXR0aW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHt9XG5cbiAgICAvLyBTaG9ydGN1dHMgdG8gaW1wcm92ZSBzcGVlZCBhbmQgc2l6ZVxuICAgIHZhciBwcm90byA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGU7XG4gICAgdmFyIGV4cG9ydHMgPSB0aGlzO1xuICAgIHZhciBvcmlnaW5hbEdsb2JhbFZhbHVlID0gZXhwb3J0cy5FdmVudEVtaXR0ZXI7XG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIGxpc3RlbmVyIGZvciB0aGUgZXZlbnQgaW4gaXRzIHN0b3JhZ2UgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW119IGxpc3RlbmVycyBBcnJheSBvZiBsaXN0ZW5lcnMgdG8gc2VhcmNoIHRocm91Z2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgTWV0aG9kIHRvIGxvb2sgZm9yLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gSW5kZXggb2YgdGhlIHNwZWNpZmllZCBsaXN0ZW5lciwgLTEgaWYgbm90IGZvdW5kXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVycywgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIGkgPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzW2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIGEgbWV0aG9kIHdoaWxlIGtlZXBpbmcgdGhlIGNvbnRleHQgY29ycmVjdCwgdG8gYWxsb3cgZm9yIG92ZXJ3cml0aW5nIG9mIHRhcmdldCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgdGFyZ2V0IG1ldGhvZC5cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIGFsaWFzZWQgbWV0aG9kXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWxpYXMobmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gYWxpYXNDbG9zdXJlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbbmFtZV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0ZW5lciBhcnJheSBmb3IgdGhlIHNwZWNpZmllZCBldmVudC5cbiAgICAgKiBXaWxsIGluaXRpYWxpc2UgdGhlIGV2ZW50IG9iamVjdCBhbmQgbGlzdGVuZXIgYXJyYXlzIGlmIHJlcXVpcmVkLlxuICAgICAqIFdpbGwgcmV0dXJuIGFuIG9iamVjdCBpZiB5b3UgdXNlIGEgcmVnZXggc2VhcmNoLiBUaGUgb2JqZWN0IGNvbnRhaW5zIGtleXMgZm9yIGVhY2ggbWF0Y2hlZCBldmVudC4gU28gL2JhW3J6XS8gbWlnaHQgcmV0dXJuIGFuIG9iamVjdCBjb250YWluaW5nIGJhciBhbmQgYmF6LiBCdXQgb25seSBpZiB5b3UgaGF2ZSBlaXRoZXIgZGVmaW5lZCB0aGVtIHdpdGggZGVmaW5lRXZlbnQgb3IgYWRkZWQgc29tZSBsaXN0ZW5lcnMgdG8gdGhlbS5cbiAgICAgKiBFYWNoIHByb3BlcnR5IGluIHRoZSBvYmplY3QgcmVzcG9uc2UgaXMgYW4gYXJyYXkgb2YgbGlzdGVuZXIgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gcmV0dXJuIHRoZSBsaXN0ZW5lcnMgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbltdfE9iamVjdH0gQWxsIGxpc3RlbmVyIGZ1bmN0aW9ucyBmb3IgdGhlIGV2ZW50LlxuICAgICAqL1xuICAgIHByb3RvLmdldExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldExpc3RlbmVycyhldnQpIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMuX2dldEV2ZW50cygpO1xuICAgICAgICB2YXIgcmVzcG9uc2U7XG4gICAgICAgIHZhciBrZXk7XG5cbiAgICAgICAgLy8gUmV0dXJuIGEgY29uY2F0ZW5hdGVkIGFycmF5IG9mIGFsbCBtYXRjaGluZyBldmVudHMgaWZcbiAgICAgICAgLy8gdGhlIHNlbGVjdG9yIGlzIGEgcmVndWxhciBleHByZXNzaW9uLlxuICAgICAgICBpZiAoZXZ0IGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IHt9O1xuICAgICAgICAgICAgZm9yIChrZXkgaW4gZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGV2dC50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2Vba2V5XSA9IGV2ZW50c1trZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gZXZlbnRzW2V2dF0gfHwgKGV2ZW50c1tldnRdID0gW10pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIGxpc3Qgb2YgbGlzdGVuZXIgb2JqZWN0cyBhbmQgZmxhdHRlbnMgaXQgaW50byBhIGxpc3Qgb2YgbGlzdGVuZXIgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gbGlzdGVuZXJzIFJhdyBsaXN0ZW5lciBvYmplY3RzLlxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9uW119IEp1c3QgdGhlIGxpc3RlbmVyIGZ1bmN0aW9ucy5cbiAgICAgKi9cbiAgICBwcm90by5mbGF0dGVuTGlzdGVuZXJzID0gZnVuY3Rpb24gZmxhdHRlbkxpc3RlbmVycyhsaXN0ZW5lcnMpIHtcbiAgICAgICAgdmFyIGZsYXRMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgZmxhdExpc3RlbmVycy5wdXNoKGxpc3RlbmVyc1tpXS5saXN0ZW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmxhdExpc3RlbmVycztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB0aGUgcmVxdWVzdGVkIGxpc3RlbmVycyB2aWEgZ2V0TGlzdGVuZXJzIGJ1dCB3aWxsIGFsd2F5cyByZXR1cm4gdGhlIHJlc3VsdHMgaW5zaWRlIGFuIG9iamVjdC4gVGhpcyBpcyBtYWlubHkgZm9yIGludGVybmFsIHVzZSBidXQgb3RoZXJzIG1heSBmaW5kIGl0IHVzZWZ1bC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIHJldHVybiB0aGUgbGlzdGVuZXJzIGZyb20uXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBBbGwgbGlzdGVuZXIgZnVuY3Rpb25zIGZvciBhbiBldmVudCBpbiBhbiBvYmplY3QuXG4gICAgICovXG4gICAgcHJvdG8uZ2V0TGlzdGVuZXJzQXNPYmplY3QgPSBmdW5jdGlvbiBnZXRMaXN0ZW5lcnNBc09iamVjdChldnQpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzKGV2dCk7XG4gICAgICAgIHZhciByZXNwb25zZTtcblxuICAgICAgICBpZiAobGlzdGVuZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0ge307XG4gICAgICAgICAgICByZXNwb25zZVtldnRdID0gbGlzdGVuZXJzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlIHx8IGxpc3RlbmVycztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gICAgICogVGhlIGxpc3RlbmVyIHdpbGwgbm90IGJlIGFkZGVkIGlmIGl0IGlzIGEgZHVwbGljYXRlLlxuICAgICAqIElmIHRoZSBsaXN0ZW5lciByZXR1cm5zIHRydWUgdGhlbiBpdCB3aWxsIGJlIHJlbW92ZWQgYWZ0ZXIgaXQgaXMgY2FsbGVkLlxuICAgICAqIElmIHlvdSBwYXNzIGEgcmVndWxhciBleHByZXNzaW9uIGFzIHRoZSBldmVudCBuYW1lIHRoZW4gdGhlIGxpc3RlbmVyIHdpbGwgYmUgYWRkZWQgdG8gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gYXR0YWNoIHRoZSBsaXN0ZW5lciB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBNZXRob2QgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIHRydWUgdGhlbiBpdCB3aWxsIGJlIHJlbW92ZWQgYWZ0ZXIgY2FsbGluZy5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKGV2dCwgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KTtcbiAgICAgICAgdmFyIGxpc3RlbmVySXNXcmFwcGVkID0gdHlwZW9mIGxpc3RlbmVyID09PSAnb2JqZWN0JztcbiAgICAgICAgdmFyIGtleTtcblxuICAgICAgICBmb3IgKGtleSBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBpbmRleE9mTGlzdGVuZXIobGlzdGVuZXJzW2tleV0sIGxpc3RlbmVyKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnNba2V5XS5wdXNoKGxpc3RlbmVySXNXcmFwcGVkID8gbGlzdGVuZXIgOiB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lcixcbiAgICAgICAgICAgICAgICAgICAgb25jZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBvZiBhZGRMaXN0ZW5lclxuICAgICAqL1xuICAgIHByb3RvLm9uID0gYWxpYXMoJ2FkZExpc3RlbmVyJyk7XG5cbiAgICAvKipcbiAgICAgKiBTZW1pLWFsaWFzIG9mIGFkZExpc3RlbmVyLiBJdCB3aWxsIGFkZCBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZVxuICAgICAqIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCBhZnRlciBpdHMgZmlyc3QgZXhlY3V0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gYXR0YWNoIHRoZSBsaXN0ZW5lciB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBNZXRob2QgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIHRydWUgdGhlbiBpdCB3aWxsIGJlIHJlbW92ZWQgYWZ0ZXIgY2FsbGluZy5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5hZGRPbmNlTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRPbmNlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRMaXN0ZW5lcihldnQsIHtcbiAgICAgICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lcixcbiAgICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWFzIG9mIGFkZE9uY2VMaXN0ZW5lci5cbiAgICAgKi9cbiAgICBwcm90by5vbmNlID0gYWxpYXMoJ2FkZE9uY2VMaXN0ZW5lcicpO1xuXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyBhbiBldmVudCBuYW1lLiBUaGlzIGlzIHJlcXVpcmVkIGlmIHlvdSB3YW50IHRvIHVzZSBhIHJlZ2V4IHRvIGFkZCBhIGxpc3RlbmVyIHRvIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBJZiB5b3UgZG9uJ3QgZG8gdGhpcyB0aGVuIGhvdyBkbyB5b3UgZXhwZWN0IGl0IHRvIGtub3cgd2hhdCBldmVudCB0byBhZGQgdG8/IFNob3VsZCBpdCBqdXN0IGFkZCB0byBldmVyeSBwb3NzaWJsZSBtYXRjaCBmb3IgYSByZWdleD8gTm8uIFRoYXQgaXMgc2NhcnkgYW5kIGJhZC5cbiAgICAgKiBZb3UgbmVlZCB0byB0ZWxsIGl0IHdoYXQgZXZlbnQgbmFtZXMgc2hvdWxkIGJlIG1hdGNoZWQgYnkgYSByZWdleC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gY3JlYXRlLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmRlZmluZUV2ZW50ID0gZnVuY3Rpb24gZGVmaW5lRXZlbnQoZXZ0KSB7XG4gICAgICAgIHRoaXMuZ2V0TGlzdGVuZXJzKGV2dCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGRlZmluZUV2ZW50IHRvIGRlZmluZSBtdWx0aXBsZSBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBldnRzIEFuIGFycmF5IG9mIGV2ZW50IG5hbWVzIHRvIGRlZmluZS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5kZWZpbmVFdmVudHMgPSBmdW5jdGlvbiBkZWZpbmVFdmVudHMoZXZ0cykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2dHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmaW5lRXZlbnQoZXZ0c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBsaXN0ZW5lciBmdW5jdGlvbiBmcm9tIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gICAgICogV2hlbiBwYXNzZWQgYSByZWd1bGFyIGV4cHJlc3Npb24gYXMgdGhlIGV2ZW50IG5hbWUsIGl0IHdpbGwgcmVtb3ZlIHRoZSBsaXN0ZW5lciBmcm9tIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIHJlbW92ZSB0aGUgbGlzdGVuZXIgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBNZXRob2QgdG8gcmVtb3ZlIGZyb20gdGhlIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChldnQpO1xuICAgICAgICB2YXIgaW5kZXg7XG4gICAgICAgIHZhciBrZXk7XG5cbiAgICAgICAgZm9yIChrZXkgaW4gbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4T2ZMaXN0ZW5lcihsaXN0ZW5lcnNba2V5XSwgbGlzdGVuZXIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnNba2V5XS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBvZiByZW1vdmVMaXN0ZW5lclxuICAgICAqL1xuICAgIHByb3RvLm9mZiA9IGFsaWFzKCdyZW1vdmVMaXN0ZW5lcicpO1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBsaXN0ZW5lcnMgaW4gYnVsayB1c2luZyB0aGUgbWFuaXB1bGF0ZUxpc3RlbmVycyBtZXRob2QuXG4gICAgICogSWYgeW91IHBhc3MgYW4gb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgeW91IGNhbiBhZGQgdG8gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4ga2V5IHZhbHVlIHBhaXJzIG9mIGV2ZW50cyBhbmQgbGlzdGVuZXJzIG9yIGxpc3RlbmVyIGFycmF5cy4gWW91IGNhbiBhbHNvIHBhc3MgaXQgYW4gZXZlbnQgbmFtZSBhbmQgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRvIGJlIGFkZGVkLlxuICAgICAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGEgcmVndWxhciBleHByZXNzaW9uIHRvIGFkZCB0aGUgYXJyYXkgb2YgbGlzdGVuZXJzIHRvIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKiBZZWFoLCB0aGlzIGZ1bmN0aW9uIGRvZXMgcXVpdGUgYSBiaXQuIFRoYXQncyBwcm9iYWJseSBhIGJhZCB0aGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdHxSZWdFeHB9IGV2dCBBbiBldmVudCBuYW1lIGlmIHlvdSB3aWxsIHBhc3MgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIG5leHQuIEFuIG9iamVjdCBpZiB5b3Ugd2lzaCB0byBhZGQgdG8gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbltdfSBbbGlzdGVuZXJzXSBBbiBvcHRpb25hbCBhcnJheSBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdG8gYWRkLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmFkZExpc3RlbmVycyA9IGZ1bmN0aW9uIGFkZExpc3RlbmVycyhldnQsIGxpc3RlbmVycykge1xuICAgICAgICAvLyBQYXNzIHRocm91Z2ggdG8gbWFuaXB1bGF0ZUxpc3RlbmVyc1xuICAgICAgICByZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKGZhbHNlLCBldnQsIGxpc3RlbmVycyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGlzdGVuZXJzIGluIGJ1bGsgdXNpbmcgdGhlIG1hbmlwdWxhdGVMaXN0ZW5lcnMgbWV0aG9kLlxuICAgICAqIElmIHlvdSBwYXNzIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHlvdSBjYW4gcmVtb3ZlIGZyb20gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4ga2V5IHZhbHVlIHBhaXJzIG9mIGV2ZW50cyBhbmQgbGlzdGVuZXJzIG9yIGxpc3RlbmVyIGFycmF5cy5cbiAgICAgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhbiBldmVudCBuYW1lIGFuZCBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYmUgcmVtb3ZlZC5cbiAgICAgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byByZW1vdmUgdGhlIGxpc3RlbmVycyBmcm9tIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdHxSZWdFeHB9IGV2dCBBbiBldmVudCBuYW1lIGlmIHlvdSB3aWxsIHBhc3MgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIG5leHQuIEFuIG9iamVjdCBpZiB5b3Ugd2lzaCB0byByZW1vdmUgZnJvbSBtdWx0aXBsZSBldmVudHMgYXQgb25jZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW119IFtsaXN0ZW5lcnNdIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0byByZW1vdmUuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8ucmVtb3ZlTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJzKGV2dCwgbGlzdGVuZXJzKSB7XG4gICAgICAgIC8vIFBhc3MgdGhyb3VnaCB0byBtYW5pcHVsYXRlTGlzdGVuZXJzXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnModHJ1ZSwgZXZ0LCBsaXN0ZW5lcnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFZGl0cyBsaXN0ZW5lcnMgaW4gYnVsay4gVGhlIGFkZExpc3RlbmVycyBhbmQgcmVtb3ZlTGlzdGVuZXJzIG1ldGhvZHMgYm90aCB1c2UgdGhpcyB0byBkbyB0aGVpciBqb2IuIFlvdSBzaG91bGQgcmVhbGx5IHVzZSB0aG9zZSBpbnN0ZWFkLCB0aGlzIGlzIGEgbGl0dGxlIGxvd2VyIGxldmVsLlxuICAgICAqIFRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGRldGVybWluZSBpZiB0aGUgbGlzdGVuZXJzIGFyZSByZW1vdmVkICh0cnVlKSBvciBhZGRlZCAoZmFsc2UpLlxuICAgICAqIElmIHlvdSBwYXNzIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHlvdSBjYW4gYWRkL3JlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBUaGUgb2JqZWN0IHNob3VsZCBjb250YWluIGtleSB2YWx1ZSBwYWlycyBvZiBldmVudHMgYW5kIGxpc3RlbmVycyBvciBsaXN0ZW5lciBhcnJheXMuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYW4gZXZlbnQgbmFtZSBhbmQgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRvIGJlIGFkZGVkL3JlbW92ZWQuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gbWFuaXB1bGF0ZSB0aGUgbGlzdGVuZXJzIG9mIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVtb3ZlIFRydWUgaWYgeW91IHdhbnQgdG8gcmVtb3ZlIGxpc3RlbmVycywgZmFsc2UgaWYgeW91IHdhbnQgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdHxSZWdFeHB9IGV2dCBBbiBldmVudCBuYW1lIGlmIHlvdSB3aWxsIHBhc3MgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIG5leHQuIEFuIG9iamVjdCBpZiB5b3Ugd2lzaCB0byBhZGQvcmVtb3ZlIGZyb20gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbltdfSBbbGlzdGVuZXJzXSBBbiBvcHRpb25hbCBhcnJheSBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdG8gYWRkL3JlbW92ZS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5tYW5pcHVsYXRlTGlzdGVuZXJzID0gZnVuY3Rpb24gbWFuaXB1bGF0ZUxpc3RlbmVycyhyZW1vdmUsIGV2dCwgbGlzdGVuZXJzKSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgIHZhciBzaW5nbGUgPSByZW1vdmUgPyB0aGlzLnJlbW92ZUxpc3RlbmVyIDogdGhpcy5hZGRMaXN0ZW5lcjtcbiAgICAgICAgdmFyIG11bHRpcGxlID0gcmVtb3ZlID8gdGhpcy5yZW1vdmVMaXN0ZW5lcnMgOiB0aGlzLmFkZExpc3RlbmVycztcblxuICAgICAgICAvLyBJZiBldnQgaXMgYW4gb2JqZWN0IHRoZW4gcGFzcyBlYWNoIG9mIGl0cyBwcm9wZXJ0aWVzIHRvIHRoaXMgbWV0aG9kXG4gICAgICAgIGlmICh0eXBlb2YgZXZ0ID09PSAnb2JqZWN0JyAmJiAhKGV2dCBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcbiAgICAgICAgICAgIGZvciAoaSBpbiBldnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZ0Lmhhc093blByb3BlcnR5KGkpICYmICh2YWx1ZSA9IGV2dFtpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUGFzcyB0aGUgc2luZ2xlIGxpc3RlbmVyIHN0cmFpZ2h0IHRocm91Z2ggdG8gdGhlIHNpbmd1bGFyIG1ldGhvZFxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGUuY2FsbCh0aGlzLCBpLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgcGFzcyBiYWNrIHRvIHRoZSBtdWx0aXBsZSBmdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGUuY2FsbCh0aGlzLCBpLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBTbyBldnQgbXVzdCBiZSBhIHN0cmluZ1xuICAgICAgICAgICAgLy8gQW5kIGxpc3RlbmVycyBtdXN0IGJlIGFuIGFycmF5IG9mIGxpc3RlbmVyc1xuICAgICAgICAgICAgLy8gTG9vcCBvdmVyIGl0IGFuZCBwYXNzIGVhY2ggb25lIHRvIHRoZSBtdWx0aXBsZSBtZXRob2RcbiAgICAgICAgICAgIGkgPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgIHNpbmdsZS5jYWxsKHRoaXMsIGV2dCwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBsaXN0ZW5lcnMgZnJvbSBhIHNwZWNpZmllZCBldmVudC5cbiAgICAgKiBJZiB5b3UgZG8gbm90IHNwZWNpZnkgYW4gZXZlbnQgdGhlbiBhbGwgbGlzdGVuZXJzIHdpbGwgYmUgcmVtb3ZlZC5cbiAgICAgKiBUaGF0IG1lYW5zIGV2ZXJ5IGV2ZW50IHdpbGwgYmUgZW1wdGllZC5cbiAgICAgKiBZb3UgY2FuIGFsc28gcGFzcyBhIHJlZ2V4IHRvIHJlbW92ZSBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IFtldnRdIE9wdGlvbmFsIG5hbWUgb2YgdGhlIGV2ZW50IHRvIHJlbW92ZSBhbGwgbGlzdGVuZXJzIGZvci4gV2lsbCByZW1vdmUgZnJvbSBldmVyeSBldmVudCBpZiBub3QgcGFzc2VkLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnQoZXZ0KSB7XG4gICAgICAgIHZhciB0eXBlID0gdHlwZW9mIGV2dDtcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMuX2dldEV2ZW50cygpO1xuICAgICAgICB2YXIga2V5O1xuXG4gICAgICAgIC8vIFJlbW92ZSBkaWZmZXJlbnQgdGhpbmdzIGRlcGVuZGluZyBvbiB0aGUgc3RhdGUgb2YgZXZ0XG4gICAgICAgIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnRcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbZXZ0XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldnQgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgZXZlbnRzIG1hdGNoaW5nIHRoZSByZWdleC5cbiAgICAgICAgICAgIGZvciAoa2V5IGluIGV2ZW50cykge1xuICAgICAgICAgICAgICAgIGlmIChldmVudHMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBldnQudGVzdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBldmVudHNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgYWxsIGxpc3RlbmVycyBpbiBhbGwgZXZlbnRzXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWFzIG9mIHJlbW92ZUV2ZW50LlxuICAgICAqXG4gICAgICogQWRkZWQgdG8gbWlycm9yIHRoZSBub2RlIEFQSS5cbiAgICAgKi9cbiAgICBwcm90by5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBhbGlhcygncmVtb3ZlRXZlbnQnKTtcblxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGV2ZW50IG9mIHlvdXIgY2hvaWNlLlxuICAgICAqIFdoZW4gZW1pdHRlZCwgZXZlcnkgbGlzdGVuZXIgYXR0YWNoZWQgdG8gdGhhdCBldmVudCB3aWxsIGJlIGV4ZWN1dGVkLlxuICAgICAqIElmIHlvdSBwYXNzIHRoZSBvcHRpb25hbCBhcmd1bWVudCBhcnJheSB0aGVuIHRob3NlIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBldmVyeSBsaXN0ZW5lciB1cG9uIGV4ZWN1dGlvbi5cbiAgICAgKiBCZWNhdXNlIGl0IHVzZXMgYGFwcGx5YCwgeW91ciBhcnJheSBvZiBhcmd1bWVudHMgd2lsbCBiZSBwYXNzZWQgYXMgaWYgeW91IHdyb3RlIHRoZW0gb3V0IHNlcGFyYXRlbHkuXG4gICAgICogU28gdGhleSB3aWxsIG5vdCBhcnJpdmUgd2l0aGluIHRoZSBhcnJheSBvbiB0aGUgb3RoZXIgc2lkZSwgdGhleSB3aWxsIGJlIHNlcGFyYXRlLlxuICAgICAqIFlvdSBjYW4gYWxzbyBwYXNzIGEgcmVndWxhciBleHByZXNzaW9uIHRvIGVtaXQgdG8gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gZW1pdCBhbmQgZXhlY3V0ZSBsaXN0ZW5lcnMgZm9yLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdzXSBPcHRpb25hbCBhcnJheSBvZiBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIGVhY2ggbGlzdGVuZXIuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8uZW1pdEV2ZW50ID0gZnVuY3Rpb24gZW1pdEV2ZW50KGV2dCwgYXJncykge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChldnQpO1xuICAgICAgICB2YXIgbGlzdGVuZXI7XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICB2YXIgcmVzcG9uc2U7XG5cbiAgICAgICAgZm9yIChrZXkgaW4gbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBpID0gbGlzdGVuZXJzW2tleV0ubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbGlzdGVuZXIgcmV0dXJucyB0cnVlIHRoZW4gaXQgc2hhbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBldmVudFxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZWl0aGVyIHdpdGggYSBiYXNpYyBjYWxsIG9yIGFuIGFwcGx5IGlmIHRoZXJlIGlzIGFuIGFyZ3MgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lcnNba2V5XVtpXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIub25jZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihldnQsIGxpc3RlbmVyLmxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gbGlzdGVuZXIubGlzdGVuZXIuYXBwbHkodGhpcywgYXJncyB8fCBbXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlID09PSB0aGlzLl9nZXRPbmNlUmV0dXJuVmFsdWUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihldnQsIGxpc3RlbmVyLmxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBvZiBlbWl0RXZlbnRcbiAgICAgKi9cbiAgICBwcm90by50cmlnZ2VyID0gYWxpYXMoJ2VtaXRFdmVudCcpO1xuXG4gICAgLyoqXG4gICAgICogU3VidGx5IGRpZmZlcmVudCBmcm9tIGVtaXRFdmVudCBpbiB0aGF0IGl0IHdpbGwgcGFzcyBpdHMgYXJndW1lbnRzIG9uIHRvIHRoZSBsaXN0ZW5lcnMsIGFzIG9wcG9zZWQgdG8gdGFraW5nIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cyB0byBwYXNzIG9uLlxuICAgICAqIEFzIHdpdGggZW1pdEV2ZW50LCB5b3UgY2FuIHBhc3MgYSByZWdleCBpbiBwbGFjZSBvZiB0aGUgZXZlbnQgbmFtZSB0byBlbWl0IHRvIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGVtaXQgYW5kIGV4ZWN1dGUgbGlzdGVuZXJzIGZvci5cbiAgICAgKiBAcGFyYW0gey4uLip9IE9wdGlvbmFsIGFkZGl0aW9uYWwgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byBlYWNoIGxpc3RlbmVyLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2dCkge1xuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIHJldHVybiB0aGlzLmVtaXRFdmVudChldnQsIGFyZ3MpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHZhbHVlIHRvIGNoZWNrIGFnYWluc3Qgd2hlbiBleGVjdXRpbmcgbGlzdGVuZXJzLiBJZiBhXG4gICAgICogbGlzdGVuZXJzIHJldHVybiB2YWx1ZSBtYXRjaGVzIHRoZSBvbmUgc2V0IGhlcmUgdGhlbiBpdCB3aWxsIGJlIHJlbW92ZWRcbiAgICAgKiBhZnRlciBleGVjdXRpb24uIFRoaXMgdmFsdWUgZGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIG5ldyB2YWx1ZSB0byBjaGVjayBmb3Igd2hlbiBleGVjdXRpbmcgbGlzdGVuZXJzLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLnNldE9uY2VSZXR1cm5WYWx1ZSA9IGZ1bmN0aW9uIHNldE9uY2VSZXR1cm5WYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9vbmNlUmV0dXJuVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIGN1cnJlbnQgdmFsdWUgdG8gY2hlY2sgYWdhaW5zdCB3aGVuIGV4ZWN1dGluZyBsaXN0ZW5lcnMuIElmXG4gICAgICogdGhlIGxpc3RlbmVycyByZXR1cm4gdmFsdWUgbWF0Y2hlcyB0aGlzIG9uZSB0aGVuIGl0IHNob3VsZCBiZSByZW1vdmVkXG4gICAgICogYXV0b21hdGljYWxseS4gSXQgd2lsbCByZXR1cm4gdHJ1ZSBieSBkZWZhdWx0LlxuICAgICAqXG4gICAgICogQHJldHVybiB7KnxCb29sZWFufSBUaGUgY3VycmVudCB2YWx1ZSB0byBjaGVjayBmb3Igb3IgdGhlIGRlZmF1bHQsIHRydWUuXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG8uX2dldE9uY2VSZXR1cm5WYWx1ZSA9IGZ1bmN0aW9uIF9nZXRPbmNlUmV0dXJuVmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KCdfb25jZVJldHVyblZhbHVlJykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbmNlUmV0dXJuVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHRoZSBldmVudHMgb2JqZWN0IGFuZCBjcmVhdGVzIG9uZSBpZiByZXF1aXJlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGV2ZW50cyBzdG9yYWdlIG9iamVjdC5cbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5fZ2V0RXZlbnRzID0gZnVuY3Rpb24gX2dldEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50cyB8fCAodGhpcy5fZXZlbnRzID0ge30pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnRzIHRoZSBnbG9iYWwge0BsaW5rIEV2ZW50RW1pdHRlcn0gdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoaXMgdmVyc2lvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBOb24gY29uZmxpY3RpbmcgRXZlbnRFbWl0dGVyIGNsYXNzLlxuICAgICAqL1xuICAgIEV2ZW50RW1pdHRlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgICAgZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBvcmlnaW5hbEdsb2JhbFZhbHVlO1xuICAgICAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xuICAgIH07XG5cbiAgICAvLyBFeHBvc2UgdGhlIGNsYXNzIGVpdGhlciB2aWEgQU1ELCBDb21tb25KUyBvciB0aGUgZ2xvYmFsIG9iamVjdFxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBFdmVudEVtaXR0ZXI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyl7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG4gICAgfVxufS5jYWxsKHRoaXMpKTtcbiIsIiggZnVuY3Rpb24gKCAkICkge1xuXG4gICAgaWYgKCB3aW5kb3cuX19vcmRlcmx5ICkgeyByZXR1cm47IH0gd2luZG93Ll9fb3JkZXJseSA9IHRydWU7XG5cbiAgICB2YXIgJHcgPSAkKCB3aW5kb3cgKTtcblxuICAgICR3Lm9uKCAncmVzaXplJywgZnVuY3Rpb24gKCBlICkge1xuICAgICAgICAkdy50cmlnZ2VyKCAnb3JkZXJseScgKTtcbiAgICB9KTtcblxuICAgIC8vIC0tLVxuXG4gICAgdmFyIHByb3RvID0ge307XG5cbiAgICBwcm90by5pbml0ID0gZnVuY3Rpb24gKCAkZWxzICkge1xuICAgICAgICB0aGlzLiRlbHMgPSAkZWxzO1xuICAgICAgICB0aGlzLmxlbiAgPSAkZWxzLmxlbmd0aDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyogICAgRXZlbnQgSGFuZGxlcnNcbiAgICAgICB+fn5+fn5+fn5+fn5+fn5+fn5+fiAqL1xuXG4gICAgcHJvdG8uYXR0YWNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIHRoaXMuYXR0YWNoZWQgPT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAkdy5vbiggJ29yZGVybHknLCBfZGVib3VuY2UoIHRoaXMuaGFuZGxlcigpLCAxMDAgKSApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvLmhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3Jlc2V0KCB0aGF0ICk7XG4gICAgICAgICAgICBfZWFjaEVsZW1lbnQoIHRoYXQgKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKiAgICBQcml2YXRlXG4gICAgICAgfn5+fn5+fn5+fn5+fiAqL1xuXG4gICAgdmFyIF9lYWNoRWxlbWVudCA9IGZ1bmN0aW9uICggb2JqICkge1xuICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBvYmoubGVuOyApIHtcbiAgICAgICAgICAgIGkgPSBfY3VycmVudFJvdyggb2JqLCBudWxsLCAwLCBbXSwgaSApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBfY3VycmVudFJvdyA9IGZ1bmN0aW9uICggb2JqLCBsYXN0UG9zLCBtYXgsIHJvdywgaSApIHtcbiAgICAgICAgZm9yICggOyBpIDwgb2JqLmxlbjsgKSB7XG4gICAgICAgICAgICBsYXN0UG9zID0gX2luUm93KCBvYmosIGxhc3RQb3MsIGkgKTtcblxuICAgICAgICAgICAgaWYgKCBsYXN0UG9zID09PSBudWxsICkgYnJlYWs7XG5cbiAgICAgICAgICAgIG1heCA9IF9tYXgoIG9iaiwgbWF4LCBpICk7XG4gICAgICAgICAgICByb3cucHVzaCggb2JqLiRlbHNbaV0gKTtcblxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgbWF4ID0gX21heFB4KCBtYXggKTtcblxuICAgICAgICBfcmVzaXplKCBvYmosICQoIHJvdyApLCBtYXggKTtcblxuICAgICAgICByZXR1cm4gaTtcbiAgICB9O1xuXG4gICAgdmFyIF9pblJvdyA9IGZ1bmN0aW9uICggb2JqLCBsYXN0UG9zLCBpICkge1xuICAgICAgICB2YXIgJGVsID0gb2JqLiRlbHMuZXEoIGkgKVxuICAgICAgICAgICwgcG9zID0gJGVsLm9mZnNldCgpLmxlZnQ7XG5cbiAgICAgICAgaWYgKCBsYXN0UG9zICE9PSBudWxsICYmIHBvcyA8PSBsYXN0UG9zICkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH07XG5cbiAgICAvLyBSZXR1cm5zIGxhcmdlciBvZiBtYXggYW5kIGhlaWdodCBvZiBlbGVtZW50IGluZGV4ZWQgaS5cbiAgICAvL1xuICAgIHZhciBfbWF4ID0gZnVuY3Rpb24gKCBvYmosIG1heCwgaSApIHtcbiAgICAgICAgdmFyIGJveCAgICAgPSBvYmouJGVsc1tpXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICAgICwgY3VycmVudCA9IGJveC5ib3R0b20gLSBib3gudG9wO1xuXG4gICAgICAgIHJldHVybiBNYXRoLm1heCggbWF4LCBjdXJyZW50ICk7XG4gICAgfTtcblxuICAgIC8vIENvbnZlcnRzIG4gdG8gcHggdmFsdWUgc3RyaW5nIGZvciBDU1MuXG4gICAgLy9cbiAgICB2YXIgX21heFB4ID0gZnVuY3Rpb24gKCBuICkge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCggbiApLnRvU3RyaW5nKCkgKyAncHgnO1xuICAgIH07XG5cbiAgICB2YXIgX3Jlc2l6ZSA9IGZ1bmN0aW9uICggb2JqLCAkcm93LCBoZWlnaHQgKSB7XG4gICAgICAgICRyb3cuZWFjaCggZnVuY3Rpb24gKCBpLCBlbCApIHtcbiAgICAgICAgICAgICQoIGVsICkuY3NzKCB7IGhlaWdodDogaGVpZ2h0IH0gKTtcblxuICAgICAgICAgICAgX2VtaXQoIGVsLCAncmVzaXplJywgaGVpZ2h0LCBpLCAkcm93Lmxlbmd0aCApO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIF9yZXNldCA9IGZ1bmN0aW9uICggb2JqICkge1xuICAgICAgICB2YXIgJGFsbCA9IG9iai4kZWxzO1xuXG4gICAgICAgICRhbGwuZWFjaCggZnVuY3Rpb24gKCBpLCBlbCApIHtcbiAgICAgICAgICAgIF9lbWl0KCBlbCwgJ3Jlc2V0JywgJycsIGksICRhbGwubGVuZ3RoICk7XG5cbiAgICAgICAgICAgICQoIGVsICkuY3NzKCB7IGhlaWdodDogJycgfSApO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIF9lbWl0ID0gZnVuY3Rpb24gKCBlbCwgZXZlbnQsIGgsIGksIGwgKSB7XG4gICAgICAgICQoIGVsICkudHJpZ2dlciggJ29yZGVybHkuJyArIGV2ZW50LCBbIGVsLCBoLCBpLCBsIF0gKTtcbiAgICB9O1xuXG4gICAgLyogICAgalF1ZXJ5IFBsdWdpblxuICAgICAgIH5+fn5+fn5+fn5+fn5+fn5+fn4gKi9cblxuICAgICQuZm4ub3JkZXJseSA9IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcbiAgICAgICAgaWYgKCB0aGlzLmxlbmd0aCA+IDAgKSB7XG4gICAgICAgICAgICBfZGVsZWdhdGUoIHRoaXMsIG9wdGlvbnMgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvLyAtLS1cblxuICAgIHZhciBfZGVsZWdhdGUgPSBmdW5jdGlvbiAoICRlbHMsIG9wdGlvbnMgKSB7XG4gICAgICAgIHZhciBtICA9IG9wdGlvbnMgJiYgb3B0aW9ucy5tZXRob2QgfHwgJ3JlZ2lzdGVyJ1xuICAgICAgICAgICwgZm4gPSBfbWV0aG9kc1ttXTtcblxuICAgICAgICBmbiggJGVscyApO1xuICAgIH07XG5cbiAgICB2YXIgX3JlZ2lzdGVyID0gZnVuY3Rpb24gKCAkZWxzICkge1xuICAgICAgICB2YXIgbyA9IE9iamVjdC5jcmVhdGUoIHByb3RvICkuaW5pdCggJGVscyApO1xuXG4gICAgICAgIG8uYXR0YWNoKCk7XG4gICAgICAgIG8uaGFuZGxlcigpKCk7XG4gICAgfTtcblxuICAgIHZhciBfbWV0aG9kcyA9IHt9O1xuXG4gICAgLy8gQ2FsbCBmb3IgZWFjaCBzcGVjaWZpYyBjb2xsZWN0aW9uIG9mIGVsZW1lbnRzIHRvIGFsaWduIHBlciByb3cuXG4gICAgLy9cbiAgICBfbWV0aG9kc1sncmVnaXN0ZXInXSA9IF9yZWdpc3RlcjtcblxuICAgIC8vIENhbGwgb24gYSBjb2xsZWN0aW9uIG9mIHBhcmVudCBjb250YWluZXJzLiBFYWNoIGRpcmVjdCBjaGlsZCBlbGVtZW50XG4gICAgLy8gd2lsbCBiZSBnaXZlbiBvcmRlcmx5KCkuXG4gICAgLy9cbiAgICBfbWV0aG9kc1snY2hpbGRyZW4nXSA9IGZ1bmN0aW9uICggJGVscyApIHtcbiAgICAgICAgdmFyIGMgPSBfaW5kZXhDb3VudGVyKytcblxuICAgICAgICBfYXNzaWduRGF0YSggJGVscywgYyApO1xuICAgICAgICBfcmVnaXN0ZXIoICRlbHMgKTsgLy8gbm9uLWNsZWFyZWQgZmxvYXRzIGZsdXNoLWxlZnQgb24gbmV3IHJvd1xuICAgICAgICBfcmVnaXN0ZXJDaGlsZHJlbiggJGVscywgYyApO1xuICAgICAgICBfcmVnaXN0ZXIoICRlbHMgKTtcbiAgICB9O1xuXG4gICAgdmFyIF9yZWdpc3RlckNoaWxkcmVuID0gZnVuY3Rpb24gKCAkZWxzLCBjICkge1xuICAgICAgICB2YXIgbGVuID0gJGVsc1swXS5jaGlsZHJlbi5sZW5ndGg7XG5cbiAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgICAgICAgICBfcmVnaXN0ZXIoIF9maW5kKCBjLCBpICkgKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBBc3NpZ24gZGF0YS1vcmRlcmx5IGZvciBhbGwgY2hpbGRyZW4gb2YgZWFjaCBlbGVtZW50LlxuICAgIC8vXG4gICAgdmFyIF9hc3NpZ25EYXRhID0gZnVuY3Rpb24gKCAkZWxzLCBjICkge1xuICAgICAgICAkZWxzLmVhY2goIGZ1bmN0aW9uICggaSwgZWwgKSB7XG4gICAgICAgICAgICAkKCBlbC5jaGlsZHJlbiApLmVhY2goIGZ1bmN0aW9uICggaSwgY2ggKSB7XG4gICAgICAgICAgICAgICAgJCggY2ggKS5hdHRyKCAnZGF0YS1vcmRlcmx5JywgYyArICc6JyArIGkgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gUmV0dXJuIGNvbGxlY3Rpb24gb2YgZWxlbWVudHMgbWF0Y2hpbmcgY291bnRlciBjIGFuZCBpbmRleCBpLlxuICAgIC8vXG4gICAgdmFyIF9maW5kID0gZnVuY3Rpb24gKCBjLCBpICkge1xuICAgICAgICByZXR1cm4gJCggJ1tkYXRhLW9yZGVybHk9XCInICsgYyArICc6JyArIGkgKyAnXCJdJyApO1xuICAgIH07XG5cbiAgICAvKiAgICBVdGlsXG4gICAgICAgfn5+fn5+fn5+fiAqL1xuXG4gICAgdmFyIF9kZWJvdW5jZSA9IGZ1bmN0aW9uICggZm4sIG1zICkge1xuICAgICAgICB2YXIgdGltZW91dDtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XG5cbiAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuICAgICAgICAgICAgfSwgbXMgKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyogICAgU3RhdGVcbiAgICAgICB+fn5+fn5+fn5+fiAqL1xuXG4gICAgdmFyIF9pbmRleENvdW50ZXIgPSAwO1xuXG59KSggalF1ZXJ5ICk7XG4iLCIvKl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuIF8ganF1ZXJ5Lm1iLmNvbXBvbmVudHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBmaWxlOiBqcXVlcnkubWIuWVRQbGF5ZXIuc3JjLmpzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gbGFzdCBtb2RpZmllZDogMDEvMDcvMTUgMTkuMzUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBPcGVuIExhYiBzLnIubC4sIEZsb3JlbmNlIC0gSXRhbHkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIGVtYWlsOiBtYXR0ZW9Ab3Blbi1sYWIuY29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBzaXRlOiBodHRwOi8vcHVwdW56aS5jb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgaHR0cDovL29wZW4tbGFiLmNvbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIGJsb2c6IGh0dHA6Ly9wdXB1bnppLm9wZW4tbGFiLmNvbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBRJkE6ICBodHRwOi8vanF1ZXJ5LnB1cHVuemkuY29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIExpY2VuY2VzOiBNSVQsIEdQTCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC5odG1sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBDb3B5cmlnaHQgKGMpIDIwMDEtMjAxNS4gTWF0dGVvIEJpY29jY2hpIChQdXB1bnppKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXyovXG52YXIgeXRwID0geXRwIHx8IHt9O1xuXG53aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkgPSBmdW5jdGlvbigpIHtcblx0XHRpZiggeXRwLllUQVBJUmVhZHkgKSByZXR1cm47XG5cdFx0eXRwLllUQVBJUmVhZHkgPSB0cnVlO1xuXHRcdGpRdWVyeSggZG9jdW1lbnQgKS50cmlnZ2VyKCBcIllUQVBJUmVhZHlcIiApO1xufVxuXG52YXIgZ2V0WVRQVmlkZW9JRCA9IGZ1bmN0aW9uKCB1cmwgKSB7XG5cdFx0dmFyIHZpZGVvSUQsIHBsYXlsaXN0SUQ7XG5cdFx0aWYoIHVybC5pbmRleE9mKCBcInlvdXR1LmJlXCIgKSA+IDAgKSB7XG5cdFx0XHRcdHZpZGVvSUQgPSB1cmwuc3Vic3RyKCB1cmwubGFzdEluZGV4T2YoIFwiL1wiICkgKyAxLCB1cmwubGVuZ3RoICk7XG5cdFx0XHRcdHBsYXlsaXN0SUQgPSB2aWRlb0lELmluZGV4T2YoIFwiP2xpc3Q9XCIgKSA+IDAgPyB2aWRlb0lELnN1YnN0ciggdmlkZW9JRC5sYXN0SW5kZXhPZiggXCI9XCIgKSwgdmlkZW9JRC5sZW5ndGggKSA6IG51bGw7XG5cdFx0XHRcdHZpZGVvSUQgPSBwbGF5bGlzdElEID8gdmlkZW9JRC5zdWJzdHIoIDAsIHZpZGVvSUQubGFzdEluZGV4T2YoIFwiP1wiICkgKSA6IHZpZGVvSUQ7XG5cdFx0fSBlbHNlIGlmKCB1cmwuaW5kZXhPZiggXCJodHRwXCIgKSA+IC0xICkge1xuXHRcdFx0XHR2aWRlb0lEID0gdXJsLm1hdGNoKCAvW1xcXFw/Jl12PShbXiYjXSopLyApWyAxIF07XG5cdFx0XHRcdHBsYXlsaXN0SUQgPSB1cmwuaW5kZXhPZiggXCJsaXN0PVwiICkgPiAwID8gdXJsLm1hdGNoKCAvW1xcXFw/Jl1saXN0PShbXiYjXSopLyApWyAxIF0gOiBudWxsO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZpZGVvSUQgPSB1cmwubGVuZ3RoID4gMTUgPyBudWxsIDogdXJsO1xuXHRcdFx0XHRwbGF5bGlzdElEID0gdmlkZW9JRCA/IG51bGwgOiB1cmw7XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRcdHZpZGVvSUQ6IHZpZGVvSUQsXG5cdFx0XHRcdHBsYXlsaXN0SUQ6IHBsYXlsaXN0SURcblx0XHR9O1xufTtcblxuKCBmdW5jdGlvbiggalF1ZXJ5LCB5dHAgKSB7XG5cblx0XHRqUXVlcnkubWJZVFBsYXllciA9IHtcblx0XHRcdFx0bmFtZTogXCJqcXVlcnkubWIuWVRQbGF5ZXJcIixcblx0XHRcdFx0dmVyc2lvbjogXCIyLjkuNFwiLFxuXHRcdFx0XHRidWlsZDogXCJ7eyBidWlsZCB9fVwiLFxuXHRcdFx0XHRhdXRob3I6IFwiTWF0dGVvIEJpY29jY2hpXCIsXG5cdFx0XHRcdGFwaUtleTogXCJcIixcblx0XHRcdFx0ZGVmYXVsdHM6IHtcblx0XHRcdFx0XHRcdGNvbnRhaW5tZW50OiBcImJvZHlcIixcblx0XHRcdFx0XHRcdHJhdGlvOiBcImF1dG9cIiwgLy8gXCJhdXRvXCIsIFwiMTYvOVwiLCBcIjQvM1wiXG5cdFx0XHRcdFx0XHR2aWRlb1VSTDogbnVsbCxcblx0XHRcdFx0XHRcdHBsYXlsaXN0VVJMOiBudWxsLFxuXHRcdFx0XHRcdFx0c3RhcnRBdDogMCxcblx0XHRcdFx0XHRcdHN0b3BBdDogMCxcblx0XHRcdFx0XHRcdGF1dG9QbGF5OiB0cnVlLFxuXHRcdFx0XHRcdFx0dm9sOiA1MCwgLy8gMSB0byAxMDBcblx0XHRcdFx0XHRcdGFkZFJhc3RlcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRvcGFjaXR5OiAxLFxuXHRcdFx0XHRcdFx0cXVhbGl0eTogXCJkZWZhdWx0XCIsIC8vb3Ig4oCcc21hbGzigJ0sIOKAnG1lZGl1beKAnSwg4oCcbGFyZ2XigJ0sIOKAnGhkNzIw4oCdLCDigJxoZDEwODDigJ0sIOKAnGhpZ2hyZXPigJ1cblx0XHRcdFx0XHRcdG11dGU6IGZhbHNlLFxuXHRcdFx0XHRcdFx0bG9vcDogdHJ1ZSxcblx0XHRcdFx0XHRcdHNob3dDb250cm9sczogdHJ1ZSxcblx0XHRcdFx0XHRcdHNob3dBbm5vdGF0aW9uczogZmFsc2UsXG5cdFx0XHRcdFx0XHRzaG93WVRMb2dvOiB0cnVlLFxuXHRcdFx0XHRcdFx0c3RvcE1vdmllT25CbHVyOiB0cnVlLFxuXHRcdFx0XHRcdFx0cmVhbGZ1bGxzY3JlZW46IHRydWUsXG5cdFx0XHRcdFx0XHRnYVRyYWNrOiB0cnVlLFxuXHRcdFx0XHRcdFx0b3B0aW1pemVEaXNwbGF5OiB0cnVlLFxuXHRcdFx0XHRcdFx0b25SZWFkeTogZnVuY3Rpb24oIHBsYXllciApIHt9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qIEBmb250ZmFjZSBpY29ucyAqL1xuXHRcdFx0XHRjb250cm9sczoge1xuXHRcdFx0XHRcdFx0cGxheTogXCJQXCIsXG5cdFx0XHRcdFx0XHRwYXVzZTogXCJwXCIsXG5cdFx0XHRcdFx0XHRtdXRlOiBcIk1cIixcblx0XHRcdFx0XHRcdHVubXV0ZTogXCJBXCIsXG5cdFx0XHRcdFx0XHRvbmx5WVQ6IFwiT1wiLFxuXHRcdFx0XHRcdFx0c2hvd1NpdGU6IFwiUlwiLFxuXHRcdFx0XHRcdFx0eXRMb2dvOiBcIllcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRsb2NhdGlvblByb3RvY29sOiBcImh0dHBzOlwiLFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIG9wdGlvbnNcblx0XHRcdFx0ICogQHJldHVybnMgW3BsYXllcnNdXG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRidWlsZFBsYXllcjogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzO1xuXHRcdFx0XHRcdFx0XHRcdHZhciAkWVRQbGF5ZXIgPSBqUXVlcnkoIFlUUGxheWVyICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIubG9vcCA9IDA7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0ID0ge307XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuc3RhdGUgPSB7fTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5maWx0ZXJzRW5hYmxlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuZmlsdGVycyA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Z3JheXNjYWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXQ6IFwiJVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGh1ZV9yb3RhdGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pdDogXCJkZWdcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpbnZlcnQ6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pdDogXCIlXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bml0OiBcIiVcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzYXR1cmF0ZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bml0OiBcIiVcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZXBpYToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bml0OiBcIiVcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRicmlnaHRuZXNzOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXQ6IFwiJVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRyYXN0OiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXQ6IFwiJVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJsdXI6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pdDogXCJweFwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdCRZVFBsYXllci5hZGRDbGFzcyggXCJtYl9ZVFBsYXllclwiICk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHByb3BlcnR5ID0gJFlUUGxheWVyLmRhdGEoIFwicHJvcGVydHlcIiApICYmIHR5cGVvZiAkWVRQbGF5ZXIuZGF0YSggXCJwcm9wZXJ0eVwiICkgPT0gXCJzdHJpbmdcIiA/IGV2YWwoICcoJyArICRZVFBsYXllci5kYXRhKCBcInByb3BlcnR5XCIgKSArICcpJyApIDogJFlUUGxheWVyLmRhdGEoIFwicHJvcGVydHlcIiApO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgcHJvcGVydHkgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgcHJvcGVydHkudm9sICE9IFwidW5kZWZpbmVkXCIgKSBwcm9wZXJ0eS52b2wgPSBwcm9wZXJ0eS52b2wgPT09IDAgPyBwcm9wZXJ0eS52b2wgPSAxIDogcHJvcGVydHkudm9sO1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5leHRlbmQoIFlUUGxheWVyLm9wdCwgalF1ZXJ5Lm1iWVRQbGF5ZXIuZGVmYXVsdHMsIG9wdGlvbnMsIHByb3BlcnR5ICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci5oYXNDaGFuZ2VkICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5kZWZhdWx0T3B0ID0ge307XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5leHRlbmQoIFlUUGxheWVyLmRlZmF1bHRPcHQsIGpRdWVyeS5tYllUUGxheWVyLmRlZmF1bHRzLCBvcHRpb25zLCBwcm9wZXJ0eSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5pc1JldGluYSA9ICggd2luZG93LnJldGluYSB8fCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDEgKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgaXNJZnJhbWUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGlzSWZyID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggc2VsZi5sb2NhdGlvbi5ocmVmICE9IHRvcC5sb2NhdGlvbi5ocmVmICkgaXNJZnIgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoKCBlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aXNJZnIgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBpc0lmcjtcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmNhbkdvRnVsbFNjcmVlbiA9ICEoIGpRdWVyeS5icm93c2VyLm1zaWUgfHwgalF1ZXJ5LmJyb3dzZXIub3BlcmEgfHwgaXNJZnJhbWUoKSApO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIuY2FuR29GdWxsU2NyZWVuICkgWVRQbGF5ZXIub3B0LnJlYWxmdWxsc2NyZWVuID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0aWYoICEkWVRQbGF5ZXIuYXR0ciggXCJpZFwiICkgKSAkWVRQbGF5ZXIuYXR0ciggXCJpZFwiLCBcInZpZGVvX1wiICsgbmV3IERhdGUoKS5nZXRUaW1lKCkgKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcGxheWVySUQgPSBcIm1iWVRQX1wiICsgWVRQbGF5ZXIuaWQ7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNBbG9uZSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmhhc0ZvY3VzID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgdmlkZW9JRCA9IHRoaXMub3B0LnZpZGVvVVJMID8gZ2V0WVRQVmlkZW9JRCggdGhpcy5vcHQudmlkZW9VUkwgKS52aWRlb0lEIDogJFlUUGxheWVyLmF0dHIoIFwiaHJlZlwiICkgPyBnZXRZVFBWaWRlb0lEKCAkWVRQbGF5ZXIuYXR0ciggXCJocmVmXCIgKSApLnZpZGVvSUQgOiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcGxheWxpc3RJRCA9IHRoaXMub3B0LnZpZGVvVVJMID8gZ2V0WVRQVmlkZW9JRCggdGhpcy5vcHQudmlkZW9VUkwgKS5wbGF5bGlzdElEIDogJFlUUGxheWVyLmF0dHIoIFwiaHJlZlwiICkgPyBnZXRZVFBWaWRlb0lEKCAkWVRQbGF5ZXIuYXR0ciggXCJocmVmXCIgKSApLnBsYXlsaXN0SUQgOiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0lEID0gdmlkZW9JRDtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5bGlzdElEID0gcGxheWxpc3RJRDtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQuc2hvd0Fubm90YXRpb25zID0gKCBZVFBsYXllci5vcHQuc2hvd0Fubm90YXRpb25zICkgPyAnMCcgOiAnMyc7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHBsYXllclZhcnMgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdhdXRvcGxheSc6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdtb2Rlc3RicmFuZGluZyc6IDEsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdjb250cm9scyc6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdzaG93aW5mbyc6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdyZWwnOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnZW5hYmxlanNhcGknOiAxLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQndmVyc2lvbic6IDMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdwbGF5ZXJhcGlpZCc6IHBsYXllcklELFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnb3JpZ2luJzogJyonLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnYWxsb3dmdWxsc2NyZWVuJzogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0J3dtb2RlJzogJ3RyYW5zcGFyZW50Jyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0J2l2X2xvYWRfcG9saWN5JzogWVRQbGF5ZXIub3B0LnNob3dBbm5vdGF0aW9uc1xuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0aWYoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICd2aWRlbycgKS5jYW5QbGF5VHlwZSApIGpRdWVyeS5leHRlbmQoIHBsYXllclZhcnMsIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0J2h0bWw1JzogMVxuXHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRpZiggalF1ZXJ5LmJyb3dzZXIubXNpZSAmJiBqUXVlcnkuYnJvd3Nlci52ZXJzaW9uIDwgOSApIHRoaXMub3B0Lm9wYWNpdHkgPSAxO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBwbGF5ZXJCb3ggPSBqUXVlcnkoIFwiPGRpdi8+XCIgKS5hdHRyKCBcImlkXCIsIHBsYXllcklEICkuYWRkQ2xhc3MoIFwicGxheWVyQm94XCIgKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgb3ZlcmxheSA9IGpRdWVyeSggXCI8ZGl2Lz5cIiApLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0b3A6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdpZHRoOiBcIjEwMCVcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjEwMCVcIlxuXHRcdFx0XHRcdFx0XHRcdH0gKS5hZGRDbGFzcyggXCJZVFBPdmVybGF5XCIgKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5pc1NlbGYgPSBZVFBsYXllci5vcHQuY29udGFpbm1lbnQgPT0gXCJzZWxmXCI7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuZGVmYXVsdE9wdC5jb250YWlubWVudCA9IFlUUGxheWVyLm9wdC5jb250YWlubWVudCA9IFlUUGxheWVyLm9wdC5jb250YWlubWVudCA9PSBcInNlbGZcIiA/IGpRdWVyeSggdGhpcyApIDogalF1ZXJ5KCBZVFBsYXllci5vcHQuY29udGFpbm1lbnQgKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5pc0JhY2tncm91bmQgPSBZVFBsYXllci5vcHQuY29udGFpbm1lbnQuZ2V0KCAwICkudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09IFwiYm9keVwiO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5pc0JhY2tncm91bmQgJiYgeXRwLmJhY2tncm91bmRJc0luaXRlZCApIHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHR2YXIgaXNQbGF5ZXIgPSBZVFBsYXllci5vcHQuY29udGFpbm1lbnQuaXMoIGpRdWVyeSggdGhpcyApICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuY2FuUGxheU9uTW9iaWxlID0gaXNQbGF5ZXIgJiYgalF1ZXJ5KCB0aGlzICkuY2hpbGRyZW4oKS5sZW5ndGggPT09IDA7XG5cdFx0XHRcdFx0XHRcdFx0aWYoICFpc1BsYXllciApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0JFlUUGxheWVyLmhpZGUoKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5pc1BsYXllciA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmKCBqUXVlcnkuYnJvd3Nlci5tb2JpbGUgJiYgIVlUUGxheWVyLmNhblBsYXlPbk1vYmlsZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0JFlUUGxheWVyLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdHZhciB3cmFwcGVyID0galF1ZXJ5KCBcIjxkaXYvPlwiICkuYWRkQ2xhc3MoIFwibWJZVFBfd3JhcHBlclwiICkuYXR0ciggXCJpZFwiLCBcIndyYXBwZXJfXCIgKyBwbGF5ZXJJRCApO1xuXHRcdFx0XHRcdFx0XHRcdHdyYXBwZXIuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHpJbmRleDogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWluV2lkdGg6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtaW5IZWlnaHQ6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0b3A6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG92ZXJmbG93OiBcImhpZGRlblwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAwXG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdHBsYXllckJveC5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0ekluZGV4OiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGhlaWdodDogXCIxMDAlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRvcDogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0b3ZlcmZsb3c6IFwiaGlkZGVuXCJcblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0d3JhcHBlci5hcHBlbmQoIHBsYXllckJveCApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5jb250YWlubWVudC5jaGlsZHJlbigpLm5vdCggXCJzY3JpcHQsIHN0eWxlXCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIGpRdWVyeSggdGhpcyApLmNzcyggXCJwb3NpdGlvblwiICkgPT0gXCJzdGF0aWNcIiApIGpRdWVyeSggdGhpcyApLmNzcyggXCJwb3NpdGlvblwiLCBcInJlbGF0aXZlXCIgKTtcblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmlzQmFja2dyb3VuZCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBcImJvZHlcIiApLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ym94U2l6aW5nOiBcImJvcmRlci1ib3hcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdyYXBwZXIuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogXCJmaXhlZFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHpJbmRleDogMFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCRZVFBsYXllci5oaWRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmKCBZVFBsYXllci5vcHQuY29udGFpbm1lbnQuY3NzKCBcInBvc2l0aW9uXCIgKSA9PSBcInN0YXRpY1wiICkgWVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50LmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogXCJyZWxhdGl2ZVwiXG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5jb250YWlubWVudC5wcmVwZW5kKCB3cmFwcGVyICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIud3JhcHBlciA9IHdyYXBwZXI7XG5cdFx0XHRcdFx0XHRcdFx0cGxheWVyQm94LmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAxXG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCAhalF1ZXJ5LmJyb3dzZXIubW9iaWxlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRwbGF5ZXJCb3guYWZ0ZXIoIG92ZXJsYXkgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3ZlcmxheSA9IG92ZXJsYXk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIuaXNCYWNrZ3JvdW5kICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvdmVybGF5Lm9uKCBcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuY29udHJvbEJhciApIFlUUGxheWVyLmNvbnRyb2xCYXIuYWRkQ2xhc3MoIFwidmlzaWJsZVwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gKS5vbiggXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmNvbnRyb2xCYXIgKSBZVFBsYXllci5jb250cm9sQmFyLnJlbW92ZUNsYXNzKCBcInZpc2libGVcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IClcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYoICF5dHAuWVRBUElSZWFkeSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBcIiNZVEFQSVwiICkucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciB0YWcgPSBqUXVlcnkoIFwiPHNjcmlwdD48L3NjcmlwdD5cIiApLmF0dHIoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwic3JjXCI6IGpRdWVyeS5tYllUUGxheWVyLmxvY2F0aW9uUHJvdG9jb2wgKyBcIi8vd3d3LnlvdXR1YmUuY29tL2lmcmFtZV9hcGk/dj1cIiArIGpRdWVyeS5tYllUUGxheWVyLnZlcnNpb24sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcImlkXCI6IFwiWVRBUElcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggXCJoZWFkXCIgKS5wcmVwZW5kKCB0YWcgKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggZG9jdW1lbnQgKS50cmlnZ2VyKCBcIllUQVBJUmVhZHlcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LCAxMDAgKVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIGRvY3VtZW50ICkub24oIFwiWVRBUElSZWFkeVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoICggWVRQbGF5ZXIuaXNCYWNrZ3JvdW5kICYmIHl0cC5iYWNrZ3JvdW5kSXNJbml0ZWQgKSB8fCBZVFBsYXllci5pc0luaXQgKSByZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5pc0JhY2tncm91bmQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR5dHAuYmFja2dyb3VuZElzSW5pdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQuYXV0b1BsYXkgPSB0eXBlb2YgWVRQbGF5ZXIub3B0LmF1dG9QbGF5ID09IFwidW5kZWZpbmVkXCIgPyAoIFlUUGxheWVyLmlzQmFja2dyb3VuZCA/IHRydWUgOiBmYWxzZSApIDogWVRQbGF5ZXIub3B0LmF1dG9QbGF5O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQudm9sID0gWVRQbGF5ZXIub3B0LnZvbCA/IFlUUGxheWVyLm9wdC52b2wgOiAxMDA7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5tYllUUGxheWVyLmdldERhdGFGcm9tQVBJKCBZVFBsYXllciApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkub24oIFwiWVRQQ2hhbmdlZFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5pc0luaXQgKSByZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5pc0luaXQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly9pZiBpcyBtb2JpbGUgJiYgaXNQbGF5ZXIgZmFsbGJhY2sgdG8gdGhlIGRlZmF1bHQgWVQgcGxheWVyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggalF1ZXJ5LmJyb3dzZXIubW9iaWxlICYmIFlUUGxheWVyLmNhblBsYXlPbk1vYmlsZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUcnkgdG8gYWRqdXN0IHRoZSBwbGF5ZXIgZGltZW50aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLm9wdC5jb250YWlubWVudC5vdXRlcldpZHRoKCkgPiBqUXVlcnkoIHdpbmRvdyApLndpZHRoKCkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5jb250YWlubWVudC5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1heFdpZHRoOiBcIjEwMCVcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBoID0gWVRQbGF5ZXIub3B0LmNvbnRhaW5tZW50Lm91dGVyV2lkdGgoKSAqIC42O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQuY29udGFpbm1lbnQuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXhIZWlnaHQ6IGhcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRuZXcgWVQuUGxheWVyKCBwbGF5ZXJJRCwge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2aWRlb0lkOiBZVFBsYXllci52aWRlb0lELnRvU3RyaW5nKCksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGhlaWdodDogJzEwMCUnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aWR0aDogJzEwMCUnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRldmVudHM6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCdvblJlYWR5JzogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllciA9IGV2ZW50LnRhcmdldDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwbGF5ZXJCb3guY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIud3JhcHBlci5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRuZXcgWVQuUGxheWVyKCBwbGF5ZXJJRCwge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZpZGVvSWQ6IFlUUGxheWVyLnZpZGVvSUQudG9TdHJpbmcoKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwbGF5ZXJWYXJzOiBwbGF5ZXJWYXJzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGV2ZW50czoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQnb25SZWFkeSc6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllciA9IGV2ZW50LnRhcmdldDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5pc1JlYWR5ICkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNSZWFkeSA9IFlUUGxheWVyLmlzUGxheWVyICYmICFZVFBsYXllci5vcHQuYXV0b1BsYXkgPyBmYWxzZSA6IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXJFbCA9IFlUUGxheWVyLnBsYXllci5nZXRJZnJhbWUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRZVFBsYXllci5vcHRpbWl6ZURpc3BsYXkoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvSUQgPSB2aWRlb0lEO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCB3aW5kb3cgKS5vbiggXCJyZXNpemUuWVRQXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRZVFBsYXllci5vcHRpbWl6ZURpc3BsYXkoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5tYllUUGxheWVyLmNoZWNrRm9yU3RhdGUoIFlUUGxheWVyICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUcmlnZ2VyIHN0YXRlIGV2ZW50c1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIFlUUEV2ZW50ID0galF1ZXJ5LkV2ZW50KCBcIllUUFVuc3RhcnRlZFwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBFdmVudC50aW1lID0gWVRQbGF5ZXIucGxheWVyLnRpbWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuY2FuVHJpZ2dlciApIGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBZVFBFdmVudCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICogQHBhcmFtIGV2ZW50XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqIC0xICh1bnN0YXJ0ZWQpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqIDAgKGVuZGVkKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKiAxIChwbGF5aW5nKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKiAyIChwYXVzZWQpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqIDMgKGJ1ZmZlcmluZylcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICogNSAodmlkZW8gY3VlZCkuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQnb25TdGF0ZUNoYW5nZSc6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgZXZlbnQudGFyZ2V0LmdldFBsYXllclN0YXRlICE9IFwiZnVuY3Rpb25cIiApIHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBzdGF0ZSA9IGV2ZW50LnRhcmdldC5nZXRQbGF5ZXJTdGF0ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnN0YXRlID09IHN0YXRlICkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuc3RhdGUgPSBzdGF0ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBldmVudFR5cGU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzd2l0Y2goIHN0YXRlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgLTE6IC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHVuc3RhcnRlZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRldmVudFR5cGUgPSBcIllUUFVuc3RhcnRlZFwiO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6IC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGVuZGVkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGV2ZW50VHlwZSA9IFwiWVRQRW5kXCI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMTogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcGxheVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRldmVudFR5cGUgPSBcIllUUFN0YXJ0XCI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5jb250cm9sQmFyICkgWVRQbGF5ZXIuY29udHJvbEJhci5maW5kKCBcIi5tYl9ZVFBQbGF5cGF1c2VcIiApLmh0bWwoIGpRdWVyeS5tYllUUGxheWVyLmNvbnRyb2xzLnBhdXNlICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgX2dhcSAhPSBcInVuZGVmaW5lZFwiICYmIGV2YWwoIFlUUGxheWVyLm9wdC5nYVRyYWNrICkgKSBfZ2FxLnB1c2goIFsgJ190cmFja0V2ZW50JywgJ1lUUGxheWVyJywgJ1BsYXknLCAoIFlUUGxheWVyLmhhc0RhdGEgPyBZVFBsYXllci52aWRlb0RhdGEudGl0bGUgOiBZVFBsYXllci52aWRlb0lELnRvU3RyaW5nKCkgKSBdICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgZ2EgIT0gXCJ1bmRlZmluZWRcIiAmJiBldmFsKCBZVFBsYXllci5vcHQuZ2FUcmFjayApICkgZ2EoICdzZW5kJywgJ2V2ZW50JywgJ1lUUGxheWVyJywgJ3BsYXknLCAoIFlUUGxheWVyLmhhc0RhdGEgPyBZVFBsYXllci52aWRlb0RhdGEudGl0bGUgOiBZVFBsYXllci52aWRlb0lELnRvU3RyaW5nKCkgKSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6IC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHBhdXNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGV2ZW50VHlwZSA9IFwiWVRQUGF1c2VcIjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmNvbnRyb2xCYXIgKSBZVFBsYXllci5jb250cm9sQmFyLmZpbmQoIFwiLm1iX1lUUFBsYXlwYXVzZVwiICkuaHRtbCggalF1ZXJ5Lm1iWVRQbGF5ZXIuY29udHJvbHMucGxheSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6IC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGJ1ZmZlclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIuc2V0UGxheWJhY2tRdWFsaXR5KCBZVFBsYXllci5vcHQucXVhbGl0eSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRldmVudFR5cGUgPSBcIllUUEJ1ZmZlcmluZ1wiO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuY29udHJvbEJhciApIFlUUGxheWVyLmNvbnRyb2xCYXIuZmluZCggXCIubWJfWVRQUGxheXBhdXNlXCIgKS5odG1sKCBqUXVlcnkubWJZVFBsYXllci5jb250cm9scy5wbGF5ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNTogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gY3VlZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRldmVudFR5cGUgPSBcIllUUEN1ZWRcIjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUcmlnZ2VyIHN0YXRlIGV2ZW50c1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIFlUUEV2ZW50ID0galF1ZXJ5LkV2ZW50KCBldmVudFR5cGUgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUEV2ZW50LnRpbWUgPSBZVFBsYXllci5wbGF5ZXIudGltZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5jYW5UcmlnZ2VyICkgalF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFlUUEV2ZW50ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKiBAcGFyYW0gZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0J29uUGxheWJhY2tRdWFsaXR5Q2hhbmdlJzogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgcXVhbGl0eSA9IGUudGFyZ2V0LmdldFBsYXliYWNrUXVhbGl0eSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIFlUUFF1YWxpdHlDaGFuZ2UgPSBqUXVlcnkuRXZlbnQoIFwiWVRQUXVhbGl0eUNoYW5nZVwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBRdWFsaXR5Q2hhbmdlLnF1YWxpdHkgPSBxdWFsaXR5O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFlUUFF1YWxpdHlDaGFuZ2UgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAqIEBwYXJhbSBlcnJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICovXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCdvbkVycm9yJzogZnVuY3Rpb24oIGVyciApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBlcnIuZGF0YSA9PSAxNTAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coIFwiRW1iZWRkaW5nIHRoaXMgdmlkZW8gaXMgcmVzdHJpY3RlZCBieSBZb3V0dWJlLlwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmlzUGxheUxpc3QgKSBqUXVlcnkoIFlUUGxheWVyICkucGxheU5leHQoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBlcnIuZGF0YSA9PSAyICYmIFlUUGxheWVyLmlzUGxheUxpc3QgKSBqUXVlcnkoIFlUUGxheWVyICkucGxheU5leHQoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgWVRQbGF5ZXIub3B0Lm9uRXJyb3IgPT0gXCJmdW5jdGlvblwiICkgWVRQbGF5ZXIub3B0Lm9uRXJyb3IoICRZVFBsYXllciwgZXJyICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHR9IClcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSBZVFBsYXllclxuXHRcdFx0XHQgKi9cblx0XHRcdFx0Z2V0RGF0YUZyb21BUEk6IGZ1bmN0aW9uKCBZVFBsYXllciApIHtcblx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvRGF0YSA9IGpRdWVyeS5tYlN0b3JhZ2UuZ2V0KCBcIllZVFBsYXllcl9kYXRhX1wiICsgWVRQbGF5ZXIudmlkZW9JRCApO1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLm9mZiggXCJZVFBEYXRhLllUUGxheWVyXCIgKS5vbiggXCJZVFBEYXRhLllUUGxheWVyXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5oYXNEYXRhICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5pc1BsYXllciAmJiAhWVRQbGF5ZXIub3B0LmF1dG9QbGF5ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGJnbmRVUkwgPSBZVFBsYXllci52aWRlb0RhdGEudGh1bWJfbWF4IHx8IFlUUGxheWVyLnZpZGVvRGF0YS50aHVtYl9oaWdoIHx8IFlUUGxheWVyLnZpZGVvRGF0YS50aHVtYl9tZWRpdW07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQuY29udGFpbm1lbnQuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZDogXCJyZ2JhKDAsMCwwLDAuNSkgdXJsKFwiICsgYmduZFVSTCArIFwiKSBjZW50ZXIgY2VudGVyXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZFNpemU6IFwiY292ZXJcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LmJhY2tncm91bmRVcmwgPSBiZ25kVVJMO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIudmlkZW9EYXRhICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5yYXRpbyA9IFlUUGxheWVyLm9wdC5yYXRpbyA9PSBcImF1dG9cIiA/IFwiMTYvOVwiIDogWVRQbGF5ZXIub3B0LnJhdGlvO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5kYXRhUmVjZWl2ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggXCJZVFBDaGFuZ2VkXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIFlUUERhdGEgPSBqUXVlcnkuRXZlbnQoIFwiWVRQRGF0YVwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUERhdGEucHJvcCA9IHt9O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmb3IoIHZhciB4IGluIFlUUGxheWVyLnZpZGVvRGF0YSApIFlUUERhdGEucHJvcFsgeCBdID0gWVRQbGF5ZXIudmlkZW9EYXRhWyB4IF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBZVFBEYXRhICk7XG5cdFx0XHRcdFx0XHRcdFx0fSwgNTAwICk7XG5cblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5oYXNEYXRhID0gdHJ1ZTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiggalF1ZXJ5Lm1iWVRQbGF5ZXIuYXBpS2V5ICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIEdldCB2aWRlbyBpbmZvIGZyb20gQVBJMyAobmVlZHMgYXBpIGtleSlcblx0XHRcdFx0XHRcdFx0XHQvLyBzbmlwcGV0LHBsYXllcixjb250ZW50RGV0YWlscyxzdGF0aXN0aWNzLHN0YXR1c1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5nZXRKU09OKCBqUXVlcnkubWJZVFBsYXllci5sb2NhdGlvblByb3RvY29sICsgXCIvL3d3dy5nb29nbGVhcGlzLmNvbS95b3V0dWJlL3YzL3ZpZGVvcz9pZD1cIiArIFlUUGxheWVyLnZpZGVvSUQgKyBcIiZrZXk9XCIgKyBqUXVlcnkubWJZVFBsYXllci5hcGlLZXkgKyBcIiZwYXJ0PXNuaXBwZXRcIiwgZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmRhdGFSZWNlaXZlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBcIllUUENoYW5nZWRcIiApO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZ1bmN0aW9uIHBhcnNlWVRQbGF5ZXJfZGF0YSggZGF0YSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvRGF0YSA9IHt9O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9EYXRhLmlkID0gWVRQbGF5ZXIudmlkZW9JRDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvRGF0YS5jaGFubmVsVGl0bGUgPSBkYXRhLmNoYW5uZWxUaXRsZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvRGF0YS50aXRsZSA9IGRhdGEudGl0bGU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0RhdGEuZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uLmxlbmd0aCA8IDQwMCA/IGRhdGEuZGVzY3JpcHRpb24gOiBkYXRhLmRlc2NyaXB0aW9uLnN1YnN0cmluZyggMCwgNDAwICkgKyBcIiAuLi5cIjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvRGF0YS5hc3BlY3RyYXRpbyA9IFlUUGxheWVyLm9wdC5yYXRpbyA9PSBcImF1dG9cIiA/IFwiMTYvOVwiIDogWVRQbGF5ZXIub3B0LnJhdGlvO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LnJhdGlvID0gWVRQbGF5ZXIudmlkZW9EYXRhLmFzcGVjdHJhdGlvO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9EYXRhLnRodW1iX21heCA9IGRhdGEudGh1bWJuYWlscy5tYXhyZXMgPyBkYXRhLnRodW1ibmFpbHMubWF4cmVzLnVybCA6IG51bGw7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0RhdGEudGh1bWJfaGlnaCA9IGRhdGEudGh1bWJuYWlscy5oaWdoID8gZGF0YS50aHVtYm5haWxzLmhpZ2gudXJsIDogbnVsbDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvRGF0YS50aHVtYl9tZWRpdW0gPSBkYXRhLnRodW1ibmFpbHMubWVkaXVtID8gZGF0YS50aHVtYm5haWxzLm1lZGl1bS51cmwgOiBudWxsO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5Lm1iU3RvcmFnZS5zZXQoIFwiWVlUUGxheWVyX2RhdGFfXCIgKyBZVFBsYXllci52aWRlb0lELCBZVFBsYXllci52aWRlb0RhdGEgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwYXJzZVlUUGxheWVyX2RhdGEoIGRhdGEuaXRlbXNbIDAgXS5zbmlwcGV0ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmhhc0RhdGEgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgWVRQRGF0YSA9IGpRdWVyeS5FdmVudCggXCJZVFBEYXRhXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQRGF0YS5wcm9wID0ge307XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZvciggdmFyIHggaW4gWVRQbGF5ZXIudmlkZW9EYXRhICkgWVRQRGF0YS5wcm9wWyB4IF0gPSBZVFBsYXllci52aWRlb0RhdGFbIHggXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFlUUERhdGEgKTtcblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggXCJZVFBDaGFuZ2VkXCIgKTtcblx0XHRcdFx0XHRcdFx0XHR9LCA1MCApO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5pc1BsYXllciAmJiAhWVRQbGF5ZXIub3B0LmF1dG9QbGF5ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgYmduZFVSTCA9IGpRdWVyeS5tYllUUGxheWVyLmxvY2F0aW9uUHJvdG9jb2wgKyBcIi8vaS55dGltZy5jb20vdmkvXCIgKyBZVFBsYXllci52aWRlb0lEICsgXCIvaHFkZWZhdWx0LmpwZ1wiO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQuY29udGFpbm1lbnQuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBcInJnYmEoMCwwLDAsMC41KSB1cmwoXCIgKyBiZ25kVVJMICsgXCIpIGNlbnRlciBjZW50ZXJcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJhY2tncm91bmRTaXplOiBcImNvdmVyXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQuYmFja2dyb3VuZFVybCA9IGJnbmRVUkw7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvRGF0YSA9IG51bGw7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LnJhdGlvID0gWVRQbGF5ZXIub3B0LnJhdGlvID09IFwiYXV0b1wiID8gXCIxNi85XCIgOiBZVFBsYXllci5vcHQucmF0aW87XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuaXNQbGF5ZXIgJiYgIVlUUGxheWVyLm9wdC5hdXRvUGxheSApIHtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5sb2FkaW5nID0galF1ZXJ5KCBcIjxkaXYvPlwiICkuYWRkQ2xhc3MoIFwibG9hZGluZ1wiICkuaHRtbCggXCJMb2FkaW5nXCIgKS5oaWRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLmFwcGVuZCggWVRQbGF5ZXIubG9hZGluZyApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmxvYWRpbmcuZmFkZUluKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKi9cblx0XHRcdFx0cmVtb3ZlU3RvcmVkRGF0YTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkubWJTdG9yYWdlLnJlbW92ZSgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHJldHVybnMgeyp8WVRQbGF5ZXIudmlkZW9EYXRhfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0Z2V0VmlkZW9EYXRhOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gWVRQbGF5ZXIudmlkZW9EYXRhO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHJldHVybnMgeyp8WVRQbGF5ZXIudmlkZW9JRHxib29sZWFufVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0Z2V0VmlkZW9JRDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIFlUUGxheWVyLnZpZGVvSUQgfHwgZmFsc2U7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0gcXVhbGl0eVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0c2V0VmlkZW9RdWFsaXR5OiBmdW5jdGlvbiggcXVhbGl0eSApIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHRpZiggIWpRdWVyeS5icm93c2VyLmNocm9tZSApIFlUUGxheWVyLnBsYXllci5zZXRQbGF5YmFja1F1YWxpdHkoIHF1YWxpdHkgKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqIEBwYXJhbSB2aWRlb3Ncblx0XHRcdFx0ICogQHBhcmFtIHNodWZmbGVcblx0XHRcdFx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtqUXVlcnkubWJZVFBsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdHBsYXlsaXN0OiBmdW5jdGlvbiggdmlkZW9zLCBzaHVmZmxlLCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdHZhciAkWVRQbGF5ZXIgPSB0aGlzO1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gJFlUUGxheWVyLmdldCggMCApO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNQbGF5TGlzdCA9IHRydWU7XG5cdFx0XHRcdFx0XHRpZiggc2h1ZmZsZSApIHZpZGVvcyA9IGpRdWVyeS5zaHVmZmxlKCB2aWRlb3MgKTtcblx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIudmlkZW9JRCApIHtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb3MgPSB2aWRlb3M7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudmlkZW9Db3VudGVyID0gMDtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0xlbmd0aCA9IHZpZGVvcy5sZW5ndGg7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLmRhdGEoIFwicHJvcGVydHlcIiwgdmlkZW9zWyAwIF0gKTtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkubWJfWVRQbGF5ZXIoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgY2FsbGJhY2sgPT0gXCJmdW5jdGlvblwiICkgalF1ZXJ5KCBZVFBsYXllciApLm9uKCBcIllUUENoYW5nZWRcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soIFlUUGxheWVyICk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkub24oIFwiWVRQRW5kXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5wbGF5TmV4dCgpO1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuICRZVFBsYXllcjtcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtqUXVlcnkubWJZVFBsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdHBsYXlOZXh0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0NvdW50ZXIrKztcblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci52aWRlb0NvdW50ZXIgPj0gWVRQbGF5ZXIudmlkZW9MZW5ndGggKSBZVFBsYXllci52aWRlb0NvdW50ZXIgPSAwO1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLmNoYW5nZU1vdmllKCBZVFBsYXllci52aWRlb3NbIFlUUGxheWVyLnZpZGVvQ291bnRlciBdICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtqUXVlcnkubWJZVFBsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdHBsYXlQcmV2OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci52aWRlb0NvdW50ZXItLTtcblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci52aWRlb0NvdW50ZXIgPCAwICkgWVRQbGF5ZXIudmlkZW9Db3VudGVyID0gWVRQbGF5ZXIudmlkZW9MZW5ndGggLSAxO1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLmNoYW5nZU1vdmllKCBZVFBsYXllci52aWRlb3NbIFlUUGxheWVyLnZpZGVvQ291bnRlciBdICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSBvcHRcblx0XHRcdFx0ICovXG5cdFx0XHRcdGNoYW5nZU1vdmllOiBmdW5jdGlvbiggb3B0ICkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5zdGFydEF0ID0gMDtcblx0XHRcdFx0XHRcdFlUUGxheWVyLm9wdC5zdG9wQXQgPSAwO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0Lm11dGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIuaGFzRGF0YSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIuaGFzQ2hhbmdlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRpZiggb3B0ICkgalF1ZXJ5LmV4dGVuZCggWVRQbGF5ZXIub3B0LCBZVFBsYXllci5kZWZhdWx0T3B0LCBvcHQgKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvSUQgPSBnZXRZVFBWaWRlb0lEKCBZVFBsYXllci5vcHQudmlkZW9VUkwgKS52aWRlb0lEO1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllci5wbGF5ZXJFbCApLkNTU0FuaW1hdGUoIHtcblx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAwXG5cdFx0XHRcdFx0XHR9LCAyMDAsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBHZXRQbGF5ZXIoKS5jdWVWaWRlb0J5VXJsKCBlbmNvZGVVUkkoIGpRdWVyeS5tYllUUGxheWVyLmxvY2F0aW9uUHJvdG9jb2wgKyBcIi8vd3d3LnlvdXR1YmUuY29tL3YvXCIgKyBZVFBsYXllci52aWRlb0lEICksIDEsIFlUUGxheWVyLm9wdC5xdWFsaXR5ICk7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5Lm1iWVRQbGF5ZXIuY2hlY2tGb3JTdGF0ZSggWVRQbGF5ZXIgKTtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkub3B0aW1pemVEaXNwbGF5KCk7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5Lm1iWVRQbGF5ZXIuZ2V0RGF0YUZyb21BUEkoIFlUUGxheWVyICk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcmV0dXJucyB7cGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0Z2V0UGxheWVyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiBqUXVlcnkoIHRoaXMgKS5nZXQoIDAgKS5wbGF5ZXI7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHBsYXllckRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdHl0cC5ZVEFQSVJlYWR5ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR5dHAuYmFja2dyb3VuZElzSW5pdGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5pc0luaXQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLnZpZGVvSUQgPSBudWxsO1xuXHRcdFx0XHRcdFx0dmFyIHBsYXllckJveCA9IFlUUGxheWVyLndyYXBwZXI7XG5cdFx0XHRcdFx0XHRwbGF5ZXJCb3gucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRqUXVlcnkoIFwiI2NvbnRyb2xCYXJfXCIgKyBZVFBsYXllci5pZCApLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggWVRQbGF5ZXIuY2hlY2tGb3JTdGFydEF0ICk7XG5cdFx0XHRcdFx0XHRjbGVhckludGVydmFsKCBZVFBsYXllci5nZXRTdGF0ZSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0gcmVhbFxuXHRcdFx0XHQgKiBAcmV0dXJucyB7alF1ZXJ5Lm1iWVRQbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRmdWxsc2NyZWVuOiBmdW5jdGlvbiggcmVhbCApIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHRpZiggdHlwZW9mIHJlYWwgPT0gXCJ1bmRlZmluZWRcIiApIHJlYWwgPSBZVFBsYXllci5vcHQucmVhbGZ1bGxzY3JlZW47XG5cdFx0XHRcdFx0XHRyZWFsID0gZXZhbCggcmVhbCApO1xuXHRcdFx0XHRcdFx0dmFyIGNvbnRyb2xzID0galF1ZXJ5KCBcIiNjb250cm9sQmFyX1wiICsgWVRQbGF5ZXIuaWQgKTtcblx0XHRcdFx0XHRcdHZhciBmdWxsU2NyZWVuQnRuID0gY29udHJvbHMuZmluZCggXCIubWJfT25seVlUXCIgKTtcblx0XHRcdFx0XHRcdHZhciB2aWRlb1dyYXBwZXIgPSBZVFBsYXllci5pc1NlbGYgPyBZVFBsYXllci5vcHQuY29udGFpbm1lbnQgOiBZVFBsYXllci53cmFwcGVyO1xuXHRcdFx0XHRcdFx0Ly92YXIgdmlkZW9XcmFwcGVyID0gWVRQbGF5ZXIud3JhcHBlcjtcblx0XHRcdFx0XHRcdGlmKCByZWFsICkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBmdWxsc2NyZWVuY2hhbmdlID0galF1ZXJ5LmJyb3dzZXIubW96aWxsYSA/IFwibW96ZnVsbHNjcmVlbmNoYW5nZVwiIDogalF1ZXJ5LmJyb3dzZXIud2Via2l0ID8gXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIgOiBcImZ1bGxzY3JlZW5jaGFuZ2VcIjtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIGRvY3VtZW50ICkub2ZmKCBmdWxsc2NyZWVuY2hhbmdlICkub24oIGZ1bGxzY3JlZW5jaGFuZ2UsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgaXNGdWxsU2NyZWVuID0gUnVuUHJlZml4TWV0aG9kKCBkb2N1bWVudCwgXCJJc0Z1bGxTY3JlZW5cIiApIHx8IFJ1blByZWZpeE1ldGhvZCggZG9jdW1lbnQsIFwiRnVsbFNjcmVlblwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCAhaXNGdWxsU2NyZWVuICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNBbG9uZSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZnVsbFNjcmVlbkJ0bi5odG1sKCBqUXVlcnkubWJZVFBsYXllci5jb250cm9scy5vbmx5WVQgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBTZXRWaWRlb1F1YWxpdHkoIFlUUGxheWVyLm9wdC5xdWFsaXR5ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2aWRlb1dyYXBwZXIucmVtb3ZlQ2xhc3MoIFwiZnVsbHNjcmVlblwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2aWRlb1dyYXBwZXIuQ1NTQW5pbWF0ZSgge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IFlUUGxheWVyLm9wdC5vcGFjaXR5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCA1MDAgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZpZGVvV3JhcHBlci5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR6SW5kZXg6IDBcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5pc0JhY2tncm91bmQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBcImJvZHlcIiApLmFmdGVyKCBjb250cm9scyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci53cmFwcGVyLmJlZm9yZSggY29udHJvbHMgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggd2luZG93ICkucmVzaXplKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggXCJZVFBGdWxsU2NyZWVuRW5kXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBTZXRWaWRlb1F1YWxpdHkoIFwiZGVmYXVsdFwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggXCJZVFBGdWxsU2NyZWVuU3RhcnRcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci5pc0Fsb25lICkge1xuXHRcdFx0XHRcdFx0XHRcdGZ1bmN0aW9uIGhpZGVNb3VzZSgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3ZlcmxheS5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1cnNvcjogXCJub25lXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIGRvY3VtZW50ICkub24oIFwibW91c2Vtb3ZlLllUUGxheWVyXCIsIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vdmVybGF5LmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y3Vyc29yOiBcImF1dG9cIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCggWVRQbGF5ZXIuaGlkZUN1cnNvciApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggIWpRdWVyeSggZS50YXJnZXQgKS5wYXJlbnRzKCkuaXMoIFwiLm1iX1lUUEJhclwiICkgKSBZVFBsYXllci5oaWRlQ3Vyc29yID0gc2V0VGltZW91dCggaGlkZU1vdXNlLCAzMDAwICk7XG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdGhpZGVNb3VzZSgpO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCByZWFsICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2aWRlb1dyYXBwZXIuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAwXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmlkZW9XcmFwcGVyLmFkZENsYXNzKCBcImZ1bGxzY3JlZW5cIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRsYXVuY2hGdWxsc2NyZWVuKCB2aWRlb1dyYXBwZXIuZ2V0KCAwICkgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2aWRlb1dyYXBwZXIuQ1NTQW5pbWF0ZSgge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIDEwMDAgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLndyYXBwZXIuYXBwZW5kKCBjb250cm9scyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLm9wdGltaXplRGlzcGxheSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnNlZWtUbyggWVRQbGF5ZXIucGxheWVyLmdldEN1cnJlbnRUaW1lKCkgKyAuMSwgdHJ1ZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LCA1MDAgKVxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB2aWRlb1dyYXBwZXIuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHpJbmRleDogMTAwMDBcblx0XHRcdFx0XHRcdFx0XHR9ICkuQ1NTQW5pbWF0ZSgge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAxXG5cdFx0XHRcdFx0XHRcdFx0fSwgMTAwMCApO1xuXHRcdFx0XHRcdFx0XHRcdGZ1bGxTY3JlZW5CdG4uaHRtbCggalF1ZXJ5Lm1iWVRQbGF5ZXIuY29udHJvbHMuc2hvd1NpdGUgKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5pc0Fsb25lID0gdHJ1ZTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBkb2N1bWVudCApLm9mZiggXCJtb3VzZW1vdmUuWVRQbGF5ZXJcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLm92ZXJsYXkuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGN1cnNvcjogXCJhdXRvXCJcblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIHJlYWwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNhbmNlbEZ1bGxzY3JlZW4oKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2aWRlb1dyYXBwZXIuQ1NTQW5pbWF0ZSgge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogWVRQbGF5ZXIub3B0Lm9wYWNpdHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgNTAwICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZpZGVvV3JhcHBlci5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHpJbmRleDogMFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGZ1bGxTY3JlZW5CdG4uaHRtbCggalF1ZXJ5Lm1iWVRQbGF5ZXIuY29udHJvbHMub25seVlUICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNBbG9uZSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRmdW5jdGlvbiBSdW5QcmVmaXhNZXRob2QoIG9iaiwgbWV0aG9kICkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBwZnggPSBbIFwid2Via2l0XCIsIFwibW96XCIsIFwibXNcIiwgXCJvXCIsIFwiXCIgXTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcCA9IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG0sIHQ7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUoIHAgPCBwZngubGVuZ3RoICYmICFvYmpbIG0gXSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bSA9IG1ldGhvZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIHBmeFsgcCBdID09IFwiXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtID0gbS5zdWJzdHIoIDAsIDEgKS50b0xvd2VyQ2FzZSgpICsgbS5zdWJzdHIoIDEgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtID0gcGZ4WyBwIF0gKyBtO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0ID0gdHlwZW9mIG9ialsgbSBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggdCAhPSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGZ4ID0gWyBwZnhbIHAgXSBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuKCB0ID09IFwiZnVuY3Rpb25cIiA/IG9ialsgbSBdKCkgOiBvYmpbIG0gXSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHArKztcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGZ1bmN0aW9uIGxhdW5jaEZ1bGxzY3JlZW4oIGVsZW1lbnQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0UnVuUHJlZml4TWV0aG9kKCBlbGVtZW50LCBcIlJlcXVlc3RGdWxsU2NyZWVuXCIgKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24gY2FuY2VsRnVsbHNjcmVlbigpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiggUnVuUHJlZml4TWV0aG9kKCBkb2N1bWVudCwgXCJGdWxsU2NyZWVuXCIgKSB8fCBSdW5QcmVmaXhNZXRob2QoIGRvY3VtZW50LCBcIklzRnVsbFNjcmVlblwiICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFJ1blByZWZpeE1ldGhvZCggZG9jdW1lbnQsIFwiQ2FuY2VsRnVsbFNjcmVlblwiICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcmV0dXJucyB7alF1ZXJ5Lm1iWVRQbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHR0b2dnbGVMb29wczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0dmFyIGRhdGEgPSBZVFBsYXllci5vcHQ7XG5cdFx0XHRcdFx0XHRpZiggZGF0YS5sb29wID09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YS5sb29wID0gMDtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIGRhdGEuc3RhcnRBdCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnNlZWtUbyggZGF0YS5zdGFydEF0ICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnBsYXlWaWRlbygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRkYXRhLmxvb3AgPSAxO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcmV0dXJucyB7alF1ZXJ5Lm1iWVRQbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRwbGF5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLmlzUmVhZHkgKSByZXR1cm47XG5cdFx0XHRcdFx0XHR2YXIgY29udHJvbHMgPSBqUXVlcnkoIFwiI2NvbnRyb2xCYXJfXCIgKyBZVFBsYXllci5pZCApO1xuXHRcdFx0XHRcdFx0dmFyIHBsYXlCdG4gPSBjb250cm9scy5maW5kKCBcIi5tYl9ZVFBQbGF5cGF1c2VcIiApO1xuXHRcdFx0XHRcdFx0cGxheUJ0bi5odG1sKCBqUXVlcnkubWJZVFBsYXllci5jb250cm9scy5wYXVzZSApO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnBsYXlWaWRlbygpO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIud3JhcHBlci5DU1NBbmltYXRlKCB7XG5cdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogWVRQbGF5ZXIuaXNBbG9uZSA/IDEgOiBZVFBsYXllci5vcHQub3BhY2l0eVxuXHRcdFx0XHRcdFx0fSwgMjAwMCApO1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllci5wbGF5ZXJFbCApLkNTU0FuaW1hdGUoIHtcblx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAxXG5cdFx0XHRcdFx0XHR9LCAxMDAwICk7XG5cdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuY3NzKCBcImJhY2tncm91bmQtaW1hZ2VcIiwgXCJub25lXCIgKTtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtqUXVlcnkubWJZVFBsYXllcn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdHRvZ2dsZVBsYXk6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuc3RhdGUgPT0gMSApIHRoaXMuWVRQUGF1c2UoKTtcblx0XHRcdFx0XHRcdGVsc2UgdGhpcy5ZVFBQbGF5KCk7XG5cdFx0XHRcdFx0XHRpZiggdHlwZW9mIGNhbGxiYWNrID09IFwiZnVuY3Rpb25cIiApIHtcblx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjayggWVRQbGF5ZXIuc3RhdGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHJldHVybnMge2pRdWVyeS5tYllUUGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0c3RvcDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0dmFyIGNvbnRyb2xzID0galF1ZXJ5KCBcIiNjb250cm9sQmFyX1wiICsgWVRQbGF5ZXIuaWQgKTtcblx0XHRcdFx0XHRcdHZhciBwbGF5QnRuID0gY29udHJvbHMuZmluZCggXCIubWJfWVRQUGxheXBhdXNlXCIgKTtcblx0XHRcdFx0XHRcdHBsYXlCdG4uaHRtbCggalF1ZXJ5Lm1iWVRQbGF5ZXIuY29udHJvbHMucGxheSApO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnN0b3BWaWRlbygpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcmV0dXJucyB7alF1ZXJ5Lm1iWVRQbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRwYXVzZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0dmFyIGNvbnRyb2xzID0galF1ZXJ5KCBcIiNjb250cm9sQmFyX1wiICsgWVRQbGF5ZXIuaWQgKTtcblx0XHRcdFx0XHRcdHZhciBwbGF5QnRuID0gY29udHJvbHMuZmluZCggXCIubWJfWVRQUGxheXBhdXNlXCIgKTtcblx0XHRcdFx0XHRcdHBsYXlCdG4uaHRtbCggalF1ZXJ5Lm1iWVRQbGF5ZXIuY29udHJvbHMucGxheSApO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnBhdXNlVmlkZW8oKTtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIHZhbFxuXHRcdFx0XHQgKiBAcmV0dXJucyB7alF1ZXJ5Lm1iWVRQbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRzZWVrVG86IGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnNlZWtUbyggdmFsLCB0cnVlICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSB2YWxcblx0XHRcdFx0ICogQHJldHVybnMge2pRdWVyeS5tYllUUGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0c2V0Vm9sdW1lOiBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdGlmKCAhdmFsICYmICFZVFBsYXllci5vcHQudm9sICYmIFlUUGxheWVyLnBsYXllci5nZXRWb2x1bWUoKSA9PSAwICkgalF1ZXJ5KCBZVFBsYXllciApLllUUFVubXV0ZSgpO1xuXHRcdFx0XHRcdFx0ZWxzZSBpZiggKCAhdmFsICYmIFlUUGxheWVyLnBsYXllci5nZXRWb2x1bWUoKSA+IDAgKSB8fCAoIHZhbCAmJiBZVFBsYXllci5vcHQudm9sID09IHZhbCApICkge1xuXHRcdFx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIuaXNNdXRlICkgalF1ZXJ5KCBZVFBsYXllciApLllUUE11dGUoKTtcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBVbm11dGUoKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3B0LnZvbCA9IHZhbDtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIuc2V0Vm9sdW1lKCBZVFBsYXllci5vcHQudm9sICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnZvbHVtZUJhciAmJiBZVFBsYXllci52b2x1bWVCYXIubGVuZ3RoICkgWVRQbGF5ZXIudm9sdW1lQmFyLnVwZGF0ZVNsaWRlclZhbCggdmFsIClcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHJldHVybnMge2pRdWVyeS5tYllUUGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0bXV0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmlzTXV0ZSApIHJldHVybjtcblx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5tdXRlKCk7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5pc011dGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnNldFZvbHVtZSggMCApO1xuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnZvbHVtZUJhciAmJiBZVFBsYXllci52b2x1bWVCYXIubGVuZ3RoICYmIFlUUGxheWVyLnZvbHVtZUJhci53aWR0aCgpID4gMTAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIudm9sdW1lQmFyLnVwZGF0ZVNsaWRlclZhbCggMCApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dmFyIGNvbnRyb2xzID0galF1ZXJ5KCBcIiNjb250cm9sQmFyX1wiICsgWVRQbGF5ZXIuaWQgKTtcblx0XHRcdFx0XHRcdHZhciBtdXRlQnRuID0gY29udHJvbHMuZmluZCggXCIubWJfWVRQTXV0ZVVubXV0ZVwiICk7XG5cdFx0XHRcdFx0XHRtdXRlQnRuLmh0bWwoIGpRdWVyeS5tYllUUGxheWVyLmNvbnRyb2xzLnVubXV0ZSApO1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLmFkZENsYXNzKCBcImlzTXV0ZWRcIiApO1xuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnZvbHVtZUJhciAmJiBZVFBsYXllci52b2x1bWVCYXIubGVuZ3RoICkgWVRQbGF5ZXIudm9sdW1lQmFyLmFkZENsYXNzKCBcIm11dGVkXCIgKTtcblx0XHRcdFx0XHRcdHZhciBZVFBFdmVudCA9IGpRdWVyeS5FdmVudCggXCJZVFBNdXRlZFwiICk7XG5cdFx0XHRcdFx0XHRZVFBFdmVudC50aW1lID0gWVRQbGF5ZXIucGxheWVyLnRpbWU7XG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuY2FuVHJpZ2dlciApIGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBZVFBFdmVudCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcmV0dXJucyB7alF1ZXJ5Lm1iWVRQbGF5ZXJ9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHR1bm11dGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIuaXNNdXRlICkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnVuTXV0ZSgpO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNNdXRlID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIuc2V0Vm9sdW1lKCBZVFBsYXllci5vcHQudm9sICk7XG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIudm9sdW1lQmFyICYmIFlUUGxheWVyLnZvbHVtZUJhci5sZW5ndGggKSBZVFBsYXllci52b2x1bWVCYXIudXBkYXRlU2xpZGVyVmFsKCBZVFBsYXllci5vcHQudm9sID4gMTAgPyBZVFBsYXllci5vcHQudm9sIDogMTAgKTtcblx0XHRcdFx0XHRcdHZhciBjb250cm9scyA9IGpRdWVyeSggXCIjY29udHJvbEJhcl9cIiArIFlUUGxheWVyLmlkICk7XG5cdFx0XHRcdFx0XHR2YXIgbXV0ZUJ0biA9IGNvbnRyb2xzLmZpbmQoIFwiLm1iX1lUUE11dGVVbm11dGVcIiApO1xuXHRcdFx0XHRcdFx0bXV0ZUJ0bi5odG1sKCBqUXVlcnkubWJZVFBsYXllci5jb250cm9scy5tdXRlICk7XG5cdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkucmVtb3ZlQ2xhc3MoIFwiaXNNdXRlZFwiICk7XG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIudm9sdW1lQmFyICYmIFlUUGxheWVyLnZvbHVtZUJhci5sZW5ndGggKSBZVFBsYXllci52b2x1bWVCYXIucmVtb3ZlQ2xhc3MoIFwibXV0ZWRcIiApO1xuXHRcdFx0XHRcdFx0dmFyIFlUUEV2ZW50ID0galF1ZXJ5LkV2ZW50KCBcIllUUFVubXV0ZWRcIiApO1xuXHRcdFx0XHRcdFx0WVRQRXZlbnQudGltZSA9IFlUUGxheWVyLnBsYXllci50aW1lO1xuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmNhblRyaWdnZXIgKSBqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggWVRQRXZlbnQgKTtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIGZpbHRlclxuXHRcdFx0XHQgKiBAcGFyYW0gdmFsdWVcblx0XHRcdFx0ICogQHJldHVybnMge2pRdWVyeS5tYllUUGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0YXBwbHlGaWx0ZXI6IGZ1bmN0aW9uKCBmaWx0ZXIsIHZhbHVlICkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLmZpbHRlcnNbIGZpbHRlciBdLnZhbHVlID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuZmlsdGVyc0VuYWJsZWQgKSB0aGlzLllUUEVuYWJsZUZpbHRlcnMoKTtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIGZpbHRlcnNcblx0XHRcdFx0ICogQHJldHVybnMge2pRdWVyeS5tYllUUGxheWVyfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0YXBwbHlGaWx0ZXJzOiBmdW5jdGlvbiggZmlsdGVycyApIHtcblx0XHRcdFx0XHRcdHZhciBZVFBsYXllciA9IHRoaXMuZ2V0KCAwICk7XG5cdFx0XHRcdFx0XHR0aGlzLm9uKCBcIllUUFJlYWR5XCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGZvciggdmFyIGtleSBpbiBmaWx0ZXJzICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5maWx0ZXJzWyBrZXkgXS52YWx1ZSA9IGZpbHRlcnNbIGtleSBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQQXBwbHlGaWx0ZXIoIGtleSwgZmlsdGVyc1sga2V5IF0gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFwiWVRQRmlsdGVyc0FwcGxpZWRcIiApO1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0gZmlsdGVyXG5cdFx0XHRcdCAqIEBwYXJhbSB2YWx1ZVxuXHRcdFx0XHQgKiBAcmV0dXJucyB7Kn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdHRvZ2dsZUZpbHRlcjogZnVuY3Rpb24oIGZpbHRlciwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIuZmlsdGVyc1sgZmlsdGVyIF0udmFsdWUgKSBZVFBsYXllci5maWx0ZXJzWyBmaWx0ZXIgXS52YWx1ZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHRcdGVsc2UgWVRQbGF5ZXIuZmlsdGVyc1sgZmlsdGVyIF0udmFsdWUgPSAwO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5maWx0ZXJzRW5hYmxlZCApIGpRdWVyeSggdGhpcyApLllUUEVuYWJsZUZpbHRlcnMoKTtcblx0XHRcdFx0XHRcdH0gKVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0XHRcdFx0ICogQHJldHVybnMgeyp9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHR0b2dnbGVGaWx0ZXJzOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5maWx0ZXJzRW5hYmxlZCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLnRyaWdnZXIoIFwiWVRQRGlzYWJsZUZpbHRlcnNcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQRGlzYWJsZUZpbHRlcnMoKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQRW5hYmxlRmlsdGVycygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggXCJZVFBFbmFibGVGaWx0ZXJzXCIgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYoIHR5cGVvZiBjYWxsYmFjayA9PSBcImZ1bmN0aW9uXCIgKSBjYWxsYmFjayggWVRQbGF5ZXIuZmlsdGVyc0VuYWJsZWQgKTtcblx0XHRcdFx0XHRcdH0gKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHJldHVybnMgeyp9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRkaXNhYmxlRmlsdGVyczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBpZnJhbWUgPSBqUXVlcnkoIFlUUGxheWVyLnBsYXllckVsICk7XG5cdFx0XHRcdFx0XHRcdFx0aWZyYW1lLmNzcyggXCItd2Via2l0LWZpbHRlclwiLCBcIlwiICk7XG5cdFx0XHRcdFx0XHRcdFx0aWZyYW1lLmNzcyggXCJmaWx0ZXJcIiwgXCJcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmZpbHRlcnNFbmFibGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR9IClcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEByZXR1cm5zIHsqfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0ZW5hYmxlRmlsdGVyczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBpZnJhbWUgPSBqUXVlcnkoIFlUUGxheWVyLnBsYXllckVsICk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGZpbHRlclN0eWxlID0gXCJcIjtcblx0XHRcdFx0XHRcdFx0XHRmb3IoIHZhciBrZXkgaW4gWVRQbGF5ZXIuZmlsdGVycyApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmZpbHRlcnNbIGtleSBdLnZhbHVlICkgZmlsdGVyU3R5bGUgKz0ga2V5LnJlcGxhY2UoIFwiX1wiLCBcIi1cIiApICsgXCIoXCIgKyBZVFBsYXllci5maWx0ZXJzWyBrZXkgXS52YWx1ZSArIFlUUGxheWVyLmZpbHRlcnNbIGtleSBdLnVuaXQgKyBcIikgXCI7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmcmFtZS5jc3MoIFwiLXdlYmtpdC1maWx0ZXJcIiwgZmlsdGVyU3R5bGUgKTtcblx0XHRcdFx0XHRcdFx0XHRpZnJhbWUuY3NzKCBcImZpbHRlclwiLCBmaWx0ZXJTdHlsZSApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmZpbHRlcnNFbmFibGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdH0gKVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0gZmlsdGVyXG5cdFx0XHRcdCAqIEBwYXJhbSBjYWxsYmFja1xuXHRcdFx0XHQgKiBAcmV0dXJucyB7Kn1cblx0XHRcdFx0ICovXG5cdFx0XHRcdHJlbW92ZUZpbHRlcjogZnVuY3Rpb24oIGZpbHRlciwgY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiggdHlwZW9mIGZpbHRlciA9PSBcImZ1bmN0aW9uXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrID0gZmlsdGVyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmaWx0ZXIgPSBudWxsO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCAhZmlsdGVyIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9yKCB2YXIga2V5IGluIFlUUGxheWVyLmZpbHRlcnMgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5ZVFBBcHBseUZpbHRlcigga2V5LCAwICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggdHlwZW9mIGNhbGxiYWNrID09IFwiZnVuY3Rpb25cIiApIGNhbGxiYWNrKCBrZXkgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggdGhpcyApLllUUEFwcGx5RmlsdGVyKCBmaWx0ZXIsIDAgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgY2FsbGJhY2sgPT0gXCJmdW5jdGlvblwiICkgY2FsbGJhY2soIGZpbHRlciApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEByZXR1cm5zIHt7dG90YWxUaW1lOiBudW1iZXIsIGN1cnJlbnRUaW1lOiBudW1iZXJ9fVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0bWFuYWdlUHJvZ3Jlc3M6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0XHRcdHZhciBjb250cm9scyA9IGpRdWVyeSggXCIjY29udHJvbEJhcl9cIiArIFlUUGxheWVyLmlkICk7XG5cdFx0XHRcdFx0XHR2YXIgcHJvZ3Jlc3NCYXIgPSBjb250cm9scy5maW5kKCBcIi5tYl9ZVFBQcm9ncmVzc1wiICk7XG5cdFx0XHRcdFx0XHR2YXIgbG9hZGVkQmFyID0gY29udHJvbHMuZmluZCggXCIubWJfWVRQTG9hZGVkXCIgKTtcblx0XHRcdFx0XHRcdHZhciB0aW1lQmFyID0gY29udHJvbHMuZmluZCggXCIubWJfWVRQc2Vla2JhclwiICk7XG5cdFx0XHRcdFx0XHR2YXIgdG90VyA9IHByb2dyZXNzQmFyLm91dGVyV2lkdGgoKTtcblx0XHRcdFx0XHRcdHZhciBjdXJyZW50VGltZSA9IE1hdGguZmxvb3IoIFlUUGxheWVyLnBsYXllci5nZXRDdXJyZW50VGltZSgpICk7XG5cdFx0XHRcdFx0XHR2YXIgdG90YWxUaW1lID0gTWF0aC5mbG9vciggWVRQbGF5ZXIucGxheWVyLmdldER1cmF0aW9uKCkgKTtcblx0XHRcdFx0XHRcdHZhciB0aW1lVyA9ICggY3VycmVudFRpbWUgKiB0b3RXICkgLyB0b3RhbFRpbWU7XG5cdFx0XHRcdFx0XHR2YXIgc3RhcnRMZWZ0ID0gMDtcblx0XHRcdFx0XHRcdHZhciBsb2FkZWRXID0gWVRQbGF5ZXIucGxheWVyLmdldFZpZGVvTG9hZGVkRnJhY3Rpb24oKSAqIDEwMDtcblx0XHRcdFx0XHRcdGxvYWRlZEJhci5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRsZWZ0OiBzdGFydExlZnQsXG5cdFx0XHRcdFx0XHRcdFx0d2lkdGg6IGxvYWRlZFcgKyBcIiVcIlxuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0dGltZUJhci5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHRcdFx0XHRcdHdpZHRoOiB0aW1lV1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHR0b3RhbFRpbWU6IHRvdGFsVGltZSxcblx0XHRcdFx0XHRcdFx0XHRjdXJyZW50VGltZTogY3VycmVudFRpbWVcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0gWVRQbGF5ZXJcblx0XHRcdFx0ICovXG5cdFx0XHRcdGJ1aWxkQ29udHJvbHM6IGZ1bmN0aW9uKCBZVFBsYXllciApIHtcblx0XHRcdFx0XHRcdHZhciBkYXRhID0gWVRQbGF5ZXIub3B0O1xuXHRcdFx0XHRcdFx0Ly8gQGRhdGEucHJpbnRVcmw6IGlzIGRlcHJlY2F0ZWQ7IHVzZSBkYXRhLnNob3dZVExvZ29cblx0XHRcdFx0XHRcdGRhdGEuc2hvd1lUTG9nbyA9IGRhdGEuc2hvd1lUTG9nbyB8fCBkYXRhLnByaW50VXJsO1xuXHRcdFx0XHRcdFx0aWYoIGpRdWVyeSggXCIjY29udHJvbEJhcl9cIiArIFlUUGxheWVyLmlkICkubGVuZ3RoICkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIuY29udHJvbEJhciA9IGpRdWVyeSggXCI8c3Bhbi8+XCIgKS5hdHRyKCBcImlkXCIsIFwiY29udHJvbEJhcl9cIiArIFlUUGxheWVyLmlkICkuYWRkQ2xhc3MoIFwibWJfWVRQQmFyXCIgKS5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHR3aGl0ZVNwYWNlOiBcIm5vV3JhcFwiLFxuXHRcdFx0XHRcdFx0XHRcdHBvc2l0aW9uOiBZVFBsYXllci5pc0JhY2tncm91bmQgPyBcImZpeGVkXCIgOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdFx0XHRcdFx0ekluZGV4OiBZVFBsYXllci5pc0JhY2tncm91bmQgPyAxMDAwMCA6IDEwMDBcblx0XHRcdFx0XHRcdH0gKS5oaWRlKCk7XG5cdFx0XHRcdFx0XHR2YXIgYnV0dG9uQmFyID0galF1ZXJ5KCBcIjxkaXYvPlwiICkuYWRkQ2xhc3MoIFwiYnV0dG9uQmFyXCIgKTtcblx0XHRcdFx0XHRcdC8qIHBsYXkvcGF1c2UgYnV0dG9uKi9cblx0XHRcdFx0XHRcdHZhciBwbGF5cGF1c2UgPSBqUXVlcnkoIFwiPHNwYW4+XCIgKyBqUXVlcnkubWJZVFBsYXllci5jb250cm9scy5wbGF5ICsgXCI8L3NwYW4+XCIgKS5hZGRDbGFzcyggXCJtYl9ZVFBQbGF5cGF1c2UgeXRwaWNvblwiICkuY2xpY2soIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5wbGF5ZXIuZ2V0UGxheWVyU3RhdGUoKSA9PSAxICkgalF1ZXJ5KCBZVFBsYXllciApLllUUFBhdXNlKCk7XG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBqUXVlcnkoIFlUUGxheWVyICkuWVRQUGxheSgpO1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0LyogbXV0ZS91bm11dGUgYnV0dG9uKi9cblx0XHRcdFx0XHRcdHZhciBNdXRlVW5tdXRlID0galF1ZXJ5KCBcIjxzcGFuPlwiICsgalF1ZXJ5Lm1iWVRQbGF5ZXIuY29udHJvbHMubXV0ZSArIFwiPC9zcGFuPlwiICkuYWRkQ2xhc3MoIFwibWJfWVRQTXV0ZVVubXV0ZSB5dHBpY29uXCIgKS5jbGljayggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnBsYXllci5nZXRWb2x1bWUoKSA9PSAwICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQVW5tdXRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUE11dGUoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHQvKiB2b2x1bWUgYmFyKi9cblx0XHRcdFx0XHRcdHZhciB2b2x1bWVCYXIgPSBqUXVlcnkoIFwiPGRpdi8+XCIgKS5hZGRDbGFzcyggXCJtYl9ZVFBWb2x1bWVCYXJcIiApLmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCJcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFlUUGxheWVyLnZvbHVtZUJhciA9IHZvbHVtZUJhcjtcblx0XHRcdFx0XHRcdC8qIHRpbWUgZWxhcHNlZCAqL1xuXHRcdFx0XHRcdFx0dmFyIGlkeCA9IGpRdWVyeSggXCI8c3Bhbi8+XCIgKS5hZGRDbGFzcyggXCJtYl9ZVFBUaW1lXCIgKTtcblx0XHRcdFx0XHRcdHZhciB2VVJMID0gZGF0YS52aWRlb1VSTCA/IGRhdGEudmlkZW9VUkwgOiBcIlwiO1xuXHRcdFx0XHRcdFx0aWYoIHZVUkwuaW5kZXhPZiggXCJodHRwXCIgKSA8IDAgKSB2VVJMID0galF1ZXJ5Lm1iWVRQbGF5ZXIubG9jYXRpb25Qcm90b2NvbCArIFwiLy93d3cueW91dHViZS5jb20vd2F0Y2g/dj1cIiArIGRhdGEudmlkZW9VUkw7XG5cdFx0XHRcdFx0XHR2YXIgbW92aWVVcmwgPSBqUXVlcnkoIFwiPHNwYW4vPlwiICkuaHRtbCggalF1ZXJ5Lm1iWVRQbGF5ZXIuY29udHJvbHMueXRMb2dvICkuYWRkQ2xhc3MoIFwibWJfWVRQVXJsIHl0cGljb25cIiApLmF0dHIoIFwidGl0bGVcIiwgXCJ2aWV3IG9uIFlvdVR1YmVcIiApLm9uKCBcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5vcGVuKCB2VVJMLCBcInZpZXdPbllUXCIgKVxuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0dmFyIG9ubHlWaWRlbyA9IGpRdWVyeSggXCI8c3Bhbi8+XCIgKS5odG1sKCBqUXVlcnkubWJZVFBsYXllci5jb250cm9scy5vbmx5WVQgKS5hZGRDbGFzcyggXCJtYl9Pbmx5WVQgeXRwaWNvblwiICkub24oIFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUEZ1bGxzY3JlZW4oIGRhdGEucmVhbGZ1bGxzY3JlZW4gKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdHZhciBwcm9ncmVzc0JhciA9IGpRdWVyeSggXCI8ZGl2Lz5cIiApLmFkZENsYXNzKCBcIm1iX1lUUFByb2dyZXNzXCIgKS5jc3MoIFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiICkuY2xpY2soIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRcdFx0XHRcdHRpbWVCYXIuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdpZHRoOiAoIGUuY2xpZW50WCAtIHRpbWVCYXIub2Zmc2V0KCkubGVmdCApXG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnRpbWVXID0gZS5jbGllbnRYIC0gdGltZUJhci5vZmZzZXQoKS5sZWZ0O1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmNvbnRyb2xCYXIuZmluZCggXCIubWJfWVRQTG9hZGVkXCIgKS5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2lkdGg6IDBcblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHRvdGFsVGltZSA9IE1hdGguZmxvb3IoIFlUUGxheWVyLnBsYXllci5nZXREdXJhdGlvbigpICk7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuZ290byA9ICggdGltZUJhci5vdXRlcldpZHRoKCkgKiB0b3RhbFRpbWUgKSAvIHByb2dyZXNzQmFyLm91dGVyV2lkdGgoKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIuc2Vla1RvKCBwYXJzZUZsb2F0KCBZVFBsYXllci5nb3RvICksIHRydWUgKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5jb250cm9sQmFyLmZpbmQoIFwiLm1iX1lUUExvYWRlZFwiICkuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdpZHRoOiAwXG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0dmFyIGxvYWRlZEJhciA9IGpRdWVyeSggXCI8ZGl2Lz5cIiApLmFkZENsYXNzKCBcIm1iX1lUUExvYWRlZFwiICkuY3NzKCBcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIiApO1xuXHRcdFx0XHRcdFx0dmFyIHRpbWVCYXIgPSBqUXVlcnkoIFwiPGRpdi8+XCIgKS5hZGRDbGFzcyggXCJtYl9ZVFBzZWVrYmFyXCIgKS5jc3MoIFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiICk7XG5cdFx0XHRcdFx0XHRwcm9ncmVzc0Jhci5hcHBlbmQoIGxvYWRlZEJhciApLmFwcGVuZCggdGltZUJhciApO1xuXHRcdFx0XHRcdFx0YnV0dG9uQmFyLmFwcGVuZCggcGxheXBhdXNlICkuYXBwZW5kKCBNdXRlVW5tdXRlICkuYXBwZW5kKCB2b2x1bWVCYXIgKS5hcHBlbmQoIGlkeCApO1xuXHRcdFx0XHRcdFx0aWYoIGRhdGEuc2hvd1lUTG9nbyApIHtcblx0XHRcdFx0XHRcdFx0XHRidXR0b25CYXIuYXBwZW5kKCBtb3ZpZVVybCApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmlzQmFja2dyb3VuZCB8fCAoIGV2YWwoIFlUUGxheWVyLm9wdC5yZWFsZnVsbHNjcmVlbiApICYmICFZVFBsYXllci5pc0JhY2tncm91bmQgKSApIGJ1dHRvbkJhci5hcHBlbmQoIG9ubHlWaWRlbyApO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIuY29udHJvbEJhci5hcHBlbmQoIGJ1dHRvbkJhciApLmFwcGVuZCggcHJvZ3Jlc3NCYXIgKTtcblx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIuaXNCYWNrZ3JvdW5kICkge1xuXHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmNvbnRyb2xCYXIuYWRkQ2xhc3MoIFwiaW5saW5lUGxheWVyXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci53cmFwcGVyLmJlZm9yZSggWVRQbGF5ZXIuY29udHJvbEJhciApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFwiYm9keVwiICkuYWZ0ZXIoIFlUUGxheWVyLmNvbnRyb2xCYXIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZvbHVtZUJhci5zaW1wbGVTbGlkZXIoIHtcblx0XHRcdFx0XHRcdFx0XHRpbml0aWFsdmFsOiBZVFBsYXllci5vcHQudm9sLFxuXHRcdFx0XHRcdFx0XHRcdHNjYWxlOiAxMDAsXG5cdFx0XHRcdFx0XHRcdFx0b3JpZW50YXRpb246IFwiaFwiLFxuXHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrOiBmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBlbC52YWx1ZSA9PSAwICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBZVFBsYXllciApLllUUE11dGUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBVbm11dGUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIuc2V0Vm9sdW1lKCBlbC52YWx1ZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLmlzTXV0ZSApIFlUUGxheWVyLm9wdC52b2wgPSBlbC52YWx1ZTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiAqL1xuXHRcdFx0XHRjaGVja0ZvclN0YXRlOiBmdW5jdGlvbiggWVRQbGF5ZXIgKSB7XG5cdFx0XHRcdFx0XHR2YXIgaW50ZXJ2YWwgPSBZVFBsYXllci5vcHQuc2hvd0NvbnRyb2xzID8gMTAwIDogNzAwO1xuXHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggWVRQbGF5ZXIuZ2V0U3RhdGUgKTtcblx0XHRcdFx0XHRcdC8vQ2hlY2tpbmcgaWYgcGxheWVyIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSBzY2VuZVxuXHRcdFx0XHRcdFx0aWYoICFqUXVlcnkuY29udGFpbnMoIGRvY3VtZW50LCBZVFBsYXllciApICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBQbGF5ZXJEZXN0cm95KCk7XG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggWVRQbGF5ZXIuZ2V0U3RhdGUgKTtcblx0XHRcdFx0XHRcdFx0XHRjbGVhckludGVydmFsKCBZVFBsYXllci5jaGVja0ZvclN0YXJ0QXQgKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRqUXVlcnkubWJZVFBsYXllci5jaGVja0ZvclN0YXJ0KCBZVFBsYXllciApO1xuXHRcdFx0XHRcdFx0WVRQbGF5ZXIuZ2V0U3RhdGUgPSBzZXRJbnRlcnZhbCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHByb2cgPSBqUXVlcnkoIFlUUGxheWVyICkuWVRQTWFuYWdlUHJvZ3Jlc3MoKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgJFlUUGxheWVyID0galF1ZXJ5KCBZVFBsYXllciApO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBkYXRhID0gWVRQbGF5ZXIub3B0O1xuXHRcdFx0XHRcdFx0XHRcdHZhciBzdGFydEF0ID0gWVRQbGF5ZXIub3B0LnN0YXJ0QXQgPyBZVFBsYXllci5vcHQuc3RhcnRBdCA6IDA7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHN0b3BBdCA9IFlUUGxheWVyLm9wdC5zdG9wQXQgPiBZVFBsYXllci5vcHQuc3RhcnRBdCA/IFlUUGxheWVyLm9wdC5zdG9wQXQgOiAwO1xuXHRcdFx0XHRcdFx0XHRcdHN0b3BBdCA9IHN0b3BBdCA8IFlUUGxheWVyLnBsYXllci5nZXREdXJhdGlvbigpID8gc3RvcEF0IDogMDtcblx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIucGxheWVyLnRpbWUgIT0gcHJvZy5jdXJyZW50VGltZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIFlUUEV2ZW50ID0galF1ZXJ5LkV2ZW50KCBcIllUUFRpbWVcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBFdmVudC50aW1lID0gWVRQbGF5ZXIucGxheWVyLnRpbWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS50cmlnZ2VyKCBZVFBFdmVudCApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIudGltZSA9IHByb2cuY3VycmVudFRpbWU7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnBsYXllci5nZXRWb2x1bWUoKSA9PSAwICkgJFlUUGxheWVyLmFkZENsYXNzKCBcImlzTXV0ZWRcIiApO1xuXHRcdFx0XHRcdFx0XHRcdGVsc2UgJFlUUGxheWVyLnJlbW92ZUNsYXNzKCBcImlzTXV0ZWRcIiApO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5vcHQuc2hvd0NvbnRyb2xzIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIHByb2cudG90YWxUaW1lICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuY29udHJvbEJhci5maW5kKCBcIi5tYl9ZVFBUaW1lXCIgKS5odG1sKCBqUXVlcnkubWJZVFBsYXllci5mb3JtYXRUaW1lKCBwcm9nLmN1cnJlbnRUaW1lICkgKyBcIiAvIFwiICsgalF1ZXJ5Lm1iWVRQbGF5ZXIuZm9ybWF0VGltZSggcHJvZy50b3RhbFRpbWUgKSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuY29udHJvbEJhci5maW5kKCBcIi5tYl9ZVFBUaW1lXCIgKS5odG1sKCBcIi0tIDogLS0gLyAtLSA6IC0tXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmKCBldmFsKCBZVFBsYXllci5vcHQuc3RvcE1vdmllT25CbHVyICkgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggIWRvY3VtZW50Lmhhc0ZvY3VzKCkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuc3RhdGUgPT0gMSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5oYXNGb2N1cyA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRZVFBsYXllci5ZVFBQYXVzZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYoIGRvY3VtZW50Lmhhc0ZvY3VzKCkgJiYgIVlUUGxheWVyLmhhc0ZvY3VzICYmICEoIFlUUGxheWVyLnN0YXRlID09IC0xIHx8IFlUUGxheWVyLnN0YXRlID09IDAgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaGFzRm9jdXMgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQkWVRQbGF5ZXIuWVRQUGxheSgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuY29udHJvbEJhciAmJiBZVFBsYXllci5jb250cm9sQmFyLm91dGVyV2lkdGgoKSA8PSA0MDAgJiYgIVlUUGxheWVyLmlzQ29tcGFjdCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuY29udHJvbEJhci5hZGRDbGFzcyggXCJjb21wYWN0XCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuaXNDb21wYWN0ID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci5pc011dGUgJiYgWVRQbGF5ZXIudm9sdW1lQmFyICkgWVRQbGF5ZXIudm9sdW1lQmFyLnVwZGF0ZVNsaWRlclZhbCggWVRQbGF5ZXIub3B0LnZvbCApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiggWVRQbGF5ZXIuY29udHJvbEJhciAmJiBZVFBsYXllci5jb250cm9sQmFyLm91dGVyV2lkdGgoKSA+IDQwMCAmJiBZVFBsYXllci5pc0NvbXBhY3QgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmNvbnRyb2xCYXIucmVtb3ZlQ2xhc3MoIFwiY29tcGFjdFwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmlzQ29tcGFjdCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLmlzTXV0ZSAmJiBZVFBsYXllci52b2x1bWVCYXIgKSBZVFBsYXllci52b2x1bWVCYXIudXBkYXRlU2xpZGVyVmFsKCBZVFBsYXllci5vcHQudm9sICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5wbGF5ZXIuZ2V0UGxheWVyU3RhdGUoKSA9PSAxICYmICggcGFyc2VGbG9hdCggWVRQbGF5ZXIucGxheWVyLmdldER1cmF0aW9uKCkgLSAxLjUgKSA8IFlUUGxheWVyLnBsYXllci5nZXRDdXJyZW50VGltZSgpIHx8ICggc3RvcEF0ID4gMCAmJiBwYXJzZUZsb2F0KCBZVFBsYXllci5wbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSApID4gc3RvcEF0ICkgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmlzRW5kZWQgKSByZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmlzRW5kZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmlzRW5kZWQgPSBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LCAxMDAwICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5pc1BsYXlMaXN0ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggWVRQbGF5ZXIuZ2V0U3RhdGUgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBZVFBFbmQgPSBqUXVlcnkuRXZlbnQoIFwiWVRQRW5kXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUEVuZC50aW1lID0gWVRQbGF5ZXIucGxheWVyLnRpbWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggWVRQRW5kICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiggIWRhdGEubG9vcCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5wYXVzZVZpZGVvKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci53cmFwcGVyLkNTU0FuaW1hdGUoIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAwXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCAxMDAwLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgWVRQRW5kID0galF1ZXJ5LkV2ZW50KCBcIllUUEVuZFwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQRW5kLnRpbWUgPSBZVFBsYXllci5wbGF5ZXIudGltZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggWVRQRW5kICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnNlZWtUbyggc3RhcnRBdCwgdHJ1ZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCAhWVRQbGF5ZXIuaXNCYWNrZ3JvdW5kICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vcHQuY29udGFpbm1lbnQuY3NzKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBcInJnYmEoMCwwLDAsMC41KSB1cmwoXCIgKyBZVFBsYXllci5vcHQuYmFja2dyb3VuZFVybCArIFwiKSBjZW50ZXIgY2VudGVyXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kU2l6ZTogXCJjb3ZlclwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0YXJ0QXQgPSBzdGFydEF0IHx8IDE7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5wYXVzZVZpZGVvKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5wbGF5ZXIuc2Vla1RvKCBzdGFydEF0LCB0cnVlICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkWVRQbGF5ZXIuWVRQUGxheSgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBpbnRlcnZhbCApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogKi9cblx0XHRcdFx0Y2hlY2tGb3JTdGFydDogZnVuY3Rpb24oIFlUUGxheWVyICkge1xuXHRcdFx0XHRcdFx0dmFyICRZVFBsYXllciA9IGpRdWVyeSggWVRQbGF5ZXIgKTtcblx0XHRcdFx0XHRcdC8vQ2hlY2tpbmcgaWYgcGxheWVyIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSBzY2VuZVxuXHRcdFx0XHRcdFx0aWYoICFqUXVlcnkuY29udGFpbnMoIGRvY3VtZW50LCBZVFBsYXllciApICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBQbGF5ZXJEZXN0cm95KCk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiggalF1ZXJ5LmJyb3dzZXIuY2hyb21lICkgWVRQbGF5ZXIub3B0LnF1YWxpdHkgPSBcImRlZmF1bHRcIjtcblx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5wYXVzZVZpZGVvKCk7XG5cdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkubXV0ZVlUUFZvbHVtZSgpO1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBcIiNjb250cm9sQmFyX1wiICsgWVRQbGF5ZXIuaWQgKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5vcHQuc2hvd0NvbnRyb2xzICkgalF1ZXJ5Lm1iWVRQbGF5ZXIuYnVpbGRDb250cm9scyggWVRQbGF5ZXIgKTtcblx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5vcHQuYWRkUmFzdGVyICkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBjbGFzc04gPSBZVFBsYXllci5vcHQuYWRkUmFzdGVyID09IFwiZG90XCIgPyBcInJhc3Rlci1kb3RcIiA6IFwicmFzdGVyXCI7XG5cdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIub3ZlcmxheS5hZGRDbGFzcyggWVRQbGF5ZXIuaXNSZXRpbmEgPyBjbGFzc04gKyBcIiByZXRpbmFcIiA6IGNsYXNzTiApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5vdmVybGF5LnJlbW92ZUNsYXNzKCBmdW5jdGlvbiggaW5kZXgsIGNsYXNzTmFtZXMgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGNoYW5nZSB0aGUgbGlzdCBpbnRvIGFuIGFycmF5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBjdXJyZW50X2NsYXNzZXMgPSBjbGFzc05hbWVzLnNwbGl0KCBcIiBcIiApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYXJyYXkgb2YgY2xhc3NlcyB3aGljaCBhcmUgdG8gYmUgcmVtb3ZlZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3Nlc190b19yZW1vdmUgPSBbXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmVhY2goIGN1cnJlbnRfY2xhc3NlcywgZnVuY3Rpb24oIGluZGV4LCBjbGFzc19uYW1lICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaWYgdGhlIGNsYXNzbmFtZSBiZWdpbnMgd2l0aCBiZyBhZGQgaXQgdG8gdGhlIGNsYXNzZXNfdG9fcmVtb3ZlIGFycmF5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggL3Jhc3Rlci4qLy50ZXN0KCBjbGFzc19uYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3Nlc190b19yZW1vdmUucHVzaCggY2xhc3NfbmFtZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzZXNfdG9fcmVtb3ZlLnB1c2goIFwicmV0aW5hXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gdHVybiB0aGUgYXJyYXkgYmFjayBpbnRvIGEgc3RyaW5nXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjbGFzc2VzX3RvX3JlbW92ZS5qb2luKCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0XHRcdH0gKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0WVRQbGF5ZXIuY2hlY2tGb3JTdGFydEF0ID0gc2V0SW50ZXJ2YWwoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBNdXRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHN0YXJ0QXQgPSBZVFBsYXllci5vcHQuc3RhcnRBdCA/IFlUUGxheWVyLm9wdC5zdGFydEF0IDogMTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgY2FuUGxheVZpZGVvID0gKCBZVFBsYXllci5wbGF5ZXIuZ2V0VmlkZW9Mb2FkZWRGcmFjdGlvbigpID4gc3RhcnRBdCAvIFlUUGxheWVyLnBsYXllci5nZXREdXJhdGlvbigpICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLnBsYXllci5nZXREdXJhdGlvbigpID4gMCAmJiBZVFBsYXllci5wbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSA+PSBzdGFydEF0ICYmIGNhblBsYXlWaWRlbyApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggWVRQbGF5ZXIuY2hlY2tGb3JTdGFydEF0ICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLmlzUmVhZHkgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggdHlwZW9mIFlUUGxheWVyLm9wdC5vblJlYWR5ID09IFwiZnVuY3Rpb25cIiApIFlUUGxheWVyLm9wdC5vblJlYWR5KCBZVFBsYXllciApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgWVRQcmVhZHkgPSBqUXVlcnkuRXZlbnQoIFwiWVRQUmVhZHlcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkudHJpZ2dlciggWVRQcmVhZHkgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIucGxheWVyLnBhdXNlVmlkZW8oKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoICFZVFBsYXllci5vcHQubXV0ZSApIGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBVbm11dGUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIuY2FuVHJpZ2dlciA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBZVFBsYXllci5vcHQuYXV0b1BsYXkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkWVRQbGF5ZXIuWVRQUGxheSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JFlUUGxheWVyLmNzcyggXCJiYWNrZ3JvdW5kLWltYWdlXCIsIFwibm9uZVwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyLnBsYXllckVsICkuQ1NTQW5pbWF0ZSgge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIDEwMDAgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLndyYXBwZXIuQ1NTQW5pbWF0ZSgge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IFlUUGxheWVyLmlzQWxvbmUgPyAxIDogWVRQbGF5ZXIub3B0Lm9wYWNpdHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIDEwMDAgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFlUUGxheWVyLnBsYXllci5wYXVzZVZpZGVvKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggIVlUUGxheWVyLmlzUGxheWVyICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIucGxheWVyRWwgKS5DU1NBbmltYXRlKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCAxMDAwICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIud3JhcHBlci5DU1NBbmltYXRlKCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IFlUUGxheWVyLmlzQWxvbmUgPyAxIDogWVRQbGF5ZXIub3B0Lm9wYWNpdHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCAxMDAwICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoIFlUUGxheWVyLmlzUGxheWVyICYmICFZVFBsYXllci5vcHQuYXV0b1BsYXkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRZVFBsYXllci5sb2FkaW5nLmh0bWwoIFwiUmVhZHlcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0WVRQbGF5ZXIubG9hZGluZy5mYWRlT3V0KCk7XG5cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgMTAwIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggWVRQbGF5ZXIuY29udHJvbEJhciApIFlUUGxheWVyLmNvbnRyb2xCYXIuc2xpZGVEb3duKCAxMDAwICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly9ZVFBsYXllci5wbGF5ZXIucGxheVZpZGVvKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCBzdGFydEF0ID49IDAgKSBZVFBsYXllci5wbGF5ZXIuc2Vla1RvKCBzdGFydEF0LCB0cnVlICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgMTAwMCApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIHNcblx0XHRcdFx0ICogQHJldHVybnMge3N0cmluZ31cblx0XHRcdFx0ICovXG5cdFx0XHRcdGZvcm1hdFRpbWU6IGZ1bmN0aW9uKCBzICkge1xuXHRcdFx0XHRcdFx0dmFyIG1pbiA9IE1hdGguZmxvb3IoIHMgLyA2MCApO1xuXHRcdFx0XHRcdFx0dmFyIHNlYyA9IE1hdGguZmxvb3IoIHMgLSAoIDYwICogbWluICkgKTtcblx0XHRcdFx0XHRcdHJldHVybiggbWluIDw9IDkgPyBcIjBcIiArIG1pbiA6IG1pbiApICsgXCIgOiBcIiArICggc2VjIDw9IDkgPyBcIjBcIiArIHNlYyA6IHNlYyApO1xuXHRcdFx0XHR9XG5cdFx0fTtcblx0XHQvKipcblx0XHQgKlxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHRcdCAqL1xuXHRcdGpRdWVyeS5mbi50b2dnbGVWb2x1bWUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIFlUUGxheWVyID0gdGhpcy5nZXQoIDAgKTtcblx0XHRcdFx0aWYoICFZVFBsYXllciApIHJldHVybjtcblx0XHRcdFx0aWYoIFlUUGxheWVyLnBsYXllci5pc011dGVkKCkgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkoIFlUUGxheWVyICkuWVRQVW5tdXRlKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGpRdWVyeSggWVRQbGF5ZXIgKS5ZVFBNdXRlKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHR9O1xuXHRcdC8qKlxuXHRcdCAqXG5cdFx0ICovXG5cdFx0alF1ZXJ5LmZuLm9wdGltaXplRGlzcGxheSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgWVRQbGF5ZXIgPSB0aGlzLmdldCggMCApO1xuXHRcdFx0XHR2YXIgZGF0YSA9IFlUUGxheWVyLm9wdDtcblx0XHRcdFx0dmFyIHBsYXllckJveCA9IGpRdWVyeSggWVRQbGF5ZXIucGxheWVyRWwgKTtcblx0XHRcdFx0dmFyIHdpbiA9IHt9O1xuXHRcdFx0XHR2YXIgZWwgPSBZVFBsYXllci53cmFwcGVyO1xuXHRcdFx0XHR3aW4ud2lkdGggPSBlbC5vdXRlcldpZHRoKCk7XG5cdFx0XHRcdHdpbi5oZWlnaHQgPSBlbC5vdXRlckhlaWdodCgpO1xuXHRcdFx0XHR2YXIgbWFyZ2luID0gMjQ7XG5cdFx0XHRcdHZhciBvdmVycHJpbnQgPSAxMDA7XG5cdFx0XHRcdHZhciB2aWQgPSB7fTtcblx0XHRcdFx0aWYoIGRhdGEub3B0aW1pemVEaXNwbGF5ICkge1xuXHRcdFx0XHRcdFx0dmlkLndpZHRoID0gd2luLndpZHRoICsgKCAoIHdpbi53aWR0aCAqIG1hcmdpbiApIC8gMTAwICk7XG5cdFx0XHRcdFx0XHR2aWQuaGVpZ2h0ID0gZGF0YS5yYXRpbyA9PSBcIjE2LzlcIiA/IE1hdGguY2VpbCggKCA5ICogd2luLndpZHRoICkgLyAxNiApIDogTWF0aC5jZWlsKCAoIDMgKiB3aW4ud2lkdGggKSAvIDQgKTtcblx0XHRcdFx0XHRcdHZpZC5tYXJnaW5Ub3AgPSAtKCAoIHZpZC5oZWlnaHQgLSB3aW4uaGVpZ2h0ICkgLyAyICk7XG5cdFx0XHRcdFx0XHR2aWQubWFyZ2luTGVmdCA9IC0oICggd2luLndpZHRoICogKCBtYXJnaW4gLyAyICkgKSAvIDEwMCApO1xuXHRcdFx0XHRcdFx0aWYoIHZpZC5oZWlnaHQgPCB3aW4uaGVpZ2h0ICkge1xuXHRcdFx0XHRcdFx0XHRcdHZpZC5oZWlnaHQgPSB3aW4uaGVpZ2h0ICsgKCAoIHdpbi5oZWlnaHQgKiBtYXJnaW4gKSAvIDEwMCApO1xuXHRcdFx0XHRcdFx0XHRcdHZpZC53aWR0aCA9IGRhdGEucmF0aW8gPT0gXCIxNi85XCIgPyBNYXRoLmZsb29yKCAoIDE2ICogd2luLmhlaWdodCApIC8gOSApIDogTWF0aC5mbG9vciggKCA0ICogd2luLmhlaWdodCApIC8gMyApO1xuXHRcdFx0XHRcdFx0XHRcdHZpZC5tYXJnaW5Ub3AgPSAtKCAoIHdpbi5oZWlnaHQgKiAoIG1hcmdpbiAvIDIgKSApIC8gMTAwICk7XG5cdFx0XHRcdFx0XHRcdFx0dmlkLm1hcmdpbkxlZnQgPSAtKCAoIHZpZC53aWR0aCAtIHdpbi53aWR0aCApIC8gMiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dmlkLndpZHRoICs9IG92ZXJwcmludDtcblx0XHRcdFx0XHRcdHZpZC5oZWlnaHQgKz0gb3ZlcnByaW50O1xuXHRcdFx0XHRcdFx0dmlkLm1hcmdpblRvcCAtPSBvdmVycHJpbnQgLyAyO1xuXHRcdFx0XHRcdFx0dmlkLm1hcmdpbkxlZnQgLT0gb3ZlcnByaW50IC8gMjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHZpZC53aWR0aCA9IFwiMTAwJVwiO1xuXHRcdFx0XHRcdFx0dmlkLmhlaWdodCA9IFwiMTAwJVwiO1xuXHRcdFx0XHRcdFx0dmlkLm1hcmdpblRvcCA9IDA7XG5cdFx0XHRcdFx0XHR2aWQubWFyZ2luTGVmdCA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdFx0cGxheWVyQm94LmNzcygge1xuXHRcdFx0XHRcdFx0d2lkdGg6IHZpZC53aWR0aCxcblx0XHRcdFx0XHRcdGhlaWdodDogdmlkLmhlaWdodCxcblx0XHRcdFx0XHRcdG1hcmdpblRvcDogdmlkLm1hcmdpblRvcCxcblx0XHRcdFx0XHRcdG1hcmdpbkxlZnQ6IHZpZC5tYXJnaW5MZWZ0XG5cdFx0XHRcdH0gKTtcblx0XHR9O1xuXHRcdC8qKlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGFyclxuXHRcdCAqIEByZXR1cm5zIHtBcnJheXxzdHJpbmd8QmxvYnwqfVxuXHRcdCAqXG5cdFx0ICovXG5cdFx0alF1ZXJ5LnNodWZmbGUgPSBmdW5jdGlvbiggYXJyICkge1xuXHRcdFx0XHR2YXIgbmV3QXJyYXkgPSBhcnIuc2xpY2UoKTtcblx0XHRcdFx0dmFyIGxlbiA9IG5ld0FycmF5Lmxlbmd0aDtcblx0XHRcdFx0dmFyIGkgPSBsZW47XG5cdFx0XHRcdHdoaWxlKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHR2YXIgcCA9IHBhcnNlSW50KCBNYXRoLnJhbmRvbSgpICogbGVuICk7XG5cdFx0XHRcdFx0XHR2YXIgdCA9IG5ld0FycmF5WyBpIF07XG5cdFx0XHRcdFx0XHRuZXdBcnJheVsgaSBdID0gbmV3QXJyYXlbIHAgXTtcblx0XHRcdFx0XHRcdG5ld0FycmF5WyBwIF0gPSB0O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBuZXdBcnJheTtcblx0XHR9O1xuXG5cdFx0LyogRXhwb3NlZCBwdWJsaWMgbWV0aG9kICovXG5cdFx0alF1ZXJ5LmZuLllUUGxheWVyID0galF1ZXJ5Lm1iWVRQbGF5ZXIuYnVpbGRQbGF5ZXI7XG5cdFx0alF1ZXJ5LmZuLllUUEdldFBsYXllciA9IGpRdWVyeS5tYllUUGxheWVyLmdldFBsYXllcjtcblx0XHRqUXVlcnkuZm4uWVRQR2V0VmlkZW9JRCA9IGpRdWVyeS5tYllUUGxheWVyLmdldFZpZGVvSUQ7XG5cdFx0alF1ZXJ5LmZuLllUUENoYW5nZU1vdmllID0galF1ZXJ5Lm1iWVRQbGF5ZXIuY2hhbmdlTW92aWU7XG5cdFx0alF1ZXJ5LmZuLllUUFBsYXllckRlc3Ryb3kgPSBqUXVlcnkubWJZVFBsYXllci5wbGF5ZXJEZXN0cm95O1xuXG5cdFx0alF1ZXJ5LmZuLllUUFBsYXkgPSBqUXVlcnkubWJZVFBsYXllci5wbGF5O1xuXHRcdGpRdWVyeS5mbi5ZVFBUb2dnbGVQbGF5ID0galF1ZXJ5Lm1iWVRQbGF5ZXIudG9nZ2xlUGxheTtcblx0XHRqUXVlcnkuZm4uWVRQU3RvcCA9IGpRdWVyeS5tYllUUGxheWVyLnN0b3A7XG5cdFx0alF1ZXJ5LmZuLllUUFBhdXNlID0galF1ZXJ5Lm1iWVRQbGF5ZXIucGF1c2U7XG5cdFx0alF1ZXJ5LmZuLllUUFNlZWtUbyA9IGpRdWVyeS5tYllUUGxheWVyLnNlZWtUbztcblxuXHRcdGpRdWVyeS5mbi5ZVFBsYXlsaXN0ID0galF1ZXJ5Lm1iWVRQbGF5ZXIucGxheWxpc3Q7XG5cdFx0alF1ZXJ5LmZuLllUUFBsYXlOZXh0ID0galF1ZXJ5Lm1iWVRQbGF5ZXIucGxheU5leHQ7XG5cdFx0alF1ZXJ5LmZuLllUUFBsYXlQcmV2ID0galF1ZXJ5Lm1iWVRQbGF5ZXIucGxheVByZXY7XG5cblx0XHRqUXVlcnkuZm4uWVRQTXV0ZSA9IGpRdWVyeS5tYllUUGxheWVyLm11dGU7XG5cdFx0alF1ZXJ5LmZuLllUUFVubXV0ZSA9IGpRdWVyeS5tYllUUGxheWVyLnVubXV0ZTtcblx0XHRqUXVlcnkuZm4uWVRQVG9nZ2xlVm9sdW1lID0galF1ZXJ5Lm1iWVRQbGF5ZXIudG9nZ2xlVm9sdW1lO1xuXHRcdGpRdWVyeS5mbi5ZVFBTZXRWb2x1bWUgPSBqUXVlcnkubWJZVFBsYXllci5zZXRWb2x1bWU7XG5cblx0XHRqUXVlcnkuZm4uWVRQR2V0VmlkZW9EYXRhID0galF1ZXJ5Lm1iWVRQbGF5ZXIuZ2V0VmlkZW9EYXRhO1xuXHRcdGpRdWVyeS5mbi5ZVFBGdWxsc2NyZWVuID0galF1ZXJ5Lm1iWVRQbGF5ZXIuZnVsbHNjcmVlbjtcblx0XHRqUXVlcnkuZm4uWVRQVG9nZ2xlTG9vcHMgPSBqUXVlcnkubWJZVFBsYXllci50b2dnbGVMb29wcztcblx0XHRqUXVlcnkuZm4uWVRQU2V0VmlkZW9RdWFsaXR5ID0galF1ZXJ5Lm1iWVRQbGF5ZXIuc2V0VmlkZW9RdWFsaXR5O1xuXHRcdGpRdWVyeS5mbi5ZVFBNYW5hZ2VQcm9ncmVzcyA9IGpRdWVyeS5tYllUUGxheWVyLm1hbmFnZVByb2dyZXNzO1xuXG5cdFx0alF1ZXJ5LmZuLllUUEFwcGx5RmlsdGVyID0galF1ZXJ5Lm1iWVRQbGF5ZXIuYXBwbHlGaWx0ZXI7XG5cdFx0alF1ZXJ5LmZuLllUUEFwcGx5RmlsdGVycyA9IGpRdWVyeS5tYllUUGxheWVyLmFwcGx5RmlsdGVycztcblx0XHRqUXVlcnkuZm4uWVRQVG9nZ2xlRmlsdGVyID0galF1ZXJ5Lm1iWVRQbGF5ZXIudG9nZ2xlRmlsdGVyO1xuXHRcdGpRdWVyeS5mbi5ZVFBUb2dnbGVGaWx0ZXJzID0galF1ZXJ5Lm1iWVRQbGF5ZXIudG9nZ2xlRmlsdGVycztcblx0XHRqUXVlcnkuZm4uWVRQUmVtb3ZlRmlsdGVyID0galF1ZXJ5Lm1iWVRQbGF5ZXIucmVtb3ZlRmlsdGVyO1xuXHRcdGpRdWVyeS5mbi5ZVFBEaXNhYmxlRmlsdGVycyA9IGpRdWVyeS5tYllUUGxheWVyLmRpc2FibGVGaWx0ZXJzO1xuXHRcdGpRdWVyeS5mbi5ZVFBFbmFibGVGaWx0ZXJzID0galF1ZXJ5Lm1iWVRQbGF5ZXIuZW5hYmxlRmlsdGVycztcblxuXG5cdFx0LyoqXG5cdFx0ICpcblx0XHQgKiBAZGVwcmVjYXRlZFxuXHRcdCAqXG5cdFx0ICoqL1xuXHRcdGpRdWVyeS5mbi5tYl9ZVFBsYXllciA9IGpRdWVyeS5tYllUUGxheWVyLmJ1aWxkUGxheWVyO1xuXHRcdGpRdWVyeS5mbi5wbGF5TmV4dCA9IGpRdWVyeS5tYllUUGxheWVyLnBsYXlOZXh0O1xuXHRcdGpRdWVyeS5mbi5wbGF5UHJldiA9IGpRdWVyeS5tYllUUGxheWVyLnBsYXlQcmV2O1xuXHRcdGpRdWVyeS5mbi5jaGFuZ2VNb3ZpZSA9IGpRdWVyeS5tYllUUGxheWVyLmNoYW5nZU1vdmllO1xuXHRcdGpRdWVyeS5mbi5nZXRWaWRlb0lEID0galF1ZXJ5Lm1iWVRQbGF5ZXIuZ2V0VmlkZW9JRDtcblx0XHRqUXVlcnkuZm4uZ2V0UGxheWVyID0galF1ZXJ5Lm1iWVRQbGF5ZXIuZ2V0UGxheWVyO1xuXHRcdGpRdWVyeS5mbi5wbGF5ZXJEZXN0cm95ID0galF1ZXJ5Lm1iWVRQbGF5ZXIucGxheWVyRGVzdHJveTtcblx0XHRqUXVlcnkuZm4uZnVsbHNjcmVlbiA9IGpRdWVyeS5tYllUUGxheWVyLmZ1bGxzY3JlZW47XG5cdFx0alF1ZXJ5LmZuLmJ1aWxkWVRQQ29udHJvbHMgPSBqUXVlcnkubWJZVFBsYXllci5idWlsZENvbnRyb2xzO1xuXHRcdGpRdWVyeS5mbi5wbGF5WVRQID0galF1ZXJ5Lm1iWVRQbGF5ZXIucGxheTtcblx0XHRqUXVlcnkuZm4udG9nZ2xlTG9vcHMgPSBqUXVlcnkubWJZVFBsYXllci50b2dnbGVMb29wcztcblx0XHRqUXVlcnkuZm4uc3RvcFlUUCA9IGpRdWVyeS5tYllUUGxheWVyLnN0b3A7XG5cdFx0alF1ZXJ5LmZuLnBhdXNlWVRQID0galF1ZXJ5Lm1iWVRQbGF5ZXIucGF1c2U7XG5cdFx0alF1ZXJ5LmZuLnNlZWtUb1lUUCA9IGpRdWVyeS5tYllUUGxheWVyLnNlZWtUbztcblx0XHRqUXVlcnkuZm4ubXV0ZVlUUFZvbHVtZSA9IGpRdWVyeS5tYllUUGxheWVyLm11dGU7XG5cdFx0alF1ZXJ5LmZuLnVubXV0ZVlUUFZvbHVtZSA9IGpRdWVyeS5tYllUUGxheWVyLnVubXV0ZTtcblx0XHRqUXVlcnkuZm4uc2V0WVRQVm9sdW1lID0galF1ZXJ5Lm1iWVRQbGF5ZXIuc2V0Vm9sdW1lO1xuXHRcdGpRdWVyeS5mbi5zZXRWaWRlb1F1YWxpdHkgPSBqUXVlcnkubWJZVFBsYXllci5zZXRWaWRlb1F1YWxpdHk7XG5cdFx0alF1ZXJ5LmZuLm1hbmFnZVlUUFByb2dyZXNzID0galF1ZXJ5Lm1iWVRQbGF5ZXIubWFuYWdlUHJvZ3Jlc3M7XG5cdFx0alF1ZXJ5LmZuLllUUEdldERhdGFGcm9tRmVlZCA9IGpRdWVyeS5tYllUUGxheWVyLmdldFZpZGVvRGF0YTtcblxuXG59ICkoIGpRdWVyeSwgeXRwICk7XG47XG4vKlxuICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiAganF1ZXJ5Lm1iLmNvbXBvbmVudHNcbiAqICBmaWxlOiBqcXVlcnkubWIuQ1NTQW5pbWF0ZS5taW4uanNcbiAqXG4gKiAgQ29weXJpZ2h0IChjKSAyMDAxLTIwMTQuIE1hdHRlbyBCaWNvY2NoaSAoUHVwdW56aSk7XG4gKiAgT3BlbiBsYWIgc3JsLCBGaXJlbnplIC0gSXRhbHlcbiAqICBlbWFpbDogbWF0dGVvQG9wZW4tbGFiLmNvbVxuICogIHNpdGU6IFx0aHR0cDovL3B1cHVuemkuY29tXG4gKiAgYmxvZzpcdGh0dHA6Ly9wdXB1bnppLm9wZW4tbGFiLmNvbVxuICogXHRodHRwOi8vb3Blbi1sYWIuY29tXG4gKlxuICogIExpY2VuY2VzOiBNSVQsIEdQTFxuICogIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gKiAgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC5odG1sXG4gKlxuICogIGxhc3QgbW9kaWZpZWQ6IDI2LzAzLzE0IDIxLjQwXG4gKiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqL1xuXG5mdW5jdGlvbiB1bmNhbWVsKGEpe3JldHVybiBhLnJlcGxhY2UoLyhbQS1aXSkvZyxmdW5jdGlvbihhKXtyZXR1cm5cIi1cIithLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBzZXRVbml0KGEsYil7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGF8fGEubWF0Y2goL15bXFwtMC05XFwuXStqUXVlcnkvKT9cIlwiK2ErYjphfWZ1bmN0aW9uIHNldEZpbHRlcihhLGIsYyl7dmFyIGQ9dW5jYW1lbChiKSxlPWpRdWVyeS5icm93c2VyLm1vemlsbGE/XCJcIjpqUXVlcnkuQ1NTLnNmeDthW2UrXCJmaWx0ZXJcIl09YVtlK1wiZmlsdGVyXCJdfHxcIlwiLGM9c2V0VW5pdChjPmpRdWVyeS5DU1MuZmlsdGVyc1tiXS5tYXg/alF1ZXJ5LkNTUy5maWx0ZXJzW2JdLm1heDpjLGpRdWVyeS5DU1MuZmlsdGVyc1tiXS51bml0KSxhW2UrXCJmaWx0ZXJcIl0rPWQrXCIoXCIrYytcIikgXCIsZGVsZXRlIGFbYl19alF1ZXJ5LnN1cHBvcnQuQ1NTdHJhbnNpdGlvbj1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmJvZHl8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxiPWEuc3R5bGU7cmV0dXJuIHZvaWQgMCE9PWIudHJhbnNpdGlvbnx8dm9pZCAwIT09Yi5XZWJraXRUcmFuc2l0aW9ufHx2b2lkIDAhPT1iLk1velRyYW5zaXRpb258fHZvaWQgMCE9PWIuTXNUcmFuc2l0aW9ufHx2b2lkIDAhPT1iLk9UcmFuc2l0aW9ufSgpLGpRdWVyeS5DU1M9e25hbWU6XCJtYi5DU1NBbmltYXRlXCIsYXV0aG9yOlwiTWF0dGVvIEJpY29jY2hpXCIsdmVyc2lvbjpcIjIuMC4wXCIsdHJhbnNpdGlvbkVuZDpcInRyYW5zaXRpb25FbmRcIixzZng6XCJcIixmaWx0ZXJzOntibHVyOnttaW46MCxtYXg6MTAwLHVuaXQ6XCJweFwifSxicmlnaHRuZXNzOnttaW46MCxtYXg6NDAwLHVuaXQ6XCIlXCJ9LGNvbnRyYXN0OnttaW46MCxtYXg6NDAwLHVuaXQ6XCIlXCJ9LGdyYXlzY2FsZTp7bWluOjAsbWF4OjEwMCx1bml0OlwiJVwifSxodWVSb3RhdGU6e21pbjowLG1heDozNjAsdW5pdDpcImRlZ1wifSxpbnZlcnQ6e21pbjowLG1heDoxMDAsdW5pdDpcIiVcIn0sc2F0dXJhdGU6e21pbjowLG1heDo0MDAsdW5pdDpcIiVcIn0sc2VwaWE6e21pbjowLG1heDoxMDAsdW5pdDpcIiVcIn19LG5vcm1hbGl6ZUNzczpmdW5jdGlvbihhKXt2YXIgYj1qUXVlcnkuZXh0ZW5kKCEwLHt9LGEpO2pRdWVyeS5icm93c2VyLndlYmtpdHx8alF1ZXJ5LmJyb3dzZXIub3BlcmE/alF1ZXJ5LkNTUy5zZng9XCItd2Via2l0LVwiOmpRdWVyeS5icm93c2VyLm1vemlsbGE/alF1ZXJ5LkNTUy5zZng9XCItbW96LVwiOmpRdWVyeS5icm93c2VyLm1zaWUmJihqUXVlcnkuQ1NTLnNmeD1cIi1tcy1cIik7Zm9yKHZhciBjIGluIGIpe1widHJhbnNmb3JtXCI9PT1jJiYoYltqUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiXT1iW2NdLGRlbGV0ZSBiW2NdKSxcInRyYW5zZm9ybS1vcmlnaW5cIj09PWMmJihiW2pRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtLW9yaWdpblwiXT1hW2NdLGRlbGV0ZSBiW2NdKSxcImZpbHRlclwiIT09Y3x8alF1ZXJ5LmJyb3dzZXIubW96aWxsYXx8KGJbalF1ZXJ5LkNTUy5zZngrXCJmaWx0ZXJcIl09YVtjXSxkZWxldGUgYltjXSksXCJibHVyXCI9PT1jJiZzZXRGaWx0ZXIoYixcImJsdXJcIixhW2NdKSxcImJyaWdodG5lc3NcIj09PWMmJnNldEZpbHRlcihiLFwiYnJpZ2h0bmVzc1wiLGFbY10pLFwiY29udHJhc3RcIj09PWMmJnNldEZpbHRlcihiLFwiY29udHJhc3RcIixhW2NdKSxcImdyYXlzY2FsZVwiPT09YyYmc2V0RmlsdGVyKGIsXCJncmF5c2NhbGVcIixhW2NdKSxcImh1ZVJvdGF0ZVwiPT09YyYmc2V0RmlsdGVyKGIsXCJodWVSb3RhdGVcIixhW2NdKSxcImludmVydFwiPT09YyYmc2V0RmlsdGVyKGIsXCJpbnZlcnRcIixhW2NdKSxcInNhdHVyYXRlXCI9PT1jJiZzZXRGaWx0ZXIoYixcInNhdHVyYXRlXCIsYVtjXSksXCJzZXBpYVwiPT09YyYmc2V0RmlsdGVyKGIsXCJzZXBpYVwiLGFbY10pO3ZhciBkPVwiXCI7XCJ4XCI9PT1jJiYoZD1qUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiLGJbZF09YltkXXx8XCJcIixiW2RdKz1cIiB0cmFuc2xhdGVYKFwiK3NldFVuaXQoYVtjXSxcInB4XCIpK1wiKVwiLGRlbGV0ZSBiW2NdKSxcInlcIj09PWMmJihkPWpRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCIsYltkXT1iW2RdfHxcIlwiLGJbZF0rPVwiIHRyYW5zbGF0ZVkoXCIrc2V0VW5pdChhW2NdLFwicHhcIikrXCIpXCIsZGVsZXRlIGJbY10pLFwielwiPT09YyYmKGQ9alF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIixiW2RdPWJbZF18fFwiXCIsYltkXSs9XCIgdHJhbnNsYXRlWihcIitzZXRVbml0KGFbY10sXCJweFwiKStcIilcIixkZWxldGUgYltjXSksXCJyb3RhdGVcIj09PWMmJihkPWpRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCIsYltkXT1iW2RdfHxcIlwiLGJbZF0rPVwiIHJvdGF0ZShcIitzZXRVbml0KGFbY10sXCJkZWdcIikrXCIpXCIsZGVsZXRlIGJbY10pLFwicm90YXRlWFwiPT09YyYmKGQ9alF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIixiW2RdPWJbZF18fFwiXCIsYltkXSs9XCIgcm90YXRlWChcIitzZXRVbml0KGFbY10sXCJkZWdcIikrXCIpXCIsZGVsZXRlIGJbY10pLFwicm90YXRlWVwiPT09YyYmKGQ9alF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIixiW2RdPWJbZF18fFwiXCIsYltkXSs9XCIgcm90YXRlWShcIitzZXRVbml0KGFbY10sXCJkZWdcIikrXCIpXCIsZGVsZXRlIGJbY10pLFwicm90YXRlWlwiPT09YyYmKGQ9alF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIixiW2RdPWJbZF18fFwiXCIsYltkXSs9XCIgcm90YXRlWihcIitzZXRVbml0KGFbY10sXCJkZWdcIikrXCIpXCIsZGVsZXRlIGJbY10pLFwic2NhbGVcIj09PWMmJihkPWpRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCIsYltkXT1iW2RdfHxcIlwiLGJbZF0rPVwiIHNjYWxlKFwiK3NldFVuaXQoYVtjXSxcIlwiKStcIilcIixkZWxldGUgYltjXSksXCJzY2FsZVhcIj09PWMmJihkPWpRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCIsYltkXT1iW2RdfHxcIlwiLGJbZF0rPVwiIHNjYWxlWChcIitzZXRVbml0KGFbY10sXCJcIikrXCIpXCIsZGVsZXRlIGJbY10pLFwic2NhbGVZXCI9PT1jJiYoZD1qUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiLGJbZF09YltkXXx8XCJcIixiW2RdKz1cIiBzY2FsZVkoXCIrc2V0VW5pdChhW2NdLFwiXCIpK1wiKVwiLGRlbGV0ZSBiW2NdKSxcInNjYWxlWlwiPT09YyYmKGQ9alF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIixiW2RdPWJbZF18fFwiXCIsYltkXSs9XCIgc2NhbGVaKFwiK3NldFVuaXQoYVtjXSxcIlwiKStcIilcIixkZWxldGUgYltjXSksXCJza2V3XCI9PT1jJiYoZD1qUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiLGJbZF09YltkXXx8XCJcIixiW2RdKz1cIiBza2V3KFwiK3NldFVuaXQoYVtjXSxcImRlZ1wiKStcIilcIixkZWxldGUgYltjXSksXCJza2V3WFwiPT09YyYmKGQ9alF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2Zvcm1cIixiW2RdPWJbZF18fFwiXCIsYltkXSs9XCIgc2tld1goXCIrc2V0VW5pdChhW2NdLFwiZGVnXCIpK1wiKVwiLGRlbGV0ZSBiW2NdKSxcInNrZXdZXCI9PT1jJiYoZD1qUXVlcnkuQ1NTLnNmeCtcInRyYW5zZm9ybVwiLGJbZF09YltkXXx8XCJcIixiW2RdKz1cIiBza2V3WShcIitzZXRVbml0KGFbY10sXCJkZWdcIikrXCIpXCIsZGVsZXRlIGJbY10pLFwicGVyc3BlY3RpdmVcIj09PWMmJihkPWpRdWVyeS5DU1Muc2Z4K1widHJhbnNmb3JtXCIsYltkXT1iW2RdfHxcIlwiLGJbZF0rPVwiIHBlcnNwZWN0aXZlKFwiK3NldFVuaXQoYVtjXSxcInB4XCIpK1wiKVwiLGRlbGV0ZSBiW2NdKX1yZXR1cm4gYn0sZ2V0UHJvcDpmdW5jdGlvbihhKXt2YXIgYj1bXTtmb3IodmFyIGMgaW4gYSliLmluZGV4T2YoYyk8MCYmYi5wdXNoKHVuY2FtZWwoYykpO3JldHVybiBiLmpvaW4oXCIsXCIpfSxhbmltYXRlOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2Z1bmN0aW9uIG8oKXtmLmNhbGxlZD0hMCxmLkNTU0FJc1J1bm5pbmc9ITEsZy5vZmYoalF1ZXJ5LkNTUy50cmFuc2l0aW9uRW5kK1wiLlwiK2YuaWQpLGNsZWFyVGltZW91dChmLnRpbWVvdXQpLGcuY3NzKGpRdWVyeS5DU1Muc2Z4K1widHJhbnNpdGlvblwiLFwiXCIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUuYXBwbHkoZiksXCJmdW5jdGlvblwiPT10eXBlb2YgZi5DU1NxdWV1ZSYmKGYuQ1NTcXVldWUoKSxmLkNTU3F1ZXVlPW51bGwpfXZhciBmPXRoaXMsZz1qUXVlcnkodGhpcyk7Zi5pZD1mLmlkfHxcIkNTU0FfXCIrKG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIGg9aHx8e3R5cGU6XCJub0V2ZW50XCJ9O2lmKGYuQ1NTQUlzUnVubmluZyYmZi5ldmVudFR5cGU9PWgudHlwZSYmIWpRdWVyeS5icm93c2VyLm1zaWUmJmpRdWVyeS5icm93c2VyLnZlcnNpb248PTkpcmV0dXJuIGYuQ1NTcXVldWU9ZnVuY3Rpb24oKXtnLkNTU0FuaW1hdGUoYSxiLGMsZCxlKX0sdm9pZCAwO2lmKGYuQ1NTcXVldWU9bnVsbCxmLmV2ZW50VHlwZT1oLnR5cGUsMCE9PWcubGVuZ3RoJiZhKXtpZihhPWpRdWVyeS5ub3JtYWxpemVDc3MoYSksZi5DU1NBSXNSdW5uaW5nPSEwLFwiZnVuY3Rpb25cIj09dHlwZW9mIGImJihlPWIsYj1qUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBjJiYoZD1jLGM9MCksXCJzdHJpbmdcIj09dHlwZW9mIGMmJihlPWMsYz0wKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkJiYoZT1kLGQ9XCJjdWJpYy1iZXppZXIoMC42NSwwLjAzLDAuMzYsMC43MilcIiksXCJzdHJpbmdcIj09dHlwZW9mIGIpZm9yKHZhciBpIGluIGpRdWVyeS5meC5zcGVlZHMpe2lmKGI9PWkpe2I9alF1ZXJ5LmZ4LnNwZWVkc1tpXTticmVha31iPWpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHR9aWYoYnx8KGI9alF1ZXJ5LmZ4LnNwZWVkcy5fZGVmYXVsdCksXCJzdHJpbmdcIj09dHlwZW9mIGUmJihkPWUsZT1udWxsKSwhalF1ZXJ5LnN1cHBvcnQuQ1NTdHJhbnNpdGlvbil7Zm9yKHZhciBqIGluIGEpe2lmKFwidHJhbnNmb3JtXCI9PT1qJiZkZWxldGUgYVtqXSxcImZpbHRlclwiPT09aiYmZGVsZXRlIGFbal0sXCJ0cmFuc2Zvcm0tb3JpZ2luXCI9PT1qJiZkZWxldGUgYVtqXSxcImF1dG9cIj09PWFbal0mJmRlbGV0ZSBhW2pdLFwieFwiPT09ail7dmFyIGs9YVtqXSxsPVwibGVmdFwiO2FbbF09ayxkZWxldGUgYVtqXX1pZihcInlcIj09PWope3ZhciBrPWFbal0sbD1cInRvcFwiO2FbbF09ayxkZWxldGUgYVtqXX0oXCItbXMtdHJhbnNmb3JtXCI9PT1qfHxcIi1tcy1maWx0ZXJcIj09PWopJiZkZWxldGUgYVtqXX1yZXR1cm4gZy5kZWxheShjKS5hbmltYXRlKGEsYixlKSx2b2lkIDB9dmFyIG09e1wiZGVmYXVsdFwiOlwiZWFzZVwiLFwiaW5cIjpcImVhc2UtaW5cIixvdXQ6XCJlYXNlLW91dFwiLFwiaW4tb3V0XCI6XCJlYXNlLWluLW91dFwiLHNuYXA6XCJjdWJpYy1iZXppZXIoMCwxLC41LDEpXCIsZWFzZU91dEN1YmljOlwiY3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSlcIixlYXNlSW5PdXRDdWJpYzpcImN1YmljLWJlemllciguNjQ1LC4wNDUsLjM1NSwxKVwiLGVhc2VJbkNpcmM6XCJjdWJpYy1iZXppZXIoLjYsLjA0LC45OCwuMzM1KVwiLGVhc2VPdXRDaXJjOlwiY3ViaWMtYmV6aWVyKC4wNzUsLjgyLC4xNjUsMSlcIixlYXNlSW5PdXRDaXJjOlwiY3ViaWMtYmV6aWVyKC43ODUsLjEzNSwuMTUsLjg2KVwiLGVhc2VJbkV4cG86XCJjdWJpYy1iZXppZXIoLjk1LC4wNSwuNzk1LC4wMzUpXCIsZWFzZU91dEV4cG86XCJjdWJpYy1iZXppZXIoLjE5LDEsLjIyLDEpXCIsZWFzZUluT3V0RXhwbzpcImN1YmljLWJlemllcigxLDAsMCwxKVwiLGVhc2VJblF1YWQ6XCJjdWJpYy1iZXppZXIoLjU1LC4wODUsLjY4LC41MylcIixlYXNlT3V0UXVhZDpcImN1YmljLWJlemllciguMjUsLjQ2LC40NSwuOTQpXCIsZWFzZUluT3V0UXVhZDpcImN1YmljLWJlemllciguNDU1LC4wMywuNTE1LC45NTUpXCIsZWFzZUluUXVhcnQ6XCJjdWJpYy1iZXppZXIoLjg5NSwuMDMsLjY4NSwuMjIpXCIsZWFzZU91dFF1YXJ0OlwiY3ViaWMtYmV6aWVyKC4xNjUsLjg0LC40NCwxKVwiLGVhc2VJbk91dFF1YXJ0OlwiY3ViaWMtYmV6aWVyKC43NywwLC4xNzUsMSlcIixlYXNlSW5RdWludDpcImN1YmljLWJlemllciguNzU1LC4wNSwuODU1LC4wNilcIixlYXNlT3V0UXVpbnQ6XCJjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpXCIsZWFzZUluT3V0UXVpbnQ6XCJjdWJpYy1iZXppZXIoLjg2LDAsLjA3LDEpXCIsZWFzZUluU2luZTpcImN1YmljLWJlemllciguNDcsMCwuNzQ1LC43MTUpXCIsZWFzZU91dFNpbmU6XCJjdWJpYy1iZXppZXIoLjM5LC41NzUsLjU2NSwxKVwiLGVhc2VJbk91dFNpbmU6XCJjdWJpYy1iZXppZXIoLjQ0NSwuMDUsLjU1LC45NSlcIixlYXNlSW5CYWNrOlwiY3ViaWMtYmV6aWVyKC42LC0uMjgsLjczNSwuMDQ1KVwiLGVhc2VPdXRCYWNrOlwiY3ViaWMtYmV6aWVyKC4xNzUsIC44ODUsLjMyLDEuMjc1KVwiLGVhc2VJbk91dEJhY2s6XCJjdWJpYy1iZXppZXIoLjY4LC0uNTUsLjI2NSwxLjU1KVwifTttW2RdJiYoZD1tW2RdKSxnLm9mZihqUXVlcnkuQ1NTLnRyYW5zaXRpb25FbmQrXCIuXCIrZi5pZCk7dmFyIG49alF1ZXJ5LkNTUy5nZXRQcm9wKGEpLHA9e307alF1ZXJ5LmV4dGVuZChwLGEpLHBbalF1ZXJ5LkNTUy5zZngrXCJ0cmFuc2l0aW9uLXByb3BlcnR5XCJdPW4scFtqUXVlcnkuQ1NTLnNmeCtcInRyYW5zaXRpb24tZHVyYXRpb25cIl09YitcIm1zXCIscFtqUXVlcnkuQ1NTLnNmeCtcInRyYW5zaXRpb24tZGVsYXlcIl09YytcIm1zXCIscFtqUXVlcnkuQ1NTLnNmeCtcInRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXCJdPWQsc2V0VGltZW91dChmdW5jdGlvbigpe2cub25lKGpRdWVyeS5DU1MudHJhbnNpdGlvbkVuZCtcIi5cIitmLmlkLG8pLGcuY3NzKHApfSwxKSxmLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBmLmNhbGxlZHx8IWU/KGYuY2FsbGVkPSExLGYuQ1NTQUlzUnVubmluZz0hMSx2b2lkIDApOihnLmNzcyhqUXVlcnkuQ1NTLnNmeCtcInRyYW5zaXRpb25cIixcIlwiKSxlLmFwcGx5KGYpLGYuQ1NTQUlzUnVubmluZz0hMSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBmLkNTU3F1ZXVlJiYoZi5DU1NxdWV1ZSgpLGYuQ1NTcXVldWU9bnVsbCksdm9pZCAwKX0sYitjKzEwKX19KX19LGpRdWVyeS5mbi5DU1NBbmltYXRlPWpRdWVyeS5DU1MuYW5pbWF0ZSxqUXVlcnkubm9ybWFsaXplQ3NzPWpRdWVyeS5DU1Mubm9ybWFsaXplQ3NzLGpRdWVyeS5mbi5jc3MzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1qUXVlcnkodGhpcyksYz1qUXVlcnkubm9ybWFsaXplQ3NzKGEpO2IuY3NzKGMpfSl9O1xuOy8qXG4gKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqICBqcXVlcnkubWIuY29tcG9uZW50c1xuICogIGZpbGU6IGpxdWVyeS5tYi5icm93c2VyLm1pbi5qc1xuICpcbiAqICBDb3B5cmlnaHQgKGMpIDIwMDEtMjAxNC4gTWF0dGVvIEJpY29jY2hpIChQdXB1bnppKTtcbiAqICBPcGVuIGxhYiBzcmwsIEZpcmVuemUgLSBJdGFseVxuICogIGVtYWlsOiBtYXR0ZW9Ab3Blbi1sYWIuY29tXG4gKiAgc2l0ZTogXHRodHRwOi8vcHVwdW56aS5jb21cbiAqICBibG9nOlx0aHR0cDovL3B1cHVuemkub3Blbi1sYWIuY29tXG4gKiBcdGh0dHA6Ly9vcGVuLWxhYi5jb21cbiAqXG4gKiAgTGljZW5jZXM6IE1JVCwgR1BMXG4gKiAgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAqICBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvZ3BsLmh0bWxcbiAqXG4gKiAgbGFzdCBtb2RpZmllZDogMjYvMDMvMTQgMjEuNDNcbiAqICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICovXG5cbnZhciBuQWd0PW5hdmlnYXRvci51c2VyQWdlbnQ7aWYoIWpRdWVyeS5icm93c2VyKXtqUXVlcnkuYnJvd3Nlcj17fSxqUXVlcnkuYnJvd3Nlci5tb3ppbGxhPSExLGpRdWVyeS5icm93c2VyLndlYmtpdD0hMSxqUXVlcnkuYnJvd3Nlci5vcGVyYT0hMSxqUXVlcnkuYnJvd3Nlci5zYWZhcmk9ITEsalF1ZXJ5LmJyb3dzZXIuY2hyb21lPSExLGpRdWVyeS5icm93c2VyLm1zaWU9ITEsalF1ZXJ5LmJyb3dzZXIudWE9bkFndCxqUXVlcnkuYnJvd3Nlci5uYW1lPW5hdmlnYXRvci5hcHBOYW1lLGpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPVwiXCIrcGFyc2VGbG9hdChuYXZpZ2F0b3IuYXBwVmVyc2lvbiksalF1ZXJ5LmJyb3dzZXIubWFqb3JWZXJzaW9uPXBhcnNlSW50KG5hdmlnYXRvci5hcHBWZXJzaW9uLDEwKTt2YXIgbmFtZU9mZnNldCx2ZXJPZmZzZXQsaXg7aWYoLTEhPSh2ZXJPZmZzZXQ9bkFndC5pbmRleE9mKFwiT3BlcmFcIikpKWpRdWVyeS5icm93c2VyLm9wZXJhPSEwLGpRdWVyeS5icm93c2VyLm5hbWU9XCJPcGVyYVwiLGpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPW5BZ3Quc3Vic3RyaW5nKHZlck9mZnNldCs2KSwtMSE9KHZlck9mZnNldD1uQWd0LmluZGV4T2YoXCJWZXJzaW9uXCIpKSYmKGpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPW5BZ3Quc3Vic3RyaW5nKHZlck9mZnNldCs4KSk7ZWxzZSBpZigtMSE9KHZlck9mZnNldD1uQWd0LmluZGV4T2YoXCJPUFJcIikpKWpRdWVyeS5icm93c2VyLm9wZXJhPSEwLGpRdWVyeS5icm93c2VyLm5hbWU9XCJPcGVyYVwiLGpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPW5BZ3Quc3Vic3RyaW5nKHZlck9mZnNldCs0KTtlbHNlIGlmKC0xIT0odmVyT2Zmc2V0PW5BZ3QuaW5kZXhPZihcIk1TSUVcIikpKWpRdWVyeS5icm93c2VyLm1zaWU9ITAsalF1ZXJ5LmJyb3dzZXIubmFtZT1cIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiLGpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPW5BZ3Quc3Vic3RyaW5nKHZlck9mZnNldCs1KTtlbHNlIGlmKC0xIT1uQWd0LmluZGV4T2YoXCJUcmlkZW50XCIpKXtqUXVlcnkuYnJvd3Nlci5tc2llPSEwLGpRdWVyeS5icm93c2VyLm5hbWU9XCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIjt2YXIgc3RhcnQ9bkFndC5pbmRleE9mKFwicnY6XCIpKzMsZW5kPXN0YXJ0KzQ7alF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249bkFndC5zdWJzdHJpbmcoc3RhcnQsZW5kKX1lbHNlLTEhPSh2ZXJPZmZzZXQ9bkFndC5pbmRleE9mKFwiQ2hyb21lXCIpKT8oalF1ZXJ5LmJyb3dzZXIud2Via2l0PSEwLGpRdWVyeS5icm93c2VyLmNocm9tZT0hMCxqUXVlcnkuYnJvd3Nlci5uYW1lPVwiQ2hyb21lXCIsalF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249bkFndC5zdWJzdHJpbmcodmVyT2Zmc2V0KzcpKTotMSE9KHZlck9mZnNldD1uQWd0LmluZGV4T2YoXCJTYWZhcmlcIikpPyhqUXVlcnkuYnJvd3Nlci53ZWJraXQ9ITAsalF1ZXJ5LmJyb3dzZXIuc2FmYXJpPSEwLGpRdWVyeS5icm93c2VyLm5hbWU9XCJTYWZhcmlcIixqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1uQWd0LnN1YnN0cmluZyh2ZXJPZmZzZXQrNyksLTEhPSh2ZXJPZmZzZXQ9bkFndC5pbmRleE9mKFwiVmVyc2lvblwiKSkmJihqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1uQWd0LnN1YnN0cmluZyh2ZXJPZmZzZXQrOCkpKTotMSE9KHZlck9mZnNldD1uQWd0LmluZGV4T2YoXCJBcHBsZVdlYmtpdFwiKSk/KGpRdWVyeS5icm93c2VyLndlYmtpdD0hMCxqUXVlcnkuYnJvd3Nlci5uYW1lPVwiU2FmYXJpXCIsalF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249bkFndC5zdWJzdHJpbmcodmVyT2Zmc2V0KzcpLC0xIT0odmVyT2Zmc2V0PW5BZ3QuaW5kZXhPZihcIlZlcnNpb25cIikpJiYoalF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249bkFndC5zdWJzdHJpbmcodmVyT2Zmc2V0KzgpKSk6LTEhPSh2ZXJPZmZzZXQ9bkFndC5pbmRleE9mKFwiRmlyZWZveFwiKSk/KGpRdWVyeS5icm93c2VyLm1vemlsbGE9ITAsalF1ZXJ5LmJyb3dzZXIubmFtZT1cIkZpcmVmb3hcIixqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1uQWd0LnN1YnN0cmluZyh2ZXJPZmZzZXQrOCkpOihuYW1lT2Zmc2V0PW5BZ3QubGFzdEluZGV4T2YoXCIgXCIpKzEpPCh2ZXJPZmZzZXQ9bkFndC5sYXN0SW5kZXhPZihcIi9cIikpJiYoalF1ZXJ5LmJyb3dzZXIubmFtZT1uQWd0LnN1YnN0cmluZyhuYW1lT2Zmc2V0LHZlck9mZnNldCksalF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249bkFndC5zdWJzdHJpbmcodmVyT2Zmc2V0KzEpLGpRdWVyeS5icm93c2VyLm5hbWUudG9Mb3dlckNhc2UoKT09alF1ZXJ5LmJyb3dzZXIubmFtZS50b1VwcGVyQ2FzZSgpJiYoalF1ZXJ5LmJyb3dzZXIubmFtZT1uYXZpZ2F0b3IuYXBwTmFtZSkpOy0xIT0oaXg9alF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb24uaW5kZXhPZihcIjtcIikpJiYoalF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb249alF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb24uc3Vic3RyaW5nKDAsaXgpKSwtMSE9KGl4PWpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uLmluZGV4T2YoXCIgXCIpKSYmKGpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uPWpRdWVyeS5icm93c2VyLmZ1bGxWZXJzaW9uLnN1YnN0cmluZygwLGl4KSksalF1ZXJ5LmJyb3dzZXIubWFqb3JWZXJzaW9uPXBhcnNlSW50KFwiXCIralF1ZXJ5LmJyb3dzZXIuZnVsbFZlcnNpb24sMTApLGlzTmFOKGpRdWVyeS5icm93c2VyLm1ham9yVmVyc2lvbikmJihqUXVlcnkuYnJvd3Nlci5mdWxsVmVyc2lvbj1cIlwiK3BhcnNlRmxvYXQobmF2aWdhdG9yLmFwcFZlcnNpb24pLGpRdWVyeS5icm93c2VyLm1ham9yVmVyc2lvbj1wYXJzZUludChuYXZpZ2F0b3IuYXBwVmVyc2lvbiwxMCkpLGpRdWVyeS5icm93c2VyLnZlcnNpb249alF1ZXJ5LmJyb3dzZXIubWFqb3JWZXJzaW9ufWpRdWVyeS5icm93c2VyLmFuZHJvaWQ9L0FuZHJvaWQvaS50ZXN0KG5BZ3QpLGpRdWVyeS5icm93c2VyLmJsYWNrYmVycnk9L0JsYWNrQmVycnl8QkJ8UGxheUJvb2svaS50ZXN0KG5BZ3QpLGpRdWVyeS5icm93c2VyLmlvcz0vaVBob25lfGlQYWR8aVBvZHx3ZWJPUy9pLnRlc3QobkFndCksalF1ZXJ5LmJyb3dzZXIub3BlcmFNb2JpbGU9L09wZXJhIE1pbmkvaS50ZXN0KG5BZ3QpLGpRdWVyeS5icm93c2VyLndpbmRvd3NNb2JpbGU9L0lFTW9iaWxlfFdpbmRvd3MgUGhvbmUvaS50ZXN0KG5BZ3QpLGpRdWVyeS5icm93c2VyLmtpbmRsZT0vS2luZGxlfFNpbGsvaS50ZXN0KG5BZ3QpLGpRdWVyeS5icm93c2VyLm1vYmlsZT1qUXVlcnkuYnJvd3Nlci5hbmRyb2lkfHxqUXVlcnkuYnJvd3Nlci5ibGFja2JlcnJ5fHxqUXVlcnkuYnJvd3Nlci5pb3N8fGpRdWVyeS5icm93c2VyLndpbmRvd3NNb2JpbGV8fGpRdWVyeS5icm93c2VyLm9wZXJhTW9iaWxlfHxqUXVlcnkuYnJvd3Nlci5raW5kbGUsalF1ZXJ5LmlzTW9iaWxlPWpRdWVyeS5icm93c2VyLm1vYmlsZSxqUXVlcnkuaXNUYWJsZXQ9alF1ZXJ5LmJyb3dzZXIubW9iaWxlJiZqUXVlcnkod2luZG93KS53aWR0aCgpPjc2NSxqUXVlcnkuaXNBbmRyb2lkRGVmYXVsdD1qUXVlcnkuYnJvd3Nlci5hbmRyb2lkJiYhL2Nocm9tZS9pLnRlc3QobkFndCk7XG47LypfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbiBfIGpxdWVyeS5tYi5jb21wb25lbnRzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gZmlsZToganF1ZXJ5Lm1iLnNpbXBsZVNsaWRlci5taW4uanMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIGxhc3QgbW9kaWZpZWQ6IDE2LzA1LzE1IDIzLjQ1ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gT3BlbiBMYWIgcy5yLmwuLCBGbG9yZW5jZSAtIEl0YWx5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBlbWFpbDogbWF0dGVvQG9wZW4tbGFiLmNvbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gc2l0ZTogaHR0cDovL3B1cHVuemkuY29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgIGh0dHA6Ly9vcGVuLWxhYi5jb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBibG9nOiBodHRwOi8vcHVwdW56aS5vcGVuLWxhYi5jb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gUSZBOiAgaHR0cDovL2pxdWVyeS5wdXB1bnppLmNvbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBMaWNlbmNlczogTUlULCBHUEwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwuaHRtbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gQ29weXJpZ2h0IChjKSAyMDAxLTIwMTUuIE1hdHRlbyBCaWNvY2NoaSAoUHVwdW56aSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18qL1xuXG4hZnVuY3Rpb24oYSl7L2lwaG9uZXxpcG9kfGlwYWR8YW5kcm9pZHxpZXxibGFja2JlcnJ5fGZlbm5lYy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO3ZhciBjPVwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3d8fHdpbmRvdy5uYXZpZ2F0b3ImJndpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCYmd2luZG93Lk1TR2VzdHVyZXx8d2luZG93LkRvY3VtZW50VG91Y2gmJmRvY3VtZW50IGluc3RhbmNlb2YgRG9jdW1lbnRUb3VjaHx8ITE7YS5zaW1wbGVTbGlkZXI9e2RlZmF1bHRzOntpbml0aWFsdmFsOjAsc2NhbGU6MTAwLG9yaWVudGF0aW9uOlwiaFwiLHJlYWRvbmx5OiExLGNhbGxiYWNrOiExfSxldmVudHM6e3N0YXJ0OmM/XCJ0b3VjaHN0YXJ0XCI6XCJtb3VzZWRvd25cIixlbmQ6Yz9cInRvdWNoZW5kXCI6XCJtb3VzZXVwXCIsbW92ZTpjP1widG91Y2htb3ZlXCI6XCJtb3VzZW1vdmVcIn0saW5pdDpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxlPWEoZCk7ZS5hZGRDbGFzcyhcInNpbXBsZVNsaWRlclwiKSxkLm9wdD17fSxhLmV4dGVuZChkLm9wdCxhLnNpbXBsZVNsaWRlci5kZWZhdWx0cyxiKSxhLmV4dGVuZChkLm9wdCxlLmRhdGEoKSk7dmFyIGY9XCJoXCI9PWQub3B0Lm9yaWVudGF0aW9uP1wiaG9yaXpvbnRhbFwiOlwidmVydGljYWxcIixnPWEoXCI8ZGl2Lz5cIikuYWRkQ2xhc3MoXCJsZXZlbFwiKS5hZGRDbGFzcyhmKTtlLnByZXBlbmQoZyksZC5sZXZlbD1nLGUuY3NzKHtjdXJzb3I6XCJkZWZhdWx0XCJ9KSxcImF1dG9cIj09ZC5vcHQuc2NhbGUmJihkLm9wdC5zY2FsZT1hKGQpLm91dGVyV2lkdGgoKSksZS51cGRhdGVTbGlkZXJWYWwoKSxkLm9wdC5yZWFkb25seXx8KGUub24oYS5zaW1wbGVTbGlkZXIuZXZlbnRzLnN0YXJ0LGZ1bmN0aW9uKGEpe2MmJihhPWEuY2hhbmdlZFRvdWNoZXNbMF0pLGQuY2FuU2xpZGU9ITAsZS51cGRhdGVTbGlkZXJWYWwoYSksZS5jc3Moe2N1cnNvcjpcImNvbC1yZXNpemVcIn0pLGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpfSksYShkb2N1bWVudCkub24oYS5zaW1wbGVTbGlkZXIuZXZlbnRzLm1vdmUsZnVuY3Rpb24oYil7YyYmKGI9Yi5jaGFuZ2VkVG91Y2hlc1swXSksZC5jYW5TbGlkZSYmKGEoZG9jdW1lbnQpLmNzcyh7Y3Vyc29yOlwiZGVmYXVsdFwifSksZS51cGRhdGVTbGlkZXJWYWwoYiksYi5wcmV2ZW50RGVmYXVsdCgpLGIuc3RvcFByb3BhZ2F0aW9uKCkpfSkub24oYS5zaW1wbGVTbGlkZXIuZXZlbnRzLmVuZCxmdW5jdGlvbigpe2EoZG9jdW1lbnQpLmNzcyh7Y3Vyc29yOlwiYXV0b1wifSksZC5jYW5TbGlkZT0hMSxlLmNzcyh7Y3Vyc29yOlwiYXV0b1wifSl9KSl9KX0sdXBkYXRlU2xpZGVyVmFsOmZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGcoYSxiKXtyZXR1cm4gTWF0aC5mbG9vcigxMDAqYS9iKX12YXIgYz10aGlzLGQ9Yy5nZXQoMCk7ZC5vcHQuaW5pdGlhbHZhbD1cIm51bWJlclwiPT10eXBlb2YgZC5vcHQuaW5pdGlhbHZhbD9kLm9wdC5pbml0aWFsdmFsOmQub3B0LmluaXRpYWx2YWwoZCk7dmFyIGU9YShkKS5vdXRlcldpZHRoKCksZj1hKGQpLm91dGVySGVpZ2h0KCk7ZC54PVwib2JqZWN0XCI9PXR5cGVvZiBiP2IuY2xpZW50WCtkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQtYy5vZmZzZXQoKS5sZWZ0OlwibnVtYmVyXCI9PXR5cGVvZiBiP2IqZS9kLm9wdC5zY2FsZTpkLm9wdC5pbml0aWFsdmFsKmUvZC5vcHQuc2NhbGUsZC55PVwib2JqZWN0XCI9PXR5cGVvZiBiP2IuY2xpZW50WStkb2N1bWVudC5ib2R5LnNjcm9sbFRvcC1jLm9mZnNldCgpLnRvcDpcIm51bWJlclwiPT10eXBlb2YgYj8oZC5vcHQuc2NhbGUtZC5vcHQuaW5pdGlhbHZhbC1iKSpmL2Qub3B0LnNjYWxlOmQub3B0LmluaXRpYWx2YWwqZi9kLm9wdC5zY2FsZSxkLnk9Yy5vdXRlckhlaWdodCgpLWQueSxkLnNjYWxlWD1kLngqZC5vcHQuc2NhbGUvZSxkLnNjYWxlWT1kLnkqZC5vcHQuc2NhbGUvZixkLm91dE9mUmFuZ2VYPWQuc2NhbGVYPmQub3B0LnNjYWxlP2Quc2NhbGVYLWQub3B0LnNjYWxlOmQuc2NhbGVYPDA/ZC5zY2FsZVg6MCxkLm91dE9mUmFuZ2VZPWQuc2NhbGVZPmQub3B0LnNjYWxlP2Quc2NhbGVZLWQub3B0LnNjYWxlOmQuc2NhbGVZPDA/ZC5zY2FsZVk6MCxkLm91dE9mUmFuZ2U9XCJoXCI9PWQub3B0Lm9yaWVudGF0aW9uP2Qub3V0T2ZSYW5nZVg6ZC5vdXRPZlJhbmdlWSxkLnZhbHVlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBiP1wiaFwiPT1kLm9wdC5vcmllbnRhdGlvbj9kLng+PWMub3V0ZXJXaWR0aCgpP2Qub3B0LnNjYWxlOmQueDw9MD8wOmQuc2NhbGVYOmQueT49Yy5vdXRlckhlaWdodCgpP2Qub3B0LnNjYWxlOmQueTw9MD8wOmQuc2NhbGVZOlwiaFwiPT1kLm9wdC5vcmllbnRhdGlvbj9kLnNjYWxlWDpkLnNjYWxlWSxcImhcIj09ZC5vcHQub3JpZW50YXRpb24/ZC5sZXZlbC53aWR0aChnKGQueCxlKStcIiVcIik6ZC5sZXZlbC5oZWlnaHQoZyhkLnksZikpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGQub3B0LmNhbGxiYWNrJiZkLm9wdC5jYWxsYmFjayhkKX19LGEuZm4uc2ltcGxlU2xpZGVyPWEuc2ltcGxlU2xpZGVyLmluaXQsYS5mbi51cGRhdGVTbGlkZXJWYWw9YS5zaW1wbGVTbGlkZXIudXBkYXRlU2xpZGVyVmFsfShqUXVlcnkpO1xuOy8qX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXG4gXyBqcXVlcnkubWIuY29tcG9uZW50cyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIGZpbGU6IGpxdWVyeS5tYi5zdG9yYWdlLm1pbi5qcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyBsYXN0IG1vZGlmaWVkOiAyNC8wNS8xNSAxNi4wOCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIE9wZW4gTGFiIHMuci5sLiwgRmxvcmVuY2UgLSBJdGFseSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gZW1haWw6IG1hdHRlb0BvcGVuLWxhYi5jb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIHNpdGU6IGh0dHA6Ly9wdXB1bnppLmNvbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICBodHRwOi8vb3Blbi1sYWIuY29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gYmxvZzogaHR0cDovL3B1cHVuemkub3Blbi1sYWIuY29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIFEmQTogIGh0dHA6Ly9qcXVlcnkucHVwdW56aS5jb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gTGljZW5jZXM6IE1JVCwgR1BMICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfICAgIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gXyAgICBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvZ3BsLmh0bWwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1xuIF8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9cbiBfIENvcHlyaWdodCAoYykgMjAwMS0yMDE1LiBNYXR0ZW8gQmljb2NjaGkgKFB1cHVuemkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXG4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fKi9cblxuIWZ1bmN0aW9uKGEpe2EubWJDb29raWU9e3NldDpmdW5jdGlvbihhLGIsYyxkKXtiPUpTT04uc3RyaW5naWZ5KGIpLGN8fChjPTcpLGQ9ZD9cIjsgZG9tYWluPVwiK2Q6XCJcIjt2YXIgZixlPW5ldyBEYXRlO2Uuc2V0VGltZShlLmdldFRpbWUoKSsxZTMqNjAqNjAqMjQqYyksZj1cIjsgZXhwaXJlcz1cIitlLnRvR01UU3RyaW5nKCksZG9jdW1lbnQuY29va2llPWErXCI9XCIrYitmK1wiOyBwYXRoPS9cIitkfSxnZXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWErXCI9XCIsYz1kb2N1bWVudC5jb29raWUuc3BsaXQoXCI7XCIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7Zm9yKHZhciBlPWNbZF07XCIgXCI9PWUuY2hhckF0KDApOyllPWUuc3Vic3RyaW5nKDEsZS5sZW5ndGgpO2lmKDA9PWUuaW5kZXhPZihiKSlyZXR1cm4gSlNPTi5wYXJzZShlLnN1YnN0cmluZyhiLmxlbmd0aCxlLmxlbmd0aCkpfXJldHVybiBudWxsfSxyZW1vdmU6ZnVuY3Rpb24oYil7YS5tYkNvb2tpZS5zZXQoYixcIlwiLC0xKX19LGEubWJTdG9yYWdlPXtzZXQ6ZnVuY3Rpb24oYSxiKXtiPUpTT04uc3RyaW5naWZ5KGIpLGxvY2FsU3RvcmFnZS5zZXRJdGVtKGEsYil9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gbG9jYWxTdG9yYWdlW2FdP0pTT04ucGFyc2UobG9jYWxTdG9yYWdlW2FdKTpudWxsfSxyZW1vdmU6ZnVuY3Rpb24oYSl7YT9sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShhKTpsb2NhbFN0b3JhZ2UuY2xlYXIoKX19fShqUXVlcnkpO1xuIiwidmFyIGltYWdlc0xvYWRlZCA9IHJlcXVpcmUoJ2ltYWdlc2xvYWRlZCcpO1xuXG4oZnVuY3Rpb24oJCkge1xuICBcbiAgLyoqKlxuICAgKiBNYWluXG4gICAqKiovXG4gICBcbiAgdmFyIFVuaWZvcm1UaHVtYnMgPSBmdW5jdGlvbigkZWxlLCBzZXR0aW5ncyl7XG4gICAgdGhpcy4kZWxlID0gJGVsZTtcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgXG4gICAgdGhpcy5mb3JtYXRlciA9IG5ldyBVbmlmb3JtVGh1bWJzRm9ybWF0ZXIodGhpcy4kZWxlLCB0aGlzLnNldHRpbmdzKTtcbiAgICB0aGlzLmZpdHRlciA9IG5ldyBVbmlmb3JtVGh1bWJzRml0dGVyKHRoaXMuJGVsZSwgdGhpcy5zZXR0aW5ncyk7XG4gICAgdGhpcy5pbWFnZUxvYWRlZCA9IGltYWdlc0xvYWRlZCh0aGlzLiRlbGUpO1xuICAgIFxuICAgIHRoaXMuYWRkRXZlbnRIYW5kbGVycygpO1xuICAgIHRoaXMuaGlkZUltYWdlcygpO1xuICB9O1xuICBcbiAgVW5pZm9ybVRodW1icy5wcm90b3R5cGUuYWRkRXZlbnRIYW5kbGVycyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIFxuICAgIHRoaXMuaW1hZ2VMb2FkZWQub24oJ2RvbmUnLCBmdW5jdGlvbigpe1xuICAgICAgc2VsZi5mb3JtYXRlci5zZXRJbWFnZUZvcm1hdCgpO1xuICAgICAgc2VsZi5maXR0ZXIuc2V0SW1hZ2VGaXQoKTtcbiAgICAgIHNlbGYuc2hvd0ltYWdlcygpO1xuICAgICAgc2VsZi4kZWxlLnRyaWdnZXIoJ3V0X2ltYWdlTG9hZGVkJyk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gcmVzaXplIGltYWdlcyBvbiB3aW5kb3cgcmVzaXplXG4gICAgdmFyIHRpbWVvdXQ7XG4gICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIH1cbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmZvcm1hdGVyLnNldEltYWdlRm9ybWF0KCk7XG4gICAgICAgIHNlbGYuZml0dGVyLnNldEltYWdlRml0KCk7XG4gICAgICB9LCAxMDApO1xuICAgIH0pO1xuICB9O1xuICBcbiAgVW5pZm9ybVRodW1icy5wcm90b3R5cGUuaGlkZUltYWdlcyA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy4kZWxlLmNzcyh7XG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nXG4gICAgfSk7XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzLnByb3RvdHlwZS5zaG93SW1hZ2VzID0gZnVuY3Rpb24oKXtcbiAgICB0aGlzLiRlbGUuZmFkZVRvKDkwMCwgMSk7XG4gIH07XG4gIFxuICAvKioqXG4gICAqIEltYWdlIGZvcm1hdGVyXG4gICAqKiovXG4gICBcbiAgdmFyIFVuaWZvcm1UaHVtYnNGb3JtYXRlciA9IGZ1bmN0aW9uKCR3cmFwcGVyLCBzZXR0aW5ncyl7XG4gICAgdGhpcy4kd3JhcHBlciA9ICR3cmFwcGVyO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLnJhdGlvID0gdGhpcy5nZXRSYXRpbygpO1xuICB9O1xuICBcbiAgVW5pZm9ybVRodW1ic0Zvcm1hdGVyLnByb3RvdHlwZS5zZXRJbWFnZUZvcm1hdCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHdpZHRoUmF0aW8gPSB0aGlzLiR3cmFwcGVyLndpZHRoKCkgLyB0aGlzLnJhdGlvLndpZHRoO1xuICAgIHZhciBoZWlnaHRSYXRpbyA9IHdpZHRoUmF0aW8gKiB0aGlzLnJhdGlvLmhlaWdodDtcbiAgICB0aGlzLiR3cmFwcGVyLmhlaWdodChoZWlnaHRSYXRpbyk7XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzRm9ybWF0ZXIucHJvdG90eXBlLmdldFJhdGlvID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcmF0aW9TdHIgPSB0aGlzLl9nZXRSYXRpb1N0cmluZygpO1xuICAgIHJldHVybiB0aGlzLl9nZXRSYXRpb0Zyb21TdHJpbmcocmF0aW9TdHIpO1xuICB9O1xuICBcbiAgVW5pZm9ybVRodW1ic0Zvcm1hdGVyLnByb3RvdHlwZS5fZ2V0UmF0aW9TdHJpbmcgPSBmdW5jdGlvbigpe1xuICAgIHN3aXRjaCAodGhpcy5zZXR0aW5ncy5mb3JtYXQpIHtcbiAgICAgIGNhc2UgJ3NxdWFyZSc6XG4gICAgICAgIHJldHVybiAnMToxJztcbiAgICAgIGNhc2UgJ2xhbmRzY2FwZSc6XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmxhbmRzY2FwZVJhdGlvO1xuICAgICAgY2FzZSAncG9ydHJhaXQnOlxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5wb3J0cmFpdFJhdGlvO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MucmF0aW87XG4gICAgfVxuICB9O1xuICBcbiAgVW5pZm9ybVRodW1ic0Zvcm1hdGVyLnByb3RvdHlwZS5fZ2V0UmF0aW9Gcm9tU3RyaW5nID0gZnVuY3Rpb24ocmF0aW9TdHIpe1xuICAgIHZhciByYXRpb0FyciA9IHJhdGlvU3RyLnNwbGl0KCc6Jyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICB3aWR0aDogcmF0aW9BcnJbMF0sXG4gICAgICBoZWlnaHQ6IHJhdGlvQXJyWzFdXG4gICAgfTtcbiAgfTtcbiAgXG4gIC8qKipcbiAgICogSW1hZ2UgZml0dGVyXG4gICAqKiovXG4gIFxuICB2YXIgVW5pZm9ybVRodW1ic0ZpdHRlciA9IGZ1bmN0aW9uKCR3cmFwcGVyLCBzZXR0aW5ncyl7XG4gICAgdGhpcy4kd3JhcHBlciA9ICR3cmFwcGVyO1xuICAgIHRoaXMuJGltYWdlID0gdGhpcy4kd3JhcHBlci5maW5kKCdpbWcnKTtcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgdGhpcy53cmFwcGVyUmF0aW87XG4gICAgdGhpcy5pbWFnZVJhdGlvO1xuICAgIHRoaXMuaW1hZ2VOYXR1cmFsV2lkdGg7XG4gICAgdGhpcy5pbWFnZU5hdHVyYWxIZWlnaHQ7XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzRml0dGVyLnByb3RvdHlwZS5zZXRJbWFnZUZpdCA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5fcmVzZXRJbWFnZUNTUygpO1xuICAgIHN3aXRjaCAodGhpcy5zZXR0aW5ncy5maXQpIHtcbiAgICAgIGNhc2UgJ2Nyb3AnOlxuICAgICAgICB0aGlzLl9jcm9wSW1hZ2UoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzY2FsZSc6XG4gICAgICAgIHRoaXMuX3NjYWxlSW1hZ2UoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMuX2FsaWduSW1hZ2UoKTtcbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnNGaXR0ZXIucHJvdG90eXBlLl9jcm9wSW1hZ2UgPSBmdW5jdGlvbigpe1xuICAgIGlmKHRoaXMuX2ltYWdlUmF0aW8oKSA+IHRoaXMuX3dyYXBwZXJSYXRpbygpKXtcbiAgICAgIHRoaXMuX2ZpdEhvcml6b250YWwoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZml0VmVydGljYWwoKTtcbiAgICB9XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzRml0dGVyLnByb3RvdHlwZS5fc2NhbGVJbWFnZSA9IGZ1bmN0aW9uKCl7XG4gICAgaWYodGhpcy5faW1hZ2VSYXRpbygpID4gdGhpcy5fd3JhcHBlclJhdGlvKCkpe1xuICAgICAgdGhpcy5fZml0VmVydGljYWwoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZml0SG9yaXpvbnRhbCgpO1xuICAgIH1cbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnNGaXR0ZXIucHJvdG90eXBlLl9maXRIb3Jpem9udGFsID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2dldE5hdHVyYWxIZWlnaHQodGhpcy4kaW1hZ2UpID49IHRoaXMuJHdyYXBwZXIuaGVpZ2h0KCkpIHtcbiAgICAgIHRoaXMuJGltYWdlLmhlaWdodCh0aGlzLiR3cmFwcGVyLmhlaWdodCgpKTtcbiAgICB9XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzRml0dGVyLnByb3RvdHlwZS5fZml0VmVydGljYWwgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fZ2V0TmF0dXJhbFdpZHRoKHRoaXMuJGltYWdlKSA+PSB0aGlzLiR3cmFwcGVyLndpZHRoKCkpIHtcbiAgICAgIHRoaXMuJGltYWdlLndpZHRoKHRoaXMuJHdyYXBwZXIud2lkdGgoKSk7XG4gICAgfVxuICB9O1xuXG4gIFVuaWZvcm1UaHVtYnNGaXR0ZXIucHJvdG90eXBlLl9pbWFnZVJhdGlvID0gZnVuY3Rpb24oKXtcbiAgICAvLyBjYWNoZSB0aGUgaW1hZ2VzIHJhdGlvIGJlY2F1c2Ugd2UgZG9uJ3QgbmVlZCB0byBjYWxjdWxhdGUgaXQgZXZlcnkgdGltZVxuICAgIHRoaXMuaW1hZ2VSYXRpbyA9IHRoaXMuaW1hZ2VSYXRpbyB8fCB0aGlzLl9nZXROYXR1cmFsV2lkdGgodGhpcy4kaW1hZ2UpIC8gdGhpcy5fZ2V0TmF0dXJhbEhlaWdodCh0aGlzLiRpbWFnZSk7XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VSYXRpbztcbiAgfTtcblxuICBVbmlmb3JtVGh1bWJzRml0dGVyLnByb3RvdHlwZS5fd3JhcHBlclJhdGlvID0gZnVuY3Rpb24oKXtcbiAgICAvLyBjYWNoZSB0aGUgd3JhcHBlcnMgcmF0aW8gYmVjYXVzZSB3ZSBkb24ndCBuZWVkIHRvIGNhbGN1bGF0ZSBpdCBldmVyeSB0aW1lXG4gICAgdGhpcy53cmFwcGVyUmF0aW8gPSB0aGlzLndyYXBwZXJSYXRpbyB8fCB0aGlzLiR3cmFwcGVyLndpZHRoKCkgLyB0aGlzLiR3cmFwcGVyLmhlaWdodCgpO1xuICAgIHJldHVybiB0aGlzLndyYXBwZXJSYXRpbztcbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnNGaXR0ZXIucHJvdG90eXBlLl9hbGlnbkltYWdlID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc3R5bGUgPSB7fTtcbiAgICBzdHlsZS5tYXJnaW5MZWZ0ID0gKHRoaXMuJHdyYXBwZXIud2lkdGgoKSAtIHRoaXMuJGltYWdlLndpZHRoKCkpIC8gMjtcbiAgICBzd2l0Y2ggKHRoaXMuc2V0dGluZ3MuYWxpZ24pIHtcbiAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWlkZGxlJzpcbiAgICAgICAgc3R5bGUubWFyZ2luVG9wID0gKHRoaXMuJHdyYXBwZXIuaGVpZ2h0KCkgLSB0aGlzLiRpbWFnZS5oZWlnaHQoKSkgLyAyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgIHN0eWxlLm1hcmdpblRvcCA9IHRoaXMuJHdyYXBwZXIuaGVpZ2h0KCkgLSB0aGlzLiRpbWFnZS5oZWlnaHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMuJGltYWdlLmNzcyhzdHlsZSk7XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzRml0dGVyLnByb3RvdHlwZS5fZ2V0TmF0dXJhbEhlaWdodCA9IGZ1bmN0aW9uKCRpbWFnZSl7XG4gICAgaWYgKCF0aGlzLmltYWdlTmF0dXJhbEhlaWdodCkge1xuICAgICAgaWYgKCRpbWFnZS5wcm9wKCduYXR1cmFsSGVpZ2h0JykpIHtcbiAgICAgICAgdGhpcy5pbWFnZU5hdHVyYWxIZWlnaHQgPSAkaW1hZ2UucHJvcCgnbmF0dXJhbEhlaWdodCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbWFnZU5hdHVyYWxIZWlnaHQgPSB0aGlzLl9nZXROYXR1cmFsU2l6ZSgkaW1hZ2UpLmhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VOYXR1cmFsSGVpZ2h0O1xuICB9O1xuICBcbiAgVW5pZm9ybVRodW1ic0ZpdHRlci5wcm90b3R5cGUuX2dldE5hdHVyYWxXaWR0aCA9IGZ1bmN0aW9uKCRpbWFnZSl7XG4gICAgaWYgKCF0aGlzLmltYWdlTmF0dXJhbFdpZHRoKSB7XG4gICAgICBpZiAoJGltYWdlLnByb3AoJ25hdHVyYWxXaWR0aCcpKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VOYXR1cmFsV2lkdGggPSAkaW1hZ2UucHJvcCgnbmF0dXJhbFdpZHRoJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmltYWdlTmF0dXJhbFdpZHRoID0gdGhpcy5fZ2V0TmF0dXJhbFNpemUoJGltYWdlKS53aWR0aDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VOYXR1cmFsV2lkdGg7XG4gIH07XG4gIFxuICBVbmlmb3JtVGh1bWJzRml0dGVyLnByb3RvdHlwZS5fZ2V0TmF0dXJhbFNpemUgPSBmdW5jdGlvbigkaW1hZ2Upe1xuICAgIGlmICgkaW1hZ2UucHJvcCgnc3JjJykpIHtcbiAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltZy5zcmMgPSAkaW1hZ2UucHJvcCgnc3JjJyk7XG4gICAgICByZXR1cm4geyB3aWR0aDogaW1nLndpZHRoLCBoZWlnaHQ6IGltZy5oZWlnaHQgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgXG4gIFVuaWZvcm1UaHVtYnNGaXR0ZXIucHJvdG90eXBlLl9yZXNldEltYWdlQ1NTID0gZnVuY3Rpb24oKXtcbiAgICB0aGlzLiRpbWFnZS5jc3Moe1xuICAgICAgbWF4V2lkdGg6ICdub25lJyxcbiAgICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICBoZWlnaHQ6ICdhdXRvJ1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKipcbiAgICogalF1ZXJ5LWlmeVxuICAgKioqL1xuICAgXG4gIHZhciB0aHVtYm5haWxDb21wbGV0ZUNvdW50ID0gMDtcbiAgdmFyIGludm9rZUZpbmFsVHJpZ2dlciA9IGZ1bmN0aW9uKHNlbGYpe1xuICAgIHRodW1ibmFpbENvbXBsZXRlQ291bnQrKztcbiAgICBpZiAodGh1bWJuYWlsQ29tcGxldGVDb3VudCA9PT0gc2VsZi5sZW5ndGgpIHtcbiAgICAgICQoc2VsZikubGFzdCgpLnRyaWdnZXIoJ3V0X2NvbXBsZXRlJyk7XG4gICAgfVxuICB9O1xuICAgXG4gICQuZm4udW5pZm9ybV90aHVtYm5haWxzID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG4gICAgLy8gY29sbGVjdCBzZXR0aW5nc1xuICAgIHZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKCB7fSwgJC5mbi51bmlmb3JtX3RodW1ibmFpbHMuZGVmYXVsdHMsIG9wdGlvbnMgKTtcbiAgICAvLyBidWlsZCBwbHVnaW5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIHNlbGYuZWFjaChmdW5jdGlvbigpe1xuICAgICAgdmFyICRlbGUgPSAkKHRoaXMpO1xuICAgICAgJGVsZS5kYXRhKCdfdW5pZm9ybV90aHVtYm5haWxzJywgbmV3IFVuaWZvcm1UaHVtYnMoJGVsZSwgc2V0dGluZ3MpKTtcbiAgICAgICRlbGUub24oJ3V0X2ltYWdlTG9hZGVkJywgZnVuY3Rpb24oKXtcbiAgICAgICAgaW52b2tlRmluYWxUcmlnZ2VyKHNlbGYpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIFxuICAvLyBEZWZhdWx0IHNldHRpbmdzXG4gICQuZm4udW5pZm9ybV90aHVtYm5haWxzLmRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgZml0OiAnY3JvcCcsICAgLy8gY3JvcHxzY2FsZVxuICAgICAgICAgICAgIHJhdGlvOiAnMToxJywgICAgLy8gYXNwZWN0IHJhdGlvIGZvciBpbWFnZSBjb250YWluZXJcbiAgICAgICAgICAgIGZvcm1hdDogJ3JhdGlvJywgIC8vIHJhdGlvfHNxdWFyZXxsYW5kc2NhcGV8cG9ydHJhaXRcbiAgICAgICAgICAgICBhbGlnbjogJ21pZGRsZScsIC8vIHRvcHxtaWRkbGV8Ym90dG9tXG4gICAgbGFuZHNjYXBlUmF0aW86ICc0OjMnLCAgICAvLyBkZWZhdWx0IHJhdGlvIGZvciBsYW5kc2NhcGVcbiAgICAgcG9ydHJhaXRSYXRpbzogJzM6NCcgICAgIC8vIGRlZmF1bHQgcmF0aW8gZm9yIHBvcnRyYWl0XG4gIH07XG5cbn0oalF1ZXJ5KSk7IiwiLypcbiAgQSBjb2xsZWN0aW9uIG9mIHBvbHlmaWxscyBmb3IgSUU4XG4qL1xuXG5tb2R1bGUuZXhwb3J0cy5nZXRDb21wdXRlZFN0eWxlID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUgPSBmdW5jdGlvbihlbCwgcHNldWRvKSB7XG4gICAgICB0aGlzLmVsID0gZWw7XG4gICAgICB0aGlzLmdldFByb3BlcnR5VmFsdWUgPSBmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgIHZhciByZSA9IC8oXFwtKFthLXpdKXsxfSkvZztcbiAgICAgICAgaWYgKHByb3AgPT0gJ2Zsb2F0JykgcHJvcCA9ICdzdHlsZUZsb2F0JztcbiAgICAgICAgaWYgKHJlLnRlc3QocHJvcCkpIHtcbiAgICAgICAgICBwcm9wID0gcHJvcC5yZXBsYWNlKHJlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzWzJdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsLmN1cnJlbnRTdHlsZVtwcm9wXSA/IGVsLmN1cnJlbnRTdHlsZVtwcm9wXSA6IG51bGw7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMub2JqZWN0S2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gRnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3Qva2V5c1xuICBpZiAoIU9iamVjdC5rZXlzKSB7XG4gICAgT2JqZWN0LmtleXMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAndXNlIHN0cmljdCc7XG4gICAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuICAgICAgICAgIGhhc0RvbnRFbnVtQnVnID0gISh7IHRvU3RyaW5nOiBudWxsIH0pLnByb3BlcnR5SXNFbnVtZXJhYmxlKCd0b1N0cmluZycpLFxuICAgICAgICAgIGRvbnRFbnVtcyA9IFtcbiAgICAgICAgICAgICd0b1N0cmluZycsXG4gICAgICAgICAgICAndG9Mb2NhbGVTdHJpbmcnLFxuICAgICAgICAgICAgJ3ZhbHVlT2YnLFxuICAgICAgICAgICAgJ2hhc093blByb3BlcnR5JyxcbiAgICAgICAgICAgICdpc1Byb3RvdHlwZU9mJyxcbiAgICAgICAgICAgICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsXG4gICAgICAgICAgICAnY29uc3RydWN0b3InXG4gICAgICAgICAgXSxcbiAgICAgICAgICBkb250RW51bXNMZW5ndGggPSBkb250RW51bXMubGVuZ3RoO1xuICBcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnICYmICh0eXBlb2Ygb2JqICE9PSAnZnVuY3Rpb24nIHx8IG9iaiA9PT0gbnVsbCkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qua2V5cyBjYWxsZWQgb24gbm9uLW9iamVjdCcpO1xuICAgICAgICB9XG4gIFxuICAgICAgICB2YXIgcmVzdWx0ID0gW10sIHByb3AsIGk7XG4gIFxuICAgICAgICBmb3IgKHByb3AgaW4gb2JqKSB7XG4gICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gocHJvcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gIFxuICAgICAgICBpZiAoaGFzRG9udEVudW1CdWcpIHtcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZG9udEVudW1zTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgZG9udEVudW1zW2ldKSkge1xuICAgICAgICAgICAgICByZXN1bHQucHVzaChkb250RW51bXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KCkpO1xuICB9XG59OyIsIkJhbm5lciA9IHt9O1xuXG52YXIgJGJhbm5lciA9ICQoJ1tkYXRhLWJhbm5lcl0nKTtcblxuQmFubmVyLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICgkYmFubmVyLmxlbmd0aCA+IDApIHtcbiAgICBCYW5uZXIuYWRkX2V2ZW50X2hhbmRsZXJzKCk7XG4gIH1cbn07XG5cbkJhbm5lci5hZGRfZXZlbnRfaGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRoaXMgZXZlbnQgZmlyZXMgaW1tZWRpYXRlbHkgd2hlbiB0aGUgc2xpZGUgaW5zdGFuY2UgbWV0aG9kIGlzIGludm9rZWQuXG4gICRiYW5uZXIub24oJ3NsaWRlLmJzLmNhcm91c2VsJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHJlbGF0ZWRfdGFyZ2V0ID0gJChlLnJlbGF0ZWRUYXJnZXQpO1xuICAgIC8vIFNldCB0aGUgZGF0YS1iYW5uZXIgYXR0ciB0byB0aGUgY3VycmVudCBzbGlkZXMgaW5kZXggc28gdGhhdCB3ZSBjYW4gZG8gYXdlc29tZSBzY3NzIHN0dWZmc1xuICAgICRiYW5uZXIuYXR0cignZGF0YS1iYW5uZXInLCAkcmVsYXRlZF90YXJnZXQuZGF0YSgnc2xpZGUnKSk7XG4gIH0pO1xuICBcbiAgLy8gVGhpcyBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSBjYXJvdXNlbCBoYXMgY29tcGxldGVkIGl0cyBzbGlkZSB0cmFuc2l0aW9uLlxuICAkYmFubmVyLm9uKCdzbGlkLmJzLmNhcm91c2VsJywgZnVuY3Rpb24gKCkge1xuICB9KTtcbn07XG4gICAgXG5tb2R1bGUuZXhwb3J0cyA9IEJhbm5lcjsiLCJCYW5uZXJWaWRlbyA9IHt9O1xuXG5yZXF1aXJlKCdqcXVlcnkubWIueXRwbGF5ZXInKTtcbnZhciAkcGxheWVyID0gJCgnLmJhbm5lci12aWRlby1wbGF5ZXInKTtcblxuQmFubmVyVmlkZW8uaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCRwbGF5ZXIubGVuZ3RoID4gMCAmJiAhTW9kZXJuaXpyLnRvdWNoKSB7XG4gICAgJHBsYXllci5ZVFBsYXllcigpO1xuICB9IGVsc2Uge1xuICAgICRwbGF5ZXIucGFyZW50KCkuYWRkQ2xhc3MoJ2ZhbGxiYWNrLWltZycpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhbm5lclZpZGVvOyIsInZhciBDYXJ0SlMgPSByZXF1aXJlKFwiLi8uLi8uLi9ib3dlcl9jb21wb25lbnRzL3Nob3BpZnktY2FydGpzL2Rpc3QvY2FydC5qc1wiKTtcblxudmFyIENhcnQgPSB7fTtcbnZhciBtZXNzYWdlX2NvdW50ID0gMDtcblxuLy8gQ2FydCB2YXJzXG52YXIgJGNhcnRfZGlzcGxheV9lbGUgPSAkKCdbZGF0YS1jYXJ0LWRpc3BsYXldJyk7XG52YXIgJGNhcnRfdG90YWxfZWxlID0gJCgnW2RhdGEtY2FydC10b3RhbF0nKTtcbnZhciAkY2FydF9mb3JtX2VsZSA9ICQoQnNpZnkuc2VsZWN0b3JzLmNhcnQuZm9ybV9zZWxlY3Rvcik7XG52YXIgJGNhcnRfbWVzc2FnZV9lbGUgPSAkKEJzaWZ5LnNlbGVjdG9ycy5jYXJ0Lm1lc3NhZ2Vfc2VsZWN0b3IpO1xuXG4vLyBwcm9kdWN0IHZhcnNcbmlmIChCc2lmeS5wcm9kdWN0KSB7XG4gIHZhciAkcHJvZHVjdF9mb3JtX2VsZSA9ICQoQnNpZnkuc2VsZWN0b3JzLnByb2R1Y3QuZm9ybV9zZWxlY3Rvcik7XG4gIHZhciAkcHJvZHVjdF9mb3JtX2J1dHRvbiA9ICRwcm9kdWN0X2Zvcm1fZWxlLmZpbmQoJ2lucHV0W3R5cGU9c3VibWl0XScpO1xuICB2YXIgJHByb2R1Y3RfZm9ybV9tZXNzYWdlX2VsZSA9ICQoQnNpZnkuc2VsZWN0b3JzLnByb2R1Y3QuZm9ybV9tZXNzYWdlX3NlbGVjdG9yKTtcbn1cblxuLy8gU2V0IHVwIGNhcnQgZXZlbnQgaGFuZGxlcnNcbkNhcnQuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgXG4gIC8vIGZpcmVkIHdoZW4gdGhlIENhcnRKUyBvYmplY3QgaGFzIGZpbmlzaGVkIHVwZGF0aW5nIHRoZSBjYXJ0XG4gICQoZG9jdW1lbnQpLm9uKCdjYXJ0LnJlcXVlc3RDb21wbGV0ZScsIGZ1bmN0aW9uKGV2ZW50LCBjYXJ0KSB7XG4gICAgLy8gdXBkYXRlIHRoZSBjYXJ0IG5vdGUgaW4gdGhlIG5hdmJhclxuICAgIENhcnQudXBkYXRlX2NhcnRfZGlzcGxheSgpO1xuICAgIENhcnQudXBkYXRlX2NhcnRfdGFibGUoKTtcbiAgfSk7XG4gIFxuICAvLyBBamF4IGFkZCB0byBjYXJ0IGZyb20gcHJvZHVjdCB0ZW1wbGF0ZVxuICBpZiAoQnNpZnkucHJvZHVjdCkge1xuICAgIC8vIENhcHR1cmUgdGhlIGZvcm0gc3VibWl0XG4gICAgJChkb2N1bWVudCkub24oJ3N1Ym1pdCcsIEJzaWZ5LnNlbGVjdG9ycy5wcm9kdWN0LmZvcm1fc2VsZWN0b3IsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgJGN1cnJlbnRfdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgQ2FydC5hZGRfaXRlbV90b19jYXJ0KCRjdXJyZW50X3RhcmdldCk7XG4gICAgfSk7XG4gIH1cbiAgXG4gIC8vIHJlbW92ZSBpdGVtIGZyb20gY2FydFxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtcmVtb3ZlLWl0ZW1dJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyICRjdXJyZW50X3RhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBDYXJ0LnJlbW92ZV9pdGVtX2Zyb21fY2FydCgkY3VycmVudF90YXJnZXQpO1xuICB9KTtcbn07XG5cbi8qXG4gIENhcnQgbWV0aG9kc1xuKi9cblxuQ2FydC5hZGRfaXRlbV90b19jYXJ0ID0gZnVuY3Rpb24gKCRjdXJyZW50X3RhcmdldCkge1xuICB2YXIgdmFsdWVzID0gQ2FydC5mb3JtX3ZhbHVlcygkY3VycmVudF90YXJnZXQuc2VyaWFsaXplQXJyYXkoKSk7XG4gIHZhciBwcm9wZXJ0aWVzID0ge307IC8vIFRPRE86IGRlYWwgd2l0aCBpdGVtIHByb3BlcnRpZXMgd2hlbiBhZGRpbmcgdG8gY2FydFxuICBcbiAgdmFyIHZhcmlhbnQgPSBCc2lmeS5nZXRfdmFyaWFudF9ieV9pZCh2YWx1ZXMuaWQpO1xuICB2YXIgaXRlbV90aXRsZSA9ICh2YXJpYW50LnRpdGxlID09PSAnRGVmYXVsdCBUaXRsZScpID8gQnNpZnkucHJvZHVjdC50aXRsZSA6IEJzaWZ5LnByb2R1Y3QudGl0bGUgKyBCc2lmeS50cmFuc2xhdGlvbnMucHJvZHVjdC5pdGVtX3RpdGxlX3NlcGVyYXRvciArIHZhcmlhbnQudGl0bGU7XG4gIFxuICAvLyB1cGRhdGUgdGhlIHVzZXIgdGhhdCB3ZSBhcmUgd29ya2luZyBvbiBpdFxuICAkcHJvZHVjdF9mb3JtX2J1dHRvbi52YWwoQnNpZnkudHJhbnNsYXRpb25zLnByb2R1Y3QuYWRkaW5nX3RvX2NhcnRfYnV0dG9uX3RleHQpO1xuICBcbiAgLy8gYWRkIHRoZSBpdGVtIHRvIHRoZSBjYXJ0XG4gIENhcnRKUy5hZGRJdGVtKHZhbHVlcy5pZCwgdmFsdWVzLnF1YW50aXR5LCBwcm9wZXJ0aWVzLCB7XG4gICAgXCJzdWNjZXNzXCIgOiBmdW5jdGlvbiAoZGF0YSwgdGV4dF9zdGF0dXMsIGpxWEhSKSB7XG4gICAgICBcbiAgICAgIC8vIGNyZWF0ZSBhbmQgZGlzcGxheSBjb21wbGV0ZWQgbWVzc2FnZVxuICAgICAgdmFyIG1lc3NhZ2UgPSBCc2lmeS50cmFuc2xhdGlvbnMucHJvZHVjdC5hZnRlcl9wcm9kdWN0X2FkZGVkX21lc3NhZ2VfaHRtbC5yZXBsYWNlKCdbaXRlbV90aXRsZV0nLCBpdGVtX3RpdGxlKTtcbiAgICAgIENhcnQuc2hvd19tZXNzYWdlKCRwcm9kdWN0X2Zvcm1fbWVzc2FnZV9lbGUsICdzdWNjZXNzJywgbWVzc2FnZSk7XG4gICAgICBcbiAgICAgIC8vIHVwZGF0ZSBhZGQgdG8gY2FydCBidXR0b24gdGV4dFxuICAgICAgJHByb2R1Y3RfZm9ybV9idXR0b24udmFsKEJzaWZ5LnRyYW5zbGF0aW9ucy5wcm9kdWN0LmFkZGVkX3RvX2NhcnRfYnV0dG9uX3RleHQpO1xuICAgICAgXG4gICAgfSxcbiAgICBcImVycm9yXCI6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0X3N0YXR1cywgZXJyb3JfdGhyb3duKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0VSUk9SXSAtIEFkZCB0byBjYXJ0OicsIGpxWEhSLCB0ZXh0X3N0YXR1cywgZXJyb3JfdGhyb3duKTtcbiAgICAgIFxuICAgICAgLy8gY3JlYXRlIGFuZCBkaXNwbGF5IGVycm9yIG1lc3NhZ2VcbiAgICAgIHZhciBtZXNzYWdlID0gQnNpZnkudHJhbnNsYXRpb25zLnByb2R1Y3QuYWZ0ZXJfcHJvZHVjdF9hZGRlZF9lcnJvcl9tZXNzYWdlX2h0bWwucmVwbGFjZSgnW2l0ZW1fdGl0bGVdJywgaXRlbV90aXRsZSkucmVwbGFjZSgnW2Vycm9yX21lc3NhZ2VdJywgZXJyb3JfdGhyb3duKTtcbiAgICAgIENhcnQuc2hvd19tZXNzYWdlKCRwcm9kdWN0X2Zvcm1fbWVzc2FnZV9lbGUsICdlcnJvcicsIG1lc3NhZ2UpO1xuICAgICAgXG4gICAgICAvLyB1cGRhdGUgYWRkIHRvIGNhcnQgYnV0dG9uIHRleHRcbiAgICAgICRwcm9kdWN0X2Zvcm1fYnV0dG9uLnZhbChCc2lmeS50cmFuc2xhdGlvbnMucHJvZHVjdC51bmF2YWlsYWJsZV9idXR0b25fdGV4dCk7XG4gICAgfVxuICB9KTtcbn07XG5cbkNhcnQucmVtb3ZlX2l0ZW1fZnJvbV9jYXJ0ID0gZnVuY3Rpb24gKCRjdXJyZW50X3RhcmdldCkge1xuICB2YXIgJGNhcnRfaXRlbV9lbGUgPSAkY3VycmVudF90YXJnZXQuY2xvc2VzdChCc2lmeS5zZWxlY3RvcnMuY2FydC5pdGVtX3NlbGVjdG9yKTtcbiAgXG4gIHZhciBpdGVtID0gQ2FydC5nZXRfaXRlbV9ieV9pZCgkY2FydF9pdGVtX2VsZS5kYXRhKCdjYXJ0LWl0ZW0nKSk7XG4gIHZhciBpdGVtX3RpdGxlID0gaXRlbS5wcm9kdWN0X3RpdGxlO1xuICBpZiAoaXRlbS52YXJpYW50X3RpdGxlKSB7XG4gICAgaXRlbV90aXRsZSArPSBCc2lmeS50cmFuc2xhdGlvbnMucHJvZHVjdC5pdGVtX3RpdGxlX3NlcGVyYXRvciArIGl0ZW0udmFyaWFudF90aXRsZTtcbiAgfVxuICBcbiAgQ2FydEpTLnJlbW92ZUl0ZW0oJGN1cnJlbnRfdGFyZ2V0LmRhdGEoJ3JlbW92ZS1pdGVtJyksIHtcbiAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24gKGRhdGEsIHRleHRfc3RhdHVzLCBqcVhIUikge1xuICAgICAgLy8gaGlkZSBpdGVtIHJvd1xuICAgICAgJGNhcnRfaXRlbV9lbGUuaGlkZSgpO1xuICAgICAgXG4gICAgICAvLyBTaG93IHVzZXIgYSBuaWNlIG1lc3NhZ2VcbiAgICAgIHZhciBtZXNzYWdlID0gQnNpZnkudHJhbnNsYXRpb25zLmNhcnQucmVtb3ZlX2l0ZW1fbWVzc2FnZS5yZXBsYWNlKCdbaXRlbV90aXRsZV0nLCBpdGVtX3RpdGxlKTtcbiAgICAgIENhcnQuc2hvd19tZXNzYWdlKCRjYXJ0X21lc3NhZ2VfZWxlLCAnc3VjY2VzcycsIG1lc3NhZ2UpO1xuICAgICAgXG4gICAgfSxcbiAgICBcImVycm9yXCI6IGZ1bmN0aW9uIChqcVhIUiwgdGV4dF9zdGF0dXMsIGVycm9yX3Rocm93bikge1xuICAgICAgY29uc29sZS5sb2coJ1tFUlJPUl0gLSBSZW1vdmUgaXRlbSBmcm9tIGNhcnQ6JywganFYSFIsIHRleHRfc3RhdHVzLCBlcnJvcl90aHJvd24pO1xuICAgICAgXG4gICAgICAvLyBTaG93IHVzZXIgYSBuaWNlIG1lc3NhZ2VcbiAgICAgIHZhciBtZXNzYWdlID0gQnNpZnkudHJhbnNsYXRpb25zLmNhcnQucmVtb3ZlX2l0ZW1fZXJyb3JfbWVzc2FnZS5yZXBsYWNlKCdbaXRlbV90aXRsZV0nLCBpdGVtX3RpdGxlKS5yZXBsYWNlKCdbZXJyb3JfbWVzc2FnZV0nLCBlcnJvcl90aHJvd24pO1xuICAgICAgQ2FydC5zaG93X21lc3NhZ2UoJGNhcnRfbWVzc2FnZV9lbGUsICdzdWNjZXNzJywgbWVzc2FnZSk7XG4gICAgfSBcbiAgfSk7XG59O1xuXG4vKlxuICBEaXNwbGF5IG1ldGhvZHNcbiovXG5cbi8vIFVwZGF0ZSBjYXJ0IGRpc3BsYXkgd2l0aCB0aGUgY3VycmVudCBjYXJ0IGRldGFpbHNcbkNhcnQudXBkYXRlX2NhcnRfZGlzcGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNhcnRfdG90YWxfcHJpY2UgPSBTaG9waWZ5LmZvcm1hdE1vbmV5KENhcnRKUy5jYXJ0LnRvdGFsX3ByaWNlLCBCc2lmeS5tb25leV9mb3JtYXRzLm1vbmV5Rm9ybWF0KTtcbiAgdmFyIGNhcnRfdG90YWxfcHJpY2Vfd2l0aF9jdXJyZW5jeSA9IFNob3BpZnkuZm9ybWF0TW9uZXkoQ2FydEpTLmNhcnQudG90YWxfcHJpY2UsIEJzaWZ5Lm1vbmV5X2Zvcm1hdHMubW9uZXlXaXRoQ3VycmVuY3lGb3JtYXQpO1xuICBcbiAgdmFyIGNhcnRfZGlzcGxheV90ZXh0ID0gQnNpZnkudHJhbnNsYXRpb25zLmNhcnQuY2FydF9kaXNwbGF5X3RleHQucmVwbGFjZSgnW2l0ZW1fY291bnRdJywgQ2FydEpTLmNhcnQuaXRlbV9jb3VudCk7XG4gIGNhcnRfZGlzcGxheV90ZXh0ID0gQ2FydC5yZXBsYWNlX3ByaWNlKGNhcnRfZGlzcGxheV90ZXh0LCAnW2NhcnRfdG90YWxfcHJpY2VdJywgQ2FydEpTLmNhcnQudG90YWxfcHJpY2UsIGNhcnRfdG90YWxfcHJpY2UpO1xuICBjYXJ0X2Rpc3BsYXlfdGV4dCA9IENhcnQucmVwbGFjZV9wcmljZShjYXJ0X2Rpc3BsYXlfdGV4dCwgJ1tjYXJ0X3RvdGFsX3ByaWNlX3dpdGhfY3VycmVuY3ldJywgQ2FydEpTLmNhcnQudG90YWxfcHJpY2UsIGNhcnRfdG90YWxfcHJpY2Vfd2l0aF9jdXJyZW5jeSk7XG4gICRjYXJ0X2Rpc3BsYXlfZWxlLmh0bWwoY2FydF9kaXNwbGF5X3RleHQpO1xuICBcbiAgdmFyIGNhcnRfdG90YWxfdGV4dCA9IEJzaWZ5LnRyYW5zbGF0aW9ucy5jYXJ0LmNhcnRfdG90YWw7XG4gIGNhcnRfdG90YWxfdGV4dCA9IENhcnQucmVwbGFjZV9wcmljZShjYXJ0X3RvdGFsX3RleHQsICdbY2FydF90b3RhbF9wcmljZV0nLCBDYXJ0SlMuY2FydC50b3RhbF9wcmljZSwgY2FydF90b3RhbF9wcmljZSk7XG4gIGNhcnRfdG90YWxfdGV4dCA9IENhcnQucmVwbGFjZV9wcmljZShjYXJ0X3RvdGFsX3RleHQsICdbY2FydF90b3RhbF9wcmljZV93aXRoX2N1cnJlbmN5XScsIENhcnRKUy5jYXJ0LnRvdGFsX3ByaWNlLCBjYXJ0X3RvdGFsX3ByaWNlX3dpdGhfY3VycmVuY3kpO1xuICAkY2FydF90b3RhbF9lbGUuaHRtbChjYXJ0X3RvdGFsX3RleHQpO1xufTtcblxuQ2FydC5yZXBsYWNlX3ByaWNlID0gZnVuY3Rpb24gKHRhcmdldF9zdHIsIHBsYWNlaG9sZGVyLCBwcmljZV9yYXcsIHByaWNlX2Zvcm1hdGVkKSB7XG4gIHBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXIucmVwbGFjZSgvKFtcXFtcXF1dKS9nLCBcIlxcXFwkMVwiKTtcbiAgdmFyIHJlZ19yYXcgPSBuZXcgUmVnRXhwKFwiZGF0YS1wcmljZT1bJ1xcXCJdKFwiK3BsYWNlaG9sZGVyK1wiKVsnXFxcIl1cIik7XG4gIHZhciByZWdfZm9ybWF0dGVkID0gbmV3IFJlZ0V4cChcIj4oXCIrcGxhY2Vob2xkZXIrXCIpPFwiKTtcbiAgXG4gIHJldHVybiB0YXJnZXRfc3RyXG4gICAgLnJlcGxhY2UocmVnX3JhdywgZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYS5yZXBsYWNlKGIsIHByaWNlX3Jhdyk7IH0pXG4gICAgLnJlcGxhY2UocmVnX2Zvcm1hdHRlZCwgZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYS5yZXBsYWNlKGIsIHByaWNlX2Zvcm1hdGVkKTsgfSk7XG59O1xuXG4vLyBoaWRlIHRoZSBjYXJ0IHRhYmxlIGlmIHRoZSBjYXJ0IGlzIGVtcHR5XG5DYXJ0LnVwZGF0ZV9jYXJ0X3RhYmxlID0gZnVuY3Rpb24gKCkge1xuICBpZiAoQ2FydEpTLmNhcnQuaXRlbV9jb3VudCA9PT0gMCkge1xuICAgICRjYXJ0X2Zvcm1fZWxlLmhpZGUoKTtcbiAgICAkY2FydF9tZXNzYWdlX2VsZS5yZW1vdmVDbGFzcygnaGlkZGVuJykuaHRtbChCc2lmeS50cmFuc2xhdGlvbnMuY2FydC5lbXB0eV9jYXJ0X3RleHQpO1xuICB9XG59O1xuXG4vLyBzaG93IGFuZCBoaWRlIGZlZWRiYWNrIG1lc2FnZXMgZm9yIGNhcnQgYWN0aW9uc1xuQ2FydC5zaG93X21lc3NhZ2UgPSBmdW5jdGlvbiAoJG1lc3NhZ2VfZWxlLCBtZXNzYWdlX2NsYXNzLCBtZXNzYWdlKSB7XG4gIG1lc3NhZ2VfY291bnQrKztcbiAgJG1lc3NhZ2VfZWxlLnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5odG1sKCc8ZGl2IGNsYXNzPVwibm90ZSAnK21lc3NhZ2VfY2xhc3MrJyBtZXNzYWdlJyttZXNzYWdlX2NvdW50KydcIj4nK21lc3NhZ2UrJzwvZGl2PicpO1xuICBDYXJ0LnJlbW92ZV9tZXNzYWdlKG1lc3NhZ2VfY291bnQpO1xufTtcblxuQ2FydC5yZW1vdmVfbWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlX2lkKSB7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICQoJy5tZXNzYWdlJyttZXNzYWdlX2lkKS5mYWRlT3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgfSk7XG4gIH0sIEJzaWZ5Lm1lc3NhZ2VfdGltZW91dCk7XG59O1xuXG4vLyBjb252ZXJ0IGpRdWVyeSBzZXJpYWxpemVBcnJheSByZXN1bHRzIGludG8gc29tZXRoaW5nIHVzZWZ1bCBcbkNhcnQuZm9ybV92YWx1ZXMgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIHZhciB2YWxzID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBhcnJbaV07XG4gICAgdmFsc1tpdGVtLm5hbWVdID0gaXRlbS52YWx1ZTtcbiAgfVxuICByZXR1cm4gdmFscztcbn07XG5cbi8qXG4gIENhcnQgdXRpbGl0eSBmdW5jdGlvbnNcbiovXG5cbi8vIEdldCBpdGVtIGZyb20gQ2FydEpTIGJ5IHZhcmlhbnQgaWRcbkNhcnQuZ2V0X2l0ZW1fYnlfaWQgPSBmdW5jdGlvbiAodmFyaWFudF9pZCkge1xuICBpZiAodHlwZW9mIHZhcmlhbnRfaWQgPT09ICdzdHJpbmcnKSB2YXJpYW50X2lkID0gcGFyc2VJbnQodmFyaWFudF9pZCk7XG4gIHZhciBsaW5lX2l0ZW07XG4gIGlmIChDYXJ0SlMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IENhcnRKUy5jYXJ0Lml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IENhcnRKUy5jYXJ0Lml0ZW1zW2ldO1xuICAgICAgaWYgKGl0ZW0udmFyaWFudF9pZCA9PT0gdmFyaWFudF9pZCkge1xuICAgICAgICBsaW5lX2l0ZW0gPSBpdGVtO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbGluZV9pdGVtO1xufTtcblxuLy8gQ2hlY2sgY2FydCBmb3IgdmFyaWFudFxuQ2FydC5oYXNfdmFyaWFudCA9IGZ1bmN0aW9uICh2YXJpYW50X2lkKSB7XG4gIGlmICh0eXBlb2YgdmFyaWFudF9pZCA9PT0gJ3N0cmluZycpIHZhcmlhbnRfaWQgPSBwYXJzZUludCh2YXJpYW50X2lkKTtcbiAgdmFyIGhhc192YXJpYW50ID0gZmFsc2U7XG4gIGlmIChDYXJ0SlMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IENhcnRKUy5jYXJ0Lml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IENhcnRKUy5jYXJ0Lml0ZW1zW2ldO1xuICAgICAgaWYgKGl0ZW0udmFyaWFudF9pZCA9PT0gdmFyaWFudF9pZCkge1xuICAgICAgICBoYXNfdmFyaWFudCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBoYXNfdmFyaWFudDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FydDsiLCJ2YXIgSW1hZ2VTd2l0Y2hlciA9IHt9O1xuXG4vLyBOT1RFOiBob3cgd2lsbCB0aGlzIGFsbCB3b3JrIHdpdGggc3Jjc2V0ID8/ISFcbi8vIFRPRE86IHN3aXBlIGJldHdlZW4gaW1hZ2VzIG9uIG1vYmlsZVxuXG4vLyBQcmVsb2FkIGltYWdlcyBmb3IgZ2FsbGVyeVxuLy8gVXNlZCB0aGUgc2l6ZWQgc3JjXG5JbWFnZVN3aXRjaGVyLnByZWxvYWRfcHJvZHVjdF90aHVtYnMgPSBmdW5jdGlvbigpe1xuICB2YXIgJHRodW1icyA9ICQoJ1tkYXRhLWdhbGxlcnktbWFpbl0nKTtcbiAgaWYgKCR0aHVtYnMubGVuZ3RoID4gMCkge1xuICAgIHZhciBtYWluX2ltYWdlX2VsZW1lbnQgPSAkKCR0aHVtYnMuZGF0YSgnZ2FsbGVyeS1tYWluJykpWzBdO1xuICAgIHZhciBtYWluX2ltYWdlX3NpemUgPSBTaG9waWZ5LkltYWdlLmltYWdlU2l6ZShtYWluX2ltYWdlX2VsZW1lbnQuc3JjKTtcbiAgICBcbiAgICBpZigkdGh1bWJzLmxlbmd0aCA+IDApe1xuICAgICAgJHRodW1icy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB2YXIgc3JjID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgICAgIHZhciBzaXplZF9zcmMgPSBTaG9waWZ5LkltYWdlLmdldFNpemVkSW1hZ2VVcmwoc3JjLCBtYWluX2ltYWdlX3NpemUpO1xuICAgICAgICBpbWFnZS5zcmMgPSBzaXplZF9zcmM7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIEluaXRpYWxpc2UgdGhlIGltYWdlIHN3aXRjaGVyIGZvciBnYWxsZXJ5IHRodW1ic1xuSW1hZ2VTd2l0Y2hlci5pbWFnZV9zd3RpY2hlciA9IGZ1bmN0aW9uICgpIHtcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLWdhbGxlcnktbWFpbl0nLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgJGN1cnJlbnRfdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhciBtYWluX2ltYWdlX2VsZW1lbnQgPSAkKCRjdXJyZW50X3RhcmdldC5kYXRhKCdnYWxsZXJ5LW1haW4nKSlbMF07XG4gICAgdmFyIGltYWdlX3NyYyA9ICRjdXJyZW50X3RhcmdldC5hdHRyKCdocmVmJyk7XG4gICAgSW1hZ2VTd2l0Y2hlci5zd2l0Y2hfaW1hZ2UobWFpbl9pbWFnZV9lbGVtZW50LCBpbWFnZV9zcmMpO1xuICB9KTtcbn07XG5cbi8vIFN3aXRjaCBpbWFnZVxuLy8gLSB0YWtlcyB0aGUgbWFpbiBpbWFnZSBlbGVtZW50IHRoYXQgd2lsbCBoYXZlIGl0J3Mgc3JjIGNoYW5nZWRcbi8vIC0gYW5kIHRoZSBuZXcgc3JjIHRvIGNoYW5nZSBpdCB0b1xuSW1hZ2VTd2l0Y2hlci5zd2l0Y2hfaW1hZ2UgPSBmdW5jdGlvbiAobWFpbl9pbWFnZV9lbGVtZW50LCBpbWFnZV9zcmMpIHtcbiAgaWYgKCFtYWluX2ltYWdlX2VsZW1lbnQgfHwgIWltYWdlX3NyYykge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBnZXQgdGhlIG5ldyBpbWFnZSBzcmMgYXQgdGhlIGNvcnJlY3Qgc2l6ZVxuICB2YXIgbWFpbl9pbWFnZV9zaXplID0gU2hvcGlmeS5JbWFnZS5pbWFnZVNpemUobWFpbl9pbWFnZV9lbGVtZW50LnNyYyk7XG4gIHZhciBuZXdfaW1hZ2Vfc3JjID0gU2hvcGlmeS5JbWFnZS5nZXRTaXplZEltYWdlVXJsKGltYWdlX3NyYywgbWFpbl9pbWFnZV9zaXplKTtcbiAgLy8gc3dpdGNoIHRoZSBtYWluIGltYWdlIHRvIHRoZSBuZXcgc3JjXG4gIGlmIChtYWluX2ltYWdlX2VsZW1lbnQuc3JjICE9PSBuZXdfaW1hZ2Vfc3JjKSB7XG4gICAgbWFpbl9pbWFnZV9lbGVtZW50LnNyYyA9IG5ld19pbWFnZV9zcmM7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW1hZ2VTd2l0Y2hlcjsiLCIvLyBDb2xsZWN0IHRoZSBCc2lmeSBvYmplY3QgZnJvbSB0aGUgd2luZG93IHdpdGggb3VyIHRyYW5zbGF0aW9ucyBhbmQgbGlxdWlkIHZhcmlhYmxlcyBhbGwgc2V0IHVwXG52YXIgQnNpZnkgPSB3aW5kb3cuQnNpZnkgfHwge307XG5cbi8qXG4gIEJvb3RzdHJhcGlmeSB1dGlsaXR5IG1ldGhvZHNcbiovXG5cbkJzaWZ5LmdldF92YXJpYW50X2J5X2lkID0gZnVuY3Rpb24gKHZhcmlhbnRfaWQpIHtcbiAgdmFyIHNlbGVjdGVkX3ZhcmlhbnQ7XG4gIGlmICh0eXBlb2YgdmFyaWFudF9pZCA9PT0gJ3N0cmluZycpIHZhcmlhbnRfaWQgPSBwYXJzZUludCh2YXJpYW50X2lkKTtcbiAgXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgQnNpZnkucHJvZHVjdC52YXJpYW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB2YXJpYW50ID0gQnNpZnkucHJvZHVjdC52YXJpYW50c1tpXTtcbiAgICBpZiAodmFyaWFudC5pZCA9PT0gdmFyaWFudF9pZCkge1xuICAgICAgc2VsZWN0ZWRfdmFyaWFudCA9IHZhcmlhbnQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBzZWxlY3RlZF92YXJpYW50O1xufTtcblxuLy8gYWRkIGJzaWZ5IGNsYXNzZXMgdG8gdGhlIEJzaWZ5IG9iamVjdFxuQnNpZnkuQ2FydCA9IHJlcXVpcmUoJy4vYnNpZnkuY2FydC5qcycpO1xuQnNpZnkuSW1hZ2VTd2l0Y2hlciA9IHJlcXVpcmUoJy4vYnNpZnkuaW1hZ2Vfc3dpdGNoZXIuanMnKTtcbkJzaWZ5LlZhcmlhbnRPcHRpb25Td2l0Y2hlciA9IHJlcXVpcmUoJy4vYnNpZnkudmFyaWFudF9vcHRpb25fc3dpdGNoZXIuanMnKTtcbkJzaWZ5LkxpbmtlZFByb2R1Y3RPcHRpb25zID0gcmVxdWlyZSgnLi9ic2lmeS5saW5rZWRfcHJvZHVjdF9vcHRpb25zLmpzJyk7XG5Cc2lmeS5CYW5uZXIgPSByZXF1aXJlKCcuL2JzaWZ5LmJhbm5lci5qcycpO1xuQnNpZnkuQmFubmVyVmlkZW8gPSByZXF1aXJlKCcuL2JzaWZ5LmJhbm5lcl92aWRlby5qcycpO1xuQnNpZnkuVGh1bWJuYWlscyA9IHJlcXVpcmUoJy4vYnNpZnkudGh1bWJuYWlscy5qcycpO1xuQnNpZnkuU29jaWFsRmVlZHMgPSByZXF1aXJlKCcuL2JzaWZ5LnNvY2lhbF9mZWVkcy5qcycpO1xuQnNpZnkuUGFzc3dvcmRSZWNvdmVyID0gcmVxdWlyZSgnLi9ic2lmeS5wYXNzd29yZF9yZWNvdmVyLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQnNpZnk7IiwiLy8gKGMpIENvcHlyaWdodCAyMDE0IENhcm9saW5lIFNjaG5hcHAuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuIENvbnRhY3Q6IG1sbGVnZW9yZ2VzYW5kQGdtYWlsLmNvbVxuLy8gU2VlIGh0dHA6Ly9kb2NzLnNob3BpZnkuY29tL21hbnVhbC9jb25maWd1cmF0aW9uL3N0b3JlLWN1c3RvbWl6YXRpb24vYWR2YW5jZWQtbmF2aWdhdGlvbi9saW5rZWQtcHJvZHVjdC1vcHRpb25zXG4vLyBNb2RpZmllZCBmb3IgdXNlIHdpdGggQm9vdHN0cmFwaWZ5NCBieSBMdWNpZCAtIDAzLzIwMTVcblxudmFyIExpbmtlZFByb2R1Y3RPcHRpb25zID0ge307XG5MaW5rZWRQcm9kdWN0T3B0aW9ucy5vcHRpb25zTWFwID0ge307XG5cbkxpbmtlZFByb2R1Y3RPcHRpb25zLnVwZGF0ZU9wdGlvbnNJblNlbGVjdG9yID0gZnVuY3Rpb24oc2VsZWN0b3JJbmRleCkge1xuICB2YXIga2V5LCBzZWxlY3RvcjtcbiAgICBcbiAgc3dpdGNoIChzZWxlY3RvckluZGV4KSB7XG4gICAgY2FzZSAwOlxuICAgICAga2V5ID0gJ3Jvb3QnO1xuICAgICAgc2VsZWN0b3IgPSAkKCcuc2luZ2xlLW9wdGlvbi1zZWxlY3RvcjplcSgwKScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAxOlxuICAgICAga2V5ID0gJCgnLnNpbmdsZS1vcHRpb24tc2VsZWN0b3I6ZXEoMCknKS52YWwoKTtcbiAgICAgIHNlbGVjdG9yID0gJCgnLnNpbmdsZS1vcHRpb24tc2VsZWN0b3I6ZXEoMSknKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjpcbiAgICAgIGtleSA9ICQoJy5zaW5nbGUtb3B0aW9uLXNlbGVjdG9yOmVxKDApJykudmFsKCk7ICBcbiAgICAgIGtleSArPSAnIC8gJyArICQoJy5zaW5nbGUtb3B0aW9uLXNlbGVjdG9yOmVxKDEpJykudmFsKCk7XG4gICAgICBzZWxlY3RvciA9ICQoJy5zaW5nbGUtb3B0aW9uLXNlbGVjdG9yOmVxKDIpJyk7XG4gIH1cbiAgXG4gIHZhciBpbml0aWFsVmFsdWUgPSBzZWxlY3Rvci52YWwoKTtcbiAgc2VsZWN0b3IuZW1wdHkoKTsgICAgXG4gIHZhciBhdmFpbGFibGVPcHRpb25zID0gTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcFtrZXldO1xuICBpZiAoYXZhaWxhYmxlT3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yICh2YXIgaT0wOyBpPGF2YWlsYWJsZU9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBvcHRpb24gPSBhdmFpbGFibGVPcHRpb25zW2ldO1xuICAgICAgdmFyIG5ld09wdGlvbiA9ICQoJzxvcHRpb24+PC9vcHRpb24+JykudmFsKG9wdGlvbikuaHRtbChvcHRpb24pO1xuICAgICAgc2VsZWN0b3IuYXBwZW5kKG5ld09wdGlvbik7XG4gICAgfVxuICAgICQoJy5zd2F0Y2hbZGF0YS1vcHRpb24taW5kZXg9XCInICsgc2VsZWN0b3JJbmRleCArICdcIl0gLnN3YXRjaC1lbGVtZW50JykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGlmICgkLmluQXJyYXkoJCh0aGlzKS5hdHRyKCdkYXRhLXZhbHVlJyksIGF2YWlsYWJsZU9wdGlvbnMpICE9PSAtMSkge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdzb2xkb3V0Jykuc2hvdygpLmZpbmQoJzpyYWRpbycpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJywnZGlzYWJsZWQnKS5yZW1vdmVBdHRyKCdjaGVja2VkJyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnc29sZG91dCcpLmhpZGUoKS5maW5kKCc6cmFkaW8nKS5yZW1vdmVBdHRyKCdjaGVja2VkJykuYXR0cignZGlzYWJsZWQnLCdkaXNhYmxlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgkLmluQXJyYXkoaW5pdGlhbFZhbHVlLCBhdmFpbGFibGVPcHRpb25zKSAhPT0gLTEpIHtcbiAgICAgIHNlbGVjdG9yLnZhbChpbml0aWFsVmFsdWUpO1xuICAgIH1cbiAgICBzZWxlY3Rvci50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgfVxufTtcblxuTGlua2VkUHJvZHVjdE9wdGlvbnMubGlua09wdGlvblNlbGVjdG9ycyA9IGZ1bmN0aW9uKHByb2R1Y3QpIHtcbiAgLy8gQnVpbGRpbmcgb3VyIG1hcHBpbmcgb2JqZWN0LlxuICBmb3IgKHZhciBpPTA7IGk8cHJvZHVjdC52YXJpYW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB2YXJpYW50ID0gcHJvZHVjdC52YXJpYW50c1tpXTtcbiAgICBpZiAodmFyaWFudC5hdmFpbGFibGUpIHtcbiAgICAgIHZhciBrZXk7XG4gICAgICAvLyBHYXRoZXJpbmcgdmFsdWVzIGZvciB0aGUgMXN0IGRyb3AtZG93bi5cbiAgICAgIExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXAucm9vdCA9IExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXAucm9vdCB8fCBbXTtcbiAgICAgIExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXAucm9vdC5wdXNoKHZhcmlhbnQub3B0aW9uMSk7XG4gICAgICBMaW5rZWRQcm9kdWN0T3B0aW9ucy5vcHRpb25zTWFwLnJvb3QgPSBTaG9waWZ5LnVuaXEoTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcC5yb290KTtcbiAgICAgIC8vIEdhdGhlcmluZyB2YWx1ZXMgZm9yIHRoZSAybmQgZHJvcC1kb3duLlxuICAgICAgaWYgKHByb2R1Y3Qub3B0aW9ucy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGtleSA9IHZhcmlhbnQub3B0aW9uMTtcbiAgICAgICAgTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcFtrZXldID0gTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcFtrZXldIHx8IFtdO1xuICAgICAgICBMaW5rZWRQcm9kdWN0T3B0aW9ucy5vcHRpb25zTWFwW2tleV0ucHVzaCh2YXJpYW50Lm9wdGlvbjIpO1xuICAgICAgICBMaW5rZWRQcm9kdWN0T3B0aW9ucy5vcHRpb25zTWFwW2tleV0gPSBTaG9waWZ5LnVuaXEoTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcFtrZXldKTtcbiAgICAgIH1cbiAgICAgIC8vIEdhdGhlcmluZyB2YWx1ZXMgZm9yIHRoZSAzcmQgZHJvcC1kb3duLlxuICAgICAgaWYgKHByb2R1Y3Qub3B0aW9ucy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAga2V5ID0gdmFyaWFudC5vcHRpb24xICsgJyAvICcgKyB2YXJpYW50Lm9wdGlvbjI7XG4gICAgICAgIExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXBba2V5XSA9IExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXBba2V5XSB8fCBbXTtcbiAgICAgICAgTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcFtrZXldLnB1c2godmFyaWFudC5vcHRpb24zKTtcbiAgICAgICAgTGlua2VkUHJvZHVjdE9wdGlvbnMub3B0aW9uc01hcFtrZXldID0gU2hvcGlmeS51bmlxKExpbmtlZFByb2R1Y3RPcHRpb25zLm9wdGlvbnNNYXBba2V5XSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIFVwZGF0ZSBvcHRpb25zIHJpZ2h0IGF3YXkuXG4gIExpbmtlZFByb2R1Y3RPcHRpb25zLnVwZGF0ZU9wdGlvbnNJblNlbGVjdG9yKDApO1xuICBpZiAocHJvZHVjdC5vcHRpb25zLmxlbmd0aCA+IDEpIExpbmtlZFByb2R1Y3RPcHRpb25zLnVwZGF0ZU9wdGlvbnNJblNlbGVjdG9yKDEpO1xuICBpZiAocHJvZHVjdC5vcHRpb25zLmxlbmd0aCA9PT0gMykgTGlua2VkUHJvZHVjdE9wdGlvbnMudXBkYXRlT3B0aW9uc0luU2VsZWN0b3IoMik7XG4gIC8vIFdoZW4gdGhlcmUgaXMgYW4gdXBkYXRlIGluIHRoZSBmaXJzdCBkcm9wZG93bi5cbiAgJChkb2N1bWVudCkub24oJ2NoYW5nZScsICcuc2luZ2xlLW9wdGlvbi1zZWxlY3RvcjplcSgwKScsIGZ1bmN0aW9uKCkge1xuICAgIExpbmtlZFByb2R1Y3RPcHRpb25zLnVwZGF0ZU9wdGlvbnNJblNlbGVjdG9yKDEpO1xuICAgIGlmIChwcm9kdWN0Lm9wdGlvbnMubGVuZ3RoID09PSAzKSBMaW5rZWRQcm9kdWN0T3B0aW9ucy51cGRhdGVPcHRpb25zSW5TZWxlY3RvcigyKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG4gIC8vIFdoZW4gdGhlcmUgaXMgYW4gdXBkYXRlIGluIHRoZSBzZWNvbmQgZHJvcGRvd24uXG4gICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnLnNpbmdsZS1vcHRpb24tc2VsZWN0b3I6ZXEoMSknLCBmdW5jdGlvbigpIHtcbiAgICBpZiAocHJvZHVjdC5vcHRpb25zLmxlbmd0aCA9PT0gMykgTGlua2VkUHJvZHVjdE9wdGlvbnMudXBkYXRlT3B0aW9uc0luU2VsZWN0b3IoMik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBMaW5rZWRQcm9kdWN0T3B0aW9uczsiLCJ2YXIgaW1nbCAgICA9IHJlcXVpcmUoJ2ltYWdlc2xvYWRlZCcpO1xudmFyIG1xICAgICAgPSByZXF1aXJlKCcuL2JzaWZ5Lm1lZGlhX3F1ZXJpZXMuanMnKTtcbnJlcXVpcmUoJy4vYnNpZnkudG91Y2guanMnKTtcblxuLyogTG9hZGVyICovXG52YXIgR2FsbGVyeUxvYWRlciA9IGZ1bmN0aW9uIChlbGUsIHBhcmVudF9lbGUpIHtcbiAgdGhpcy5lbGUgPSBlbGU7XG4gIHRoaXMucGFyZW50X2VsZSA9IHBhcmVudF9lbGU7XG4gIHRoaXMub25Mb2FkZWQgPSBmdW5jdGlvbigpe307XG59O1xuXG5HYWxsZXJ5TG9hZGVyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKXtcbiAgdGhpcy4kZWxlID0gJCh0aGlzLmVsZSk7XG4gIHRoaXMuJGZhbGxiYWNrSW1nID0gdGhpcy4kZWxlLmZpbmQoJy5mYWxsYmFjay1pbWFnZScpO1xuICB0aGlzLmNhcm91c2VsX3dpZHRoID0gMDtcbiAgdGhpcy5pbWdMb2FkID0gbmV3IGltZ2wodGhpcy5lbGUpO1xuICB0aGlzLmxhc3RNUSA9IG1xLnNpemUoKTtcbiAgXG4gIHZhciBfdGhpcyA9IHRoaXM7XG4gIHRoaXMuaW1nTG9hZC5vbigncHJvZ3Jlc3MnLCBmdW5jdGlvbihpbnN0YW5jZSwgaW1hZ2Upe1xuICAgIF90aGlzLl9jb2xsZWN0X2ltYWdlX3dpZHRoKGltYWdlKTtcbiAgfSkub24oJ2RvbmUnLCBmdW5jdGlvbigpe1xuICAgIF90aGlzLl9zZXRfY2Fyb3VzZWxfd2lkdGgoKTtcbiAgICBfdGhpcy5vbkxvYWRlZC5hcHBseShfdGhpcyk7XG4gIH0pO1xuICBcbiAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKF90aGlzLmxhc3RNUSAhPT0gbXEuc2l6ZSgpKSB7XG4gICAgICBfdGhpcy5jYXJvdXNlbF93aWR0aCA9IDA7XG4gICAgICBfdGhpcy5fcmVjYWxjdWxhdGVfY2Fyb3VzZWxfd2lkdGgoKTtcbiAgICAgIF90aGlzLmxhc3RNUSA9IG1xLnNpemUoKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gUHJpdmF0ZVxuR2FsbGVyeUxvYWRlci5wcm90b3R5cGUuX2NvbGxlY3RfaW1hZ2Vfd2lkdGggPSBmdW5jdGlvbihpbWFnZSl7XG4gIGlmKGltYWdlLmlzTG9hZGVkKXtcbiAgICB2YXIgJGltZyA9ICQoaW1hZ2UuaW1nKTtcbiAgICB2YXIgJHBhcmVudCA9ICRpbWcuY2xvc2VzdCh0aGlzLnBhcmVudF9lbGUpO1xuICAgIHRoaXMuY2Fyb3VzZWxfd2lkdGggKz0gdGhpcy5faW1hZ2VfcGFyZW50c193aWR0aCgkcGFyZW50KTtcbiAgfSBlbHNlIHtcbiAgICAkKGltYWdlLmltZykuaGlkZSgpO1xuICB9XG59O1xuXG5HYWxsZXJ5TG9hZGVyLnByb3RvdHlwZS5fY29sbGVjdF9mYWxsYmFja19pbWFnZV93aWR0aCA9IGZ1bmN0aW9uKCl7XG4gIGlmICh0aGlzLiRmYWxsYmFja0ltZy5sZW5ndGggPiAwKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBfdGhpcy4kZmFsbGJhY2tJbWcuZWFjaChmdW5jdGlvbiAoaSxlbGUpIHtcbiAgICAgIHZhciAkZWxlID0gJChlbGUpO1xuICAgICAgdmFyICRwYXJlbnQgPSAkZWxlLmNsb3Nlc3QoX3RoaXMucGFyZW50X2VsZSk7XG4gICAgICBfdGhpcy5jYXJvdXNlbF93aWR0aCArPSBfdGhpcy5faW1hZ2VfcGFyZW50c193aWR0aCgkcGFyZW50KTtcbiAgICB9KTtcbiAgfVxufTtcblxuR2FsbGVyeUxvYWRlci5wcm90b3R5cGUuX3JlY2FsY3VsYXRlX2Nhcm91c2VsX3dpZHRoID0gZnVuY3Rpb24oKXtcbiAgdmFyIF90aGlzID0gdGhpcztcbiAgX3RoaXMuJGVsZS5maW5kKCdpbWcnKS5lYWNoKGZ1bmN0aW9uIChpLCBpbWcpIHtcbiAgICB2YXIgaW1hZ2UgPSB7XG4gICAgICBpbWc6IGltZyxcbiAgICAgIGlzTG9hZGVkOiB0cnVlXG4gICAgfTtcbiAgICBfdGhpcy5fY29sbGVjdF9pbWFnZV93aWR0aChpbWFnZSk7XG4gIH0pO1xuICBfdGhpcy5fc2V0X2Nhcm91c2VsX3dpZHRoKCk7XG59O1xuXG5HYWxsZXJ5TG9hZGVyLnByb3RvdHlwZS5faW1hZ2VfcGFyZW50c193aWR0aCA9IGZ1bmN0aW9uKCRpbWFnZV9wYXJlbnQpe1xuICAvLyBwbHVzIG9uZSBiZWN1YXNlIGpzIGlzIHJvdW5kaW5nIGFjdHVhbCB3aWR0aCB3aGVyZSBhcyBicm93c2VyIGlzIG5vdFxuICByZXR1cm4gJGltYWdlX3BhcmVudC53aWR0aCgpICsgdGhpcy5fcGFkZGluZ190b19udW0oJGltYWdlX3BhcmVudCwgJ3BhZGRpbmdMZWZ0JykgKyB0aGlzLl9wYWRkaW5nX3RvX251bSgkaW1hZ2VfcGFyZW50LCAncGFkZGluZ1JpZ2h0JykgKyAxO1xufTtcblxuR2FsbGVyeUxvYWRlci5wcm90b3R5cGUuX3BhZGRpbmdfdG9fbnVtID0gZnVuY3Rpb24oJGltYWdlX3BhcmVudCwgcGFkZGluZyl7XG4gIHJldHVybiBwYXJzZUludCgkaW1hZ2VfcGFyZW50LmNzcyhwYWRkaW5nKS5yZXBsYWNlKCdweCcsICcnKSk7XG59O1xuXG5HYWxsZXJ5TG9hZGVyLnByb3RvdHlwZS5fc2V0X2Nhcm91c2VsX3dpZHRoID0gZnVuY3Rpb24oKXtcbiAgdGhpcy5fY29sbGVjdF9mYWxsYmFja19pbWFnZV93aWR0aCgpO1xuICB0aGlzLiRlbGUud2lkdGgodGhpcy5jYXJvdXNlbF93aWR0aCk7XG59O1xuXG4vKiBNYWluICovXG52YXIgR2FsbGVyeSA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICBcbiAgdGhpcy5lbGUgPSB0aGlzLm9wdGlvbnMuZ2FsbGVyeV93cmFwcGVyO1xuICB0aGlzLml0ZW1fd3JhcHBlciA9IHRoaXMub3B0aW9ucy5pdGVtX3dyYXBwZXI7XG4gIHRoaXMuY29udHJvbHNfd3JhcHBlciA9IHRoaXMub3B0aW9ucy5jb250cm9sc193cmFwcGVyO1xuICB0aGlzLmxvYWRlciA9IG5ldyBHYWxsZXJ5TG9hZGVyKHRoaXMuZWxlLCB0aGlzLm9wdGlvbnMuaXRlbV93cmFwcGVyKTtcbiAgdGhpcy5vbl9sb2FkZWQgPSBmYWxzZTtcbiAgXG4gIHRoaXMuX2luaXQoKTtcbn07XG5cbkdhbGxlcnkucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy4kZWxlLnBhcmVudCgpLmFuaW1hdGUoe29wYWNpdHk6IDB9LCAnc2xvdycpO1xuICB0aGlzLl9yZW1vdmVfZXZlbnRfaGFuZGxlcnMoKTtcbiAgdGhpcy5faW5pdCgpO1xufTtcblxuR2FsbGVyeS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpe1xuICB0aGlzLiRlbGUgPSAkKHRoaXMuZWxlKTtcblxuICBpZih0aGlzLiRlbGUubGVuZ3RoID4gMCl7XG4gICAgdGhpcy5fYWRkX2V2ZW50X2hhbmRsZXJzKCk7XG4gICAgdGhpcy5sb2FkZXIuaW5pdCgpO1xuICAgIHRoaXMuX3NldF9jdXJyZW50X2ltYWdlKCk7XG4gIH1cbn07XG5cbkdhbGxlcnkucHJvdG90eXBlLl9hZGRfZXZlbnRfaGFuZGxlcnMgPSBmdW5jdGlvbigpe1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICB0aGlzLmxvYWRlci5vbkxvYWRlZCA9IGZ1bmN0aW9uKCl7XG4gICAgX3RoaXMuJGVsZS5wYXJlbnQoKS5hbmltYXRlKHtvcGFjaXR5OiAxfSwgJ3Nsb3cnKTtcbiAgICBpZiAoX3RoaXMub25fbG9hZGVkKSBfdGhpcy5vbl9sb2FkZWQuYXBwbHkoX3RoaXMpO1xuICB9O1xuICBcbiAgJChkb2N1bWVudCkub24oJ3N3aXBlTGVmdCcsIHRoaXMuY29udHJvbHNfd3JhcHBlciwgZnVuY3Rpb24gKGUpIHtcbiAgICBfdGhpcy5fbmV4dF9pbWcoKTtcbiAgfSk7XG4gIFxuICAkKGRvY3VtZW50KS5vbignc3dpcGVSaWdodCcsIHRoaXMuY29udHJvbHNfd3JhcHBlciwgZnVuY3Rpb24gKGUpIHtcbiAgICBfdGhpcy5fcHJldl9pbWcoKTtcbiAgfSk7XG4gIFxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtZ2FsbGVyeS1kaXJlY3Rpb25dJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgJGN1cnJlbnRfdGFyZ2V0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoJGN1cnJlbnRfdGFyZ2V0LmRhdGEoJ2dhbGxlcnktZGlyZWN0aW9uJykgPT09ICdsZWZ0Jykge1xuICAgICAgX3RoaXMuX3ByZXZfaW1nKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLl9uZXh0X2ltZygpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5HYWxsZXJ5LnByb3RvdHlwZS5fcmVtb3ZlX2V2ZW50X2hhbmRsZXJzID0gZnVuY3Rpb24oKXtcbiAgdGhpcy5sb2FkZXIub25Mb2FkZWQgPSBmYWxzZTtcbiAgXG4gICQoZG9jdW1lbnQpLm9mZignc3dpcGVMZWZ0JywgdGhpcy5jb250cm9sc193cmFwcGVyKTtcbiAgJChkb2N1bWVudCkub2ZmKCdzd2lwZVJpZ2h0JywgdGhpcy5jb250cm9sc193cmFwcGVyKTtcbiAgJChkb2N1bWVudCkub2ZmKCdjbGljaycsICdbZGF0YS1nYWxsZXJ5LWRpcmVjdGlvbl0nKTtcbn07XG5cbkdhbGxlcnkucHJvdG90eXBlLl9zZXRfY3VycmVudF9pbWFnZSA9IGZ1bmN0aW9uKCl7XG4gIHZhciAkY3VycmVudCA9IHRoaXMuJGVsZS5maW5kKHRoaXMuaXRlbV93cmFwcGVyKycuaXNfY3VycmVudCcpO1xuICBpZiAoJGN1cnJlbnQubGVuZ3RoID4gMCkge1xuICAgdGhpcy4kY3VycmVudF9pbWFnZSA9ICRjdXJyZW50LmZpcnN0KCk7XG4gIH0gZWxzZSB7XG4gICB0aGlzLiRjdXJyZW50X2ltYWdlID0gdGhpcy4kZWxlLmZpbmQodGhpcy5pdGVtX3dyYXBwZXIpLmZpcnN0KCk7XG4gIH1cbiAgdGhpcy4kY3VycmVudF9pbWFnZS5hZGRDbGFzcygnaXNfY3VycmVudCcpO1xuICB0aGlzLl9jaGVja19mb3JfZW5kKCk7XG59O1xuXG5HYWxsZXJ5LnByb3RvdHlwZS5fcHJldl9pbWcgPSBmdW5jdGlvbigpe1xuICB2YXIgcHJldiA9IHRoaXMuJGN1cnJlbnRfaW1hZ2UucHJldigpO1xuICBpZiAocHJldi5sZW5ndGggPiAwKSB7XG4gICAgcHJldi5jc3MoeyBtYXJnaW5MZWZ0OiAnMCcgfSkuYWRkQ2xhc3MoJ2lzX2N1cnJlbnQnKTtcbiAgICB0aGlzLiRjdXJyZW50X2ltYWdlLnJlbW92ZUNsYXNzKCdpc19jdXJyZW50Jyk7XG4gICAgdGhpcy4kY3VycmVudF9pbWFnZSA9IHByZXY7XG4gICAgdGhpcy5fY2hlY2tfZm9yX2VuZCgpO1xuICB9XG59O1xuXG5HYWxsZXJ5LnByb3RvdHlwZS5fbmV4dF9pbWcgPSBmdW5jdGlvbigpe1xuICB2YXIgbmV4dCA9IHRoaXMuJGN1cnJlbnRfaW1hZ2UubmV4dCgpO1xuICBpZiAobmV4dC5sZW5ndGggPiAwKSB7XG4gICAgdmFyIHdpZHRoID0gdGhpcy5sb2FkZXIuX2ltYWdlX3BhcmVudHNfd2lkdGgodGhpcy4kY3VycmVudF9pbWFnZSk7XG4gICAgdGhpcy4kY3VycmVudF9pbWFnZS5jc3MoeyBtYXJnaW5MZWZ0OiAod2lkdGggKiAtMSkgfSkucmVtb3ZlQ2xhc3MoJ2lzX2N1cnJlbnQnKTtcbiAgICBuZXh0LmFkZENsYXNzKCdpc19jdXJyZW50Jyk7XG4gICAgdGhpcy4kY3VycmVudF9pbWFnZSA9IG5leHQ7XG4gICAgdGhpcy5fY2hlY2tfZm9yX2VuZCgpO1xuICB9XG59O1xuXG5HYWxsZXJ5LnByb3RvdHlwZS5fY2hlY2tfZm9yX2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgJCgnW2RhdGEtZ2FsbGVyeS1kaXJlY3Rpb25dJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gIGlmICh0aGlzLiRjdXJyZW50X2ltYWdlLnByZXYoKS5sZW5ndGggPT09IDApIHtcbiAgICAkKCdbZGF0YS1nYWxsZXJ5LWRpcmVjdGlvbj1cImxlZnRcIl0nKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgfSBlbHNlIGlmICh0aGlzLiRjdXJyZW50X2ltYWdlLm5leHQoKS5sZW5ndGggPT09IDApIHtcbiAgICAkKCdbZGF0YS1nYWxsZXJ5LWRpcmVjdGlvbj1cInJpZ2h0XCJdJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gR2FsbGVyeTsiLCJyZXF1aXJlKCcuL19wb2x5ZmlsbHMuanMnKS5nZXRDb21wdXRlZFN0eWxlKCk7XG5cbm1vZHVsZS5leHBvcnRzLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5LCc6YWZ0ZXInKS5nZXRQcm9wZXJ0eVZhbHVlKCdjb250ZW50JykucmVwbGFjZSgvWydcIl0vZywgXCJcIik7XG59OyIsInZhciBQYXNzd29yZFJlY292ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucmVjb3Zlcl9zdHJpbmcgPSAnI3JlY292ZXInO1xuICB0aGlzLiRsaW5rcyA9ICQoJ21haW4gW2hyZWYqPVwiL2FjY291bnQvbG9naW5cIl0nKTtcbiAgdGhpcy4kc2VjdGlvbnMgPSAkKCdbZGF0YS1ic2lmeS10b2dnbGUtcmVjb3Zlcl0nKTtcbiAgdGhpcy5mb3JjZSA9ICgkKCdbZGF0YS1ic2lmeS10b2dnbGUtcmVjb3Zlci1mb3JjZV0nKS5sZW5ndGggPiAwKTtcbiAgXG4gIGlmICh0aGlzLiRzZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgdGhpcy5fYWRkX2V2ZW50X2xpc3RlbmVycygpO1xuICAgIHRoaXMudG9nZ2xlX2Zvcm1zKCk7XG4gIH1cbn07XG5cblBhc3N3b3JkUmVjb3Zlci5wcm90b3R5cGUudG9nZ2xlX2Zvcm1zID0gZnVuY3Rpb24gKCkge1xuICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2ggPT09IHRoaXMucmVjb3Zlcl9zdHJpbmcgfHwgdGhpcy5mb3JjZSkge1xuICAgIHRoaXMuc2hvd19yZWNvdmVyX2Zvcm0oKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnNob3dfbG9naW5fZm9ybSgpO1xuICB9XG59O1xuXG5QYXNzd29yZFJlY292ZXIucHJvdG90eXBlLnNob3dfcmVjb3Zlcl9mb3JtID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICB0aGlzLl9lYWNoX3NlY3Rpb24oZnVuY3Rpb24gKCRzZWN0aW9uKSB7XG4gICAgX3RoaXMuX3RvZ2dsZV9zZWN0aW9uKCgkc2VjdGlvbi5kYXRhKCdic2lmeS10b2dnbGUtcmVjb3ZlcicpID09PSAncmVjb3ZlcicpLCAkc2VjdGlvbik7XG4gIH0pO1xufTtcblxuUGFzc3dvcmRSZWNvdmVyLnByb3RvdHlwZS5zaG93X2xvZ2luX2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG4gIHRoaXMuX2VhY2hfc2VjdGlvbihmdW5jdGlvbiAoJHNlY3Rpb24pIHtcbiAgICBfdGhpcy5fdG9nZ2xlX3NlY3Rpb24oKCRzZWN0aW9uLmRhdGEoJ2JzaWZ5LXRvZ2dsZS1yZWNvdmVyJykgIT09ICdyZWNvdmVyJyksICRzZWN0aW9uKTtcbiAgfSk7XG59O1xuXG4vLyBQcml2YXRlXG5cblBhc3N3b3JkUmVjb3Zlci5wcm90b3R5cGUuX2FkZF9ldmVudF9saXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG4gIF90aGlzLiRsaW5rcy5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBfdGhpcy5fb25fY2xpY2soJChlLmN1cnJlbnRUYXJnZXQpKTtcbiAgfSk7XG59O1xuXG5QYXNzd29yZFJlY292ZXIucHJvdG90eXBlLl9vbl9jbGljayA9IGZ1bmN0aW9uICgkY3VycmVudF90YXJnZXQpIHtcbiAgaWYgKCRjdXJyZW50X3RhcmdldC5hdHRyKCdocmVmJykuaW5kZXhPZih0aGlzLnJlY292ZXJfc3RyaW5nKSA+IC0xKSB7XG4gICAgdGhpcy5zaG93X3JlY292ZXJfZm9ybSgpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc2hvd19sb2dpbl9mb3JtKCk7XG4gIH1cbn07XG5cblBhc3N3b3JkUmVjb3Zlci5wcm90b3R5cGUuX2VhY2hfc2VjdGlvbiA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICB0aGlzLiRzZWN0aW9ucy5lYWNoKGZ1bmN0aW9uIChpLCBzZWN0aW9uKSB7XG4gICAgdmFyICRzZWN0aW9uID0gJChzZWN0aW9uKTtcbiAgICBjYWxsYmFjaygkc2VjdGlvbik7XG4gIH0pO1xufTtcblxuUGFzc3dvcmRSZWNvdmVyLnByb3RvdHlwZS5fdG9nZ2xlX3NlY3Rpb24gPSBmdW5jdGlvbiAoY29uZGl0aW9uLCAkc2VjdGlvbikge1xuICBpZiAoY29uZGl0aW9uKSB7XG4gICAgJHNlY3Rpb24uc2hvdygpO1xuICB9IGVsc2Uge1xuICAgICRzZWN0aW9uLmhpZGUoKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBQYXNzd29yZFJlY292ZXI7IiwiLypqc2hpbnQgbXVsdGlzdHI6IHRydWUgKi9cblxudmFyIEluc3RhZ3JhbUZlZWQgPSBmdW5jdGlvbiAoZWxlKSB7XG4gIHRoaXMuZWxlID0gZWxlO1xuICB0aGlzLiRlbGUgPSAkKHRoaXMuZWxlKTtcbiAgdGhpcy5hcGlfdXJsID0gJ2h0dHBzOi8vYXBpLmluc3RhZ3JhbS5jb20vdjEnO1xuICBcbiAgdGhpcy5yZXF1ZXN0X3F1ZXVlID0gW107XG4gIHRoaXMucmVxdWVzdGluZyA9IGZhbHNlO1xuICBcbiAgdGhpcy5pbWFnZV9jb3VudF9kZWZhdWx0ID0gMTI7XG4gIHRoaXMuaW1hZ2VfY291bnRfYnVmZmVyID0gMTA7IC8vIGFkZCBhIGZldyBleHRyYSBpbmNhc2Ugd2Ugc29tZSBoYXZlIGJlZW4gZmlsdGVyZWQgb3V0IGJ5IGluc3RhZ3JhbSBvciB0aGUgYmxhY2tsaXN0XG4gIFxuICB0aGlzLl9nZXRfZGF0YSgpO1xuICB0aGlzLl9sb2FkX2ZlZWQoKTtcbn07XG5cbkluc3RhZ3JhbUZlZWQucHJvdG90eXBlLl9nZXRfZGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jbGllbnRfaWQgPSB0aGlzLiRlbGUuZGF0YSgnY2xpZW50LWlkJyk7XG4gIHRoaXMuaW1hZ2VfY291bnQgPSAoIHRoaXMuJGVsZS5kYXRhKCdpbWFnZS1jb3VudCcpIHx8IHRoaXMuaW1hZ2VfY291bnRfZGVmYXVsdCApO1xuICB0aGlzLmltYWdlX3RvdGFsID0gdGhpcy5pbWFnZV9jb3VudCArIHRoaXMuaW1hZ2VfY291bnRfYnVmZmVyO1xuICBcbiAgdGhpcy5oYXNodGFnID0gdGhpcy4kZWxlLmRhdGEoJ2hhc2h0YWcnKTtcbiAgdGhpcy51c2VyID0gdGhpcy4kZWxlLmRhdGEoJ3VzZXInKTtcbiAgdGhpcy5fZ2V0X3VzZXJfaWQoKTtcbn07XG5cbkluc3RhZ3JhbUZlZWQucHJvdG90eXBlLl9nZXRfdXNlcl9pZCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMudXNlcikge1xuICAgIHRoaXMucmVxdWVzdF9xdWV1ZS5wdXNoKCd1c2VyX2lkJyk7XG4gICAgdGhpcy5fc3RhcnRfcmVxdWVzdHMoKTtcbiAgfVxufTtcblxuSW5zdGFncmFtRmVlZC5wcm90b3R5cGUuX2xvYWRfZmVlZCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlcXVlc3RfdHlwZTtcbiAgaWYgKHRoaXMuaGFzaHRhZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmVxdWVzdF90eXBlID0gJ2hhc2h0YWcnO1xuICB9IGVsc2UgaWYgKHRoaXMudXNlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmVxdWVzdF90eXBlID0gJ3VzZXInO1xuICB9XG4gIHRoaXMucmVxdWVzdF9xdWV1ZS5wdXNoKHJlcXVlc3RfdHlwZSk7XG4gIHRoaXMuX3N0YXJ0X3JlcXVlc3RzKCk7XG59O1xuXG5JbnN0YWdyYW1GZWVkLnByb3RvdHlwZS5fYnVpbGRfcmVxdWVzdCA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gIGlmICh0aGlzLmNsaWVudF9pZCA9PT0gbnVsbCkgdGhyb3cgJ1tFUlJPUl0gSW5zdGFncmFtOiBZb3UgbXVzdCBwcm92aWRlIGEgY2xpZW50IGlkJztcbiAgdmFyIHJlcXVlc3QgPSB7fTtcbiAgcmVxdWVzdC5kYXRhID0ge1xuICAgIGNsaWVudF9pZDogdGhpcy5jbGllbnRfaWRcbiAgfTtcbiAgXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3VzZXJfaWQnOlxuICAgICAgcmVxdWVzdC51cmwgPSB0aGlzLmFwaV91cmwgKyAnL3VzZXJzL3NlYXJjaD9xPScgKyB0aGlzLnVzZXI7XG4gICAgICByZXF1ZXN0LmNhbGxiYWNrID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHRoaXMudXNlcl9pZCA9IHJlc3BvbnNlLmRhdGFbMF0uaWQ7XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgXG4gICAgY2FzZSAndXNlcic6XG4gICAgICByZXF1ZXN0LnVybCA9IHRoaXMuYXBpX3VybCArICcvdXNlcnMvJyArIHRoaXMudXNlcl9pZCArICcvbWVkaWEvcmVjZW50JztcbiAgICAgIHJlcXVlc3QuZGF0YSA9ICQuZXh0ZW5kKHJlcXVlc3QuZGF0YSwge1xuICAgICAgICBjb3VudDogdGhpcy5pbWFnZV90b3RhbFxuICAgICAgfSk7XG4gICAgICByZXF1ZXN0LmNhbGxiYWNrID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHRoaXMuX2J1aWxkX2ZlZWQocmVzcG9uc2UuZGF0YSk7XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgXG4gICAgY2FzZSAnaGFzaHRhZyc6XG4gICAgICByZXF1ZXN0LnVybCA9IHRoaXMuYXBpX3VybCArICcvdGFncy8nICsgdGhpcy5oYXNodGFnICsgJy9tZWRpYS9yZWNlbnQnO1xuICAgICAgcmVxdWVzdC5kYXRhID0gJC5leHRlbmQocmVxdWVzdC5kYXRhLCB7XG4gICAgICAgIGNvdW50OiB0aGlzLmltYWdlX3RvdGFsXG4gICAgICB9KTtcbiAgICAgIHJlcXVlc3QuY2FsbGJhY2sgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5fYnVpbGRfZmVlZChyZXNwb25zZS5kYXRhKTtcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgfVxuICBcbiAgcmV0dXJuIHJlcXVlc3Q7XG59O1xuXG5JbnN0YWdyYW1GZWVkLnByb3RvdHlwZS5fc3RhcnRfcmVxdWVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5yZXF1ZXN0aW5nKSB7XG4gICAgdGhpcy5yZXF1ZXN0aW5nID0gdHJ1ZTtcbiAgICB0aGlzLl9yZXF1ZXN0KCk7XG4gIH1cbn07XG5cbkluc3RhZ3JhbUZlZWQucHJvdG90eXBlLl9yZXF1ZXN0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5yZXF1ZXN0X3F1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciByZXF1ZXN0X3R5cGUgPSB0aGlzLnJlcXVlc3RfcXVldWUuc2hpZnQoKTtcbiAgICB2YXIgcmVxdWVzdCA9IHRoaXMuX2J1aWxkX3JlcXVlc3QocmVxdWVzdF90eXBlKTtcbiAgICBcbiAgICAkLmFqYXgoe1xuICAgICAgZGF0YVR5cGU6IFwianNvbnBcIixcbiAgICAgIHVybDogcmVxdWVzdC51cmwsXG4gICAgICBkYXRhOiByZXF1ZXN0LmRhdGFcbiAgICB9KVxuICAgIC5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgcmVxdWVzdC5jYWxsYmFjay5hcHBseShfdGhpcywgW3Jlc3BvbnNlXSk7XG4gICAgICBfdGhpcy5fcmVxdWVzdCgpO1xuICAgIH0pXG4gICAgLmZhaWwoZnVuY3Rpb24gKGEsYixjKSB7XG4gICAgICBjb25zb2xlLmxvZygnZmFpbCcsIGEsIGIsIGMpO1xuICAgIH0pO1xuICAgIFxuICB9IGVsc2Uge1xuICAgIHRoaXMucmVxdWVzdGluZyA9IGZhbHNlO1xuICB9XG59O1xuXG5JbnN0YWdyYW1GZWVkLnByb3RvdHlwZS5fYnVpbGRfZmVlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBtYXJrdXAsXG4gICAgZmlsdGVyZWRfZGF0YSA9IHRoaXMuX2ZpbHRlcl9kYXRhKGRhdGEpO1xuICAgIFxuICBpZiAoZmlsdGVyZWRfZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgbWFya3VwID0gdGhpcy5fYnVpbGRfZmVlZF9tYXJrdXAoZmlsdGVyZWRfZGF0YSk7XG4gICAgdGhpcy4kZWxlLmFkZENsYXNzKCdncm91cCcpLmF0dHIoJ2RhdGEtZ3JvdXAtc2l6ZScsIGZpbHRlcmVkX2RhdGEubGVuZ3RoKTtcbiAgfSBlbHNlIHtcbiAgICBtYXJrdXAgPSB0aGlzLl9idWlsZF9lcnJvcl9tYXJrdXAoKTtcbiAgfVxuICBcbiAgdGhpcy4kZWxlLmFwcGVuZChtYXJrdXApO1xufTtcblxuSW5zdGFncmFtRmVlZC5wcm90b3R5cGUuX2ZpbHRlcl9kYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgLyogVE9ETzogcmVtb3ZlIGJsYWNrbGlzdGVkIGltYWdlcyAqL1xuICByZXR1cm4gZGF0YTtcbn07XG5cbkluc3RhZ3JhbUZlZWQucHJvdG90eXBlLl9idWlsZF9mZWVkX21hcmt1cCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBtYXJrdXAgPSAnJztcbiAgdmFyIGNvdW50ID0gKGRhdGEubGVuZ3RoIDwgdGhpcy5pbWFnZV9jb3VudCk/IGRhdGEubGVuZ3RoIDogdGhpcy5pbWFnZV9jb3VudDtcbiAgXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgIHZhciBpdGVtID0gZGF0YVtpXTtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgbWFya3VwICs9IHRoaXMuX2J1aWxkX2l0ZW1fbWFya3VwKGl0ZW0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWFya3VwO1xufTtcbiAgXG5JbnN0YWdyYW1GZWVkLnByb3RvdHlwZS5fYnVpbGRfaXRlbV9tYXJrdXAgPSBmdW5jdGlvbiAoZGF0YSkge1xuICByZXR1cm4gJzxkaXYgY2xhc3M9XCJncm91cC1pdGVtLXdyYXBcIj5cXFxuICAgIDxmaWd1cmUgY2xhc3M9XCJncm91cC1pdGVtIHRodW1ibmFpbFwiPlxcXG4gICAgICA8YSBocmVmPVwiJysgZGF0YS5saW5rICsnXCI+XFxcbiAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWl0ZW0taW1hZ2VcIj5cXFxuICAgICAgICAgIDxpbWcgc3JjPVwiJyArIGRhdGEuaW1hZ2VzLnN0YW5kYXJkX3Jlc29sdXRpb24udXJsICsgJ1wiIGFsdD1cIicgKyBkYXRhLmNhcHRpb24udGV4dCArICdcIj5cXFxuICAgICAgICA8L2Rpdj5cXFxuICAgICAgICA8ZmlnY2FwdGlvbiBjbGFzcz1cImdyb3VwLWl0ZW0tZGV0YWlscyBjYXB0aW9uXCI+XFxcbiAgICAgICAgICA8cD48c3BhbiBjbGFzcz1cInVzZXJcIj4nICsgZGF0YS5jYXB0aW9uLmZyb20udXNlcm5hbWUgKyAnPC9zcGFuPiAnICsgZGF0YS5jYXB0aW9uLnRleHQgKyAnPC9wPlxcXG4gICAgICAgIDwvZmlnY2FwdGlvbj5cXFxuICAgICAgPC9hPlxcXG4gICAgPC9maWd1cmU+XFxcbiAgPC9kaXY+Jztcbn07XG5cbkluc3RhZ3JhbUZlZWQucHJvdG90eXBlLl9idWlsZF9lcnJvcl9tYXJrdXAgPSBmdW5jdGlvbiAoZGF0YSkge1xuICByZXR1cm4gJzxwPicgKyB0aGlzLiRlbGUuZGF0YSgnZW1wdHktbWVzc2FnZScpICsgJzwvcD4nO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbnN0YWdyYW1GZWVkOyIsInZhciBJbnN0YWdyYW0gPSByZXF1aXJlKCcuL2JzaWZ5LnNvY2lhbF9mZWVkX2luc3RhZ3JhbS5qcycpO1xuXG52YXIgU29jaWFsRmVlZHMgPSB7fTtcblxuU29jaWFsRmVlZHMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgU29jaWFsRmVlZHMuaW5zdGFncmFtKCk7XG59O1xuXG5Tb2NpYWxGZWVkcy5pbnN0YWdyYW0gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBlbGVzID0gU29jaWFsRmVlZHMuX2dldF9lbGVtZW50cygnaW5zdGFncmFtJyk7XG4gIGlmIChlbGVzLmxlbmd0aCA+IDApIHtcbiAgICBlbGVzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgbmV3IEluc3RhZ3JhbSh0aGlzKTtcbiAgICB9KTtcbiAgfVxufTtcblxuU29jaWFsRmVlZHMuX2dldF9lbGVtZW50cyA9IGZ1bmN0aW9uIChzZXJ2aWNlKSB7XG4gIHZhciBlbGVfc2VsZWN0b3IgPSAnW2RhdGEtc29jaWFsLWZlZWQ9XCInK3NlcnZpY2UrJ1wiXSc7XG4gIHJldHVybiAkKGVsZV9zZWxlY3Rvcik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNvY2lhbEZlZWRzOyIsInJlcXVpcmUoJ3VuaWZvcm1UaHVtYm5haWxzJyk7XG5yZXF1aXJlKCdqcXVlcnktb3JkZXJseScpO1xuXG52YXIgVGh1bWJuYWlscyA9IHt9O1xuXG5UaHVtYm5haWxzLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChCc2lmeS50aHVtYm5haWxfc2V0dGluZ3MuY29uc3RyYWluX2ltYWdlcykge1xuICAgIFxuICAgIHZhciBvcHRzID0ge307XG4gICAgb3B0cy5maXQgPSAoQnNpZnkudGh1bWJuYWlsX3NldHRpbmdzLmNyb3BfaW1hZ2VzKT8gJ2Nyb3AnIDogJ3NjYWxlJztcbiAgICBvcHRzLmFsaWduID0gQnNpZnkudGh1bWJuYWlsX3NldHRpbmdzLmltYWdlX2FsaWdubWVudC50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciByYXRpbyA9IEJzaWZ5LnRodW1ibmFpbF9zZXR0aW5ncy5pbWFnZV9yYXRpby50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChyYXRpbyA9PT0gJ3NxdWFyZScgfHwgcmF0aW8gPT09ICdsYW5kc2NhcGUnIHx8IHJhdGlvID09PSAncG9ydHJhaXQnKSB7XG4gICAgICBvcHRzLmZvcm1hdCA9IHJhdGlvO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRzLnJhdGlvID0gcmF0aW87XG4gICAgfVxuICAgIFxuICAgIHZhciAkaW1nX3dyYXBwZXJzID0gJChCc2lmeS50aHVtYm5haWxfc2VsZWN0b3JzLmltYWdlX3dyYXBwZXIpO1xuICAgIFxuICAgIGlmICgkaW1nX3dyYXBwZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICRpbWdfd3JhcHBlcnMudW5pZm9ybV90aHVtYm5haWxzKG9wdHMpLm9uKCd1dF9jb21wbGV0ZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgIFRodW1ibmFpbHMub3JkZXJseSgpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGp1c3QgdXNlIG9yZGVybHlcbiAgICAgIFRodW1ibmFpbHMub3JkZXJseSgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBqdXN0IHVzZSBvcmRlcmx5XG4gICAgVGh1bWJuYWlscy5vcmRlcmx5KCk7XG4gIH1cbn07XG5cblRodW1ibmFpbHMub3JkZXJseSA9IGZ1bmN0aW9uICgpIHtcbiAgJChCc2lmeS50aHVtYm5haWxfc2VsZWN0b3JzLmRldGFpbHNfd3JhcHBlcikub3JkZXJseSh7IG1ldGhvZDogJ2NoaWxkcmVuJyB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVGh1bWJuYWlsczsiLCJ2YXIgU3dpcGUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMudGhyZXNob2xkID0gNTtcbiAgdGhpcy54RG93biA9IG51bGw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgdGhpcy55RG93biA9IG51bGw7XG4gIHRoaXMuYWRkX2V2ZW50X2xpc3RlbmVycygpO1xufTtcblxuU3dpcGUucHJvdG90eXBlLmFkZF9ldmVudF9saXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG4gIGlmIChFbGVtZW50LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIF90aGlzLmhhbmRsZVRvdWNoU3RhcnQoZXZ0KTtcbiAgICB9LCBmYWxzZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgX3RoaXMuaGFuZGxlVG91Y2hNb3ZlKGV2dCk7XG4gICAgfSwgZmFsc2UpO1xuICB9XG59O1xuXG5Td2lwZS5wcm90b3R5cGUuaGFuZGxlVG91Y2hTdGFydCA9IGZ1bmN0aW9uIChldnQpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICB0aGlzLnhEb3duID0gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICB0aGlzLnlEb3duID0gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxufTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblxuU3dpcGUucHJvdG90eXBlLmhhbmRsZVRvdWNoTW92ZSA9IGZ1bmN0aW9uIChldnQpIHtcbiAgaWYgKCAhIHRoaXMueERvd24gfHwgISB0aGlzLnlEb3duICkgcmV0dXJuO1xuICBcbiAgdmFyIGN1cnJlbnRfdGFyZ2V0ID0gZXZ0LnRhcmdldFRvdWNoZXNbMF0udGFyZ2V0O1xuICBcbiAgdmFyIHhVcCA9IGV2dC50b3VjaGVzWzBdLmNsaWVudFg7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gIHZhciB5VXAgPSBldnQudG91Y2hlc1swXS5jbGllbnRZO1xuICBcbiAgdmFyIHhEaWZmID0gdGhpcy54RG93biAtIHhVcDtcbiAgdmFyIHlEaWZmID0gdGhpcy55RG93biAtIHlVcDtcbiAgXG4gIGlmICggTWF0aC5hYnMoIHhEaWZmICkgPiBNYXRoLmFicyggeURpZmYgKSApIHtcbiAgICBpZiAoIHhEaWZmID4gMCApIHtcbiAgICAgIGlmICh4RGlmZiA+IHRoaXMudGhyZXNob2xkKSB7XG4gICAgICAgICQoY3VycmVudF90YXJnZXQpLnRyaWdnZXIoJ3N3aXBlTGVmdCcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoeERpZmYgKiAtMSA+IHRoaXMudGhyZXNob2xkKSB7XG4gICAgICAgICQoY3VycmVudF90YXJnZXQpLnRyaWdnZXIoJ3N3aXBlUmlnaHQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKCB5RGlmZiA+IDAgKSB7XG4gICAgICBpZiAoeURpZmYgPiB0aGlzLnRocmVzaG9sZCkge1xuICAgICAgICAkKGN1cnJlbnRfdGFyZ2V0KS50cmlnZ2VyKCdzd2lwZVVwJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh5RGlmZiAqIC0xID4gdGhpcy50aHJlc2hvbGQpIHtcbiAgICAgICAgJChjdXJyZW50X3RhcmdldCkudHJpZ2dlcignc3dpcGVEb3duJyk7XG4gICAgICB9XG4gICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gIH1cbiAgLyogcmVzZXQgdmFsdWVzICovXG4gIHRoaXMueERvd24gPSBudWxsO1xuICB0aGlzLnlEb3duID0gbnVsbDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbn07XG5cbm5ldyBTd2lwZSgpOyIsInZhciBWYXJpYW50T3B0aW9uU3dpdGNoZXIgPSB7fTtcblxuLy8gU3dpdGNoIHRoZSB2YXJpYW50IGlmIHRoZSBnYWxsZXJ5IHRodW1iIGlzIGxpbmtlZCB0byBvbmVcblZhcmlhbnRPcHRpb25Td2l0Y2hlci5pbWFnZV92YXJpYW50X3N3aXRjaGVyID0gZnVuY3Rpb24gKCkge1xuICBcbiAgdmFyICRwcm9kdWN0X3NlbGVjdG9yID0gJChCc2lmeS5zZWxlY3RvcnMucHJvZHVjdC5zZWxlY3Rfc2VsZWN0b3IpO1xuICBcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLXZhcmlhbnQtaWRdJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyICRjdXJyZW50X3RhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAvLyB1cGRhdGUgdGhlIHByb2R1Y3Qgc2VsZWN0b3Igd2l0aCB0aGUgbmV3IHZhcmlhbnQgaWRcbiAgICAkcHJvZHVjdF9zZWxlY3Rvci52YWwoJGN1cnJlbnRfdGFyZ2V0LmRhdGEoJ3ZhcmlhbnQtaWQnKSk7XG4gICAgLy8gdXBkYXRlIHRoZSBvcHRpb24gc2VsZWN0b3JzXG4gICAgVmFyaWFudE9wdGlvblN3aXRjaGVyLnVwZGF0ZV9wcm9kdWN0X3NlbGVjdG9yX29wdGlvbnMoJHByb2R1Y3Rfc2VsZWN0b3IpO1xuICB9KTtcbn07XG5cbi8vIE1ha2UgdGhlIG9yaWdpbmFsIHZhcmlhbnQgc2VsZWN0b3IgdXBkYXRlIHRoZSBnZW5lcmF0ZWQgb3B0aW9uIHNlbGVjdG9yc1xuLy8gd2UgYXJlIG5vdCBkb2luZyB0aGlzIG9uIGEgdHJpZ2dlciBldmVudCBiZWNhdXNlIGlmIHdlIGRpZCB3ZSdkIGVuZCB1cCBpbiByZWN1cnNpdmUgaGVsbFxuVmFyaWFudE9wdGlvblN3aXRjaGVyLnVwZGF0ZV9wcm9kdWN0X3NlbGVjdG9yX29wdGlvbnMgPSBmdW5jdGlvbiAoJHByb2R1Y3Rfc2VsZWN0b3IpIHtcbiAgXG4gIC8vIGdldCB0aGUgc2VsZWN0ZWQgdmFyaWFudCBvYmplY3RcbiAgdmFyIHZhcmlhbnRfaWQgPSAkcHJvZHVjdF9zZWxlY3Rvci52YWwoKTtcbiAgdmFyIHZhcmlhbnQgPSBCc2lmeS5nZXRfdmFyaWFudF9ieV9pZCh2YXJpYW50X2lkKTtcbiAgXG4gIGlmICh2YXJpYW50KSB7XG4gICAgLy8gdXBkYXRlIGVhY2ggb3B0aW9uIHNlbGVjdG9yXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCc2lmeS5wcm9kdWN0Lm9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBvcHRpb24gPSAnb3B0aW9uJysoaSsxKTtcbiAgICAgIHZhciB2YWx1ZSA9IHZhcmlhbnRbb3B0aW9uXTtcbiAgICAgICQoJy5zaW5nbGUtb3B0aW9uLXNlbGVjdG9yOmVxKCcraSsnKScpLnZhbCh2YWx1ZSkudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZhcmlhbnRPcHRpb25Td2l0Y2hlcjsiXX0=
