$(function() {
  navigator.geolocation.getCurrentPosition(function (pos) {
    var geocoder = new google.maps.Geocoder();
    var lat = pos.coords.latitude;
    var lng = pos.coords.longitude;
    var latlng = new google.maps.LatLng(lat, lng);

    //reverse geocode the coordinates, returning location information.
    geocoder.geocode({ 'latLng': latlng }, function (results, status) {
      var result = results[0];
      var region = '';

      for (var i = 0, len = result.address_components.length; i < len; i++) {
        var ac = result.address_components[i];

        if (ac.types.indexOf('sublocality') >= 0) {
          region = ac.short_name;
        }
      }
      
      $('.region').html("Looks like you are located in " + region);
    });
  });
});