/* Sticky footer */
html,
body { height: 100%; }
 
body {
  display: table;
  width: 100%;
}
 
.site-content, .site-footer {
  display: table-row;
  height: 1px;
}
 
.site-content { height: 100%; }

/* Grids and Layouts */

img {
  @extend .img-responsive;
}

.sheet {
  @extend {% if settings.container_width == 'fluid' %}.container-fluid{% else %}.container{% endif %};
}

.group {
  @include make-row();
}

.group-item-wrap {
  @include make-sm-column(3);
}

.sheet-header {
  @extend .page-header;
}

.group-item {
  @extend .thumbnail;
  img {
    margin-left: auto;
    margin-right: auto;
  }
}

.group-item-title {
  margin-top: $grid-gutter-width / 2;
  margin-bottom: $grid-gutter-width / 2;
}

.group-item-buttons {
  margin-top: $grid-gutter-width / 2;
}

table {
  @extend .table;

  .money {
    text-align: right;
  }
}

footer {
  overflow: hidden;
  
  .sheet-content {
    @include make-row();
  }

  [data-col-count="0"] {
    display: none;
  }
  
  [data-col-count="1"] {
    [class*="footer-col"] {
      @include make-sm-column(12);
    }
  }
  
  [data-col-count="2"] {
    [class*="footer-col"] {
      @include make-sm-column(6);
    }
  }
  
  [data-col-count="3"] {
    [class*="footer-col"] {
      @include make-sm-column(4);
    }
  }
  
  [data-col-count="4"] {
    [class*="footer-col"] {
      @include make-sm-column(3);
    }
  }
  
  .footer-linklist {
    .nav a {
      padding-left: 0;
    }
  }
  
  .site-credits {
    text-align: center;
    margin: $grid-gutter-width / 2 auto;
    br {
      @extend .visible-sm;
    }
  }
}

/* Default page specific layouts */

.list-collections {
  .group-item-wrap {
    @include make-sm-column(4);
  }
  
  .group-item {
    position: relative;
  
    .group-item-image .svg {
      display: block;
      height: auto;
      max-width: 100%;
      max-height: 100%;
    }
    
    .group-item-image .svg-rect {
      fill: lighten($brand-primary, 30%);
    }
    
    .group-item-details {
      position: absolute;
      top: 50%;
      -webkit-transform: translateY(-50%);
    	transform: translateY(-50%);
    	padding: 0 $grid-gutter-width;
    }
    
  }
}

// all collection templates
[class*="collection"] {
  .sheet-content {
    @include make-row();
  }
  .collection-message {
    @include make-sm-column(12);
  }
}

.collection-list {
  .group-item-wrap {
    @include make-sm-column(12);
  }
  .group-item {
    @include make-row();
  }
  .group-item-image {
    @include make-sm-column(4);
  }
  .group-item-details {
    @extend .text-left;
    @include make-sm-column(8);
  }
}

.collection-lookbook {
  .products-wrap {
    width: 100%;
    
    overflow: scroll; //hidden; // javascript scroll through images
  
    .products {
      width: 15000px; // actually worked out by the js
    }
    
    .group-item-wrap {
      max-width: 500px; // can we be more integelent about this ?
    }
  
  }
}

.product {
  .sheet-content, .product-details-content {
    @include make-row();
  }
  
  .product-header, .product-images, .product-details, .product-description {
    @include make-sm-column(6);
    margin-bottom: $line-height-computed;
  }
  
  .product-images {
    @extend .text-center;
    @media (min-width: $grid-float-breakpoint) {
      float: left;
      margin-top: ($line-height-computed * 3); // Line up top of image with top of page-header h1 using the same var that bs uses to calc this
    }
    img {
      margin: auto;
    }
  }
  
  .product-header, .product-details, .product-description {
    @media (min-width: $grid-float-breakpoint) {
      float: right;
    }
  }
  
  .product-price {
    margin-top: $line-height-computed / 2;
    margin-bottom: $line-height-computed;
    @include make-sm-column(12);
  }
  
  .add-to-cart-form {
    margin-bottom: $line-height-computed;
    @include make-sm-column(6);
  }
  
  .add-to-cart-message {
    @include make-sm-column(12);
  }
  
  .product-image-main {
    margin-bottom: $grid-gutter-width;
  }
  .product-image-thumbs {
    @extend .list-unstyled;
    @extend .list-inline;
    @include make-row();
    li {
      @include make-xs-column(4);
      margin-bottom: $grid-gutter-width;
    }
  }
}

.cart {
  .sheet-content {
    @include make-row();
  }
  
  .cart-items {
    @include make-md-column(9);
  }
  
  .cart-details {
    @include make-md-column(3);
  }
  
  .cart-extras, .cart-message {
    @include make-sm-column(12);
  }

  // Display cart table as a list on mobiles
  @media (max-width: $grid-float-breakpoint-max) {
    .cart-table {
      thead {
        display: none;
      }
      table, tr, td {
        display: block;
      }
      tr {
        overflow: hidden;
        border-bottom: 1px solid $table-border-color;
      }
      td {
        border-top: none;
      }
      .cart-item-quantity,
      .cart-item-price {
        width: 50%;
        float: left;
      }
      .cart-item-total {
        clear: both;
      }
    }
  }

  @media (min-width: $grid-float-breakpoint) {
    .cart-item a {
      display: table-row;
    }
    .cart-item-image,
    .cart-item-details {
      display: table-cell;
      vertical-align: middle;
    }
    .cart-item-image {
      width: 35%;
    }
    .cart-item-details {
      padding-left: $grid-gutter-width / 2;
    }
    .cart-item-quantity,
    .cart-item-price,
    .cart-item-total {
      width: 20%;
    }
  }
  
}

.page-contact {
  .sheet-content {
    @include make-row();
  }
  
  .page-content, .contact-content {
    @include make-sm-column(6);
  }
  .page-content {
    @include make-sm-column-push(6);
  }
  .contact-content {
    @include make-sm-column-pull(6);
  }
}